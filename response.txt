var T3e=Object.defineProperty,w3e=Object.defineProperties,M3e=Object.getOwnPropertyDescriptors,vT=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,OW=Object.prototype.propertyIsEnumerable,ko=Math.pow,wW=(ke,V,x)=>V in ke?T3e(ke,V,{enumerable:!0,configurable:!0,writable:!0,value:x}):ke[V]=x,rt=(ke,V)=>{for(var x in V||(V={}))MW.call(V,x)&&wW(ke,x,V[x]);if(vT)for(var x of vT(V))OW.call(V,x)&&wW(ke,x,V[x]);return ke},ci=(ke,V)=>w3e(ke,M3e(V)),PW=(ke,V)=>{var x={};for(var h in ke)MW.call(ke,h)&&V.indexOf(h)<0&&(x[h]=ke[h]);if(null!=ke&&vT)for(var h of vT(ke))V.indexOf(h)<0&&OW.call(ke,h)&&(x[h]=ke[h]);return x};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{9532:(ke,V,x)=>{"use strict";var h={};x.r(h),x.d(h,{BaseTextureCache:()=>pl,CanvasRenderTarget:()=>g_,DATA_URI:()=>J4,EventEmitter:()=>f_(),ProgramCache:()=>cP,TextureCache:()=>fa,clearTextureCache:()=>Dle,correctBlendMode:()=>sP,createIndicesForQuads:()=>X4,decomposeDataUri:()=>Nle,deprecation:()=>jc,destroyTextureCache:()=>Rle,determineCrossOrigin:()=>Q4,earcut:()=>QO(),getBufferType:()=>X1,getResolutionOfUrl:()=>Wv,hex2rgb:()=>Du,hex2string:()=>Y1,interleaveTypedArrays:()=>Ile,isMobile:()=>La,isPow2:()=>aP,isWebGLSupported:()=>Y4,log2:()=>lP,nextPow2:()=>zv,premultiplyBlendMode:()=>rP,premultiplyRgba:()=>$4,premultiplyTint:()=>$1,premultiplyTintToRgba:()=>oP,removeItems:()=>Zh,rgb2hex:()=>iP,sayHello:()=>tP,sign:()=>ef,skipHello:()=>W4,string2hex:()=>Wo,trimCanvas:()=>K4,uid:()=>Fd,url:()=>Qh});var w={};function S(n){return"function"==typeof n}function T(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}x.r(w),x.d(w,{ALPHA_MODES:()=>Us,AbstractBatchRenderer:()=>V5,AbstractMultiResource:()=>iS,AbstractRenderer:()=>ex,AccessibilityManager:()=>gP,AnimatedSprite:()=>ZU,AppLoaderPlugin:()=>sU,Application:()=>t0,ArrayResource:()=>EP,Attribute:()=>PP,BLEND_MODES:()=>Ke,BUFFER_BITS:()=>Nd,BUFFER_TYPE:()=>fs,BaseImageResource:()=>Hc,BasePrepare:()=>Ox,BaseRenderTexture:()=>Kv,BaseTexture:()=>_i,BatchDrawCall:()=>pS,BatchGeometry:()=>nx,BatchPluginFactory:()=>$5,BatchRenderer:()=>X5,BatchShaderGenerator:()=>z5,BatchSystem:()=>RP,BatchTextureArray:()=>gS,BitmapFont:()=>Bu,BitmapFontData:()=>d0,BitmapFontLoader:()=>WU,BitmapText:()=>h0,BlobResource:()=>cU,Bounds:()=>__,Buffer:()=>ps,BufferResource:()=>m_,CLEAR_MODES:()=>Co,CanvasExtract:()=>uG,CanvasGraphicsRenderer:()=>oG,CanvasMeshRenderer:()=>iG,CanvasPrepare:()=>hG,CanvasRenderer:()=>Wc,CanvasResource:()=>qv,CanvasSpriteRenderer:()=>lG,Circle:()=>t5,CompressedTextureLoader:()=>uU,CompressedTextureResource:()=>yS,Container:()=>vr,ContextSystem:()=>DP,CountLimiter:()=>AU,CubeResource:()=>CP,DDSLoader:()=>fU,DEG_TO_RAD:()=>e5,DRAW_MODES:()=>Zs,DisplayObject:()=>Pr,ENV:()=>Ls,Ellipse:()=>n5,Extract:()=>Z5,FORMATS:()=>nt,FORMATS_TO_COMPONENTS:()=>gU,FillStyle:()=>dx,Filter:()=>ku,FilterState:()=>_5,FilterSystem:()=>AP,Framebuffer:()=>sS,FramebufferSystem:()=>NP,GC_MODES:()=>p_,GLFramebuffer:()=>v5,GLProgram:()=>L5,GLTexture:()=>fS,GRAPHICS_CURVES:()=>S_,Geometry:()=>v_,GeometrySystem:()=>FP,Graphics:()=>Ua,GraphicsData:()=>yx,GraphicsGeometry:()=>PU,IGLUniformData:()=>bce,INSTALLED:()=>Xv,INTERNAL_FORMATS:()=>Dn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>n0,ImageBitmapResource:()=>MP,ImageResource:()=>rS,InteractionData:()=>mP,InteractionEvent:()=>c5,InteractionManager:()=>yP,InteractionTrackingData:()=>Z1,KTXLoader:()=>mU,LINE_CAP:()=>zc,LINE_JOIN:()=>Vc,LineStyle:()=>xU,Loader:()=>To,LoaderResource:()=>xr,MASK_TYPES:()=>Ci,MIPMAP_MODES:()=>zo,MSAA_QUALITY:()=>Gn,MaskData:()=>y5,MaskSystem:()=>zP,Matrix:()=>Di,Mesh:()=>ml,MeshBatchUvs:()=>GU,MeshGeometry:()=>u0,MeshMaterial:()=>_f,NineSlicePlane:()=>f0,ObjectRenderer:()=>Jv,ObservablePoint:()=>tf,PI_2:()=>Yv,PRECISION:()=>hs,ParticleContainer:()=>yU,ParticleRenderer:()=>SU,PlaneGeometry:()=>XU,Point:()=>ir,Polygon:()=>$v,Prepare:()=>DU,Program:()=>y_,ProjectionSystem:()=>$P,Quad:()=>g5,QuadUv:()=>xP,RAD_TO_DEG:()=>Z4,RENDERER_TYPE:()=>nc,Rectangle:()=>di,RenderTexture:()=>gl,RenderTexturePool:()=>f5,RenderTextureSystem:()=>XP,Renderer:()=>rc,Resource:()=>lf,RopeGeometry:()=>qU,RoundedRectangle:()=>i5,Runner:()=>eo,SAMPLER_TYPES:()=>kd,SCALE_MODES:()=>ds,SHAPES:()=>yi,SVGResource:()=>TP,ScissorSystem:()=>WP,Shader:()=>Nu,ShaderSystem:()=>qP,SimpleMesh:()=>QU,SimplePlane:()=>JU,SimpleRope:()=>KU,Sprite:()=>Yo,SpriteMaskFilter:()=>A5,Spritesheet:()=>NU,SpritesheetLoader:()=>kU,State:()=>Ld,StateSystem:()=>KP,StencilSystem:()=>YP,System:()=>Fce,TARGETS:()=>ha,TEXT_GRADIENT:()=>pf,TYPES:()=>Dt,TYPES_TO_BYTES_PER_COMPONENT:()=>cx,TYPES_TO_BYTES_PER_PIXEL:()=>_U,TemporaryDisplayObject:()=>pP,Text:()=>l0,TextMetrics:()=>Ga,TextStyle:()=>gf,Texture:()=>Qt,TextureGCSystem:()=>JP,TextureLoader:()=>oU,TextureMatrix:()=>dS,TextureSystem:()=>QP,TextureUvs:()=>OP,Ticker:()=>Gs,TickerPlugin:()=>l5,TilingSprite:()=>BU,TilingSpriteRenderer:()=>UU,TimeLimiter:()=>jue,Transform:()=>dP,UPDATE_PRIORITY:()=>ic,UniformGroup:()=>Bd,VERSION:()=>Pde,VideoResource:()=>wP,ViewableBuffer:()=>_S,WRAP_MODES:()=>fl,accessibleTarget:()=>s5,autoDetectRenderer:()=>j5,autoDetectResource:()=>nS,canvasUtils:()=>ts,checkMaxIfStatementsInShader:()=>x5,createUBOElements:()=>k5,defaultFilterVertex:()=>tx,defaultVertex:()=>H5,filters:()=>xde,generateProgram:()=>U5,generateUniformBufferSync:()=>B5,getTestContext:()=>T5,getUBOData:()=>F5,graphicsUtils:()=>Tue,groupD8:()=>hr,interactiveTarget:()=>u5,isMobile:()=>La,resources:()=>q5,settings:()=>wt,systems:()=>K5,uniformParsers:()=>cf,utils:()=>h});const y=T(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function m(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class g{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(s){t=s instanceof y?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{C(s)}catch(o){t=null!=t?t:[],o instanceof y?t=[...t,...o.errors]:t.push(o)}}if(t)throw new y(t)}}add(t){var e;if(t&&t!==this)if(this.closed)C(t);else{if(t instanceof g){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&m(e,t)}remove(t){const{_finalizers:e}=this;e&&m(e,t),t instanceof g&&t._removeParent(this)}}g.EMPTY=(()=>{const n=new g;return n.closed=!0,n})();const _=g.EMPTY;function p(n){return n instanceof g||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function C(n){S(n)?n():n.unsubscribe()}const M={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},f={setTimeout(n,t,...e){const{delegate:i}=f;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=f;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function b(n){f.setTimeout(()=>{const{onUnhandledError:t}=M;if(!t)throw n;t(n)})}function O(){}const F=q("C",void 0,void 0);function q(n,t,e){return{kind:n,value:t,error:e}}let H=null;function Y(n){if(M.useDeprecatedSynchronousErrorHandling){const t=!H;if(t&&(H={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=H;if(H=null,e)throw i}}else n()}class X extends g{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,p(t)&&t.add(this)):this.destination=Le}static create(t,e,i){return new oe(t,e,i)}next(t){this.isStopped?Ne(function z(n){return q("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ne(function U(n){return q("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ne(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ae=Function.prototype.bind;function Q(n,t){return ae.call(n,t)}class ue{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ee(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ee(i)}else Ee(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ee(e)}}}class oe extends X{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let s;this&&M.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Q(t.next,s),error:t.error&&Q(t.error,s),complete:t.complete&&Q(t.complete,s)}):r=t}this.destination=new ue(r)}}function Ee(n){M.useDeprecatedSynchronousErrorHandling?function G(n){M.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=n)}(n):b(n)}function Ne(n,t){const{onStoppedNotification:e}=M;e&&f.setTimeout(()=>e(n,t))}const Le={closed:!0,next:O,error:function Ge(n){throw n},complete:O},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function me(n){return n}let fe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function qe(n){return n&&n instanceof X||function we(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&p(n)}(e)?e:new oe(e,i,r);return Y(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=be(i))((r,s)=>{const o=new oe({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ie](){return this}pipe(...e){return function Be(n){return 0===n.length?me:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=be(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function be(n){var t;return null!==(t=null!=n?n:M.Promise)&&void 0!==t?t:Promise}const pt=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class n extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Gt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new pt}next(e){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?_:(this.currentObservers=null,s.push(e),new g(()=>{this.currentObservers=null,m(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new fe;return e.source=this,e}}return n.create=(t,e)=>new Gt(t,e),n})();class Gt extends $e{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:_}}function ht(n){return S(null==n?void 0:n.lift)}function Je(n){return t=>{if(ht(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,t,e,i,r){return new Me(n,t,e,i,r)}class Me extends X{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Pe(n,t){return Je((e,i)=>{let r=0;e.subscribe(de(i,s=>{i.next(n.call(t,s,r++))}))})}function Qe(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}function Xe(n){return this instanceof Xe?(this.v=n,this):new Xe(n)}function Ct(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(v){i[v]&&(r[v]=function(E){return new Promise(function(I,A){s.push([v,E,I,A])>1||a(v,E)})})}function a(v,E){try{!function l(v){v.value instanceof Xe?Promise.resolve(v.value.v).then(c,u):d(s[0][2],v)}(i[v](E))}catch(I){d(s[0][3],I)}}function c(v){a("next",v)}function u(v){a("throw",v)}function d(v,E){v(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function At(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Fe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Xt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ln(n){return S(null==n?void 0:n.then)}function Lr(n){return S(n[ie])}function Ur(n){return Symbol.asyncIterator&&S(null==n?void 0:n[Symbol.asyncIterator])}function ei(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ki=function pn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cn(n){return S(null==n?void 0:n[ki])}function lr(n){return Ct(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Xe(e.read());if(r)return yield Xe(void 0);yield yield Xe(i)}}finally{e.releaseLock()}})}function Gr(n){return S(null==n?void 0:n.getReader)}function Ot(n){if(n instanceof fe)return n;if(null!=n){if(Lr(n))return function jr(n){return new fe(t=>{const e=n[ie]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xt(n))return function vs(n){return new fe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Ln(n))return function nl(n){return new fe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,b)})}(n);if(Ur(n))return il(n);if(cn(n))return function Oh(n){return new fe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Gr(n))return function gu(n){return il(lr(n))}(n)}throw ei(n)}function il(n){return new fe(t=>{(function Hr(n,t){var e,i,r,s;return function fn(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=At(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function co(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function cr(n,t,e=1/0){return S(t)?cr((i,r)=>Pe((s,o)=>t(i,s,r,o))(Ot(n(i,r))),e):("number"==typeof t&&(e=t),Je((i,r)=>function Ds(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const v=()=>{d&&!l.length&&!c&&t.complete()},E=A=>c<i?I(A):l.push(A),I=A=>{s&&t.next(A),c++;let N=!1;Ot(e(A,u++)).subscribe(de(t,k=>{null==r||r(k),s?E(k):t.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(c--;l.length&&c<i;){const k=l.shift();o?co(t,o,()=>I(k)):I(k)}v()}catch(k){t.error(k)}}))};return n.subscribe(de(t,E,()=>{d=!0,v()})),()=>{null==a||a()}}(i,r,n,e)))}function ys(n=1/0){return cr(me,n)}const ft=new fe(n=>n.complete());function Ti(n){return n&&S(n.schedule)}function bn(n){return n[n.length-1]}function Ji(n){return S(bn(n))?n.pop():void 0}function wa(n){return Ti(bn(n))?n.pop():void 0}function Qi(n,t=0){return Je((e,i)=>{e.subscribe(de(i,r=>co(i,n,()=>i.next(r),t),()=>co(i,n,()=>i.complete(),t),r=>co(i,n,()=>i.error(r),t)))})}function Vr(n,t=0){return Je((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Ul(n,t){if(!n)throw new Error("Iterable cannot be null");return new fe(e=>{co(e,t,()=>{const i=n[Symbol.asyncIterator]();co(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Jn(n,t){return t?function Ph(n,t){if(null!=n){if(Lr(n))return function uo(n,t){return Ot(n).pipe(Vr(t),Qi(t))}(n,t);if(Xt(n))return function Kr(n,t){return new fe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Ln(n))return function Ns(n,t){return Ot(n).pipe(Vr(t),Qi(t))}(n,t);if(Ur(n))return Ul(n,t);if(cn(n))return function _u(n,t){return new fe(e=>{let i;return co(e,t,()=>{i=n[ki](),co(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>S(null==i?void 0:i.return)&&i.return()})}(n,t);if(Gr(n))return function pd(n,t){return Ul(lr(n),t)}(n,t)}throw ei(n)}(n,t):Ot(n)}function wi(n){return n<=0?()=>ft:Je((t,e)=>{let i=0;t.subscribe(de(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Fo(n={}){const{connector:t=(()=>new $e),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const v=()=>{null==a||a.unsubscribe(),a=null},E=()=>{v(),o=l=null,u=d=!1},I=()=>{const A=o;E(),null==A||A.unsubscribe()};return Je((A,N)=>{c++,!d&&!u&&v();const k=l=null!=l?l:t();N.add(()=>{c--,0===c&&!d&&!u&&(a=ho(I,r))}),k.subscribe(N),o||(o=new oe({next:L=>k.next(L),error:L=>{d=!0,v(),a=ho(E,e,L),k.error(L)},complete:()=>{u=!0,v(),a=ho(E,i),k.complete()}}),Jn(A).subscribe(o))})(s)}}function ho(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(wi(1)).subscribe(()=>n())}function Un(n){for(let t in n)if(n[t]===Un)return t;throw Error("Could not find renamed property on target object.")}function rl(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function bi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(bi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Qp(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Zp=Un({__forward_ref__:Un});function kn(n){return n.__forward_ref__=kn,n.toString=function(){return bi(this())},n}function Fn(n){return lD(n)?n():n}function lD(n){return"function"==typeof n&&n.hasOwnProperty(Zp)&&n.__forward_ref__===kn}class Wt extends Error{constructor(t,e){super(function yT(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Pn(n){return"string"==typeof n?n:null==n?"":String(n)}function qs(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pn(n)}function tb(n,t){const e=t?` in ${t}`:"";throw new Wt(-201,`No provider for ${qs(n)} found${e}`)}function Oa(n,t){null==n&&function Ri(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function vt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function bT(n){return cD(n,nb)||cD(n,dD)}function cD(n,t){return n.hasOwnProperty(t)?n[t]:null}function uD(n){return n&&(n.hasOwnProperty(ST)||n.hasOwnProperty(kW))?n[ST]:null}const nb=Un({\u0275prov:Un}),ST=Un({\u0275inj:Un}),dD=Un({ngInjectableDef:Un}),kW=Un({ngInjectorDef:Un});var Tn=(()=>((Tn=Tn||{})[Tn.Default=0]="Default",Tn[Tn.Host=1]="Host",Tn[Tn.Self=2]="Self",Tn[Tn.SkipSelf=4]="SkipSelf",Tn[Tn.Optional=8]="Optional",Tn))();let ET;function gd(n){const t=ET;return ET=n,t}function hD(n,t,e){const i=bT(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Tn.Optional?null:void 0!==t?t:void tb(bi(n),"Injector")}function _d(n){return{toString:n}.toString()}var Gl=(()=>((Gl=Gl||{})[Gl.OnPush=0]="OnPush",Gl[Gl.Default=1]="Default",Gl))(),jl=(()=>{return(n=jl||(jl={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jl;var n})();const BW="undefined"!=typeof globalThis&&globalThis,LW="undefined"!=typeof window&&window,UW="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fi=BW||"undefined"!=typeof global&&global||LW||UW,eg={},Vi=[],ib=Un({\u0275cmp:Un}),CT=Un({\u0275dir:Un}),rb=Un({\u0275pipe:Un}),fD=Un({\u0275mod:Un}),vu=Un({\u0275fac:Un}),Fm=Un({__NG_ELEMENT_ID__:Un});let GW=0;function st(n){return _d(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Vi,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jl.Emulated,id:"c",styles:n.styles||Vi,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=GW++,i.inputs=mD(n.inputs,e),i.outputs=mD(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(pD):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(gD):null,i})}function pD(n){return Ks(n)||function md(n){return n[CT]||null}(n)}function gD(n){return function xh(n){return n[rb]||null}(n)}const _D={};function dt(n){return _d(()=>{const t={type:n.type,bootstrap:n.bootstrap||Vi,declarations:n.declarations||Vi,imports:n.imports||Vi,exports:n.exports||Vi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(_D[n.id]=n.type),t})}function mD(n,t){if(null==n)return eg;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const Rt=st;function fr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ks(n){return n[ib]||null}function sl(n,t){const e=n[fD]||null;if(!e&&!0===t)throw new Error(`Type ${bi(n)} does not have '\u0275mod' property.`);return e}function Mc(n){return Array.isArray(n)&&"object"==typeof n[1]}function Vl(n){return Array.isArray(n)&&!0===n[1]}function MT(n){return 0!=(8&n.flags)}function lb(n){return 2==(2&n.flags)}function cb(n){return 1==(1&n.flags)}function zl(n){return null!==n.template}function YW(n){return 0!=(512&n[2])}function Dh(n,t){return n.hasOwnProperty(vu)?n[vu]:null}class qW{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Js(){return yD}function yD(n){return n.type.prototype.ngOnChanges&&(n.setInput=JW),KW}function KW(){const n=SD(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===eg)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function JW(n,t,e,i){const r=SD(n)||function QW(n,t){return n[bD]=t}(n,{previous:eg,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new qW(l&&l.currentValue,t,o===eg),n[i]=t}Js.ngInherit=!0;const bD="__ngSimpleChanges__";function SD(n){return n[bD]||null}let AT;function RT(){return void 0!==AT?AT:"undefined"!=typeof document?document:void 0}function Wr(n){return!!n.listen}const ED={createRenderer:(n,t)=>RT()};function as(n){for(;Array.isArray(n);)n=n[0];return n}function ub(n,t){return as(t[n])}function xa(n,t){return as(t[n.index])}function DT(n,t){return n.data[t]}function sg(n,t){return n[t]}function Ia(n,t){const e=t[n];return Mc(e)?e:e[0]}function CD(n){return 4==(4&n[2])}function NT(n){return 128==(128&n[2])}function vd(n,t){return null==t?null:n[t]}function TD(n){n[18]=0}function kT(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const xn={lFrame:DD(null),bindingsEnabled:!0};function MD(){return xn.bindingsEnabled}function St(){return xn.lFrame.lView}function gi(){return xn.lFrame.tView}function ct(n){return xn.lFrame.contextLView=n,n[8]}function bs(){let n=OD();for(;null!==n&&64===n.type;)n=n.parent;return n}function OD(){return xn.lFrame.currentTNode}function Oc(n,t){const e=xn.lFrame;e.currentTNode=n,e.isParent=t}function FT(){return xn.lFrame.isParent}function BT(){xn.lFrame.isParent=!1}function Lo(){const n=xn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function yu(){return xn.lFrame.bindingIndex}function og(){return xn.lFrame.bindingIndex++}function bu(n){const t=xn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function gY(n,t){const e=xn.lFrame;e.bindingIndex=e.bindingRootIndex=n,LT(t)}function LT(n){xn.lFrame.currentDirectiveIndex=n}function ID(){return xn.lFrame.currentQueryIndex}function GT(n){xn.lFrame.currentQueryIndex=n}function mY(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function AD(n,t,e){if(e&Tn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Tn.Host||(r=mY(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=xn.lFrame=RD();return i.currentTNode=t,i.lView=n,!0}function hb(n){const t=RD(),e=n[1];xn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function RD(){const n=xn.lFrame,t=null===n?null:n.child;return null===t?DD(n):t}function DD(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function ND(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kD=ND;function fb(){const n=ND();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Uo(){return xn.lFrame.selectedIndex}function yd(n){xn.lFrame.selectedIndex=n}function Cr(){const n=xn.lFrame;return DT(n.tView,n.selectedIndex)}function pb(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function gb(n,t,e){BD(n,t,3,e)}function _b(n,t,e,i){(3&n[2])===e&&BD(n,t,e,i)}function jT(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function BD(n,t,e,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(wY(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function wY(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class jm{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function mb(n,t,e){const i=Wr(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const o=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++r];VT(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function LD(n){return 3===n||4===n||6===n}function VT(n){return 64===n.charCodeAt(0)}function vb(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||UD(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function UD(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function GD(n){return-1!==n}function ag(n){return 32767&n}function lg(n,t){let e=function IY(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let zT=!0;function yb(n){const t=zT;return zT=n,t}let AY=0;function Vm(n,t){const e=YT(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,WT(i.data,n),WT(t,null),WT(i.blueprint,null));const r=bb(n,t),s=n.injectorIndex;if(GD(r)){const o=ag(r),a=lg(r,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function WT(n,t){n.push(0,0,0,0,0,0,0,0,t)}function YT(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function bb(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Sb(n,t,e){!function RY(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Fm)&&(i=e[Fm]),null==i&&(i=e[Fm]=AY++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function VD(n,t,e){if(e&Tn.Optional)return n;tb(t,"NodeInjector")}function zD(n,t,e,i){if(e&Tn.Optional&&void 0===i&&(i=null),0==(e&(Tn.Self|Tn.Host))){const r=n[9],s=gd(void 0);try{return r?r.get(t,i,e&Tn.Optional):hD(t,i,e&Tn.Optional)}finally{gd(s)}}return VD(i,t,e)}function WD(n,t,e,i=Tn.Default,r){if(null!==n){const s=function FY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Fm)?n[Fm]:void 0;return"number"==typeof t?t>=0?255&t:NY:t}(e);if("function"==typeof s){if(!AD(t,n,i))return i&Tn.Host?VD(r,e,i):zD(t,e,i,r);try{const o=s(i);if(null!=o||i&Tn.Optional)return o;tb(e)}finally{kD()}}else if("number"==typeof s){let o=null,a=YT(n,t),l=-1,c=i&Tn.Host?t[16][6]:null;for((-1===a||i&Tn.SkipSelf)&&(l=-1===a?bb(n,t):t[a+8],-1!==l&&XD(i,!1)?(o=t[1],a=ag(l),t=lg(l,t)):a=-1);-1!==a;){const u=t[1];if($D(s,a,u.data)){const d=kY(a,t,e,o,i,c);if(d!==YD)return d}l=t[a+8],-1!==l&&XD(i,t[1].data[a+8]===c)&&$D(s,a,t)?(o=u,a=ag(l),t=lg(l,t)):a=-1}}}return zD(t,e,i,r)}const YD={};function NY(){return new cg(bs(),St())}function kY(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],u=Eb(a,o,e,null==i?lb(a)&&zT:i!=o&&0!=(3&a.type),r&Tn.Host&&s===a);return null!==u?zm(t,o,u,a):YD}function Eb(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,v=r?a+u:n.directiveEnd;for(let E=i?a:a+u;E<v;E++){const I=o[E];if(E<l&&e===I||E>=l&&I.type===e)return E}if(r){const E=o[l];if(E&&zl(E)&&E.type===e)return l}return null}function zm(n,t,e,i){let r=n[e];const s=t.data;if(function MY(n){return n instanceof jm}(r)){const o=r;o.resolving&&function xW(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Wt(-200,`Circular dependency in DI detected for ${n}${e}`)}(qs(s[e]));const a=yb(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gd(o.injectImpl):null;AD(n,i,Tn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function TY(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=yD(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&gd(l),yb(a),o.resolving=!1,kD()}}return r}function $D(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function XD(n,t){return!(n&Tn.Self||n&Tn.Host&&t)}class cg{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return WD(this._tNode,this._lView,t,i,e)}}function po(n){return _d(()=>{const t=n.prototype.constructor,e=t[vu]||$T(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[vu]||$T(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function $T(n){return lD(n)?()=>{const t=$T(Fn(n));return t&&t()}:Dh(n)}const dg="__parameters__";function fg(n,t,e){return _d(()=>{const i=function XT(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(dg)?l[dg]:Object.defineProperty(l,dg,{value:[]})[dg];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Kt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=vt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const LY=new Kt("AnalyzeForEntryComponents");function ll(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),ll(i,t)):t!==n&&t.push(i)}return t}function Pc(n,t){n.forEach(e=>Array.isArray(e)?Pc(e,t):t(e))}function KD(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Cb(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function $m(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Aa(n,t,e){let i=pg(n,t);return i>=0?n[1|i]=e:(i=~i,function jY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function KT(n,t){const e=pg(n,t);if(e>=0)return n[1|e]}function pg(n,t){return function ZD(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Xm={},QT="__NG_DI_FLAG__",wb="ngTempTokenPath",XY=/\n/gm,tN="__source",KY=Un({provide:String,useValue:Un});let qm;function nN(n){const t=qm;return qm=n,t}function JY(n,t=Tn.Default){if(void 0===qm)throw new Wt(203,"");return null===qm?hD(n,void 0,t):qm.get(n,t&Tn.Optional?null:void 0,t)}function He(n,t=Tn.Default){return(function FW(){return ET}()||JY)(Fn(n),t)}const rN=He;function ZT(n){const t=[];for(let e=0;e<n.length;e++){const i=Fn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Wt(900,"");let r,s=Tn.Default;for(let o=0;o<i.length;o++){const a=i[o],l=QY(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(He(r,s))}else t.push(He(i))}return t}function Km(n,t){return n[QT]=t,n.prototype[QT]=t,n}function QY(n){return n[QT]}const Mb=Km(fg("Inject",n=>({token:n})),-1),Sd=Km(fg("Optional"),8),Jm=Km(fg("SkipSelf"),4);var Ra=(()=>((Ra=Ra||{})[Ra.Important=1]="Important",Ra[Ra.DashCase=2]="DashCase",Ra))();const dN="__ngContext__";function go(n,t){n[dN]=t}function nw(n){const t=function Zm(n){return n[dN]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function rw(n,t){return undefined(n,t)}function ev(n){const t=n[3];return Vl(t)?t[3]:t}function sw(n){return vN(n[13])}function ow(n){return vN(n[4])}function vN(n){for(;null!==n&&!Vl(n);)n=n[4];return n}function _g(n,t,e,i,r){if(null!=i){let s,o=!1;Vl(i)?s=i:Mc(i)&&(o=!0,i=i[0]);const a=as(i);0===n&&null!==e?null==r?TN(t,e,a):kh(t,e,a,r||null,!0):1===n&&null!==e?kh(t,e,a,r||null,!0):2===n?function fw(n,t,e){const i=Pb(n,t);i&&function x$(n,t,e,i){Wr(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function R$(n,t,e,i,r){const s=e[7];s!==as(e)&&_g(t,n,i,s,r);for(let a=10;a<e.length;a++){const l=e[a];tv(l[1],l,n,t,i,s)}}(t,n,s,e,r)}}function lw(n,t,e){if(Wr(n))return n.createElement(t,e);{const i=null!==e?function nY(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function bN(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,kT(r,-1)),e.splice(i,1)}function cw(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&bN(r,i),t>0&&(n[e-1][4]=i[4]);const s=Cb(n,10+t);!function S$(n,t){tv(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function SN(n,t){if(!(256&t[2])){const e=t[11];Wr(e)&&e.destroyNode&&tv(n,t,e,3,null,null),function T$(n){let t=n[13];if(!t)return uw(n[1],n);for(;t;){let e=null;if(Mc(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Mc(t)&&uw(t[1],t),t=t[3];null===t&&(t=n),Mc(t)&&uw(t[1],t),e=t&&t[4]}t=e}}(t)}}function uw(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function P$(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof jm)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function O$(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):as(t[o]),l=i[r=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&Wr(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Vl(t[3])){e!==t[3]&&bN(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function EN(n,t,e){return function CN(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===jl.None||r===jl.Emulated)return null}return xa(i,e)}(n,t.parent,e)}function kh(n,t,e,i,r){Wr(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function TN(n,t,e){Wr(n)?n.appendChild(t,e):t.appendChild(e)}function wN(n,t,e,i,r){null!==i?kh(n,t,e,i,r):TN(n,t,e)}function Pb(n,t){return Wr(n)?n.parentNode(t):t.parentNode}function MN(n,t,e){return PN(n,t,e)}let Ab,Rb,PN=function ON(n,t,e){return 40&n.type?xa(n,e):null};function xb(n,t,e,i){const r=EN(n,i,t),s=t[11],a=MN(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)wN(s,r,e[l],a,!1);else wN(s,r,e,a,!1)}function Ib(n,t){if(null!==t){const e=t.type;if(3&e)return xa(t,n);if(4&e)return hw(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Ib(n,i);{const r=n[t.index];return Vl(r)?hw(-1,r):as(r)}}if(32&e)return rw(t,n)()||as(n[t.index]);{const i=IN(n,t);return null!==i?Array.isArray(i)?i[0]:Ib(ev(n[16]),i):Ib(n,t.next)}}return null}function IN(n,t){return null!==t?n[16][6].projection[t.projection]:null}function hw(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Ib(i,r)}return t[7]}function pw(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&go(as(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)pw(n,t,e.child,i,r,s,!1),_g(t,n,r,a,s);else if(32&l){const c=rw(e,i);let u;for(;u=c();)_g(t,n,r,u,s);_g(t,n,r,a,s)}else 16&l?AN(n,t,i,e,r,s):_g(t,n,r,a,s);e=o?e.projectionNext:e.next}}function tv(n,t,e,i,r,s){pw(e,i,n.firstChild,t,r,s,!1)}function AN(n,t,e,i,r,s){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)_g(t,n,r,l[c],s);else pw(n,t,l,o[3],r,s,!0)}function RN(n,t,e){Wr(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function gw(n,t,e){Wr(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Fh(n){var t;return(null===(t=function _w(){if(void 0===Ab&&(Ab=null,Fi.trustedTypes))try{Ab=Fi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ab}())||void 0===t?void 0:t.createHTML(n))||n}function mw(){if(void 0===Rb&&(Rb=null,Fi.trustedTypes))try{Rb=Fi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Rb}function DN(n){var t;return(null===(t=mw())||void 0===t?void 0:t.createHTML(n))||n}function kN(n){var t;return(null===(t=mw())||void 0===t?void 0:t.createScriptURL(n))||n}class Bh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class B$ extends Bh{getTypeName(){return"HTML"}}class L$ extends Bh{getTypeName(){return"Style"}}class U$ extends Bh{getTypeName(){return"Script"}}class G$ extends Bh{getTypeName(){return"URL"}}class j$ extends Bh{getTypeName(){return"ResourceURL"}}function Da(n){return n instanceof Bh?n.changingThisBreaksApplicationSecurity:n}function xc(n,t){const e=FN(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function FN(n){return n instanceof Bh&&n.getTypeName()||null}class $${constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fh(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class X${constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fh(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Fh(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const K$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,J$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nv(n){return(n=String(n)).match(K$)||n.match(J$)?n:"unsafe:"+n}function LN(n){return(n=String(n)).split(",").map(t=>nv(t.trim())).join(", ")}function Ic(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function iv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const UN=Ic("area,br,col,hr,img,wbr"),GN=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jN=Ic("rp,rt"),vw=iv(UN,iv(GN,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iv(jN,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iv(jN,GN)),yw=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bw=Ic("srcset"),HN=iv(yw,bw,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q$=Ic("script,style,template");class Z${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!vw.hasOwnProperty(e))return this.sanitizedSomething=!0,!Q$.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!HN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;yw[a]&&(l=nv(l)),bw[a]&&(l=LN(l)),this.buf.push(" ",o,'="',VN(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();vw.hasOwnProperty(e)&&!UN.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(VN(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const eX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tX=/([^\#-~ |!])/g;function VN(n){return n.replace(/&/g,"&amp;").replace(eX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(tX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Db;function zN(n,t){let e=null;try{Db=Db||function BN(n){const t=new X$(n);return function q$(){try{return!!(new window.DOMParser).parseFromString(Fh(""),"text/html")}catch(n){return!1}}()?new $$(t):t}(n);let i=t?String(t):"";e=Db.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Db.getInertBodyElement(i)}while(i!==s);return Fh((new Z$).sanitizeChildren(Sw(e)||e))}finally{if(e){const i=Sw(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Sw(n){return"content"in n&&function nX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var er=(()=>((er=er||{})[er.NONE=0]="NONE",er[er.HTML=1]="HTML",er[er.STYLE=2]="STYLE",er[er.SCRIPT=3]="SCRIPT",er[er.URL=4]="URL",er[er.RESOURCE_URL=5]="RESOURCE_URL",er))();function WN(n){const t=rv();return t?DN(t.sanitize(er.HTML,n)||""):xc(n,"HTML")?DN(Da(n)):zN(RT(),Pn(n))}function nn(n){const t=rv();return t?t.sanitize(er.URL,n)||"":xc(n,"URL")?Da(n):nv(Pn(n))}function Nb(n){const t=rv();if(t)return kN(t.sanitize(er.RESOURCE_URL,n)||"");if(xc(n,"ResourceURL"))return kN(Da(n));throw new Wt(904,"")}function rv(){const n=St();return n&&n[12]}function Cw(n){return n.ngOriginalError}function hX(n,...t){n.error(...t)}class mg{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function dX(n){return n&&n.ngErrorLogger||hX}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Cw(t);for(;e&&Cw(e);)e=Cw(e);return e||null}}const yX=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fi))();function Ac(n){return n instanceof Function?n():n}function $N(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const XN="ng-template";function CX(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==$N(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function qN(n){return 4===n.type&&n.value!==XN}function TX(n,t,e){return t===(4!==n.type||e?n.value:XN)}function wX(n,t,e){let i=4;const r=n.attrs||[],s=function PX(n){for(let t=0;t<n.length;t++)if(LD(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!TX(n,l,e)||""===l&&1===t.length){if(Wl(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!CX(n.attrs,c,e)){if(Wl(i))return!1;o=!0}continue}const d=MX(8&i?"class":l,r,qN(n),e);if(-1===d){if(Wl(i))return!1;o=!0;continue}if(""!==c){let v;v=d>s?"":r[d+1].toLowerCase();const E=8&i?v:null;if(E&&-1!==$N(E,c,0)||2&i&&c!==v){if(Wl(i))return!1;o=!0}}}}else{if(!o&&!Wl(i)&&!Wl(l))return!1;if(o&&Wl(l))continue;o=!1,i=l|1&i}}return Wl(i)||o}function Wl(n){return 0==(1&n)}function MX(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function xX(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function KN(n,t,e=!1){for(let i=0;i<t.length;i++)if(wX(n,t[i],e))return!0;return!1}function IX(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function JN(n,t){return n?":not("+t.trim()+")":t}function AX(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Wl(o)&&(t+=JN(s,r),r=""),i=o,s=s||!Wl(i);e++}return""!==r&&(t+=JN(s,r)),t}const In={};function P(n){QN(gi(),St(),Uo()+n,!1)}function QN(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&gb(t,s,e)}else{const s=n.preOrderHooks;null!==s&&_b(t,s,0,e)}yd(e)}function kb(n,t){return n<<17|t<<2}function Yl(n){return n>>17&32767}function Tw(n){return 2|n}function Su(n){return(131068&n)>>2}function ww(n,t){return-131069&n|t<<2}function Mw(n){return 1|n}function ck(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];GT(r),o.contentQueries(2,t[s],s)}}}function sv(n,t,e,i,r,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,TD(u),u[3]=u[15]=n,u[8]=e,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==t.type?n[16]:u,u}function yg(n,t,e,i,r){let s=n.data[t];if(null===s)s=function kw(n,t,e,i,r){const s=OD(),o=FT(),l=n.data[t]=function qX(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,i,r),function pY(){return xn.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Gm(){const n=xn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Oc(s,!0),s}function bg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function ov(n,t,e){hb(t);try{const i=n.viewQuery;null!==i&&zw(1,i,e);const r=n.template;null!==r&&uk(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ck(n,t),n.staticViewQueries&&zw(2,n.viewQuery,e);const s=n.components;null!==s&&function YX(n,t){for(let e=0;e<t.length;e++)fq(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,fb()}}function Sg(n,t,e,i){const r=t[2];if(256!=(256&r)){hb(t);try{TD(t),function PD(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&uk(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&gb(t,c,null)}else{const c=n.preOrderHooks;null!==c&&_b(t,c,0,null),jT(t,0)}if(function dq(n){for(let t=sw(n);null!==t;t=ow(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&kT(s,1),r[2]|=1024}}}(t),function uq(n){for(let t=sw(n);null!==t;t=ow(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];NT(i)&&Sg(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&ck(n,t),o){const c=n.contentCheckHooks;null!==c&&gb(t,c)}else{const c=n.contentHooks;null!==c&&_b(t,c,1),jT(t,1)}!function zX(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)yd(~r);else{const s=r,o=e[++i],a=e[++i];gY(o,s),a(2,t[s])}}}finally{yd(-1)}}(n,t);const a=n.components;null!==a&&function WX(n,t){for(let e=0;e<t.length;e++)hq(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&zw(2,l,i),o){const c=n.viewCheckHooks;null!==c&&gb(t,c)}else{const c=n.viewHooks;null!==c&&_b(t,c,2),jT(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,kT(t[3],-1))}finally{fb()}}}function $X(n,t,e,i){const r=t[10],o=CD(t);try{!o&&r.begin&&r.begin(),o&&ov(n,t,i),Sg(n,t,e,i)}finally{!o&&r.end&&r.end()}}function uk(n,t,e,i,r){const s=Uo(),o=2&i;try{yd(-1),o&&t.length>20&&QN(n,t,20,!1),e(i,r)}finally{yd(s)}}function dk(n,t,e){if(MT(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Fw(n,t,e){!MD()||(function nq(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Vm(e,t),go(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=zl(l);c&&aq(t,e,l);const u=zm(t,n,a,e);go(u,t),null!==o&&lq(0,a-r,u,l,0,o),c&&(Ia(e.index,t)[8]=u)}}(n,t,e,xa(e,t)),128==(128&e.flags)&&function iq(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=function _Y(){return xn.lFrame.currentDirectiveIndex}();try{yd(o);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];LT(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&yk(c,u)}}finally{yd(-1),LT(a)}}(n,t,e))}function Bw(n,t,e=xa){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function hk(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Lb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Lb(n,t,e,i,r,s,o,a,l,c){const u=20+i,d=u+r,v=function XX(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:In);return e}(u,d),E="function"==typeof c?c():c;return v[1]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1}}function gk(n,t,e,i){const r=wk(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Mk(n).push(i,r.length-1))}function _k(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Na(n,t,e,i,r,s,o,a){const l=xa(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(xk(n,e,u,i,r),lb(t)&&function QX(n,t){const e=Ia(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function JX(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,Wr(s)?s.setProperty(l,i,r):VT(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Lw(n,t,e,i){let r=!1;if(MD()){const s=function rq(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];KN(e,o.selectors,!1)&&(r||(r=[]),Sb(Vm(e,t),n,o.type),zl(o)?(bk(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,Sk(e,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=bg(n,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=vb(e.mergedAttrs,d.hostAttrs),Ek(n,e,t,c,d),oq(c,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const v=d.type.prototype;!a&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function KX(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,v=null===s||qN(t)?null:cq(d,s);o.push(v),a=_k(d,c,a),l=_k(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function sq(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Wt(-301,!1);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=vb(e.mergedAttrs,e.attrs),r}function vk(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function tq(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function yk(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function bk(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function oq(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;zl(t)&&(e[""]=n)}}function Sk(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Ek(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Dh(r.type)),o=new jm(s,zl(r),null);n.blueprint[i]=o,e[i]=o,vk(n,t,0,i,bg(n,e,r.hostVars,In),r)}function aq(n,t,e){const i=xa(t,n),r=hk(e),s=n[10],o=Ub(n,sv(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=o}function Rc(n,t,e,i,r,s){const o=xa(n,t);!function Uw(n,t,e,i,r,s,o){if(null==s)Wr(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==o?Pn(s):o(s,i||"",r);Wr(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],o,s,n.value,e,i,r)}function lq(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function cq(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Ck(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function hq(n,t){const e=Ia(t,n);if(NT(e)){const i=e[1];80&e[2]?Sg(i,e,i.template,e[8]):e[5]>0&&Gw(e)}}function Gw(n){for(let i=sw(n);null!==i;i=ow(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Sg(o,s,o.template,s[8])}else s[5]>0&&Gw(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ia(e[i],n);NT(r)&&r[5]>0&&Gw(r)}}function fq(n,t){const e=Ia(t,n),i=e[1];(function pq(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),ov(i,e,e[8])}function Ub(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function jw(n){for(;n;){n[2]|=64;const t=ev(n);if(YW(n)&&!t)return n;n=t}return null}function Tk(n){!function Hw(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=nw(e),r=i[1];$X(r,i,r.template,e)}}(n[8])}function zw(n,t,e){GT(0),t(n,e)}const _q=(()=>Promise.resolve(null))();function wk(n){return n[7]||(n[7]=[])}function Mk(n){return n.cleanup||(n.cleanup=[])}function Pk(n,t){const e=n[9],i=e?e.get(mg,null):null;i&&i.handleError(t)}function xk(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Eu(n,t,e){const i=ub(t,n);!function yN(n,t,e){Wr(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Gb(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Qp(r,a):2==s&&(i=Qp(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Ww=new Kt("INJECTOR",-1);class Ik{get(t,e=Xm){if(e===Xm){const i=new Error(`NullInjectorError: No provider for ${bi(t)}!`);throw i.name="NullInjectorError",i}return e}}const Yw=new Kt("Set Injector scope."),av={},yq={};let $w;function Ak(){return void 0===$w&&($w=new Ik),$w}function Rk(n,t=null,e=null,i){const r=Dk(n,t,e,i);return r._resolveInjectorDefTypes(),r}function Dk(n,t=null,e=null,i){return new bq(n,e,t||Ak(),i)}class bq{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Pc(e,a=>this.processProvider(a,t,e)),Pc([t],a=>this.processInjectorType(a,[],s)),this.records.set(Ww,Eg(void 0,this));const o=this.records.get(Yw);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:bi(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Xm,i=Tn.Default){this.assertNotDestroyed();const r=nN(this),s=gd(void 0);try{if(!(i&Tn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Pq(n){return"function"==typeof n||"object"==typeof n&&n instanceof Kt}(t)&&bT(t);a=l&&this.injectableDefInScope(l)?Eg(Xw(t),av):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Tn.Self?Ak():this.parent).get(t,e=i&Tn.Optional&&e===Xm?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[wb]=o[wb]||[]).unshift(bi(t)),r)throw o;return function ZY(n,t,e,i){const r=n[wb];throw t[tN]&&r.unshift(t[tN]),n.message=function e$(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=bi(t);if(Array.isArray(t))r=t.map(bi).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):bi(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(XY,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[wb]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{gd(s),nN(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(bi(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Wt(205,!1)}processInjectorType(t,e,i){if(!(t=Fn(t)))return!1;let r=uD(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=uD(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Pc(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:v,providers:E}=u[d];Pc(E,I=>this.processProvider(I,v,E||Vi))}}this.injectorDefTypes.add(o);const l=Dh(o)||(()=>new o);this.records.set(o,Eg(l,av));const c=r.providers;if(null!=c&&!a){const u=t;Pc(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=Cg(t=Fn(t))?t:Fn(t&&t.provide);const s=function Eq(n,t,e){return kk(n)?Eg(void 0,n.useValue):Eg(Nk(n),av)}(t);if(Cg(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Eg(void 0,av,!0),o.factory=()=>ZT(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===av&&(e.value=yq,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Oq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Fn(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Xw(n){const t=bT(n),e=null!==t?t.factory:Dh(n);if(null!==e)return e;if(n instanceof Kt)throw new Wt(204,!1);if(n instanceof Function)return function Sq(n){const t=n.length;if(t>0)throw $m(t,"?"),new Wt(204,!1);const e=function DW(n){const t=n&&(n[nb]||n[dD]);if(t){const e=function NW(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Wt(204,!1)}function Nk(n,t,e){let i;if(Cg(n)){const r=Fn(n);return Dh(r)||Xw(r)}if(kk(n))i=()=>Fn(n.useValue);else if(function Tq(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ZT(n.deps||[]));else if(function Cq(n){return!(!n||!n.useExisting)}(n))i=()=>He(Fn(n.useExisting));else{const r=Fn(n&&(n.useClass||n.provide));if(!function Mq(n){return!!n.deps}(n))return Dh(r)||Xw(r);i=()=>new r(...ZT(n.deps))}return i}function Eg(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function kk(n){return null!==n&&"object"==typeof n&&KY in n}function Cg(n){return"function"==typeof n}let Es=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return Rk({name:""},i,e,"");{const s=null!==(r=e.name)&&void 0!==r?r:"";return Rk({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=Xm,n.NULL=new Ik,n.\u0275prov=vt({token:n,providedIn:"any",factory:()=>He(Ww)}),n.__NG_ELEMENT_ID__=-1,n})();function Fq(n,t){pb(nw(n)[1],bs())}function Mi(n){let t=function $k(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(zl(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Wt(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Jw(n.inputs),o.declaredInputs=Jw(n.declaredInputs),o.outputs=Jw(n.outputs);const a=r.hostBindings;a&&Gq(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&Lq(n,l),c&&Uq(n,c),rl(n.inputs,r.inputs),rl(n.declaredInputs,r.declaredInputs),rl(n.outputs,r.outputs),zl(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Mi&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Bq(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=vb(r.hostAttrs,e=vb(e,r.hostAttrs))}}(i)}function Jw(n){return n===eg?{}:n===Vi?[]:n}function Lq(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Uq(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function Gq(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let jb=null;function Tg(){if(!jb){const n=Fi.Symbol;if(n&&n.iterator)jb=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(jb=i)}}}return jb}function lv(n){return!!Qw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Tg()in n)}function Qw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Dc(n,t,e){return n[t]=e}function _o(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Lh(n,t,e,i){const r=_o(n,t,e);return _o(n,t+1,i)||r}function Hb(n,t,e,i,r){const s=Lh(n,t,e,i);return _o(n,t+2,r)||s}function ti(n,t,e,i){const r=St();return _o(r,og(),t)&&(gi(),Rc(Cr(),r,n,t,e,i)),ti}function Mg(n,t,e,i){return _o(n,og(),e)?t+Pn(e)+i:In}function ne(n,t,e,i,r,s,o,a){const l=St(),c=gi(),u=n+20,d=c.firstCreatePass?function $q(n,t,e,i,r,s,o,a,l){const c=t.consts,u=yg(t,n,4,o||null,vd(c,a));Lw(t,e,u,vd(c,l)),pb(t,u);const d=u.tViews=Lb(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Oc(d,!1);const v=l[11].createComment("");xb(c,l,v,d),go(v,l),Ub(l,l[u]=Ck(v,l,v,d)),cb(d)&&Fw(c,l,d),null!=o&&Bw(l,d,a)}function xi(n){return sg(function fY(){return xn.lFrame.contextLView}(),20+n)}function J(n,t=Tn.Default){const e=St();return null===e?He(n,t):WD(bs(),e,Fn(n),t)}function iM(){throw new Error("invalid")}function B(n,t,e){const i=St();return _o(i,og(),t)&&Na(gi(),Cr(),i,n,t,i[11],e,!1),B}function rM(n,t,e,i,r){const o=r?"class":"style";xk(n,e,t.inputs[o],o,i)}function R(n,t,e,i){const r=St(),s=gi(),o=20+n,a=r[11],l=r[o]=lw(a,t,function CY(){return xn.lFrame.currentNamespace}()),c=s.firstCreatePass?function pK(n,t,e,i,r,s,o){const a=t.consts,c=yg(t,n,2,r,vd(a,s));return Lw(t,e,c,vd(a,o)),null!==c.attrs&&Gb(c,c.attrs,!1),null!==c.mergedAttrs&&Gb(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,i):s.data[o];Oc(c,!0);const u=c.mergedAttrs;null!==u&&mb(a,l,u);const d=c.classes;null!==d&&gw(a,l,d);const v=c.styles;return null!==v&&RN(a,l,v),64!=(64&c.flags)&&xb(s,r,l,c),0===function lY(){return xn.lFrame.elementDepthCount}()&&go(l,r),function cY(){xn.lFrame.elementDepthCount++}(),cb(c)&&(Fw(s,r,c),dk(s,c,r)),null!==i&&Bw(r,c),R}function D(){let n=bs();FT()?BT():(n=n.parent,Oc(n,!1));const t=n;!function uY(){xn.lFrame.elementDepthCount--}();const e=gi();return e.firstCreatePass&&(pb(e,n),MT(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function PY(n){return 0!=(16&n.flags)}(t)&&rM(e,t,St(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function xY(n){return 0!=(32&n.flags)}(t)&&rM(e,t,St(),t.stylesWithoutHost,!1),D}function ve(n,t,e,i){return R(n,t,e,i),D(),ve}function ot(n,t,e){const i=St(),r=gi(),s=n+20,o=r.firstCreatePass?function gK(n,t,e,i,r){const s=t.consts,o=vd(s,i),a=yg(t,n,8,"ng-container",o);return null!==o&&Gb(a,o,!0),Lw(t,e,a,vd(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Oc(o,!0);const a=i[s]=i[11].createComment("");return xb(r,i,a,o),go(a,i),cb(o)&&(Fw(r,i,o),dk(r,o,i)),null!=e&&Bw(i,o),ot}function at(){let n=bs();const t=gi();return FT()?BT():(n=n.parent,Oc(n,!1)),t.firstCreatePass&&(pb(t,n),MT(n)&&t.queries.elementEnd(n)),at}function Fs(n,t,e){return ot(n,t,e),at(),Fs}function _t(){return St()}function uv(n){return!!n&&"function"==typeof n.then}function p3(n){return!!n&&"function"==typeof n.subscribe}const sM=p3;function Oe(n,t,e,i){const r=St(),s=gi(),o=bs();return function _3(n,t,e,i,r,s,o,a){const l=cb(i),u=n.firstCreatePass&&Mk(n),d=t[8],v=wk(t);let E=!0;if(3&i.type||a){const N=xa(i,t),k=a?a(N):N,L=v.length,W=a?Z=>a(as(Z[i.index])):i.index;if(Wr(e)){let Z=null;if(!a&&l&&(Z=function _K(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,E=!1;else{s=oM(i,t,d,s,!1);const ee=e.listen(k,r,s);v.push(s,ee),u&&u.push(r,W,L,L+1)}}else s=oM(i,t,d,s,!0),k.addEventListener(r,s,o),v.push(s),u&&u.push(r,W,L,o)}else s=oM(i,t,d,s,!1);const I=i.outputs;let A;if(E&&null!==I&&(A=I[r])){const N=A.length;if(N)for(let k=0;k<N;k+=2){const te=t[A[k]][A[k+1]].subscribe(s),ge=v.length;v.push(s,te),u&&u.push(r,i.index,ge,-(ge+1))}}}(s,r,r[11],o,n,t,!!e,i),Oe}function m3(n,t,e,i){try{return!1!==e(i)}catch(r){return Pk(n,r),!1}}function oM(n,t,e,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?Ia(n.index,t):t;0==(32&t[2])&&jw(a);let l=m3(t,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=m3(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function se(n=1){return function vY(n){return(xn.lFrame.contextLView=function yY(n,t){for(;n>0;)t=t[15],n--;return t}(n,xn.lFrame.contextLView))[8]}(n)}function mK(n,t){let e=null;const i=function OX(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?KN(n,s,!0):IX(i,s))return r}else e=r}return e}function dv(n){const t=St()[16][6];if(!t.projection){const i=t.projection=$m(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?mK(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function hv(n,t=0,e){const i=St(),r=gi(),s=yg(r,20+n,16,null,e||null);null===s.projection&&(s.projection=t),BT(),64!=(64&s.flags)&&function A$(n,t,e){AN(t[11],0,t,e,EN(n,e,t),MN(e.parent||t[6],e,t))}(r,i,s)}function Cu(n,t,e){return zb(n,"",t,"",e),Cu}function zb(n,t,e,i,r){const s=St(),o=Mg(s,t,e,i);return o!==In&&Na(gi(),Cr(),s,n,o,s[11],r,!1),zb}function M3(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Yl(s):Su(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];bK(n[a],t)&&(l=!0,n[a+1]=i?Mw(u):Tw(u)),a=i?Yl(u):Su(u)}l&&(n[e+1]=i?Tw(s):Mw(s))}function bK(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&pg(n,t)>=0}const Cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O3(n){return n.substring(Cs.key,Cs.keyEnd)}function P3(n,t){const e=Cs.textEnd;return e===t?-1:(t=Cs.keyEnd=function TK(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Cs.key=t,e),kg(n,t,e))}function kg(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Xl(n,t,e){return ql(n,t,e,!1),Xl}function Mt(n,t){return ql(n,t,null,!0),Mt}function Uh(n){Kl(Aa,kc,n,!0)}function kc(n,t){for(let e=function EK(n){return function I3(n){Cs.key=0,Cs.keyEnd=0,Cs.value=0,Cs.valueEnd=0,Cs.textEnd=n.length}(n),P3(n,kg(n,0,Cs.textEnd))}(t);e>=0;e=P3(t,e))Aa(n,O3(t),!0)}function ql(n,t,e,i){const r=St(),s=gi(),o=bu(2);s.firstUpdatePass&&N3(s,n,o,i),t!==In&&_o(r,o,t)&&F3(s,s.data[Uo()],r,r[11],n,r[o+1]=function NK(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=bi(Da(n)))),n}(t,e),i,o)}function Kl(n,t,e,i){const r=gi(),s=bu(2);r.firstUpdatePass&&N3(r,null,s,i);const o=St();if(e!==In&&_o(o,s,e)){const a=r.data[Uo()];if(L3(a,i)&&!D3(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Qp(l,e||"")),rM(r,a,o,e,i)}else!function DK(n,t,e,i,r,s,o,a){r===In&&(r=Vi);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const v=l<r.length?r[l+1]:void 0,E=c<s.length?s[c+1]:void 0;let A,I=null;u===d?(l+=2,c+=2,v!==E&&(I=d,A=E)):null===d||null!==u&&u<d?(l+=2,I=u):(c+=2,I=d,A=E),null!==I&&F3(n,t,e,i,I,A,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function RK(n,t,e){if(null==e||""===e)return Vi;const i=[],r=Da(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function D3(n,t){return t>=n.expandoStartIndex}function N3(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Uo()],o=D3(n,e);L3(s,i)&&null===t&&!o&&(t=!1),t=function PK(n,t,e,i){const r=function UT(n){const t=xn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=fv(e=aM(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=aM(r,n,t,e,i),null===s){let l=function xK(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Su(i))return n[Yl(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=aM(null,n,t,l[1],i),l=fv(l,t.attrs,i),function IK(n,t,e,i){n[Yl(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function AK(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=fv(i,n[s].hostAttrs,e);return fv(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function vK(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Yl(o),l=Su(o);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||pg(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const v=Yl(n[a+1]);n[i+1]=kb(v,a),0!==v&&(n[v+1]=ww(n[v+1],i)),n[a+1]=function NX(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=kb(a,0),0!==a&&(n[a+1]=ww(n[a+1],i)),a=i;else n[i+1]=kb(l,0),0===a?a=i:n[l+1]=ww(n[l+1],i),l=i;c&&(n[i+1]=Tw(n[i+1])),M3(n,u,i,!0),M3(n,u,i,!1),function yK(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&pg(s,t)>=0&&(e[i+1]=Mw(e[i+1]))}(t,u,n,i,s),o=kb(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function aM(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=fv(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function fv(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Aa(n,o,!!e||t[++s]))}return void 0===n?null:n}function F3(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Wb(function tk(n){return 1==(1&n)}(c)?B3(l,t,e,r,Su(c),o):void 0)||(Wb(s)||function ek(n){return 2==(2&n)}(c)&&(s=B3(l,null,e,r,a,o)),function D$(n,t,e,i,r){const s=Wr(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Ra.DashCase;if(null==r)s?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Ra.Important),s?n.setStyle(e,i,r,o):e.style.setProperty(i,r,a?"important":"")}}}(i,o,ub(Uo(),e),r,s))}function B3(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let v=e[r+1];v===In&&(v=d?Vi:void 0);let E=d?KT(v,i):u===i?v:void 0;if(c&&!Wb(E)&&(E=KT(l,i)),Wb(E)&&(a=E,o))return a;const I=n[r+1];r=o?Yl(I):Su(I)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=KT(l,i))}return a}function Wb(n){return void 0!==n}function L3(n,t){return 0!=(n.flags&(t?16:32))}function j(n,t=""){const e=St(),i=gi(),r=n+20,s=i.firstCreatePass?yg(i,r,1,t,null):i.data[r],o=e[r]=function aw(n,t){return Wr(n)?n.createText(t):n.createTextNode(t)}(e[11],t);xb(i,e,o,s),Oc(s,!1)}function We(n){return re("",n,""),We}function re(n,t,e){const i=St(),r=Mg(i,n,t,e);return r!==In&&Eu(i,Uo(),r),re}function ui(n,t,e,i,r){const s=St(),o=function Og(n,t,e,i,r,s){const a=Lh(n,yu(),e,r);return bu(2),a?t+Pn(e)+i+Pn(r)+s:In}(s,n,t,e,i,r);return o!==In&&Eu(s,Uo(),o),ui}function Fg(n,t,e,i,r,s,o){const a=St(),l=function Pg(n,t,e,i,r,s,o,a){const c=Hb(n,yu(),e,r,o);return bu(3),c?t+Pn(e)+i+Pn(r)+s+Pn(o)+a:In}(a,n,t,e,i,r,s,o);return l!==In&&Eu(a,Uo(),l),Fg}function pv(n,t,e){Kl(Aa,kc,Mg(St(),n,t,e),!0)}const jh=void 0;var ZK=["en",[["a","p"],["AM","PM"],jh],[["AM","PM"],jh,jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jh,"{1} 'at' {0}",jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QK(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Bg={};function jo(n){const t=function tJ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=nF(t);if(e)return e;const i=t.split("-")[0];if(e=nF(i),e)return e;if("en"===i)return ZK;throw new Error(`Missing locale data for the locale "${n}".`)}function nF(n){return n in Bg||(Bg[n]=Fi.ng&&Fi.ng.common&&Fi.ng.common.locales&&Fi.ng.common.locales[n]),Bg[n]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const Yb="en-US";let iF=Yb;function dM(n,t,e,i,r){if(n=Fn(n),Array.isArray(n))for(let s=0;s<n.length;s++)dM(n[s],t,e,i,r);else{const s=gi(),o=St();let a=Cg(n)?n:Fn(n.provide),l=Nk(n);const c=bs(),u=1048575&c.providerIndexes,d=c.directiveStart,v=c.providerIndexes>>20;if(Cg(n)||!n.multi){const E=new jm(l,r,J),I=fM(a,t,r?u:u+v,d);-1===I?(Sb(Vm(c,o),s,a),hM(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(E),o.push(E)):(e[I]=E,o[I]=E)}else{const E=fM(a,t,u+v,d),I=fM(a,t,u,u+v),A=E>=0&&e[E],N=I>=0&&e[I];if(r&&!N||!r&&!A){Sb(Vm(c,o),s,a);const k=function JJ(n,t,e,i,r){const s=new jm(n,e,J);return s.multi=[],s.index=t,s.componentProviders=0,OF(s,r,i&&!e),s}(r?KJ:qJ,e.length,r,i,l);!r&&N&&(e[I].providerFactory=k),hM(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(k),o.push(k)}else hM(s,n,E>-1?E:I,OF(e[r?I:E],l,!r&&i));!r&&i&&N&&e[I].componentProviders++}}}function hM(n,t,e,i){const r=Cg(t),s=function wq(n){return!!n.useClass}(t);if(r||s){const l=(s?Fn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function OF(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function fM(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function qJ(n,t,e,i){return pM(this.multi,[])}function KJ(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=zm(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),pM(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],pM(r,s);return s}function pM(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ni(n,t=[]){return e=>{e.providersResolver=(i,r)=>function XJ(n,t,e){const i=gi();if(i.firstCreatePass){const r=zl(n);dM(e,i.data,i.blueprint,r,!0),dM(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class PF{}class eQ{resolveComponentFactory(t){throw function ZJ(n){const t=Error(`No component factory found for ${bi(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ug=(()=>{class n{}return n.NULL=new eQ,n})();function tQ(){return Gg(bs(),St())}function Gg(n,t){return new Si(xa(n,t))}let Si=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=tQ,n})();function nQ(n){return n instanceof Si?n.nativeElement:n}class jg{}let Ho=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function rQ(){const n=St(),e=Ia(bs().index,n);return function iQ(n){return n[11]}(Mc(e)?e:n)}(),n})(),sQ=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>null}),n})();class yv{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Jb=new yv("13.4.0"),gM={};function Qb(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(as(s)),Vl(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Qb(l[1],l,c,i)}const o=e.type;if(8&o)Qb(n,t,e.child,i);else if(32&o){const a=rw(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=IN(t,e);if(Array.isArray(a))i.push(...a);else{const l=ev(t[16]);Qb(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class bv{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Qb(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Vl(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(cw(t,i),Cb(e,i))}this._attachedToViewContainer=!1}SN(this._lView[1],this._lView)}onDestroy(t){gk(this._lView[1],this._lView,null,t)}markForCheck(){jw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Vw(n,t,e){const i=t[10];i.begin&&i.begin();try{Sg(n,t,n.template,e)}catch(r){throw Pk(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Wt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function C$(n,t){tv(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Wt(902,"");this._appRef=t}}class oQ extends bv{constructor(t){super(t),this._view=t}detectChanges(){Tk(this._view)}checkNoChanges(){}get context(){return null}}class IF extends Ug{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ks(t);return new _M(e,this.ngModule)}}function AF(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class _M extends PF{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function RX(n){return n.map(AX).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return AF(this.componentDef.inputs)}get outputs(){return AF(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function lQ(n,t){return{get:(e,i,r)=>{const s=n.get(e,gM,r);return s!==gM||i===gM?s:t.get(e,i,r)}}}(t,r.injector):t,o=s.get(jg,ED),a=s.get(sQ,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function pk(n,t,e){if(Wr(n))return n.selectRootElement(t,e===jl.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):lw(o.createRenderer(null,this.componentDef),c,function aQ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),d=this.componentDef.onPush?576:528,v=function Yk(n,t){return{components:[],scheduler:n||yX,clean:_q,playerHandler:t||null,flags:0}}(),E=Lb(0,null,null,1,0,null,null,null,null,null),I=sv(null,E,v,d,null,null,o,l,a,s);let A,N;hb(I);try{const k=function zk(n,t,e,i,r,s){const o=e[1];e[20]=n;const l=yg(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Gb(l,c,!0),null!==n&&(mb(r,n,c),null!==l.classes&&gw(r,n,l.classes),null!==l.styles&&RN(r,n,l.styles)));const u=i.createRenderer(n,t),d=sv(e,hk(t),null,t.onPush?64:16,e[20],l,i,u,s||null,null);return o.firstCreatePass&&(Sb(Vm(l,e),o,t.type),bk(o,l),Sk(l,e.length,1)),Ub(e,d),e[20]=d}(u,this.componentDef,I,o,l);if(u)if(i)mb(l,u,["ng-version",Jb.full]);else{const{attrs:L,classes:W}=function DX(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Wl(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);L&&mb(l,u,L),W&&W.length>0&&gw(l,u,W.join(" "))}if(N=DT(E,20),void 0!==e){const L=N.projection=[];for(let W=0;W<this.ngContentSelectors.length;W++){const Z=e[W];L.push(null!=Z?Array.from(Z):null)}}A=function Wk(n,t,e,i,r){const s=e[1],o=function eq(n,t,e){const i=bs();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ek(n,i,t,bg(n,t,1,null),e));const r=zm(t,n,i.directiveStart,i);go(r,t);const s=xa(i,t);return s&&go(s,t),r}(s,e,t);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,t)),t.contentQueries){const l=bs();t.contentQueries(1,o,l.directiveStart)}const a=bs();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(yd(a.index),vk(e[1],a,0,a.directiveStart,a.directiveEnd,t),yk(t,o)),o}(k,this.componentDef,I,v,[Fq]),ov(E,I,null)}finally{fb()}return new uQ(this.componentType,A,Gg(N,I),I,N)}}class uQ extends class QJ{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new oQ(r),this.componentType=t}get injector(){return new cg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Tu{}class RF{}const Hg=new Map;class kF extends Tu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new IF(this);const i=sl(t);this._bootstrapComponents=Ac(i.bootstrap),this._r3Injector=Dk(t,e,[{provide:Tu,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver}],bi(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Es.THROW_IF_NOT_FOUND,i=Tn.Default){return t===Es||t===Tu||t===Ww?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mM extends RF{constructor(t){super(),this.moduleType=t,null!==sl(t)&&function hQ(n){const t=new Set;!function e(i){const r=sl(i,!0),s=r.id;null!==s&&(function DF(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${bi(t)} vs ${bi(t.name)}`)}(s,Hg.get(s),i),Hg.set(s,i));const o=Ac(r.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new kF(this.moduleType,t)}}function Bi(n,t,e,i){return FF(St(),Lo(),n,t,e,i)}function ka(n,t,e,i,r){return BF(St(),Lo(),n,t,e,i,r)}function Sv(n,t,e,i,r,s){return function LF(n,t,e,i,r,s,o,a){const l=t+e;return Hb(n,l,r,s,o)?Dc(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Ev(n,l+3)}(St(),Lo(),n,t,e,i,r,s)}function vM(n,t,e,i,r,s,o){return function UF(n,t,e,i,r,s,o,a,l){const c=t+e;return function cl(n,t,e,i,r,s){const o=Lh(n,t,e,i);return Lh(n,t+2,r,s)||o}(n,c,r,s,o,a)?Dc(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Ev(n,c+4)}(St(),Lo(),n,t,e,i,r,s,o)}function Ev(n,t){const e=n[t];return e===In?void 0:e}function FF(n,t,e,i,r,s){const o=t+e;return _o(n,o,r)?Dc(n,o+1,s?i.call(s,r):i(r)):Ev(n,o+1)}function BF(n,t,e,i,r,s,o){const a=t+e;return Lh(n,a,r,s)?Dc(n,a+2,o?i.call(o,r,s):i(r,s)):Ev(n,a+2)}function $(n,t){const e=gi();let i;const r=n+20;e.firstCreatePass?(i=function yQ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Dh(i.type)),o=gd(J);try{const a=yb(!1),l=s();return yb(a),function Xq(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,St(),r,l),l}finally{gd(o)}}function K(n,t,e){const i=n+20,r=St(),s=sg(r,i);return Cv(r,i)?FF(r,Lo(),t,s.transform,e,s):s.transform(e)}function Yt(n,t,e,i){const r=n+20,s=St(),o=sg(s,r);return Cv(s,r)?BF(s,Lo(),t,o.transform,e,i,o):o.transform(e,i)}function Cv(n,t){return n[1].data[t].pure}function yM(n){return t=>{setTimeout(n,void 0,t)}}const en=class CQ extends $e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,s,o;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=yM(l),a&&(a=yM(a)),c&&(c=yM(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof g&&t.add(u),u}};function TQ(){return this._results[Tg()]()}class bM{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Tg(),i=bM.prototype;i[e]||(i[e]=TQ)}get changes(){return this._changes||(this._changes=new en)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=ll(t);(this._changesDetected=!function UY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tr=(()=>{class n{}return n.__NG_ELEMENT_ID__=OQ,n})();const wQ=Tr,MQ=class extends wQ{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=sv(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),ov(e,i,t),new bv(i)}};function OQ(){return Zb(bs(),St())}function Zb(n,t){return 4&n.type?new MQ(t,n,Gg(n,t)):null}let ul=(()=>{class n{}return n.__NG_ELEMENT_ID__=PQ,n})();function PQ(){return VF(bs(),St())}const xQ=ul,jF=class extends xQ{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Gg(this._hostTNode,this._hostLView)}get injector(){return new cg(this._hostTNode,this._hostLView)}get parentInjector(){const t=bb(this._hostTNode,this._hostLView);if(GD(t)){const e=lg(t,this._hostLView),i=ag(t);return new cg(e[1].data[i+8],e)}return new cg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=HF(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const o=t&&!function Ym(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?t:new _M(Ks(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const v=(o?c:this.parentInjector).get(Tu,null);v&&(s=v)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function aY(n){return Vl(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],v=new jF(d,d[6],d[3]);v.detach(v.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function w$(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],KD(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function M$(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,o,s);const a=hw(s,o),l=i[11],c=Pb(l,o[7]);return null!==c&&function E$(n,t,e,i,r,s){i[0]=r,i[6]=t,tv(n,i,e,1,r,s)}(r,o[6],l,i,c,a),t.attachToViewContainerRef(),KD(SM(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=HF(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=cw(this._lContainer,e);i&&(Cb(SM(this._lContainer),e),SN(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=cw(this._lContainer,e);return i&&null!=Cb(SM(this._lContainer),e)?new bv(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function HF(n){return n[8]}function SM(n){return n[8]||(n[8]=[])}function VF(n,t){let e;const i=t[n.index];if(Vl(i))e=i;else{let r;if(8&n.type)r=as(i);else{const s=t[11];r=s.createComment("");const o=xa(n,t);kh(s,Pb(s,o),r,function I$(n,t){return Wr(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=Ck(i,t,r,n),Ub(t,e)}return new jF(e,n,t)}class EM{constructor(t){this.queryList=t,this.matches=null}clone(){return new EM(this.queryList)}setDirty(){this.queryList.setDirty()}}class CM{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new CM(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==XF(t,e).matches&&this.queries[e].setDirty()}}class zF{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class TM{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new TM(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wM{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wM(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,RQ(e,s)),this.matchTNodeWithReadOption(t,e,Eb(e,t,s,!1,!1))}else i===Tr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Eb(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Si||r===ul||r===Tr&&4&e.type)this.addMatch(e.index,-2);else{const s=Eb(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function RQ(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function NQ(n,t,e,i){return-1===e?function DQ(n,t){return 11&n.type?Gg(n,t):4&n.type?Zb(n,t):null}(t,n):-2===e?function kQ(n,t,e){return e===Si?Gg(t,n):e===Tr?Zb(t,n):e===ul?VF(t,n):void 0}(n,t,i):zm(n,n[1],e,t)}function WF(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:NQ(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function MM(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=WF(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=10;d<u.length;d++){const v=u[d];v[17]===v[3]&&MM(v[1],v,c,i)}if(null!==u[9]){const d=u[9];for(let v=0;v<d.length;v++){const E=d[v];MM(E[1],E,c,i)}}}}}return i}function Vn(n){const t=St(),e=gi(),i=ID();GT(i+1);const r=XF(e,i);if(n.dirty&&CD(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?MM(e,t,i,[]):WF(e,t,r,i);n.reset(s,nQ),n.notifyOnChanges()}return!0}return!1}function Ts(n,t,e){const i=gi();i.firstCreatePass&&($F(i,new zF(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),YF(i,St(),t)}function Jr(n,t,e,i){const r=gi();if(r.firstCreatePass){const s=bs();$F(r,new zF(t,e,i),s.index),function BQ(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}YF(r,St(),e)}function zn(){return function FQ(n,t){return n[19].queries[t].queryList}(St(),ID())}function YF(n,t,e){const i=new bM(4==(4&e));gk(n,t,i,i.destroy),null===t[19]&&(t[19]=new CM),t[19].queries.push(new EM(i))}function $F(n,t,e){null===n.queries&&(n.queries=new TM),n.queries.track(new wM(t,e))}function XF(n,t){return n.queries.getByIndex(t)}function mo(n,t){return Zb(n,t)}function n1(...n){}const r1=new Kt("Application Initializer");let RM=(()=>{class n{constructor(e){this.appInits=e,this.resolve=n1,this.reject=n1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(uv(s))e.push(s);else if(sM(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(He(r1,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wv=new Kt("AppId",{providedIn:"root",factory:function dB(){return`${DM()}${DM()}${DM()}`}});function DM(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hB=new Kt("Platform Initializer"),zg=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fB=new Kt("appBootstrapListener");let eZ=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wd=new Kt("LocaleId",{providedIn:"root",factory:()=>rN(wd,Tn.Optional|Tn.SkipSelf)||function tZ(){return"undefined"!=typeof $localize&&$localize.locale||Yb}()});class iZ{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let pB=(()=>{class n{compileModuleSync(e){return new mM(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ac(sl(e).declarations).reduce((o,a)=>{const l=Ks(a);return l&&o.push(new _M(l)),o},[]);return new iZ(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sZ=(()=>Promise.resolve(0))();function NM(n){"undefined"==typeof Zone?sZ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Wn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function oZ(){let n=Fi.requestAnimationFrame,t=Fi.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function cZ(n){const t=()=>{!function lZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Fi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,FM(n),n.isCheckStableRunning=!0,kM(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),FM(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return gB(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),_B(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return gB(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),_B(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,FM(n),kM(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,aZ,n1,n1);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const aZ={};function kM(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FM(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _B(n){n._nesting--,kM(n)}class uZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let BM=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wn.assertNotInAngularZone(),NM(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())NM(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),dZ=(()=>{class n{constructor(){this._applications=new Map,LM.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return LM.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class hZ{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let LM=new hZ,Hh=null;const mB=new Kt("AllowMultipleToken"),vB=new Kt("PlatformOnDestroy");class yB{constructor(t,e){this.name=t,this.token=e}}function bB(n,t,e=[]){const i=`Platform: ${t}`,r=new Kt(i);return(s=[])=>{let o=UM();if(!o||o.injector.get(mB,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function _Z(n){if(Hh&&!Hh.get(mB,!1))throw new Wt(400,"");Hh=n;const t=n.get(SB),e=n.get(hB,null);e&&e.forEach(i=>i())}(function vZ(n=[],t){return Es.create({name:t,providers:[{provide:Yw,useValue:"platform"},{provide:vB,useValue:()=>Hh=null},...n]})}(a,i))}return function mZ(n){const t=UM();if(!t)throw new Wt(401,"");return t}()}}function UM(){var n;return null!==(n=null==Hh?void 0:Hh.get(SB))&&void 0!==n?n:null}let SB=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function yZ(n,t){let e;return e="noop"===n?new uZ:("zone.js"===n?void 0:n)||new Wn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Wn,useValue:a}];return a.run(()=>{const c=Es.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(mg,null);if(!d)throw new Wt(402,"");return a.runOutsideAngular(()=>{const v=a.onError.subscribe({next:E=>{d.handleError(E)}});u.onDestroy(()=>{GM(this._modules,u),v.unsubscribe()})}),function bZ(n,t,e){try{const i=e();return uv(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const v=u.injector.get(RM);return v.runInitializers(),v.donePromise.then(()=>(function sJ(n){Oa(n,"Expected localeId to be defined"),"string"==typeof n&&(iF=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(wd,Yb)||Yb),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=EB({},i);return function pZ(n,t,e){const i=new mM(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(s1);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Wt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Wt(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(vB,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(He(Es))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function EB(n,t){return Array.isArray(t)?t.reduce(EB,n):Object.assign(Object.assign({},n),t)}let s1=(()=>{class n{constructor(e,i,r,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new fe(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new fe(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Wn.assertNotInAngularZone(),NM(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Wn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function Ai(...n){const t=wa(n),e=function Sn(n,t){return"number"==typeof bn(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Ot(i[0]):ys(e)(Jn(i,t)):ft}(o,a.pipe(Fo()))}bootstrap(e,i){if(!this._initStatus.done)throw new Wt(405,"");let r;r=e instanceof PF?e:this._injector.get(Ug).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function gZ(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Tu),a=r.create(Es.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(BM,null),u=c&&a.injector.get(dZ);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),GM(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Wt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;GM(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fB,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(He(Wn),He(Es),He(mg),He(RM))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let TB=!0,En=(()=>{class n{}return n.__NG_ELEMENT_ID__=CZ,n})();function CZ(n){return function TZ(n,t,e){if(lb(n)&&!e){const i=Ia(n.index,t);return new bv(i,i)}return 47&n.type?new bv(t[16],t):null}(bs(),St(),16==(16&n))}class xB{constructor(){}supports(t){return lv(t)}create(t){return new IZ(t)}}const xZ=(n,t)=>t;class IZ{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xZ}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<AB(i,r,s)?e:i,a=AB(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let v=0;v<c;v++){const E=v<s.length?s[v]:s[v]=0,I=E+v;u<=I&&I<c&&(s[v]=E+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!lv(t))throw new Wt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function Yq(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Tg()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new AZ(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new IB),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IB),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class AZ{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RZ{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class IB{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new RZ,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AB(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class RB{constructor(){}supports(t){return t instanceof Map||Qw(t)}create(){return new DZ}}class DZ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qw(t)))throw new Wt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new NZ(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class NZ{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DB(){return new Mv([new xB])}let Mv=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||DB()),deps:[[n,new Jm,new Sd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Wt(901,"")}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:DB}),n})();function NB(){return new Ov([new RB])}let Ov=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||NB()),deps:[[n,new Jm,new Sd]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Wt(901,"")}}return n.\u0275prov=vt({token:n,providedIn:"root",factory:NB}),n})();const BZ=bB(null,"core",[]);let LZ=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(He(s1))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),l1=null;function Fc(){return l1}const ur=new Kt("DocumentToken");let zh=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return function HZ(){return He(kB)}()},providedIn:"platform"}),n})();const VZ=new Kt("Location Initialized");let kB=(()=>{class n extends zh{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fc().getBaseHref(this._doc)}onPopState(e){const i=Fc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Fc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){FB()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){FB()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:function(){return function zZ(){return new kB(He(ur))}()},providedIn:"platform"}),n})();function FB(){return!!window.history.pushState}function WM(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function BB(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function wu(n){return n&&"?"!==n[0]?"?"+n:n}let Wg=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(){return function WZ(n){const t=He(ur).location;return new LB(He(zh),t&&t.origin||"")}()},providedIn:"root"}),n})();const YM=new Kt("appBaseHref");let LB=(()=>{class n extends Wg{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return WM(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+wu(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+wu(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+wu(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(He(zh),He(YM,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),YZ=(()=>{class n extends Wg{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=WM(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+wu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+wu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(He(zh),He(YM,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),$M=(()=>{class n{constructor(e,i){this._subject=new en,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=BB(UB(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+wu(i))}normalize(e){return n.stripTrailingSlash(function XZ(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,UB(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wu(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wu(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=wu,n.joinWithSlash=WM,n.stripTrailingSlash=BB,n.\u0275fac=function(e){return new(e||n)(He(Wg),He(zh))},n.\u0275prov=vt({token:n,factory:function(){return function $Z(){return new $M(He(Wg),He(zh))}()},providedIn:"root"}),n})();function UB(n){return n.replace(/\/index.html$/,"")}var da=(()=>((da=da||{})[da.Decimal=0]="Decimal",da[da.Percent=1]="Percent",da[da.Currency=2]="Currency",da[da.Scientific=3]="Scientific",da))(),Qr=(()=>((Qr=Qr||{})[Qr.Format=0]="Format",Qr[Qr.Standalone=1]="Standalone",Qr))(),Qn=(()=>((Qn=Qn||{})[Qn.Narrow=0]="Narrow",Qn[Qn.Abbreviated=1]="Abbreviated",Qn[Qn.Wide=2]="Wide",Qn[Qn.Short=3]="Short",Qn))(),wr=(()=>((wr=wr||{})[wr.Short=0]="Short",wr[wr.Medium=1]="Medium",wr[wr.Long=2]="Long",wr[wr.Full=3]="Full",wr))(),un=(()=>((un=un||{})[un.Decimal=0]="Decimal",un[un.Group=1]="Group",un[un.List=2]="List",un[un.PercentSign=3]="PercentSign",un[un.PlusSign=4]="PlusSign",un[un.MinusSign=5]="MinusSign",un[un.Exponential=6]="Exponential",un[un.SuperscriptingExponent=7]="SuperscriptingExponent",un[un.PerMille=8]="PerMille",un[un.Infinity=9]="Infinity",un[un.NaN=10]="NaN",un[un.TimeSeparator=11]="TimeSeparator",un[un.CurrencyDecimal=12]="CurrencyDecimal",un[un.CurrencyGroup=13]="CurrencyGroup",un))();function c1(n,t){return hl(jo(n)[Ht.DateFormat],t)}function u1(n,t){return hl(jo(n)[Ht.TimeFormat],t)}function d1(n,t){return hl(jo(n)[Ht.DateTimeFormat],t)}function dl(n,t){const e=jo(n),i=e[Ht.NumberSymbols][t];if(void 0===i){if(t===un.CurrencyDecimal)return e[Ht.NumberSymbols][un.Decimal];if(t===un.CurrencyGroup)return e[Ht.NumberSymbols][un.Group]}return i}function jB(n){if(!n[Ht.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ht.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hl(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function qM(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const aee=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pv={},lee=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ws=(()=>((ws=ws||{})[ws.Short=0]="Short",ws[ws.ShortGMT=1]="ShortGMT",ws[ws.Long=2]="Long",ws[ws.Extended=3]="Extended",ws))(),_n=(()=>((_n=_n||{})[_n.FullYear=0]="FullYear",_n[_n.Month=1]="Month",_n[_n.Date=2]="Date",_n[_n.Hours=3]="Hours",_n[_n.Minutes=4]="Minutes",_n[_n.Seconds=5]="Seconds",_n[_n.FractionalSeconds=6]="FractionalSeconds",_n[_n.Day=7]="Day",_n))(),Bn=(()=>((Bn=Bn||{})[Bn.DayPeriods=0]="DayPeriods",Bn[Bn.Days=1]="Days",Bn[Bn.Months=2]="Months",Bn[Bn.Eras=3]="Eras",Bn))();function cee(n,t,e,i){let r=function vee(n){if(zB(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return h1(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(aee))return function yee(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!zB(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Mu(e,t)||t;let a,o=[];for(;t;){if(a=lee.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=VB(i,l),r=function mee(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function _ee(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(VB(t,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function gee(n){if(JM[n])return JM[n];let t;switch(n){case"G":case"GG":case"GGG":t=tr(Bn.Eras,Qn.Abbreviated);break;case"GGGG":t=tr(Bn.Eras,Qn.Wide);break;case"GGGGG":t=tr(Bn.Eras,Qn.Narrow);break;case"y":t=cs(_n.FullYear,1,0,!1,!0);break;case"yy":t=cs(_n.FullYear,2,0,!0,!0);break;case"yyy":t=cs(_n.FullYear,3,0,!1,!0);break;case"yyyy":t=cs(_n.FullYear,4,0,!1,!0);break;case"Y":t=_1(1);break;case"YY":t=_1(2,!0);break;case"YYY":t=_1(3);break;case"YYYY":t=_1(4);break;case"M":case"L":t=cs(_n.Month,1,1);break;case"MM":case"LL":t=cs(_n.Month,2,1);break;case"MMM":t=tr(Bn.Months,Qn.Abbreviated);break;case"MMMM":t=tr(Bn.Months,Qn.Wide);break;case"MMMMM":t=tr(Bn.Months,Qn.Narrow);break;case"LLL":t=tr(Bn.Months,Qn.Abbreviated,Qr.Standalone);break;case"LLLL":t=tr(Bn.Months,Qn.Wide,Qr.Standalone);break;case"LLLLL":t=tr(Bn.Months,Qn.Narrow,Qr.Standalone);break;case"w":t=KM(1);break;case"ww":t=KM(2);break;case"W":t=KM(1,!0);break;case"d":t=cs(_n.Date,1);break;case"dd":t=cs(_n.Date,2);break;case"c":case"cc":t=cs(_n.Day,1);break;case"ccc":t=tr(Bn.Days,Qn.Abbreviated,Qr.Standalone);break;case"cccc":t=tr(Bn.Days,Qn.Wide,Qr.Standalone);break;case"ccccc":t=tr(Bn.Days,Qn.Narrow,Qr.Standalone);break;case"cccccc":t=tr(Bn.Days,Qn.Short,Qr.Standalone);break;case"E":case"EE":case"EEE":t=tr(Bn.Days,Qn.Abbreviated);break;case"EEEE":t=tr(Bn.Days,Qn.Wide);break;case"EEEEE":t=tr(Bn.Days,Qn.Narrow);break;case"EEEEEE":t=tr(Bn.Days,Qn.Short);break;case"a":case"aa":case"aaa":t=tr(Bn.DayPeriods,Qn.Abbreviated);break;case"aaaa":t=tr(Bn.DayPeriods,Qn.Wide);break;case"aaaaa":t=tr(Bn.DayPeriods,Qn.Narrow);break;case"b":case"bb":case"bbb":t=tr(Bn.DayPeriods,Qn.Abbreviated,Qr.Standalone,!0);break;case"bbbb":t=tr(Bn.DayPeriods,Qn.Wide,Qr.Standalone,!0);break;case"bbbbb":t=tr(Bn.DayPeriods,Qn.Narrow,Qr.Standalone,!0);break;case"B":case"BB":case"BBB":t=tr(Bn.DayPeriods,Qn.Abbreviated,Qr.Format,!0);break;case"BBBB":t=tr(Bn.DayPeriods,Qn.Wide,Qr.Format,!0);break;case"BBBBB":t=tr(Bn.DayPeriods,Qn.Narrow,Qr.Format,!0);break;case"h":t=cs(_n.Hours,1,-12);break;case"hh":t=cs(_n.Hours,2,-12);break;case"H":t=cs(_n.Hours,1);break;case"HH":t=cs(_n.Hours,2);break;case"m":t=cs(_n.Minutes,1);break;case"mm":t=cs(_n.Minutes,2);break;case"s":t=cs(_n.Seconds,1);break;case"ss":t=cs(_n.Seconds,2);break;case"S":t=cs(_n.FractionalSeconds,1);break;case"SS":t=cs(_n.FractionalSeconds,2);break;case"SSS":t=cs(_n.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=p1(ws.Short);break;case"ZZZZZ":t=p1(ws.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=p1(ws.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=p1(ws.Long);break;default:return null}return JM[n]=t,t}(u);c+=d?d(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function h1(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Mu(n,t){const e=function qZ(n){return jo(n)[Ht.LocaleId]}(n);if(Pv[e]=Pv[e]||{},Pv[e][t])return Pv[e][t];let i="";switch(t){case"shortDate":i=c1(n,wr.Short);break;case"mediumDate":i=c1(n,wr.Medium);break;case"longDate":i=c1(n,wr.Long);break;case"fullDate":i=c1(n,wr.Full);break;case"shortTime":i=u1(n,wr.Short);break;case"mediumTime":i=u1(n,wr.Medium);break;case"longTime":i=u1(n,wr.Long);break;case"fullTime":i=u1(n,wr.Full);break;case"short":const r=Mu(n,"shortTime"),s=Mu(n,"shortDate");i=f1(d1(n,wr.Short),[r,s]);break;case"medium":const o=Mu(n,"mediumTime"),a=Mu(n,"mediumDate");i=f1(d1(n,wr.Medium),[o,a]);break;case"long":const l=Mu(n,"longTime"),c=Mu(n,"longDate");i=f1(d1(n,wr.Long),[l,c]);break;case"full":const u=Mu(n,"fullTime"),d=Mu(n,"fullDate");i=f1(d1(n,wr.Full),[u,d])}return i&&(Pv[e][t]=i),i}function f1(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Jl(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),s+o}function cs(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function dee(n,t){switch(n){case _n.FullYear:return t.getFullYear();case _n.Month:return t.getMonth();case _n.Date:return t.getDate();case _n.Hours:return t.getHours();case _n.Minutes:return t.getMinutes();case _n.Seconds:return t.getSeconds();case _n.FractionalSeconds:return t.getMilliseconds();case _n.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===_n.Hours)0===a&&-12===e&&(a=12);else if(n===_n.FractionalSeconds)return function uee(n,t){return Jl(n,3).substr(0,t)}(a,t);const l=dl(o,un.MinusSign);return Jl(a,t,l,i,r)}}function tr(n,t,e=Qr.Format,i=!1){return function(r,s){return function hee(n,t,e,i,r,s){switch(e){case Bn.Months:return function QZ(n,t,e){const i=jo(n),s=hl([i[Ht.MonthsFormat],i[Ht.MonthsStandalone]],t);return hl(s,e)}(t,r,i)[n.getMonth()];case Bn.Days:return function JZ(n,t,e){const i=jo(n),s=hl([i[Ht.DaysFormat],i[Ht.DaysStandalone]],t);return hl(s,e)}(t,r,i)[n.getDay()];case Bn.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function nee(n){const t=jo(n);return jB(t),(t[Ht.ExtraData][2]||[]).map(i=>"string"==typeof i?qM(i):[qM(i[0]),qM(i[1])])}(t),u=function iee(n,t,e){const i=jo(n);jB(i);const s=hl([i[Ht.ExtraData][0],i[Ht.ExtraData][1]],t)||[];return hl(s,e)||[]}(t,r,i),d=c.findIndex(v=>{if(Array.isArray(v)){const[E,I]=v,A=o>=E.hours&&a>=E.minutes,N=o<I.hours||o===I.hours&&a<I.minutes;if(E.hours<I.hours){if(A&&N)return!0}else if(A||N)return!0}else if(v.hours===o&&v.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function KZ(n,t,e){const i=jo(n),s=hl([i[Ht.DayPeriodsFormat],i[Ht.DayPeriodsStandalone]],t);return hl(s,e)}(t,r,i)[o<12?0:1];case Bn.Eras:return function ZZ(n,t){return hl(jo(n)[Ht.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function p1(n){return function(t,e,i){const r=-1*i,s=dl(e,un.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ws.Short:return(r>=0?"+":"")+Jl(o,2,s)+Jl(Math.abs(r%60),2,s);case ws.ShortGMT:return"GMT"+(r>=0?"+":"")+Jl(o,1,s);case ws.Long:return"GMT"+(r>=0?"+":"")+Jl(o,2,s)+":"+Jl(Math.abs(r%60),2,s);case ws.Extended:return 0===i?"Z":(r>=0?"+":"")+Jl(o,2,s)+":"+Jl(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function HB(n){return h1(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function KM(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=HB(e),o=function pee(n){const t=h1(n,0,1).getDay();return h1(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Jl(r,n,dl(i,un.MinusSign))}}function _1(n,t=!1){return function(e,i){return Jl(HB(e).getFullYear(),n,dl(i,un.MinusSign),t)}}const JM={};function VB(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function zB(n){return n instanceof Date&&!isNaN(n.valueOf())}const bee=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wh(n,t,e){return function ZM(n,t,e,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function Oee(n){let i,r,s,o,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);o&&(c=function Mee(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,d=t.minFrac,v=t.maxFrac;if(s){const L=s.match(bee);if(null===L)throw new Error(`${s} is not a valid digit info`);const W=L[1],Z=L[3],ee=L[5];null!=W&&(u=tO(W)),null!=Z&&(d=tO(Z)),null!=ee?v=tO(ee):null!=Z&&d>v&&(v=d)}!function Pee(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=t+n.integerLen,u=i.reduceRight(function(d,v,E,I){return I[E]=(v+=d)<10?v:v-10,l&&(0===I[E]&&E>=c?I.pop():l=!1),v>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,v);let E=c.digits,I=c.integerLen;const A=c.exponent;let N=[];for(l=E.every(L=>!L);I<u;I++)E.unshift(0);for(;I<0;I++)E.unshift(0);I>0?N=E.splice(I,E.length):(N=E,E=[0]);const k=[];for(E.length>=t.lgSize&&k.unshift(E.splice(-t.lgSize,E.length).join(""));E.length>t.gSize;)k.unshift(E.splice(-t.gSize,E.length).join(""));E.length&&k.unshift(E.join("")),a=k.join(dl(e,i)),N.length&&(a+=dl(e,r)+N.join("")),A&&(a+=dl(e,un.Exponential)+"+"+A)}else a=dl(e,un.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function eO(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?e.minFrac=e.maxFrac=u+1:"#"===d?e.maxFrac=u+1:e.posSuf+=d}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-e.posPre.length-e.posSuf.length,d=s.indexOf("#");e.negPre=s.substr(0,d).replace(/'/g,""),e.negSuf=s.substr(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function XM(n,t){return jo(n)[Ht.NumberFormats][t]}(t,da.Decimal),dl(t,un.MinusSign)),t,un.Group,un.Decimal,e)}function tO(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function XB(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let vo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(lv(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bi(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(J(Mv),J(Ov),J(Si),J(Ho))},n.\u0275dir=Rt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ree{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ii=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ree(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),qB(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{qB(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(J(ul),J(Tr),J(Mv))},n.\u0275dir=Rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function qB(n,t){n.context.$implicit=t.item}let Lt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Dee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){KB("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){KB("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(J(ul),J(Tr))},n.\u0275dir=Rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dee{constructor(){this.$implicit=null,this.ngIf=null}}function KB(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${bi(t)}'.`)}const JB="browser";function Iv(n){return n===JB}class sO{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Bs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Rt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),yo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new sO(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(J(ul),J(Tr),J(Bs,9))},n.\u0275dir=Rt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ou=(()=>{class n{constructor(e,i,r){r._addDefault(new sO(e,i))}}return n.\u0275fac=function(e){return new(e||n)(J(ul),J(Tr),J(Bs,9))},n.\u0275dir=Rt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Yh=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(J(Si),J(Ov),J(Ho))},n.\u0275dir=Rt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Md=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(J(ul))},n.\u0275dir=Rt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Js]}),n})();function Ql(n,t){return new Wt(2100,"")}class cte{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ute{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const dte=new ute,hte=new cte;let bo=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(uv(e))return dte;if(p3(e))return hte;throw Ql()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(J(En,16))},n.\u0275pipe=fr({name:"async",type:n,pure:!1}),n})();const mte=new Kt("DATE_PIPE_DEFAULT_TIMEZONE");let Bc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var o;if(null==e||""===e||e!=e)return null;try{return cee(e,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw Ql()}}}return n.\u0275fac=function(e){return new(e||n)(J(wd,16),J(mte,24))},n.\u0275pipe=fr({name:"date",type:n,pure:!0}),n})(),Od=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function oO(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return Wh(function aO(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw Ql()}}}return n.\u0275fac=function(e){return new(e||n)(J(wd,16))},n.\u0275pipe=fr({name:"number",type:n,pure:!0}),n})();let rL=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Ql();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=fr({name:"slice",type:n,pure:!1}),n})(),Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),Mte=(()=>{class n{}return n.\u0275prov=vt({token:n,providedIn:"root",factory:()=>new Ote(He(ur),window)}),n})();class Ote{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Pte(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=sL(this.window.history)||sL(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function sL(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oL{}class lO extends class Ite extends class jZ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function GZ(n){l1||(l1=n)}(new lO)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ate(){return Rv=Rv||document.querySelector("base"),Rv?Rv.getAttribute("href"):null}();return null==e?null:function Rte(n){b1=b1||document.createElement("a"),b1.setAttribute("href",n);const t=b1.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Rv=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return XB(document.cookie,t)}}let b1,Rv=null;const aL=new Kt("TRANSITION_ID"),Nte=[{provide:r1,useFactory:function Dte(n,t,e){return()=>{e.get(RM).donePromise.then(()=>{const i=Fc(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[aL,ur,Es],multi:!0}];class cO{static init(){!function fZ(n){LM=n}(new cO)}addToWindow(t){Fi.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Fi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Fi.getAllAngularRootElements=()=>t.getAllRootElements(),Fi.frameworkStabilizers||(Fi.frameworkStabilizers=[]),Fi.frameworkStabilizers.push(i=>{const r=Fi.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?Fc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let kte=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const S1=new Kt("EventManagerPlugins");let E1=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(He(S1),He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class lL{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Fc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let cL=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Dv=(()=>{class n extends cL{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(uL),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uL))}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function uL(n){Fc().remove(n)}const uO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dO=/%COMP%/g;function C1(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?C1(n,r,e):(r=r.replace(dO,n),e.push(r))}return e}function fL(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let T1=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new hO(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case jl.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new jte(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case jl.ShadowDom:return new Hte(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=C1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(He(E1),He(Dv),He(wv))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class hO{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(uO[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=uO[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=uO[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ra.DashCase|Ra.Important)?t.style.setProperty(e,i,r&Ra.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ra.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fL(i)):this.eventManager.addEventListener(t,e,fL(i))}}class jte extends hO{constructor(t,e,i,r){super(t),this.component=i;const s=C1(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Lte(n){return"_ngcontent-%COMP%".replace(dO,n)}(r+"-"+i.id),this.hostAttr=function Ute(n){return"_nghost-%COMP%".replace(dO,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Hte extends hO{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=C1(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vte=(()=>{class n extends lL{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const gL=["alt","control","meta","shift"],Wte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yte={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $te=(()=>{class n extends lL{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fc().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(gL.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function Xte(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&_L.hasOwnProperty(t)&&(t=_L[t]))}return Wte[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gL.forEach(s=>{s!=r&&Yte[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const Qte=bB(BZ,"browser",[{provide:zg,useValue:JB},{provide:hB,useValue:function qte(){lO.makeCurrent(),cO.init()},multi:!0},{provide:ur,useFactory:function Jte(){return function iY(n){AT=n}(document),document},deps:[]}]),Zte=[{provide:Yw,useValue:"root"},{provide:mg,useFactory:function Kte(){return new mg},deps:[]},{provide:S1,useClass:Vte,multi:!0,deps:[ur,Wn,zg]},{provide:S1,useClass:$te,multi:!0,deps:[ur]},{provide:T1,useClass:T1,deps:[E1,Dv,wv]},{provide:jg,useExisting:T1},{provide:cL,useExisting:Dv},{provide:Dv,useClass:Dv,deps:[ur]},{provide:BM,useClass:BM,deps:[Wn]},{provide:E1,useClass:E1,deps:[S1,Wn]},{provide:oL,useClass:kte,deps:[]}];let mL=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:wv,useValue:e.appId},{provide:aL,useExisting:wv},Nte]}}}return n.\u0275fac=function(e){return new(e||n)(He(n,12))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:Zte,imports:[Pt,LZ]}),n})();"undefined"!=typeof window&&window;let pO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:function(e){let i=null;return i=e?new(e||n):He(bL),i},providedIn:"root"}),n})(),bL=(()=>{class n extends pO{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case er.NONE:return i;case er.HTML:return xc(i,"HTML")?Da(i):zN(this._doc,String(i)).toString();case er.STYLE:return xc(i,"Style")?Da(i):i;case er.SCRIPT:if(xc(i,"Script"))return Da(i);throw new Error("unsafe value used in a script context");case er.URL:return FN(i),xc(i,"URL")?Da(i):nv(String(i));case er.RESOURCE_URL:if(xc(i,"ResourceURL"))return Da(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function H$(n){return new B$(n)}(e)}bypassSecurityTrustStyle(e){return function V$(n){return new L$(n)}(e)}bypassSecurityTrustScript(e){return function z$(n){return new U$(n)}(e)}bypassSecurityTrustUrl(e){return function W$(n){return new G$(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Y$(n){return new j$(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:function(e){let i=null;return i=e?new e:function cne(n){return new bL(n.get(ur))}(He(Es)),i},providedIn:"root"}),n})();var sn=x(1446),Ms=x(5535),Lc=x(1090),une=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Yg{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Yg.id}constructor(t={}){this._options=t,Yg.prototype.__init.call(this)}setupOnce(t,e){var i=r=>{var s=e();if(s){var o=s.getIntegration(Yg);if(o){var a=s.getClient(),l=a?a.getOptions():{},c=function dne(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...une],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(o._options,l);return function hne(n,t){return t.ignoreInternal&&function mne(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,Ms.jH)(n)}`),!0):function fne(n,t){return!(!t||!t.length)&&function _ne(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:e=""}=n.exception.values&&n.exception.values[0]||{};return[`${e}`,`${t}: ${e}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error(`Cannot extract message for event ${(0,Ms.jH)(n)}`),[]}return[]}(n).some(e=>t.some(i=>(0,Lc.zC)(e,i)))}(n,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,Ms.jH)(n)}`),!0):function pne(n,t){if(!t||!t.length)return!1;var e=w1(n);return!!e&&t.some(i=>(0,Lc.zC)(e,i))}(n,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,Ms.jH)(n)}.\nUrl: ${w1(n)}`),!0):!function gne(n,t){if(!t||!t.length)return!0;var e=w1(n);return!e||t.some(i=>(0,Lc.zC)(e,i))}(n,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,Ms.jH)(n)}.\nUrl: ${w1(n)}`),!0)}(r,c)?null:r}}return r};i.id=this.name,t(i)}}function w1(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function vne(n=[]){for(let e=n.length-1;e>=0;e--){var t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error(`Cannot extract url for event ${(0,Ms.jH)(n)}`),null}}Yg.__initStatic();var Qs=x(7759);let SL;class Nv{constructor(){Nv.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Nv.id}setupOnce(){SL=Function.prototype.toString,Function.prototype.toString=function(...t){var e=(0,Qs.HK)(this)||this;return SL.apply(e,t)}}}Nv.__initStatic();var M1=x(383),Mr=x(9248),EL=[];function CL(n){return n.reduce((t,e)=>(t.every(i=>e.name!==i.name)&&t.push(e),t),[])}function yne(n){var t=n.defaultIntegrations&&[...n.defaultIntegrations]||[],e=n.integrations;let i=[...CL(t)];Array.isArray(e)?i=[...i.filter(o=>e.every(a=>a.name!==o.name)),...CL(e)]:"function"==typeof e&&(i=e(i),i=Array.isArray(i)?i:[i]);var r=i.map(o=>o.name),s="Debug";return-1!==r.indexOf(s)&&i.push(...i.splice(r.indexOf(s),1)),i}class So extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var Ene=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function O1(n,t=!1){const{host:e,path:i,pass:r,port:s,projectId:o,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function TL(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function wL(n){var t="string"==typeof n?function Tne(n){var t=Ene.exec(n);if(!t)throw new So(`Invalid Sentry Dsn: ${n}`);const[e,i,r="",s,o="",a]=t.slice(1);let l="",c=a;var u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){var d=c.match(/^\d+/);d&&(c=d[0])}return TL({host:s,pass:r,path:l,projectId:c,port:o,protocol:e,publicKey:i})}(n):TL(n);return function wne(n){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:e,protocol:i}=n;if(["protocol","publicKey","host","projectId"].forEach(s=>{if(!n[s])throw new So(`Invalid Sentry Dsn: ${s} missing`)}),!e.match(/^\d+$/))throw new So(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!function Cne(n){return"http"===n||"https"===n}(i))throw new So(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new So(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}function ML(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function OL(n,t={}){var i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function One(n){return`${ML(n)}${n.projectId}/envelope/`}(n)}?${function Pne(n,t){return(0,Qs._j)(rt({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}var Eo=x(7576),Pu=x(9725),gO=x(8204),Zl=x(3343),PL=x(1539),es=x(6412),Fa=x(509);function P1(n,t=[]){return[n,t]}function Ine(n,t){const[e,i]=n;return[e,[...i,t]]}function xL(n,t){n[1].forEach(i=>{t(i,i[0].type)})}function _O(n,t){return(t||new TextEncoder).encode(n)}function IL(n,t){const[e,i]=n;let r=JSON.stringify(e);function s(a){"string"==typeof r?r="string"==typeof a?r+a:[_O(r,t),a]:r.push("string"==typeof a?_O(a,t):a)}for(var o of i){const[a,l]=o;s(`\n${JSON.stringify(a)}\n`),s("string"==typeof l||l instanceof Uint8Array?l:JSON.stringify(l))}return"string"==typeof r?r:function Ane(n){var t=n.reduce((s,o)=>s+o.length,0),e=new Uint8Array(t);let i=0;for(var r of n)e.set(r,i),i+=r.length;return e}(r)}function Rne(n,t){var e="string"==typeof n.data?_O(n.data,t):n.data;return[(0,Qs.Jr)({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}var Dne={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function AL(n){return Dne[n]}var $h=x(3967);function Xh(n,t=1/0,e=1/0){try{return mO("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function RL(n,t=3,e=102400){var i=Xh(n,t);return function Bne(n){return function Fne(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?RL(n,t-1,e):i}function mO(n,t,e=1/0,i=1/0,r=function Nne(){var n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let o=0;o<t.length;o++)if(t[o]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let s=0;s<t.length;s++)if(t[s]===r){t.splice(s,1);break}}]}()){const[s,o]=r;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,es.i2)(t))return t;var a=function kne(n,t){try{return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,es.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,Pu.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(0===e)return a.replace("object ","");if(s(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return mO("",l.toJSON(),e-1,i,r)}catch(A){}var u=Array.isArray(t)?[]:{};let d=0;var v=(0,Qs.Sh)(t);for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){if(d>=i){u[E]="[MaxProperties ~]";break}u[E]=mO(E,v[E],e-1,i,r),d+=1}return o(t),u}var Ba=x(9981);function DL(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}var NL="Not capturing exception because it's already been captured.";class $g{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if($g.prototype.__init.call(this),$g.prototype.__init2.call(this),$g.prototype.__init3.call(this),$g.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=wL(t.dsn);var e=OL(this._dsn,t);this._transport=t.transport(ci(rt({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,i){if((0,Ms.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(NL));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(s=>this._captureEvent(s,e,i)).then(s=>{r=s})),r}captureMessage(t,e,i,r){let s=i&&i.event_id;var o=(0,es.pt)(t)?this.eventFromMessage(String(t),e,i):this.eventFromException(t,i);return this._process(o.then(a=>this._captureEvent(a,i,r)).then(a=>{s=a})),s}captureEvent(t,e,i){if(e&&e.originalException&&(0,Ms.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(NL));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,i).then(s=>{r=s})),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,PL.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var e=this._transport;return e?this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r)):(0,Fa.WD)(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function bne(n){var t={};return n.forEach(e=>{t[e.name]=e,-1===EL.indexOf(e.name)&&(e.setupOnce(M1.c,Mr.Gd),EL.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`Integration installed: ${e.name}`))}),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let r=function Gne(n,t,e,i){var r=DL(e),s=n.type||"event";const{transactionSampling:o}=n.sdkProcessingMetadata||{},{method:a,rate:l}=o||{};!function Lne(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);var c=function jne(n,t,e,i){var r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baggage,s=r&&(0,Ba.Hk)(r);return rt(rt(rt({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&{dsn:O1(i)}),"transaction"===n.type&&s&&{trace:(0,Qs.Jr)(rt({},s))})}(n,r,i,t);return delete n.sdkProcessingMetadata,P1(c,[[{type:s,sample_rates:[{id:a,rate:l}]},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(var i of e.attachments||[])r=Ine(r,Rne(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(t){if(this._dsn){var e=function Une(n,t,e,i){var r=DL(e);return P1(rt(rt({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&{dsn:O1(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e){if(this._options.sendClientReports){var i=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}_updateSessionFromEvent(t,e){let i=!1,r=!1;var s=e.exception&&e.exception.values;if(s)for(var o of(r=!0,s)){var a=o.mechanism;if(a&&!1===a.handled){i=!0;break}}var l="ok"===t.status;(l&&0===t.errors||l&&i)&&((0,PL.CT)(t,ci(rt({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Fa.cW(e=>{let i=0;var s=setInterval(()=>{0==this._numProcessing?(clearInterval(s),e(!0)):(i+=1,t&&i>=t&&(clearInterval(s),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,i){const{normalizeDepth:r=3,normalizeMaxBreadth:s=1e3}=this.getOptions();var o=ci(rt({},t),{event_id:t.event_id||e.event_id||(0,Ms.DM)(),timestamp:t.timestamp||(0,$h.yW)()});this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let a=i;e.captureContext&&(a=M1.s.clone(a).update(e.captureContext));let l=(0,Fa.WD)(o);if(a){var c=[...e.attachments||[],...a.getAttachments()];c.length&&(e.attachments=c),l=a.applyToEvent(o,e)}return l.then(u=>"number"==typeof r&&r>0?this._normalizeEvent(u,r,s):u)}_normalizeEvent(t,e,i){if(!t)return null;var r=rt(rt(rt(rt(rt({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>rt(rt({},s),s.data&&{data:Xh(s.data,e,i)}))}),t.user&&{user:Xh(t.user,e,i)}),t.contexts&&{contexts:Xh(t.contexts,e,i)}),t.extra&&{extra:Xh(t.extra,e,i)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Xh(t.contexts.trace.data,e,i))),t.spans&&(r.spans=t.spans.map(s=>(s.data&&(s.data=Xh(s.data,e,i)),s))),r}_applyClientOptions(t){var e=this.getOptions();const{environment:i,release:r,dist:s,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?i:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==s&&(t.dist=s),t.message&&(t.message=(0,Lc.$G)(t.message,o));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,Lc.$G)(a.value,o));var l=t.request;l&&l.url&&(l.url=(0,Lc.$G)(l.url,o))}_applyIntegrationsMetadata(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var s=r;"log"===s.logLevel?sn.kg.log(s.message):sn.kg.warn(s)}})}_processEvent(t,e,i){const{beforeSend:r,sampleRate:s}=this.getOptions();if(!this._isEnabled())return(0,Fa.$2)(new So("SDK not enabled, will not capture event.","log"));var o="transaction"===t.type;return!o&&"number"==typeof s&&Math.random()>s?(this.recordDroppedEvent("sample_rate","error"),(0,Fa.$2)(new So(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"))):this._prepareEvent(t,e,i).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",t.type||"error"),new So("An event processor returned null, will not send event.","log");return e.data&&!0===e.data.__sentry__||o||!r?a:function Hne(n){var t="`beforeSend` method has to return `null` or a valid event.";if((0,es.J8)(n))return n.then(e=>{if(!(0,es.PO)(e)&&null!==e)throw new So(t);return e},e=>{throw new So(`beforeSend rejected with ${e}`)});if(!(0,es.PO)(n)&&null!==n)throw new So(t);return n}(r(a,e))}).then(a=>{if(null===a)throw this.recordDroppedEvent("before_send",t.type||"error"),new So("`beforeSend` returned `null`, will not send event.","log");var l=i&&i.getSession();return!o&&l&&this._updateSessionFromEvent(l,a),this.sendEvent(a,e),a}).then(null,a=>{throw a instanceof So?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new So(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${a}`))})}_process(t){this._numProcessing+=1,t.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}var x1="7.12.1";function kL(n,t){var e=yO(n,t),i={type:t&&t.name,value:$ne(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function vO(n,t){return{exception:{values:[kL(n,t)]}}}function yO(n,t){var e=t.stacktrace||t.stack||"",i=function Yne(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(Wne.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}var Wne=/Minified React error #\d+;/i;function $ne(n){var t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function bO(n,t,e,i,r){let s;if((0,es.VW)(t)&&t.error)return vO(n,t.error);if((0,es.TX)(t)||(0,es.fm)(t)){var a=t;if("stack"in t)s=vO(n,t);else{var l=a.name||((0,es.TX)(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;s=SO(n,c,e,i),(0,Ms.Db)(s,c)}return"code"in a&&(s.tags=ci(rt({},s.tags),{"DOMException.code":`${a.code}`})),s}return(0,es.VZ)(t)?vO(n,t):(0,es.PO)(t)||(0,es.cO)(t)?(s=function zne(n,t,e,i){var r={exception:{values:[{type:(0,es.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,Qs.zf)(t)}`}]},extra:{__serialized__:RL(t)}};if(e){var s=yO(n,e);s.length&&(r.exception.values[0].stacktrace={frames:s})}return r}(n,t,e,r),(0,Ms.EG)(s,{synthetic:!0}),s):(s=SO(n,t,e,i),(0,Ms.Db)(s,`${t}`,void 0),(0,Ms.EG)(s,{synthetic:!0}),s)}function SO(n,t,e,i){var r={message:t};if(i&&e){var s=yO(n,e);s.length&&(r.exception={values:[{value:t,stacktrace:{frames:s}}]})}return r}var Xg=x(6477),Kne=["fatal","error","warning","log","info","debug"];function FL(n){return"warn"===n?"warning":Kne.includes(n)?n:"log"}function EO(n){if(!n)return{};var t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}var BL="Breadcrumbs";class kv{static __initStatic(){this.id=BL}__init(){this.name=kv.id}constructor(t){kv.prototype.__init.call(this),this.options=rt({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}setupOnce(){this.options.console&&(0,Zl.o)("console",Qne),this.options.dom&&(0,Zl.o)("dom",function Jne(n){return function t(e){let i,r="object"==typeof n?n.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{i=(0,Xg.Rt)(e.event.target?e.event.target:e.event,r)}catch(s){i="<unknown>"}0!==i.length&&(0,Mr.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:i},{event:e.event,name:e.name,global:e.global})}}(this.options.dom)),this.options.xhr&&(0,Zl.o)("xhr",Zne),this.options.fetch&&(0,Zl.o)("fetch",eie),this.options.history&&(0,Zl.o)("history",tie)}}function Qne(n){var t={category:"console",data:{arguments:n.args,logger:"console"},level:FL(n.level),message:(0,Lc.nK)(n.args," ")};if("assert"===n.level){if(!1!==n.args[0])return;t.message=`Assertion failed: ${(0,Lc.nK)(n.args.slice(1)," ")||"console.assert"}`,t.data.arguments=n.args.slice(1)}(0,Mr.Gd)().addBreadcrumb(t,{input:n.args,level:n.level})}function Zne(n){if(n.endTimestamp){if(n.xhr.__sentry_own_request__)return;const{method:t,url:e,status_code:i,body:r}=n.xhr.__sentry_xhr__||{};(0,Mr.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:e,status_code:i},type:"http"},{xhr:n.xhr,input:r})}}function eie(n){!n.endTimestamp||n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method||(n.error?(0,Mr.Gd)().addBreadcrumb({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args}):(0,Mr.Gd)().addBreadcrumb({category:"fetch",data:ci(rt({},n.fetchData),{status_code:n.response.status}),type:"http"},{input:n.args,response:n.response}))}function tie(n){var t=(0,Eo.R)();let e=n.from,i=n.to;var r=EO(t.location.href);let s=EO(e);var o=EO(i);s.path||(s=r),r.protocol===o.protocol&&r.host===o.host&&(i=o.relative),r.protocol===s.protocol&&r.host===s.host&&(e=s.relative),(0,Mr.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:i}})}kv.__initStatic();var ec=(0,Eo.R)();let I1;function LL(){if(I1)return I1;if((0,gO.Du)(ec.fetch))return I1=ec.fetch.bind(ec);var n=ec.document;let t=ec.fetch;if(n&&"function"==typeof n.createElement)try{var e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);var i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return I1=t.bind(ec)}var CO=(0,Eo.R)();class iie extends $g{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:x1}],version:x1},super(t),t.sendClientReports&&CO.document&&CO.document.addEventListener("visibilitychange",()=>{"hidden"===CO.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function Xne(n,t,e,i){var s=bO(n,t,e&&e.syntheticException||void 0,i);return(0,Ms.EG)(s),s.level="error",e&&e.event_id&&(s.event_id=e.event_id),(0,Fa.WD)(s)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function qne(n,t,e="info",i,r){var o=SO(n,t,i&&i.syntheticException||void 0,r);return o.level=e,i&&i.event_id&&(o.event_id=i.event_id),(0,Fa.WD)(o)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}sendEvent(t,e){var i=this.getIntegrationById(BL);i&&i.options&&i.options.sentry&&(0,Mr.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,Ms.jH)(t)},{event:t}),super.sendEvent(t,e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("Sending outcomes:",t);var e=OL(this._dsn,this._options),i=function Vne(n,t,e){return P1(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||(0,$h.yW)(),discarded_events:n}]])}(t,this._options.tunnel&&O1(this._dsn));try{!function nie(n,t){"[object Navigator]"===Object.prototype.toString.call(ec&&ec.navigator)&&"function"==typeof ec.navigator.sendBeacon?ec.navigator.sendBeacon.bind(ec.navigator)(n,t):(0,gO.Ak)()&&LL()(n,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,o=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error(o)})}(e,IL(i))}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error(r)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("No outcomes to send")}}function Fv(n,t,e,i){var r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}var cie=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,uie=/\((\S*)(?::(\d+))(?::(\d+))\)/,hie=[30,n=>{var t=cie.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){var i=uie.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,s]=UL(t[1]||"?",t[2]);return Fv(s,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],fie=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,pie=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_ie=[50,n=>{var t=fie.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=pie.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||"?";return[s,r]=UL(s,r),Fv(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],mie=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,yie=[40,n=>{var t=mie.exec(n);return t?Fv(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],wie=(0,Pu.pE)(hie,_ie,yie),UL=(n,t)=>{var e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function GL(n,t){return(0,Mr.Gd)().captureException(n,{captureContext:t})}function TO(n){(0,Mr.Gd)().addBreadcrumb(n)}function Uc(n,t){(0,Mr.Gd)().setTag(n,t)}function Pie(n){(0,Mr.Gd)().withScope(n)}let wO=0;function jL(){return wO>0}function xie(){wO+=1,setTimeout(()=>{wO-=1})}function Kg(n,t={},e){if("function"!=typeof n)return n;try{var i=n.__sentry_wrapped__;if(i)return i;if((0,Qs.HK)(n))return n}catch(a){return n}var r=function(){var a=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var l=a.map(c=>Kg(c,t));return n.apply(this,l)}catch(c){throw xie(),Pie(u=>{u.addEventProcessor(d=>(t.mechanism&&((0,Ms.Db)(d,void 0,void 0),(0,Ms.EG)(d,t.mechanism)),d.extra=ci(rt({},d.extra),{arguments:a}),d)),GL(c)}),c}};try{for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}catch(a){}(0,Qs.$Q)(r,n),(0,Qs.xp)(n,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>n.name})}catch(a){}return r}var Iie=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Bv{static __initStatic(){this.id="TryCatch"}__init(){this.name=Bv.id}constructor(t){Bv.prototype.__init.call(this),this._options=rt({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}setupOnce(){var t=(0,Eo.R)();this._options.setTimeout&&(0,Qs.hl)(t,"setTimeout",HL),this._options.setInterval&&(0,Qs.hl)(t,"setInterval",HL),this._options.requestAnimationFrame&&(0,Qs.hl)(t,"requestAnimationFrame",Aie),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,Qs.hl)(XMLHttpRequest.prototype,"send",Rie);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:Iie).forEach(Die)}}function HL(n){return function(...t){return t[0]=Kg(t[0],{mechanism:{data:{function:(0,Pu.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}}function Aie(n){return function(t){return n.apply(this,[Kg(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Pu.$P)(n)},handled:!0,type:"instrument"}})])}}function Rie(n){return function(...t){var e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&(0,Qs.hl)(e,r,function(s){var o={mechanism:{data:{function:r,handler:(0,Pu.$P)(s)},handled:!0,type:"instrument"}},a=(0,Qs.HK)(s);return a&&(o.mechanism.data.handler=(0,Pu.$P)(a)),Kg(s,o)})}),n.apply(this,t)}}function Die(n){var t=(0,Eo.R)(),e=t[n]&&t[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||((0,Qs.hl)(e,"addEventListener",function(i){return function(r,s,o){try{"function"==typeof s.handleEvent&&(s.handleEvent=Kg(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Pu.$P)(s),target:n},handled:!0,type:"instrument"}}))}catch(a){}return i.apply(this,[r,Kg(s,{mechanism:{data:{function:"addEventListener",handler:(0,Pu.$P)(s),target:n},handled:!0,type:"instrument"}}),o])}}),(0,Qs.hl)(e,"removeEventListener",function(i){return function(r,s,o){var a=s;try{var l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,o)}catch(c){}return i.call(this,r,a,o)}}))}Bv.__initStatic();class xd{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=xd.id}__init2(){this._installFunc={onerror:Nie,onunhandledrejection:kie}}constructor(t){xd.prototype.__init.call(this),xd.prototype.__init2.call(this),this._options=rt({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var e in t){var i=this._installFunc[e];i&&t[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`Global Handler attached: ${e}`),i(),this._installFunc[e]=void 0)}}}function Nie(){(0,Zl.o)("error",n=>{const[t,e,i]=WL();if(!t.getIntegration(xd))return;const{msg:r,url:s,line:o,column:a,error:l}=n;if(!(jL()||l&&l.__sentry_own_request__)){var c=void 0===l&&(0,es.HD)(r)?function Bie(n,t,e,i){let s=(0,es.VW)(n)?n.message:n,o="Error";var a=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],s=a[2]),VL({exception:{values:[{type:o,value:s}]}},t,e,i)}(r,s,o,a):VL(bO(e,l||r,void 0,i,!1),s,o,a);c.level="error",zL(t,l,c,"onerror")}})}function kie(){(0,Zl.o)("unhandledrejection",n=>{const[t,e,i]=WL();if(!t.getIntegration(xd))return;let r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(o){}if(jL()||r&&r.__sentry_own_request__)return!0;var s=(0,es.pt)(r)?function Fie(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):bO(e,r,void 0,i,!0);s.level="error",zL(t,r,s,"onunhandledrejection")})}function VL(n,t,e,i){var r=n.exception=n.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(e,10))?void 0:e,d=(0,es.HD)(t)&&t.length>0?t:(0,Xg.l4)();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),n}function zL(n,t,e,i){(0,Ms.EG)(e,{handled:!1,type:i}),n.captureEvent(e,{originalException:t})}function WL(){var n=(0,Mr.Gd)(),t=n.getClient(),e=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,e.stackParser,e.attachStacktrace]}xd.__initStatic();class Jg{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Jg.id}constructor(t={}){Jg.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){var t=(0,Mr.Gd)().getClient();!t||(0,M1.c)((e,i)=>{var r=(0,Mr.Gd)().getIntegration(Jg);return r?function jie(n,t,e,i,r){if(!(i.exception&&i.exception.values&&r&&(0,es.V9)(r.originalException,Error)))return i;var s=YL(n,e,r.originalException,t);return i.exception.values=[...s,...i.exception.values],i}(t.getOptions().stackParser,r._key,r._limit,e,i):e})}}function YL(n,t,e,i,r=[]){if(!(0,es.V9)(e[i],Error)||r.length+1>=t)return r;var s=kL(n,e[i]);return YL(n,t,e[i],i,[s,...r])}Jg.__initStatic();class Qg{constructor(){Qg.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Qg.id}setupOnce(t,e){var i=r=>{var s=e().getIntegration(Qg);if(s){try{if(function Hie(n,t){return!(!t||!function Vie(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!XL(n,t)||!$L(n,t))}(n,t)&&!function zie(n,t){var e=qL(t),i=qL(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&XL(n,t)&&$L(n,t))}(n,t))}(r,s._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(o){return s._previousEvent=r}return s._previousEvent=r}return r};i.id=this.name,t(i)}}function $L(n,t){let e=KL(n),i=KL(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let o=0;o<i.length;o++){var r=i[o],s=e[o];if(r.filename!==s.filename||r.lineno!==s.lineno||r.colno!==s.colno||r.function!==s.function)return!1}return!0}function XL(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function qL(n){return n.exception&&n.exception.values&&n.exception.values[0]}function KL(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Qg.__initStatic();var qh=(0,Eo.R)();class Zg{constructor(){Zg.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Zg.id}setupOnce(){(0,M1.c)(t=>{if((0,Mr.Gd)().getIntegration(Zg)){if(!qh.navigator&&!qh.location&&!qh.document)return t;var e=t.request&&t.request.url||qh.location&&qh.location.href;const{referrer:s}=qh.document||{},{userAgent:o}=qh.navigator||{};var i=rt(rt(rt({},t.request&&t.request.headers),s&&{Referer:s}),o&&{"User-Agent":o}),r=ci(rt({},e&&{url:e}),{headers:i});return ci(rt({},t),{request:r})}return t})}}function JL(n,t,e=function Wie(n){var t=[];function i(o){return t.splice(t.indexOf(o),1)[0]}return{$:t,add:function r(o){if(!function e(){return void 0===n||t.length<n}())return(0,Fa.$2)(new So("Not adding Promise because buffer limit was reached."));var a=o();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function s(o){return new Fa.cW((a,l)=>{let c=t.length;if(!c)return a(!0);var u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{(0,Fa.WD)(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};return{send:function s(o){var a=[];if(xL(o,(d,v)=>{var E=AL(v);!function qie(n,t,e=Date.now()){return function Xie(n,t){return n[t]||n.all||0}(n,t)>e}(i,E)?a.push(d):n.recordDroppedEvent("ratelimit_backoff",E)}),0===a.length)return(0,Fa.WD)();var l=P1(o[0],a),c=d=>{xL(l,(v,E)=>{n.recordDroppedEvent(d,AL(E))})};return e.add(()=>t({body:IL(l,n.textEncoder)}).then(d=>{void 0!==d.statusCode&&(d.statusCode<200||d.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=function Kie(n,{statusCode:t,headers:e},i=Date.now()){var r=rt({},n),s=e&&e["x-sentry-rate-limits"],o=e&&e["retry-after"];if(s)for(var a of s.trim().split(",")){const[d,v]=a.split(":",2);var l=parseInt(d,10),c=1e3*(isNaN(l)?60:l);if(v)for(var u of v.split(";"))r[u]=i+c;else r.all=i+c}else o?r.all=i+function $ie(n,t=Date.now()){var e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;var i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(o,i):429===t&&(r.all=i+6e4);return r}(i,d)},d=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Failed while sending event:",d),c("network_error")})).then(d=>d,d=>{if(d instanceof So)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Skipped sending event because buffer is full."),c("queue_overflow"),(0,Fa.WD)();throw d})},flush:o=>e.drain(o)}}function Qie(n,t=LL()){return JL(n,function e(i){var r=rt({body:i.body,method:"POST",referrerPolicy:"origin",headers:n.headers},n.fetchOptions);return t(n.url,r).then(s=>({statusCode:s.status,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")}}))})}function ere(n){return JL(n,function t(e){return new Fa.cW((i,r)=>{var s=new XMLHttpRequest;for(var o in s.onerror=r,s.onreadystatechange=()=>{4===s.readyState&&i({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",n.url),n.headers)Object.prototype.hasOwnProperty.call(n.headers,o)&&s.setRequestHeader(o,n.headers[o]);s.send(e.body)})})}Zg.__initStatic();var tre=[new Yg,new Nv,new Bv,new kv,new xd,new Jg,new Qg,new Zg];function QL(n){n.startSession({ignoreDuration:!0}),n.captureSession()}function dn(...n){return Jn(n,wa(n))}function e_(n,t){return S(t)?cr(n,t,1):cr(n,1)}function Nt(n,t){return Je((e,i)=>{let r=0;e.subscribe(de(i,s=>n.call(t,s,r++)&&i.next(s)))})}class ZL{}class e4{}class xu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sre{encodeKey(t){return t4(t)}encodeValue(t){return t4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const are=/%(\d[a-f0-9])/gi,lre={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function t4(n){return encodeURIComponent(n).replace(are,(t,e)=>{var i;return null!==(i=lre[e])&&void 0!==i?i:t})}function n4(n){return`${n}`}class Id{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sre,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ore(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Id({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(n4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(n4(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class cre{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function i4(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function r4(n){return"undefined"!=typeof Blob&&n instanceof Blob}function s4(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Lv{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ure(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new xu),this.context||(this.context=new cre),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Id,this.urlWithParams=e}serializeBody(){return null===this.body?null:i4(this.body)||r4(this.body)||s4(this.body)||function dre(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Id?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||s4(this.body)?null:r4(this.body)?this.body.type||null:i4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Id?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((v,E)=>v.set(E,t.setHeaders[E]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((v,E)=>v.set(E,t.setParams[E]),u)),new Lv(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var us=(()=>((us=us||{})[us.Sent=0]="Sent",us[us.UploadProgress=1]="UploadProgress",us[us.ResponseHeader=2]="ResponseHeader",us[us.DownloadProgress=3]="DownloadProgress",us[us.Response=4]="Response",us[us.User=5]="User",us))();class MO{constructor(t,e=200,i="OK"){this.headers=t.headers||new xu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class OO extends MO{constructor(t={}){super(t),this.type=us.ResponseHeader}clone(t={}){return new OO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class A1 extends MO{constructor(t={}){super(t),this.type=us.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new A1({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class R1 extends MO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function PO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xO=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Lv)s=e;else{let l,c;l=r.headers instanceof xu?r.headers:new xu(r.headers),r.params&&(c=r.params instanceof Id?r.params:new Id({fromObject:r.params})),s=new Lv(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=dn(s).pipe(e_(l=>this.handler.handle(l)));if(e instanceof Lv||"events"===r.observe)return o;const a=o.pipe(Nt(l=>l instanceof A1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Pe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Pe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Pe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Pe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Id).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,PO(r,i))}post(e,i,r={}){return this.request("POST",e,PO(r,i))}put(e,i,r={}){return this.request("PUT",e,PO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(He(ZL))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class o4{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const a4=new Kt("HTTP_INTERCEPTORS");let hre=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const fre=/^\)\]\}',?\n/;let l4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((E,I)=>r.setRequestHeader(E,I.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const E=e.detectContentTypeHeader();null!==E&&r.setRequestHeader("Content-Type",E)}if(e.responseType){const E=e.responseType.toLowerCase();r.responseType="json"!==E?E:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const E=r.statusText||"OK",I=new xu(r.getAllResponseHeaders()),A=function pre(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new OO({headers:I,status:r.status,statusText:E,url:A}),o},l=()=>{let{headers:E,status:I,statusText:A,url:N}=a(),k=null;204!==I&&(k=void 0===r.response?r.responseText:r.response),0===I&&(I=k?200:0);let L=I>=200&&I<300;if("json"===e.responseType&&"string"==typeof k){const W=k;k=k.replace(fre,"");try{k=""!==k?JSON.parse(k):null}catch(Z){k=W,L&&(L=!1,k={error:Z,text:k})}}L?(i.next(new A1({body:k,headers:E,status:I,statusText:A,url:N||void 0})),i.complete()):i.error(new R1({error:k,headers:E,status:I,statusText:A,url:N||void 0}))},c=E=>{const{url:I}=a(),A=new R1({error:E,status:r.status||0,statusText:r.statusText||"Unknown Error",url:I||void 0});i.error(A)};let u=!1;const d=E=>{u||(i.next(a()),u=!0);let I={type:us.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(I.total=E.total),"text"===e.responseType&&!!r.responseText&&(I.partialText=r.responseText),i.next(I)},v=E=>{let I={type:us.UploadProgress,loaded:E.loaded};E.lengthComputable&&(I.total=E.total),i.next(I)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",v)),r.send(s),i.next({type:us.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",v)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(He(oL))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const IO=new Kt("XSRF_COOKIE_NAME"),AO=new Kt("XSRF_HEADER_NAME");class c4{}let gre=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=XB(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(He(ur),He(zg),He(IO))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),RO=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(He(c4),He(AO))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),_re=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(a4,[]);this.chain=i.reduceRight((r,s)=>new o4(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(He(e4),He(Es))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),mre=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:RO,useClass:hre}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:IO,useValue:e.cookieName}:[],e.headerName?{provide:AO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[RO,{provide:a4,useExisting:RO,multi:!0},{provide:c4,useClass:gre},{provide:IO,useValue:"XSRF-TOKEN"},{provide:AO,useValue:"X-XSRF-TOKEN"}]}),n})(),vre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[xO,{provide:ZL,useClass:_re},l4,{provide:e4,useExisting:l4}],imports:[[mre.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const bre="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Cre="undefined"!=typeof Zone&&!!Zone.current;let wre=(()=>{class n{constructor(e){this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function Tre(n){return Cre?Zone.root.run(n):n()}(()=>GL(i,s=>(s.addEventProcessor(o=>((0,Ms.EG)(o,{type:"angular",handled:!1}),o)),s)));this._options.logErrors&&console.error(i),this._options.showDialog&&function ire(n={},t=(0,Mr.Gd)()){var e=(0,Eo.R)();if(!e.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Global document not defined in showReportDialog call"));const{client:i,scope:r}=t.getStackTop();var s=n.dsn||i&&i.getDsn();if(s){r&&(n.user=rt(rt({},r.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());var o=e.document.createElement("script");o.async=!0,o.src=function xne(n,t){var e=wL(n),i=`${ML(e)}embed/error-page/`;let r=`dsn=${O1(e)}`;for(var s in t)if("dsn"!==s)if("user"===s){var o=t.user;if(!o)continue;o.name&&(r+=`&name=${encodeURIComponent(o.name)}`),o.email&&(r+=`&email=${encodeURIComponent(o.email)}`)}else r+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${i}?${r}`}(s,n),n.onLoad&&(o.onload=n.onLoad);var a=e.document.head||e.document.body;a?a.appendChild(o):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.error("DSN not configured for showReportDialog call")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){let i=e;return i&&i.ngOriginalError&&(i=i.ngOriginalError),"string"==typeof i||i instanceof Error?i:i instanceof R1?i.error instanceof Error?i.error:i.error instanceof ErrorEvent&&i.error.message?i.error.message:"string"==typeof i.error?`Server returned code ${i.status} with body "${i.error}"`:i.message:null}}return n.\u0275fac=function(e){return new(e||n)(He("errorHandlerOptions"))},n.\u0275prov=vt({factory:function(){return new n(He("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function Mre(n){return new wre(n)}(0,Eo.R)();var mi=(()=>{return(n=mi||(mi={})).reconnect="reconnect",n.connectionSlow="connection_slow",n.connectionLost="connection_lost",n.loginError="login_error",n.kicked="kicked",n.shutdown="shutdown",n.inactivity="inactivity",n.ban="ban",mi;var n})();function h4(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function kO(n){const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}function FO(){try{return window.self!==window.top}catch(n){return!0}}function f4(n){return"string"==typeof n||n instanceof String}var gr=(()=>{return(n=gr||(gr={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",n.AviaportToggleGameMenu="ifc.aviaport.toggle.game.menu",n.AviaportToggleChat="ifc.aviaport.toggle.chat",n.AviaportSetSessionToken="ifc.aviaport.set.session.token",gr;var n})(),_r=x(8135);const Ei_production=!0,Ei_loggerEnabled=!1,Ei_domainMirroringEnabled=!0,Ei_version="4.2.45",Ei_clientConfig={path:"https://app-config.spribegaming.com/aviator/",ext:".json"},Ei_avatarPath="assets/static/avatars/v2/",Ei_brandPath="assets/static/images/brand/";function nr(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?Je((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(de(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):me}class Gre extends g{constructor(t,e){super()}schedule(t,e=0){return this}}const D1={setInterval(n,t,...e){const{delegate:i}=D1;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=D1;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class BO extends Gre{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return D1.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;D1.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,m(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const LO={now:()=>(LO.delegate||Date).now(),delegate:void 0};class Uv{constructor(t,e=Uv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Uv.now=LO.now;class UO extends Uv{constructor(t,e=Uv.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const t_=new UO(BO),jre=t_;function p4(n){return n instanceof Date&&!isNaN(n)}const Hre=T(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function zre(n){throw new Hre(n)}function tc(n){return Je((t,e)=>{let s,i=null,r=!1;i=t.subscribe(de(e,void 0,void 0,o=>{s=Ot(n(o,tc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}class g4{static toSFSObject(t){let e=new _r.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function Rre(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],_r.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],_r.SFSDataType.SFS_ARRAY)){let s=[],o=t.get(i[r]);for(let a=0;a<o.size();a++)this.isArrayContainsSfsObjects(o,a)?s.push(this.toObject(o.getSFSObject(a))):s.push(o.get(a));e[i[r]]=s}else e[i[r]]=t.get(i[r]);return e}static isArrayContainsSfsObjects(t,e){try{return!!t.get(e,_r.SFSDataType.SFS_OBJECT)}catch(i){return!1}}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}function Iu(n=0,t,e=jre){let i=-1;return null!=t&&(Ti(t)?e=t:i=t),new fe(r=>{let s=p4(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class Wre{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectDelayTimer$=null,this.reconnectCount=0}try(t,e=null){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=Iu(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=null,this.reconnectCount=0}}var n_=(()=>{return(n=n_||(n_={})).alert="alert",n.toast="toast",n.win="win",n_;var n})(),dr=(()=>{return(n=dr||(dr={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",dr;var n})(),Ad=(()=>{return(n=Ad||(Ad={})).NotEnoughBalance="Not enough balance",n.YourFreeBetWasCancelledByAdministrator="Your freebet was canceled by the administrator",n.FirstInactivityMessage="You have not been active for a while. Place a bet to avoid a disconnection.",n.SecondInactivityMessage="Last chance to place a bet. Your session will be terminated due to inactivity.",n.YouHaveGotAFreeBet="You've got a Free Bet!",Ad;var n})(),Gv=(()=>{return(n=Gv||(Gv={})).Aviator="AVIATOR",n.Challenges="CHALLENGES",Gv;var n})(),i_=(()=>{return(n=i_||(i_={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",i_;var n})(),Kh=(()=>{return(n=Kh||(Kh={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",Kh;var n})();const{isArray:$re}=Array;function GO(n){return Pe(t=>function Xre(n,t){return $re(t)?n(...t):n(t)}(n,t))}const qre=["addListener","removeListener"],Kre=["addEventListener","removeEventListener"],Jre=["on","off"];function vi(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return vi(n,t,e).pipe(GO(i));const[r,s]=function ese(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?Kre.map(o=>a=>n[o](t,a,e)):function Qre(n){return S(n.addListener)&&S(n.removeListener)}(n)?qre.map(_4(n,t)):function Zre(n){return S(n.on)&&S(n.off)}(n)?Jre.map(_4(n,t)):[];if(!r&&Xt(n))return cr(o=>vi(o,t,e))(Ot(n));if(!r)throw new TypeError("Invalid event target");return new fe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function _4(n,t){return e=>i=>n[e](t,i)}function Or(n){return Je((t,e)=>{Ot(n).subscribe(de(e,()=>e.complete(),O)),!e.closed&&t.subscribe(e)})}const tse=rb,ise=Symbol("__destroy"),m4=Symbol("__decoratorApplied");function v4(n){return"string"==typeof n?Symbol(`__destroy__${n}`):ise}function y4(n,t){n[t]||(n[t]=new $e)}function b4(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function S4(n){n instanceof g&&n.unsubscribe()}function E4(n,t){return function(){var e;if(n&&n.call(this),b4(this,v4()),t.arrayName)return function sse(n){Array.isArray(n)&&n.forEach(S4)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||S4(this[i])}}function qn(n={}){return t=>{!function nse(n){return!!n[tse]}(t)?function ose(n,t){n.prototype.ngOnDestroy=E4(n.prototype.ngOnDestroy,t)}(t,n):function ase(n,t){const e=n.\u0275pipe;e.onDestroy=E4(e.onDestroy,t)}(t,n),function rse(n){n.prototype[m4]=!0}(t)}}function Et(n,t){return e=>{const i=v4(t);return"string"==typeof t?function lse(n,t,e){const i=n[t];y4(n,e),n[t]=function(){i.apply(this,arguments),b4(this,e),n[t]=i}}(n,t,i):y4(n,i),e.pipe(Or(n[i]))}}var r_=(()=>{return(n=r_||(r_={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",r_;var n})();class use{constructor(t,e){this.smartFox=t,this.callbackFn=e,this.timeoutRef=null,this.intervalRef=null}start(t){this.pingInterval=null!=t?t:15e3,this.reset(),vi(this.smartFox,_r.SFSEvent.EXTENSION_RESPONSE).pipe(Nt(e=>e.cmd===r_.Response),Et(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.pingInterval)}threadRunner(){this.smartFox.send(new _r.ExtensionRequest(r_.Request)),this.waitResponse()}waitResponse(){null===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(mi.connectionSlow)},this.pingInterval-1e3))}pingResponseHandler(){this.callbackFn(null),clearTimeout(this.timeoutRef),this.timeoutRef=null}reset(){clearTimeout(this.timeoutRef),clearInterval(this.intervalRef),this.timeoutRef=null,this.intervalRef=null}}var vn=(()=>{return(n=vn||(vn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.CreateFreeBet="createFreeBet",n.CancelFreeBet="cancelFreeBet",vn;var n})(),Au=(()=>{return(n=Au||(Au={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",Au;var n})(),ri=(()=>{return(n=ri||(ri={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",ri;var n})(),N1=(()=>{return(n=N1||(N1={}))[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",N1;var n})(),Ii=(()=>{return(n=Ii||(Ii={})).Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.AccountHistory="ifc.account.history",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.InternalRealityCheck="ifc.internal.reality.check",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game",n.AviaportWaitingSessionToken="ifc.aviaport.waiting.session.token",Ii;var n})(),k1=(()=>{return(n=k1||(k1={})).navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender",k1;var n})();const s_={UKNOWN:"Unknown"},jO={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:s_.UKNOWN},F1={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},o_={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Rd={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:s_.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},C4=[Rd.PS4,Rd.CHROME_BOOK,Rd.MAC,Rd.DELL,Rd.ASUS,Rd.UNKNOWN],T4={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:s_.UKNOWN},dse={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:s_.UKNOWN.toLowerCase()},w4={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},fse=Object.assign(Object.assign(Object.assign(Object.assign({},F1),o_),w4),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),HO={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},VO={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},pse=Object.keys(HO).reduce((n,t)=>(n[t]=HO[t],n),{}),M4=Object.keys(VO).reduce((n,t)=>(n[jO[t]]=VO[t],n),{});var Gc=Object.freeze({__proto__:null,GENERAL:s_,BROWSERS:jO,MOBILES_RE:F1,TABLETS_RE:o_,DEVICES:Rd,DESKTOP_DEVICES:C4,OS:T4,OS_VERSIONS:dse,OS_RE:w4,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:fse,OS_VERSIONS_RE_MAP:HO,BROWSER_VERSIONS_RE_MAP:VO,OS_VERSIONS_RE:pse,BROWSER_VERSIONS_RE:M4});class gse{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var Jh=(()=>{return(n=Jh||(Jh={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Jh;var n})(),jv=(()=>{return(n=jv||(jv={})).Portrait="portrait",n.Landscape="landscape",jv;var n})();const zO="iPad";let _se=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new gse,this.deviceType="",this.orientation="",Iv(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(Gc[r.const]).reduce((s,o)=>"device"===Gc[r.const][o]&&Iv(this.platformId)&&(this.reTree.test(this.userAgent,o_[zO])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[Gc[r.const][o]]=zO,Object):(s[Gc[r.const][o]]=this.reTree.test(e,Gc[`${r.const}_RE`][o]),s),{})}),i.forEach(r=>{this[r.prop]=Object.keys(Gc[r.const]).map(s=>Gc[r.const][s]).reduce((s,o)=>"device"===r.prop&&s===Gc[r.const].ANDROID?this[r.prop][o]?o:s:s===Gc[r.const].UNKNOWN&&this[r.prop][o]?o:s,Gc[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==jO.UNKNOWN){const s=this.reTree.exec(e,M4[this.browser]);s&&(this.browser_version=s[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?jv.Landscape:jv.Portrait:s_.UKNOWN,this.deviceType=this.isTablet()?Jh.Tablet:this.isMobile(this.userAgent)?Jh.Mobile:this.isDesktop(this.userAgent)?Jh.Desktop:Jh.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(F1).find(r=>this.reTree.test(e,F1[r]))}isTablet(e=this.userAgent){return!(!Iv(this.platformId)||!(this.reTree.test(this.userAgent,o_[zO])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(o_).find(r=>!!this.reTree.test(e,o_[r]))}isDesktop(e=this.userAgent){return(this.device!==Rd.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&C4.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(He(zg))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function a_(...n){return function vse(){return ys(1)}()(Jn(n,wa(n)))}function O4(n,t){return t?e=>a_(t.pipe(wi(1),function yse(){return Je((n,t)=>{n.subscribe(de(t,O))})}()),e.pipe(O4(n))):cr((e,i)=>n(e,i).pipe(wi(1),function bse(n){return Pe(()=>n)}(e)))}function P4(n,t=t_){const e=Iu(n,t);return O4(()=>e)}function Hv(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new fe(t?r=>t.schedule(i,0,r):i)}var B1=(()=>{return(n=B1||(B1={}))[n.v2=2]="v2",B1;var n})(),L1=(()=>{return(n=L1||(L1={})).Default="default",n.Detailed="detailed",L1;var n})(),l_=(()=>{return(n=l_||(l_={})).Navigate="navigate",n.IfcEvent="ifcEvent",n.NewTab="newTab",l_;var n})(),c_=(()=>{return(n=c_||(c_={})).Navigate="navigate",n.IfcEvent="ifcEvent",c_;var n})(),U1=(()=>{return(n=U1||(U1={})).ifcEvent="ifcEvent",n.modal="modal",U1;var n})(),u_=(()=>{return(n=u_||(u_={})).CancelBet="cancelBet",n.None="none",u_;var n})(),zi=(()=>{return(n=zi||(zi={}))[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay",zi;var n})(),Dd=(()=>((Dd||(Dd={})).Base="Inter, sans-serif",Dd))(),mr=(()=>{return(n=mr||(mr={})).sm="sm",n.md="md",n.lg="lg",mr;var n})();class wn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?mr.lg:this.appWidth>=420&&this.appHeight>=200?mr.md:mr.sm}}var Mse=setTimeout;function x4(n){return Boolean(n&&void 0!==n.length)}function Ose(){}function $r(n){if(!(this instanceof $r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],A4(n,this)}function I4(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,$r._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void Vv(t.promise,r)}WO(t.promise,i)}else(1===n._state?WO:Vv)(t.promise,n._value)})):n._deferreds.push(t)}function WO(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof $r)return n._state=3,n._value=t,void YO(n);if("function"==typeof e)return void A4(function Pse(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,YO(n)}catch(i){Vv(n,i)}}function Vv(n,t){n._state=2,n._value=t,YO(n)}function YO(n){2===n._state&&0===n._deferreds.length&&$r._immediateFn(function(){n._handled||$r._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)I4(n,n._deferreds[t]);n._deferreds=null}function xse(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function A4(n,t){var e=!1;try{n(function(i){e||(e=!0,WO(t,i))},function(i){e||(e=!0,Vv(t,i))})}catch(i){if(e)return;e=!0,Vv(t,i)}}$r.prototype.catch=function(n){return this.then(null,n)},$r.prototype.then=function(n,t){var e=new this.constructor(Ose);return I4(this,new xse(n,t,e)),e},$r.prototype.finally=function Ese(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},$r.all=function(n){return new $r(function(t,e){if(!x4(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function s(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,function(u){s(a,u)},e)}i[a]=l,0==--r&&t(i)}catch(u){e(u)}}for(var o=0;o<i.length;o++)s(o,i[o])})},$r.allSettled=function Tse(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var s=r.length;function o(l,c){if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,function(d){o(l,d)},function(d){r[l]={status:"rejected",reason:d},0==--s&&e(r)})}r[l]={status:"fulfilled",value:c},0==--s&&e(r)}for(var a=0;a<r.length;a++)o(a,r[a])})},$r.resolve=function(n){return n&&"object"==typeof n&&n.constructor===$r?n:new $r(function(t){t(n)})},$r.reject=function(n){return new $r(function(t,e){e(n)})},$r.race=function(n){return new $r(function(t,e){if(!x4(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)$r.resolve(n[i]).then(t,e)})},$r._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){Mse(n,0)},$r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const Ise=$r;var Ase=x(5943),Rse=x.n(Ase);if(self.Promise||(self.Promise=Ise),Object.assign||(Object.assign=Rse()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var Nse=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-Nse}}for(var $O=Date.now(),R4=["ms","moz","webkit","o"],XO=0;XO<R4.length&&!self.requestAnimationFrame;++XO){var qO=R4[XO];self.requestAnimationFrame=self[qO+"RequestAnimationFrame"],self.cancelAnimationFrame=self[qO+"CancelAnimationFrame"]||self[qO+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+$O-t;return e<0&&(e=0),$O=t,self.setTimeout(function(){$O=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var KO=/iPhone/i,D4=/iPod/i,N4=/iPad/i,k4=/\biOS-universal(?:.+)Mac\b/i,JO=/\bAndroid(?:.+)Mobile\b/i,F4=/Android/i,d_=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,G1=/Silk/i,Ru=/Windows Phone/i,B4=/\bWindows(?:.+)ARM\b/i,L4=/BlackBerry/i,U4=/BB10/i,G4=/Opera Mini/i,j4=/\b(CriOS|Chrome)(?:.+)Mobile/i,H4=/Mobile(?:.+)Firefox\b/i,V4=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},La=function Fse(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function kse(n){return function(t){return t.test(n)}}(e),s={apple:{phone:r(KO)&&!r(Ru),ipod:r(D4),tablet:!r(KO)&&(r(N4)||V4(t))&&!r(Ru),universal:r(k4),device:(r(KO)||r(D4)||r(N4)||r(k4)||V4(t))&&!r(Ru)},amazon:{phone:r(d_),tablet:!r(d_)&&r(G1),device:r(d_)||r(G1)},android:{phone:!r(Ru)&&r(d_)||!r(Ru)&&r(JO),tablet:!r(Ru)&&!r(d_)&&!r(JO)&&(r(G1)||r(F4)),device:!r(Ru)&&(r(d_)||r(G1)||r(JO)||r(F4))||r(/\bokhttp\b/i)},windows:{phone:r(Ru),tablet:r(B4),device:r(Ru)||r(B4)},other:{blackberry:r(L4),blackberry10:r(U4),opera:r(G4),firefox:r(H4),chrome:r(j4),device:r(L4)||r(U4)||r(G4)||r(H4)||r(j4)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(self.navigator),j1=(()=>{return(n=j1||(j1={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",j1;var n})(),H1=(()=>{return(n=H1||(H1={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",H1;var n})(),V1=(()=>{return(n=V1||(V1={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",V1;var n})(),z1=(()=>{return(n=z1||(z1={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",z1;var n})(),h_=(()=>{return(n=h_||(h_={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",h_;var n})(),W1=(()=>{return(n=W1||(W1={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",W1;var n})(),wt={MIPMAP_TEXTURES:V1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:W1.NONE,SPRITE_MAX_TEXTURES:function Bse(n){var e,t=!0;(La.tablet||La.phone)&&(La.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),La.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:z1.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:H1.CLAMP,SCALE_MODE:j1.LINEAR,PRECISION_VERTEX:h_.HIGH,PRECISION_FRAGMENT:La.apple.device?h_.HIGH:h_.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function Lse(){return!La.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Use=x(9170),f_=x.n(Use),Gse=x(5469),QO=x.n(Gse),ZO=x(8762),Ls=(()=>{return(n=Ls||(Ls={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",Ls;var n})(),nc=(()=>{return(n=nc||(nc={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",nc;var n})(),Nd=(()=>{return(n=Nd||(Nd={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",Nd;var n})(),Ke=(()=>{return(n=Ke||(Ke={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",Ke;var n})(),Zs=(()=>{return(n=Zs||(Zs={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",Zs;var n})(),nt=(()=>{return(n=nt||(nt={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",nt;var n})(),ha=(()=>{return(n=ha||(ha={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",ha;var n})(),Dt=(()=>{return(n=Dt||(Dt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",Dt;var n})(),kd=(()=>{return(n=kd||(kd={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",kd;var n})(),ds=(()=>{return(n=ds||(ds={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",ds;var n})(),fl=(()=>{return(n=fl||(fl={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",fl;var n})(),zo=(()=>{return(n=zo||(zo={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",zo;var n})(),Us=(()=>{return(n=Us||(Us={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",Us;var n})(),Co=(()=>{return(n=Co||(Co={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",Co;var n})(),p_=(()=>{return(n=p_||(p_={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",p_;var n})(),hs=(()=>{return(n=hs||(hs={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",hs;var n})(),Ci=(()=>{return(n=Ci||(Ci={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",Ci;var n})(),Gn=(()=>{return(n=Gn||(Gn={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Gn;var n})(),fs=(()=>{return(n=fs||(fs={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",fs;var n})(),Qh={parse:ZO.Qc,format:ZO.WU,resolve:ZO.DB};wt.RETINA_PREFIX=/@([0-9\.]+)x/,wt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var nP,eP=!1;function W4(){eP=!0}function tP(n){var t;eP||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),eP=!0)}function Y4(){return void 0===nP&&(nP=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:wt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(o){return!1}}()),nP}var Ole={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Du(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function Y1(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function Wo(n){return"string"==typeof n&&"#"===(n=Ole[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function iP(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var rP=function Ple(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ke.NORMAL_NPM]=Ke.NORMAL,n[Ke.ADD_NPM]=Ke.ADD,n[Ke.SCREEN_NPM]=Ke.SCREEN,t[Ke.NORMAL]=Ke.NORMAL_NPM,t[Ke.ADD]=Ke.ADD_NPM,t[Ke.SCREEN]=Ke.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function sP(n,t){return rP[t?1:0][n]}function $4(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function $1(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function oP(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function X4(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function X1(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var xle={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ile(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=X1(u);r[d]||(r[d]=new xle[d](o)),a=r[d];for(var v=0;v<u.length;v++)a[(v/c|0)*i+l+v%c]=u[v];l+=c}return new Float32Array(o)}function zv(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function aP(n){return!(n&n-1||!n)}function lP(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function Zh(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var s=i-(e=t+e>i?i-t:e);for(r=t;r<s;++r)n[r]=n[r+e];n.length=s}}function ef(n){return 0===n?0:n<0?-1:1}var Ale=0;function Fd(){return++Ale}var q4={};function jc(n,t,e){if(void 0===e&&(e=3),!q4[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),q4[t]=!0}}var cP={},fa=Object.create(null),pl=Object.create(null);function Rle(){var n;for(n in fa)fa[n].destroy();for(n in pl)pl[n].destroy()}function Dle(){var n;for(n in fa)delete fa[n];for(n in pl)delete pl[n]}var g_=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||wt.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function K4(n){var c,u,d,t=n.width,e=n.height,i=n.getContext("2d"),s=i.getImageData(0,0,t,e).data,o=s.length,a={top:null,left:null,right:null,bottom:null},l=null;for(c=0;c<o;c+=4)0!==s[c+3]&&(u=c/4%t,d=~~(c/4/t),null===a.top&&(a.top=d),(null===a.left||u<a.left)&&(a.left=u),(null===a.right||a.right<u)&&(a.right=u+1),(null===a.bottom||a.bottom<d)&&(a.bottom=d));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var q1,J4=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Nle(n){var t=J4.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Q4(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,q1||(q1=document.createElement("a")),q1.href=n;var e=Qh.parse(q1.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Wv(n,t){var e=wt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var Yv=2*Math.PI,Z4=180/Math.PI,e5=Math.PI/180,yi=(()=>{return(n=yi||(yi={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",yi;var n})(),di=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=yi.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),t5=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=yi.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,s=this.y-e;return(r*=r)+(s*=s)<=this.radius*this.radius},n.prototype.getBounds=function(){return new di(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),n5=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=yi.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new di(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),$v=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var s=[],o=0,a=r.length;o<a;o++)s.push(r[o].x,r[o].y);r=s}this.points=r,this.type=yi.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,s=0,o=r-1;s<r;o=s++){var a=this.points[2*s],l=this.points[2*s+1],u=this.points[2*o+1];l>e!=u>e&&t<(e-l)/(u-l)*(this.points[2*o]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),i5=function(){function n(t,e,i,r,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=s,this.type=yi.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),s=e-(this.y+i),o=i*i;if(r*r+s*s<=o||(r=t-(this.x+this.width-i))*r+s*s<=o||r*r+(s=e-(this.y+this.height-i))*s<=o||(r=t-(this.x+i))*r+s*s<=o)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),ir=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),tf=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),Di=function(){function n(t,e,i,r,s,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,s,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new ir;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new ir;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,s=t.y;return e.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},n.prototype.setTransform=function(t,e,i,r,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-r,s),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(Yv-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+s*s),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*i+o.y*s),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*s)/o,this.ty=-(t*this.ty-e*s)/o,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),nf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],rf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],sf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],af=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],uP=[],r5=[],K1=Math.sign;!function kle(){for(var n=0;n<16;n++){var t=[];uP.push(t);for(var e=0;e<16;e++)for(var i=K1(nf[n]*nf[e]+sf[n]*rf[e]),r=K1(rf[n]*nf[e]+af[n]*rf[e]),s=K1(nf[n]*sf[e]+sf[n]*af[e]),o=K1(rf[n]*sf[e]+af[n]*af[e]),a=0;a<16;a++)if(nf[a]===i&&rf[a]===r&&sf[a]===s&&af[a]===o){t.push(a);break}}for(n=0;n<16;n++){var l=new Di;l.set(nf[n],rf[n],sf[n],af[n],0,0),r5.push(l)}}();var hr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return nf[n]},uY:function(n){return rf[n]},vX:function(n){return sf[n]},vY:function(n){return af[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return uP[n][t]},sub:function(n,t){return uP[n][hr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?hr.S:hr.N:2*Math.abs(t)<=Math.abs(n)?n>0?hr.E:hr.W:t>0?n>0?hr.SE:hr.SW:n>0?hr.NE:hr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=r5[hr.inv(t)];r.tx=e,r.ty=i,n.append(r)}},dP=function(){function n(){this.worldTransform=new Di,this.localTransform=new Di,this.position=new tf(this.onChange,this,0,0),this.scale=new tf(this.onChange,this,1,1),this.pivot=new tf(this.onChange,this,0,0),this.skew=new tf(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();wt.SORTABLE_CHILDREN=!1;var __=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?di.EMPTY:((t=t||new di(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var c=t.a*e.x+t.c*e.y+t.tx,u=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,s=this.maxY,o=t[0],a=t[1];e=o<e?o:e,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,e=(o=t[2])<e?o:e,i=(a=t[3])<i?a:i,r=o>r?o:r,s=a>s?a:s,e=(o=t[4])<e?o:e,i=(a=t[5])<i?a:i,r=o>r?o:r,s=a>s?a:s,i=(a=t[7])<i?a:i,r=(o=t[6])>r?o:r,s=a>s?a:s,this.minX=e=o<e?o:e,this.minY=i,this.maxX=r,this.maxY=s},n.prototype.addFrame=function(t,e,i,r,s){this.addFrameMatrix(t.worldTransform,e,i,r,s)},n.prototype.addFrameMatrix=function(t,e,i,r,s){var o=t.a,a=t.b,l=t.c,c=t.d,u=t.tx,d=t.ty,v=this.minX,E=this.minY,I=this.maxX,A=this.maxY,N=o*e+l*i+u,k=a*e+c*i+d;v=N<v?N:v,E=k<E?k:E,I=N>I?N:I,A=k>A?k:A,v=(N=o*r+l*i+u)<v?N:v,E=(k=a*r+c*i+d)<E?k:E,I=N>I?N:I,A=k>A?k:A,v=(N=o*e+l*s+u)<v?N:v,E=(k=a*e+c*s+d)<E?k:E,I=N>I?N:I,A=k>A?k:A,E=(k=a*r+c*s+d)<E?k:E,I=(N=o*r+l*s+u)>I?N:I,A=k>A?k:A,this.minX=v=N<v?N:v,this.minY=E,this.maxX=I,this.maxY=A},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,s=this.minY,o=this.maxX,a=this.maxY,l=e;l<i;l+=2){var c=t[l],u=t[l+1];r=c<r?c:r,s=u<s?u:s,o=c>o?c:o,a=u>a?u:a}this.minX=r,this.minY=s,this.maxX=o,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,s,o){void 0===s&&(s=0),void 0===o&&(o=s);for(var a=t.a,l=t.b,c=t.c,u=t.d,d=t.tx,v=t.ty,E=this.minX,I=this.minY,A=this.maxX,N=this.maxY,k=i;k<r;k+=2){var L=e[k],W=e[k+1],Z=a*L+c*W+d,ee=u*W+l*L+v;E=Math.min(E,Z-s),A=Math.max(A,Z+s),I=Math.min(I,ee-o),N=Math.max(N,ee+o)}this.minX=E,this.minY=I,this.maxX=A,this.maxY=N},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,s=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>s?t.maxY:s},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,s=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=s&&r<=o){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=s&&r<=o){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,s,o){e-=o,i+=s,r+=o,this.minX=this.minX<(t-=s)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),hP=function(n,t){return(hP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function fP(n,t){function e(){this.constructor=n}hP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Pr=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new dP,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new __,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return fP(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var s=i[r];Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e,s))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new di),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new di),e=this._localBoundsRect),this._localBounds||(this._localBounds=new __);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,s){return i&&(e=i.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,s,o,a,l,c,u){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new pP),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Z4},set:function(e){this.transform.rotation=e*e5},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(f_()),pP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return fP(t,n),t}(Pr);Pr.prototype.displayObjectUpdateTransform=Pr.prototype.updateTransform;var J1=(()=>{return(n=J1||(J1={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",J1;var n})();function Fle(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var vr=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=wt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return fP(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var s=0;s<i.length;s++)this.addChild(i[s]);else{var o=i[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),s=this.getChildIndex(i);this.children[r]=i,this.children[s]=e,this.onChildrenChange(r<s?r:s)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);Zh(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var s=0;s<i.length;s++)this.removeChild(i[s]);else{var o=i[0],a=this.children.indexOf(o);if(-1===a)return null;o.parent=null,o.transform._parentID=-1,Zh(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,Zh(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,o=i-e;if(o>0&&o<=i){a=this.children.splice(e,o);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var s=this.children[i];s._lastSortedIndex=i,!e&&0!==s.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Fle),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<i.length;s++)i[s].enabled&&this._enabledFilters.push(i[s])}var o=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==J1.NONE));o&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),s=0;for(var a=this.children.length;s<a;s++)this.children[s].render(e);o&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var s=0;s<r.length;++s)r[s].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(Pr);vr.prototype.containerUpdateTransform=vr.prototype.updateTransform;var s5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Pr.mixin(s5);var gP=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(La.tablet||La.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(La.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,c=a.height,u=a.resolution,d=e.width/l*u,v=e.height/c*u,E=this.div;E.style.left=e.left+"px",E.style.top=r+"px",E.style.width=l+"px",E.style.height=c+"px";for(var I=0;I<this.children.length;I++){var A=this.children[I];if(A.renderId!==this.renderId)A._accessibleActive=!1,Zh(this.children,I,1),this.div.removeChild(A._accessibleDiv),this.pool.push(A._accessibleDiv),A._accessibleDiv=null,I--;else{E=A._accessibleDiv;var N=A.hitArea,k=A.worldTransform;A.hitArea?(E.style.left=(k.tx+N.x*k.a)*d+"px",E.style.top=(k.ty+N.y*k.d)*v+"px",E.style.width=N.width*k.a*d+"px",E.style.height=N.height*k.d*v+"px"):(N=A.getBounds(),this.capHitArea(N),E.style.left=N.x*d+"px",E.style.top=N.y*v+"px",E.style.width=N.width*d+"px",E.style.height=N.height*v+"px",E.title!==A.accessibleTitle&&null!==A.accessibleTitle&&(E.title=A.accessibleTitle),E.getAttribute("aria-label")!==A.accessibleHint&&null!==A.accessibleHint&&E.setAttribute("aria-label",A.accessibleHint)),(A.accessibleTitle!==E.title||A.tabIndex!==E.tabIndex)&&(E.title=A.accessibleTitle,E.tabIndex=A.tabIndex,this.debug&&this.updateDebugHTML(E))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();wt.TARGET_FPMS=.06;var ic=(()=>{return(n=ic||(ic={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",ic;var n})(),_P=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Gs=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _P(null,null,1/0),this.deltaMS=1/wt.TARGET_FPMS,this.elapsedMS=1/wt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=ic.NORMAL),this._addListener(new _P(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=ic.NORMAL),this._addListener(new _P(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*wt.TARGET_FPMS;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,wt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),l5=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,ic.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Gs.shared:new Gs,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),mP=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new ir,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),vP=function(n,t){return(vP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},c5=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),Z1=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),zle=function(){function n(){this._tempPoint=new ir}return n.prototype.recursiveFindHit=function(t,e,i,r,s){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,l=s=e.interactive||s,c=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,c=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),c&&e.interactiveChildren&&e.children)for(var u=e.children,d=u.length-1;d>=0;d--){var v=u[d],E=this.recursiveFindHit(t,v,i,r,l);if(E){if(!v.parent)continue;l=!1,E&&(t.target&&(r=!1),a=!0)}}return s&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),u5={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Pr.mixin(u5);var tS={target:null,data:{global:null}},yP=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new mP,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new c5,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new zle,r._tempDisplayObject=new pP,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function Vle(n,t){function e(){this.constructor=n}vP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return tS.target=null,tS.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(tS,i,null,!0),tS.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Gs.system.add(this.tickerUpdate,this,ic.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Gs.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var s;s=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;e.x=this.interactionDOMElement.width/s.width*(i-s.left)*o,e.y=this.interactionDOMElement.height/s.height*(r-s.top)*o},t.prototype.processInteractive=function(e,i,r,s){var o=this.search.findHit(e,i,r,s),a=this.delayedEvents;if(!a.length)return o;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var c=0;c<l;c++){var u=a[c],d=u.displayObject,v=u.eventString,E=u.eventData;E.stopsPropagatingAt===d&&(E.stopPropagationHint=!0),this.dispatchEvent(d,v,E)}return o},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var s=i.length,o=0;o<s;o++){var a=i[o],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),"touch"===a.pointerType?this.emit("touchstart",c):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var s=e.data,o=e.data.identifier;if(r)if(i.trackedPointers[o]||(i.trackedPointers[o]=new Z1(o)),this.dispatchEvent(i,"pointerdown",e),"touch"===s.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===s.pointerType||"pen"===s.pointerType){var a=2===s.button;a?i.trackedPointers[o].rightDown=!0:i.trackedPointers[o].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var s=this.normalizeToPointerData(e),o=s.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<o;l++){var c=s[l],u=this.getInteractionDataForPointerId(c),d=this.configureInteractionEventForDOMEvent(this.eventData,c,u);d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,d),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit(2===c.button?"rightup"+a:"mouseup"+a,d):"touch"===c.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,d),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,s=e.data.identifier;void 0!==i.trackedPointers[s]&&(delete i.trackedPointers[s],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var s=e.data,o=e.data.identifier,a=i.trackedPointers[o],l="touch"===s.pointerType,c="mouse"===s.pointerType||"pen"===s.pointerType,u=!1;if(c){var d=2===s.button,v=Z1.FLAGS,I=void 0!==a&&a.flags&(d?v.RIGHT_DOWN:v.LEFT_DOWN);r?(this.dispatchEvent(i,d?"rightup":"mouseup",e),I&&(this.dispatchEvent(i,d?"rightclick":"click",e),u=!0)):I&&this.dispatchEvent(i,d?"rightupoutside":"mouseupoutside",e),a&&(d?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!c||u)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[o]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,s=0;s<r;s++){var o=i[s],a=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===o.pointerType&&this.emit("touchmove",l),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var s=e.data,o="touch"===s.pointerType,a="mouse"===s.pointerType||"pen"===s.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),o&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=r,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var s=e.data,o=e.data.identifier,a="mouse"===s.pointerType||"pen"===s.pointerType,l=i.trackedPointers[o];r&&!l&&(l=i.trackedPointers[o]=new Z1(o)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[o]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",o)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new mP).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,s=e.changedTouches.length;r<s;r++){var o=e.changedTouches[r];void 0===o.button&&(o.button=e.touches.length?1:0),void 0===o.buttons&&(o.buttons=e.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,i.push(o)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(f_()),eo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var v=0,E=d.length;v<E;v++)d[v][u](t,e,i,r,s,o,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(eo.prototype,{dispatch:{value:eo.prototype.emit},run:{value:eo.prototype.emit}}),wt.PREFER_ENV=La.any?Ls.WEBGL:Ls.WEBGL2,wt.STRICT_TEXTURE_CACHE=!1;var Xv=[];function nS(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=Xv.length-1;r>=0;--r){var s=Xv[r];if(s.test&&s.test(n,e))return new s(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var bP=function(n,t){return(bP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function rr(n,t){function e(){this.constructor=n}bP(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var SP=function(){return SP=Object.assign||function(t){for(var i,e=arguments,r=1,s=arguments.length;r<s;r++)for(var o in i=e[r])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},SP.apply(this,arguments)},lf=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new eo("setRealSize"),this.onUpdate=new eo("update"),this.onError=new eo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),m_=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,o,a)||this).data=e,r}return rr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(lf),Yle={scaleMode:ds.NEAREST,format:nt.RGBA,alphaMode:Us.NPM},_i=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,s=(i=i||{}).alphaMode,o=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,v=i.format,E=i.type,I=i.target,A=i.resolution;return e&&!(e instanceof lf)&&((e=nS(e,i.resourceOptions)).internal=!0),r.resolution=A||wt.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:wt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:wt.ANISOTROPIC_LEVEL,r._wrapMode=d||wt.WRAP_MODE,r._scaleMode=void 0!==l?l:wt.SCALE_MODE,r.format=v||nt.RGBA,r.type=E||Dt.UNSIGNED_BYTE,r.target=I||ha.TEXTURE_2D,r.alphaMode=void 0!==s?s:Us.UNPACK,r.uid=Fd(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return rr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=aP(this.realWidth)&&aP(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete pl[this.cacheId],delete fa[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=wt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Fd()),o=e._pixiId);var l=pl[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=o,t.addToCache(l,o)),l},t.fromBuffer=function(e,i,r,s){e=e||new Float32Array(i*r*4);var o=new m_(e,{width:i,height:r}),a=e instanceof Float32Array?Dt.FLOAT:Dt.UNSIGNED_BYTE;return new t(o,Object.assign(Yle,s||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),pl[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),pl[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=pl[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete pl[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete pl[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(f_()),iS=function(n){function t(e,i){var r=this,s=i||{};(r=n.call(this,s.width,s.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new _i;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return rr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof lf?e[r]:nS(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(s){return s.resource}).filter(function(s){return s}).map(function(s){return s.load()});return this._load=Promise.all(r).then(function(){var s=e.items[0];return e.resize(s.realWidth,s.realHeight),Promise.resolve(e)}),this._load},t}(lf),EP=function(n){function t(e,i){var l,c,r=this,s=i||{},o=s.width,a=s.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:o,height:a})||this,l&&r.initFromArray(l,i),r}return rr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ha.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,o,0,i.format,r.type,null);for(var u=0;u<o;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(iS),Hc=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return rr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=Q4(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,s){var o=e.gl,a=i.realWidth,l=i.realHeight;return s=s||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK),this.noSubImage||i.target!==o.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,o.texImage2D(i.target,0,r.internalFormat,i.format,r.type,s)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,r.type,s),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(lf),qv=function(n){function t(e){return n.call(this,e)||this}return rr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Hc),CP=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height,l=s.autoLoad,c=s.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:o,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return rr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ha.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var s=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];s[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),s[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(iS),rS=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var s=new Image;Hc.crossOrigin(s,e,i.crossorigin),s.src=e,e=s}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:wt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return rr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,s){var o=i.source;i.url=o.src;var a=function(){i.destroyed||(o.onload=null,o.onerror=null,i.resize(o.width,o.height),i._load=null,r(i.createBitmap?i.process():i))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(o){return o.blob()}).then(function(o){return r(o,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Us.UNPACK?"premultiply":"none"})}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var s=!0,o=i._glTextures;for(var a in o){var l=o[a];if(l!==r&&l.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Hc),TP=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return rr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;Hc.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,s=i.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=r*e.scale,a=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/s*r,a=e._overrideHeight||e._overrideWidth/r*s),o=Math.round(o),a=Math.round(a);var l=e.source;l.width=o,l.height=a,l._pixiId="canvas_"+Fd(),l.getContext("2d").drawImage(i,0,0,r,s,0,0,o,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Hc),wP=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Hc.crossOrigin(s,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,v=(u=u||e[a]).split("?").shift().toLowerCase(),E=v.substr(v.lastIndexOf(".")+1);d=d||t.MIME_TYPES[E]||"video/"+E,l.src=u,l.type=d,s.appendChild(l)}e=s}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return rr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Gs.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Gs.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Gs.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Gs.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Gs.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Gs.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Hc),MP=function(n){function t(e){return n.call(this,e)||this}return rr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Hc);Xv.push(rS,MP,qv,wP,TP,m_,CP,EP);var d5={__proto__:null,Resource:lf,BaseImageResource:Hc,INSTALLED:Xv,autoDetectResource:nS,AbstractMultiResource:iS,ArrayResource:EP,BufferResource:m_,CanvasResource:qv,CubeResource:CP,ImageResource:rS,SVGResource:TP,VideoResource:wP,ImageBitmapResource:MP},$le=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return rr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t}(m_),sS=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new eo("disposeFramebuffer"),this.multisample=Gn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new _i(null,{scaleMode:ds.NEAREST,resolution:1,mipmap:zo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new _i(new $le(null,{width:this.width,height:this.height}),{scaleMode:ds.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:zo.OFF,format:nt.DEPTH_COMPONENT,type:Dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(s=r.resolution),e/s)}var s;this.depthTexture&&this.depthTexture.setSize(t/(s=this.depthTexture.resolution),e/s)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),Kv=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];e={width:r,height:s,scaleMode:o,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Gn.NONE,(i=n.call(this,null,e)||this).mipmap=zo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new sS(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return rr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(_i),OP=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,s=e.height;if(i){var o=t.width/2/r,a=t.height/2/s,l=t.x/r+o,c=t.y/s+a;i=hr.add(i,hr.NW),this.x0=l+o*hr.uX(i),this.y0=c+a*hr.uY(i),i=hr.add(i,2),this.x1=l+o*hr.uX(i),this.y1=c+a*hr.uY(i),i=hr.add(i,2),this.x2=l+o*hr.uX(i),this.y2=c+a*hr.uY(i),i=hr.add(i,2),this.x3=l+o*hr.uX(i),this.y3=c+a*hr.uY(i)}else this.x0=t.x/r,this.y0=t.y/s,this.x1=(t.x+t.width)/r,this.y1=t.y/s,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/s,this.x3=t.x/r,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),h5=new OP,Qt=function(n){function t(e,i,r,s,o,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new di(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=s,l.valid=!1,l._uvs=h5,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new ir(a.x,a.y):new ir(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return rr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&fa[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===h5&&(this._uvs=new OP),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=wt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:e instanceof _i?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+Fd(),_i.addToCache(e,e.cacheId)),o=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Fd()),o=e._pixiId);var l=fa[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return l||e instanceof _i?!l&&e instanceof _i&&(l=new t(e),t.addToCache(l,o)):(i.resolution||(i.resolution=Wv(e)),(l=new t(new _i(e,i))).baseTexture.cacheId=o,_i.addToCache(l.baseTexture,o),t.addToCache(l,o)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),s=t.from(e,Object.assign({resourceOptions:r},i),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},t.fromBuffer=function(e,i,r,s){return new t(_i.fromBuffer(e,i,r,s))},t.fromLoader=function(e,i,r,s){var o=new _i(e,Object.assign({scaleMode:wt.SCALE_MODE,resolution:Wv(i)},s)),a=o.resource;a instanceof rS&&(a.url=i);var l=new t(o);return r||(r=i),_i.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(_i.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),fa[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),fa[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=fa[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete fa[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)fa[e.textureCacheIds[s]]===e&&delete fa[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,s=e.width,o=e.height,a=i+s>this.baseTexture.width,l=r+o>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.height);this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(f_());function oS(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Qt.EMPTY=new Qt(new _i),oS(Qt.EMPTY),oS(Qt.EMPTY.baseTexture),Qt.WHITE=function Xle(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Qt(new _i(new qv(n)))}(),oS(Qt.WHITE),oS(Qt.WHITE.baseTexture);var gl=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return rr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(i*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(o,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],s=1;s<arguments.length;s++)r[s-1]=i[s];return"number"==typeof e&&(jc("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new Kv(e))},t}(Qt),f5=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Gn.NONE);var r=new Kv(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new gl(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var s;void 0===i&&(i=1),void 0===r&&(r=Gn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?s=r>1?-r:-1:(s=((65535&(t=zv(t)))<<16|65535&(e=zv(e)))>>>0,r>1&&(s+=4294967296*r)),this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=s,o.setResolution(i),o},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Gn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),PP=function(){function n(t,e,i,r,s,o,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Dt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=s,this.start=o,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,s){return new n(t,e,i,r,s)},n}(),qle=0,ps=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=qle++,this.disposeRunner=new eo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===fs.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?fs.ELEMENT_ARRAY_BUFFER:fs.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),Kle={Float32Array,Uint32Array,Int32Array,Uint8Array},p5={5126:4,5123:2,5121:1},Qle=0,Zle={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},v_=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Qle++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new eo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,s,o,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ps||(e instanceof Array&&(e=new Float32Array(e)),e=new ps(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,s);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new PP(d,i,r,s,o,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof ps||(t instanceof Array&&(t=new Uint16Array(t)),t=new ps(t)),t.type=fs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new ps;for(r in this.attributes){var s=this.attributes[r];t.push(this.buffers[s.buffer].data),e.push(s.size*p5[s.type]/4),s.buffer=0}for(i.data=function Jle(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=X1(u);r[d]||(r[d]=new Kle[d](o)),a=r[d];for(var v=0;v<u.length;v++)a[(v/c|0)*i+l+v%c]=u[v];l+=c}return new Float32Array(o)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new ps(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new PP(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=fs.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var o,e=new n,i=[],r=[],s=[],a=0;a<t.length;a++){o=t[a];for(var l=0;l<o.buffers.length;l++)r[l]=r[l]||0,r[l]+=o.buffers[l].data.length,s[l]=0}for(a=0;a<o.buffers.length;a++)i[a]=new(Zle[X1(o.buffers[a].data)])(r[a]),e.buffers[a]=new ps(i[a]);for(a=0;a<t.length;a++)for(o=t[a],l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=fs.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,v=0;for(a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){v=a;break}for(var a in o.attributes){var E=o.attributes[a];(0|E.buffer)===v&&(u+=E.size*p5[E.type]/4)}for(a=0;a<t.length;a++){var I=t[a].indexBuffer.data;for(l=0;l<I.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[v].data.length/u,d+=I.length}}return e},n}(),g5=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return rr(t,n),t}(v_),xP=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new ps(e.vertices),e.uvBuffer=new ps(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return rr(t,n),t.prototype.map=function(e,i){var r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+i.width/e.width,this.uvs[3]=s,this.uvs[4]=r+i.width/e.width,this.uvs[5]=s+i.height/e.height,this.uvs[6]=r,this.uvs[7]=s+i.height/e.height,s=i.y,this.vertices[0]=r=i.x,this.vertices[1]=s,this.vertices[2]=r+i.width,this.vertices[3]=s,this.vertices[4]=r+i.width,this.vertices[5]=s+i.height,this.vertices[6]=r,this.vertices[7]=s+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(v_),ece=0,Bd=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ece++,this.static=!!e,this.ubo=!!i,t instanceof ps?(this.buffer=t,this.buffer.type=fs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ps(new Float32Array(1)),this.buffer.type=fs.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),_5=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Gn.NONE,this.sourceFrame=new di,this.destinationFrame=new di,this.bindingSourceFrame=new di,this.bindingDestinationFrame=new di,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),aS=[new ir,new ir,new ir,new ir],IP=new Di,AP=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new f5,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new g5,this.quadUv=new xP,this.tempRect=new di,this.activeState={},this.globalUniforms=new Bd({outputFrame:new di,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new _5,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,v=e[0].autoFit,E=null===(i=e[0].legacy)||void 0===i||i,I=1;I<e.length;I++){var A=e[I];c=Math.min(c,A.resolution),u=Math.min(u,A.multisample),d=this.useMaxPadding?Math.max(d,A.padding):d+A.padding,v=v&&A.autoFit,E=E||null===(r=A.legacy)||void 0===r||r}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=c,a.multisample=u,a.legacy=E,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),v){var N=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(IP.copyFrom(s.projection.transform).invert(),N),a.sourceFrame.fit(N)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var k=this.tempRect;k.x=0,k.y=0,k.width=a.sourceFrame.width,k.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,k),s.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var s=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Co.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var v=0;for(v=0;v<i.length-1;++v){1===v&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[v].apply(this,u,d,Co.CLEAR,e);var E=u;u=d,d=E}i[v].apply(this,u,c.renderTexture,Co.BLEND,e),v>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Co.CLEAR);var i=this.renderer,r=i.renderTexture,s=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Co.CLEAR||e===Co.BLIT&&(1&s.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var s=this.renderer;s.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zs.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zs.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,s=i.destinationFrame,o=e._texture.orig,a=t.set(s.width,0,0,s.height,r.x,r.y),l=e.worldTransform.copyTo(Di.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Gn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var s=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Gn.NONE);return s.filterFrame=t.filterFrame,s},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=aS[0],r=aS[1],s=aS[2],o=aS[3];i.set(e.left,e.top),r.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(s,s),t.apply(o,o);var a=Math.min(i.x,r.x,s.x,o.x),l=Math.min(i.y,r.y,s.y,o.y),c=Math.max(i.x,r.x,s.x,o.x),u=Math.max(i.y,r.y,s.y,o.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,s){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(s){var o=s.a,l=s.c,c=s.d;if((Math.abs(s.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}(s=s?IP.copyFrom(s):IP.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}},n}(),Jv=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),RP=function(){function n(t){this.renderer=t,this.emptyRenderer=new Jv(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var s=t.elements,o=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=s[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)o[c]=d;else for(;l<r;){var v=e[l];if(!v||v._batchEnabled!==i||v._batchLocation!==l){o[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),m5=0,DP=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=m5++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=m5++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(wt.PREFER_ENV>=Ls.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),v5=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Gn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},tce=new di,NP=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new sS(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new di,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;wt.PREFER_ENV===Ls.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=i),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var s=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(s.width!==i||s.height!==r||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=i,s.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,s){void 0===s&&(s=Nd.COLOR|Nd.DEPTH);var o=this.gl;o.clearColor(t,e,i,r),o.clear(s)},n.prototype.initFramebuffer=function(t){var i=new v5(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,s=r.length;e.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=r[o];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,o=s.length;i.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var c=s[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var v=t.depthTexture;this.renderer.texture.bind(v,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Gn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Gn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,s=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&s){var c=s.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=s.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new sS(s.width,s.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||((e=tce).width=s.width,e.height=s.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,i,r):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,r),e.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new di},n.prototype.destroy=function(){this.renderer=null},n}(),kP={5126:4,5123:2,5121:1},FP=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;wt.PREFER_ENV===Ls.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(s){return i.bindVertexArrayOES(s)},t.deleteVertexArray=function(s){return i.deleteVertexArrayOES(s)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(s,o){return r.vertexAttribDivisorANGLE(s,o)},t.drawElementsInstanced=function(s,o,a,l,c){return r.drawElementsInstancedANGLE(s,o,a,l,c)},t.drawArraysInstanced=function(s,o,a,l){return r.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},s=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var s in r)if(!i[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,s=["g",t.id];for(var o in i)r[o]&&s.push(o,r[o].location);return s.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,v=t.attributes,E={},I={};for(var A in d)E[A]=0,I[A]=0;for(var A in v)!v[A].size&&a.attributeData[A]?v[A].size=a.attributeData[A].size:v[A].size||console.warn("PIXI Geometry attribute '"+A+"' size cannot be determined (likely the bound shader does not have the attribute)"),E[v[A].buffer]+=v[A].size*kP[v[A].type];for(var A in v){var N=v[A],k=N.size;void 0===N.stride&&(N.stride=E[N.buffer]===k*kP[N.type]?0:E[N.buffer]),void 0===N.start&&(N.start=I[N.buffer],I[N.buffer]+=k*kP[N.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var L=0;L<d.length;L++){var W=d[L];o.bind(W),i&&W._glBuffers[s].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<o.length;l++){var c=o[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(o[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=o[u.buffer],v=d._glBuffers[r];if(e.attributeData[c]){l!==v&&(s.bind(d),l=v);var E=e.attributeData[c].location;if(i.enableVertexAttribArray(E),i.vertexAttribPointer(E,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(E,1)}}}},n.prototype.draw=function(t,e,i,r){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,l,(i||0)*a,r||1):s.drawElements(t,e||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,i,e||o.getSize(),r||1):s.drawArrays(t,i,e||o.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),y5=function(){function n(t){void 0===t&&(t=null),this.type=Ci.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=wt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ci.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function b5(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function S5(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),s={},o=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||s[c]||(s[c]=!0,0))}),a=[""];o.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function BP(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function E5(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return BP(2*t);case"bvec3":return BP(3*t);case"bvec4":return BP(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var lS,C5={},Qv=C5;function T5(){if(Qv===C5||Qv&&Qv.isContextLost()){var n=document.createElement("canvas"),t=void 0;wt.PREFER_ENV>=Ls.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Qv=t}return Qv}function w5(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===hs.HIGH&&e!==hs.HIGH&&(i=hs.MEDIUM),"precision "+i+" float;\n"+n}return e!==hs.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var rce={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function M5(n){return rce[n]}var cS=null,O5={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function P5(n,t){if(!cS){var e=Object.keys(O5);cS={};for(var i=0;i<e.length;++i){var r=e[i];cS[n[r]]=O5[r]}}return cS[t]}var Zv,cf=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],sce={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},oce={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},lce=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function cce(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function x5(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=lce.replace(/%forloop%/gi,cce(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var fce=0,uS={},y_=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=fce++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),uS[i]?(uS[i]++,i+="-"+uS[i]):uS[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=w5(this.vertexSrc,wt.PRECISION_VERTEX,hs.HIGH),this.fragmentSrc=w5(this.fragmentSrc,wt.PRECISION_FRAGMENT,function ice(){if(!lS){lS=hs.MEDIUM;var n=T5();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);lS=t.precision?hs.HIGH:hs.MEDIUM}}return lS}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,s=cP[r];return s||(cP[r]=s=new n(t,e,i)),s},n}(),Nu=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Bd?e:new Bd(e):new Bd({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(y_.from(t,e),i)},n}(),Ld=function(){function n(){this.data=0,this.blendMode=Ke.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ke.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),ku=function(n){function t(e,i,r){var s=this,o=y_.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(s=n.call(this,o,r)||this).padding=0,s.resolution=wt.FILTER_RESOLUTION,s.multisample=wt.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new Ld,s}return rr(t,n),t.prototype.apply=function(e,i,r,s,o){e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Nu),I5=new Di,dS=function(){function n(t,e){this._texture=t,this.mapCoord=new Di,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var s=t[r],o=t[r+1];e[r]=s*i.a+o*i.c+i.tx,e[r+1]=s*i.b+o*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,s=e.trim;s&&(I5.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(I5));var o=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/o.width,a[1]=(e._frame.y+l+c)/o.height,a[2]=(e._frame.x+e._frame.width-l+c)/o.width,a[3]=(e._frame.y+e._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},n}(),A5=function(n){function t(e,i,r){var s=this,o=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(o=e,e=void 0,i=void 0,r=void 0),(s=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,s.maskMatrix=new Di,s}return rr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new dS(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,s))},t}(ku),zP=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new y5;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ci.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ci.SCISSOR:this.renderer.scissor.push(i);break;case Ci.STENCIL:this.renderer.stencil.push(i);break;case Ci.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ci.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ci.SCISSOR:this.renderer.scissor.pop();break;case Ci.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ci.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ci.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ci.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ci.SCISSOR:Ci.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,s=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new A5]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;o[0].resolution=c,o[0].multisample=u,o[0].maskSprite=r;var v=s.filterArea;s.filterArea=r.getBounds(!0),a.filter.push(s,o),s.filterArea=v,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),R5=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),D5=new Di,WP=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return rr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,s=this.renderer,o=s.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,s=e.c,o=e.d;return(Math.abs(e.b)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,s,o){t.isMatrixRotated(o)||((o=o?D5.copyFrom(o):D5.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(R5),YP=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return rr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(R5),$P=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Di,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var s=this.projectionMatrix,o=r?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),uf=new di,e0=new di,XP=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new di,this.destinationFrame=new di,this.viewportFrame=new di}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var s,o,a,r=this.renderer;this.current=t,t?(a=(s=t.baseTexture).resolution,e||(uf.width=t.frame.width,uf.height=t.frame.height,e=uf),i||(e0.x=t.frame.x,e0.y=t.frame.y,e0.width=e.width,e0.height=e.height,i=e0),o=s.framebuffer):(a=r.resolution,e||(uf.width=r.screen.width,uf.height=r.screen.height,e=uf),i||((i=uf).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,e,a,!o),this.renderer.mask.setMaskStack(t?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,s=i.width!==r.width||i.height!==r.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,c=o.width,u=o.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function vce(n,t,e,i,r){e.buffer.update(r)}var yce={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},N5={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function k5(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,s=0;s<t.length;s++){var o=t[s];if(e=N5[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),o.offset=r,r+=e,i=e):(o.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function F5(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,s){return r.index-s.index}),e}function B5(n,t){if(!n.autoManage)return{size:0,syncFunc:vce};for(var i=k5(F5(n.uniforms,t)),r=i.uboElements,s=i.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,v=0;v<cf.length;v++){var E=cf[v];if(E.codeUbo&&E.test(l.data,c)){o.push("offset = "+l.offset/4+";",cf[v].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var I=M5(l.data.type),A=Math.max(N5[l.data.type]/16,1),N=I/A;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*A+"; i++)\n                {\n                    for(var j = 0; j < "+N+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-N%4)%4+";\n                }\n\n                ")}else o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+yce[l.data.type]+";\n                ")}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var bce=function n(){},L5=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function U5(n,t){var e=b5(n,n.VERTEX_SHADER,t.vertexSrc),i=b5(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function nce(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||S5(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||S5(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function Sce(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=t.getActiveAttrib(n,r);if(0!==s.name.indexOf("gl_")){var o=P5(t,s.type),a={type:o,name:s.name,size:M5(o),location:t.getAttribLocation(n,s.name)};e[s.name]=a}}return e}(r,n),t.uniformData=function Ece(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var s=t.getActiveUniform(n,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=P5(t,s.type);e[o]={name:o,index:r,type:l,size:s.size,isArray:a,value:E5(l,s.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort(function(u,d){return u>d?1:-1});for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,n.bindAttribLocation(r,o,s[o]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var o in t.uniformData){var l=t.uniformData[o];a[o]={location:n.getUniformLocation(r,o),value:E5(l.type,l.size)}}return new L5(r,a)}var Cce=0,hS={textureCount:0,uboCount:0},qP=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Cce++}return n.prototype.systemCheck=function(){if(!function uce(){if("boolean"==typeof Zv)return Zv;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");Zv=!0===n({a:"b"},"a","b")}catch(t){Zv=!1}return Zv}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(hS.textureCount=0,hS.uboCount=0,this.syncUniformGroup(t.uniformGroup,hS)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function ace(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var s=t[r];if(s){for(var o=n.uniforms[r],a=!1,l=0;l<cf.length;l++)if(cf[l].test(s,o)){i.push(cf[l].code(r,o)),a=!0;break}if(!a){var u=(1===s.size?sce:oce)[s.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,hS,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var s=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=B5(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,s=[i+"-"];for(var o in r)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=U5(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),KP=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ke.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Ld,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Tce(n,t){return void 0===t&&(t=[]),t[Ke.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.ADD]=[n.ONE,n.ONE],t[Ke.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.NONE]=[0,0],t[Ke.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ke.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ke.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ke.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ke.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ke.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ke.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ke.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ke.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ke.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),JP=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=wt.GC_MAX_IDLE,this.checkCountMax=wt.GC_MAX_CHECK_COUNT,this.mode=wt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==p_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var s=e[r];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),fS=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Dt.UNSIGNED_BYTE,this.internalFormat=nt.RGBA,this.samplerType=0},QP=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _i,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Ace(n){var t,e,i,r,s,o,a,l,c,u,d,v,E,I,A,N,k,L,W,Z,ee,te,ge;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Dt.UNSIGNED_BYTE]=((e={})[nt.RGBA]=n.RGBA8,e[nt.RGB]=n.RGB8,e[nt.RG]=n.RG8,e[nt.RED]=n.R8,e[nt.RGBA_INTEGER]=n.RGBA8UI,e[nt.RGB_INTEGER]=n.RGB8UI,e[nt.RG_INTEGER]=n.RG8UI,e[nt.RED_INTEGER]=n.R8UI,e[nt.ALPHA]=n.ALPHA,e[nt.LUMINANCE]=n.LUMINANCE,e[nt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Dt.BYTE]=((i={})[nt.RGBA]=n.RGBA8_SNORM,i[nt.RGB]=n.RGB8_SNORM,i[nt.RG]=n.RG8_SNORM,i[nt.RED]=n.R8_SNORM,i[nt.RGBA_INTEGER]=n.RGBA8I,i[nt.RGB_INTEGER]=n.RGB8I,i[nt.RG_INTEGER]=n.RG8I,i[nt.RED_INTEGER]=n.R8I,i),t[Dt.UNSIGNED_SHORT]=((r={})[nt.RGBA_INTEGER]=n.RGBA16UI,r[nt.RGB_INTEGER]=n.RGB16UI,r[nt.RG_INTEGER]=n.RG16UI,r[nt.RED_INTEGER]=n.R16UI,r[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Dt.SHORT]=((s={})[nt.RGBA_INTEGER]=n.RGBA16I,s[nt.RGB_INTEGER]=n.RGB16I,s[nt.RG_INTEGER]=n.RG16I,s[nt.RED_INTEGER]=n.R16I,s),t[Dt.UNSIGNED_INT]=((o={})[nt.RGBA_INTEGER]=n.RGBA32UI,o[nt.RGB_INTEGER]=n.RGB32UI,o[nt.RG_INTEGER]=n.RG32UI,o[nt.RED_INTEGER]=n.R32UI,o[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,o),t[Dt.INT]=((a={})[nt.RGBA_INTEGER]=n.RGBA32I,a[nt.RGB_INTEGER]=n.RGB32I,a[nt.RG_INTEGER]=n.RG32I,a[nt.RED_INTEGER]=n.R32I,a),t[Dt.FLOAT]=((l={})[nt.RGBA]=n.RGBA32F,l[nt.RGB]=n.RGB32F,l[nt.RG]=n.RG32F,l[nt.RED]=n.R32F,l[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Dt.HALF_FLOAT]=((c={})[nt.RGBA]=n.RGBA16F,c[nt.RGB]=n.RGB16F,c[nt.RG]=n.RG16F,c[nt.RED]=n.R16F,c),t[Dt.UNSIGNED_SHORT_5_6_5]=((u={})[nt.RGB]=n.RGB565,u),t[Dt.UNSIGNED_SHORT_4_4_4_4]=((d={})[nt.RGBA]=n.RGBA4,d),t[Dt.UNSIGNED_SHORT_5_5_5_1]=((v={})[nt.RGBA]=n.RGB5_A1,v),t[Dt.UNSIGNED_INT_2_10_10_10_REV]=((E={})[nt.RGBA]=n.RGB10_A2,E[nt.RGBA_INTEGER]=n.RGB10_A2UI,E),t[Dt.UNSIGNED_INT_10F_11F_11F_REV]=((I={})[nt.RGB]=n.R11F_G11F_B10F,I),t[Dt.UNSIGNED_INT_5_9_9_9_REV]=((A={})[nt.RGB]=n.RGB9_E5,A),t[Dt.UNSIGNED_INT_24_8]=((N={})[nt.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,N),t[Dt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((k={})[nt.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,k),ge=t):((L={})[Dt.UNSIGNED_BYTE]=((W={})[nt.RGBA]=n.RGBA,W[nt.RGB]=n.RGB,W[nt.ALPHA]=n.ALPHA,W[nt.LUMINANCE]=n.LUMINANCE,W[nt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,W),L[Dt.UNSIGNED_SHORT_5_6_5]=((Z={})[nt.RGB]=n.RGB,Z),L[Dt.UNSIGNED_SHORT_4_4_4_4]=((ee={})[nt.RGBA]=n.RGBA,ee),L[Dt.UNSIGNED_SHORT_5_5_5_1]=((te={})[nt.RGBA]=n.RGBA,te),ge=L),ge}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new fS(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new fS(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(s=0;s<r.length;s++)r[s]===t&&(this.currentLocation!==s&&(i.activeTexture(i.TEXTURE0+s),this.currentLocation=s),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[s]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,s=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var o=t-1;o>=0;--o){var a=i[o];a&&a._glTextures[s].samplerType!==kd.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new fS(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Dt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==kd.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,s=t.realHeight,o=i.gl;(e.width!==r||e.height!==s||e.dirtyId<0)&&(e.width=r,e.height=s,o.texImage2D(t.target,0,e.internalFormat,r,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Zh(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==zo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:fl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==zo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===ds.LINEAR){var s=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),G5={__proto__:null,FilterSystem:AP,BatchSystem:RP,ContextSystem:DP,FramebufferSystem:NP,GeometrySystem:FP,MaskSystem:zP,ScissorSystem:WP,StencilSystem:YP,ProjectionSystem:$P,RenderTextureSystem:XP,ShaderSystem:qP,StateSystem:KP,TextureGCSystem:JP,TextureSystem:QP},ZP=new Di,ex=function(n){function t(e,i){void 0===e&&(e=nc.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},wt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new di(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||wt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(jc("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return rr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=s+"px"),this.emit("resize",r,s)},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={}),"number"==typeof i&&(jc("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:s});var o=i.region,a=function Wle(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(s=o||e.getLocalBounds(null,!0)).width&&(s.width=1),0===s.height&&(s.height=1);var l=gl.create(SP({width:s.width,height:s.height},a));return ZP.tx=-s.x,ZP.ty=-s.y,this.render(e,{renderTexture:l,clear:!1,transform:ZP,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=nc.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Y1(e),Du(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(f_()),Rce=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Dce=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,s.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var s=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==s.updateID)if(s.updateID=t._updateID,i.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new Rce(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),rc=function(n){function t(e){var i=n.call(this,nc.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new eo("destroy"),contextChange:new eo("contextChange"),reset:new eo("reset"),update:new eo("update"),postrender:new eo("postrender"),prerender:new eo("prerender"),resize:new eo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new Bd({projectionMatrix:new Di},!0),i.addSystem(zP,"mask").addSystem(DP,"context").addSystem(KP,"state").addSystem(qP,"shader").addSystem(QP,"texture").addSystem(Dce,"buffer").addSystem(FP,"geometry").addSystem(NP,"framebuffer").addSystem(WP,"scissor").addSystem(YP,"stencil").addSystem($P,"projection").addSystem(JP,"textureGC").addSystem(AP,"filter").addSystem(XP,"renderTexture").addSystem(RP,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,tP(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return rr(t,n),t.create=function(e){if(Y4())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Gn.HIGH?Gn.HIGH:i>=Gn.MEDIUM?Gn.MEDIUM:i>=Gn.LOW?Gn.LOW:Gn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var s in this[i]=r,this.runners)this.runners[s].add(r);return this},t.prototype.render=function(e,i){var r,s,o,a;if(i&&(i instanceof gl?(jc("6.0.0","Renderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==s?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={});var o=n.prototype.generateTexture.call(this,e,i,r,s);return this.framebuffer.blit(),o},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return jc("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(ex);function j5(n){return rc.create(n)}var H5="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",tx="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Fce=function(){function n(t){jc("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),pS=function n(){this.texArray=null,this.blend=0,this.type=Zs.TRIANGLES,this.start=0,this.size=0,this.data=null},gS=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),_S=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),V5=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=Ld.for2d(),i.size=4*wt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return rr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;wt.PREFER_ENV===Ls.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),wt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=x5(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,s=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new pS);for(;i.length<s;)i.push(new gS);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,s=t._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++_i._globalBatch,u=0,d=s[0],v=0;o.copyBoundTextures(a,r);for(var E=0;E<this._bufferSize;++E){var I=i[E];i[E]=null,I._batchEnabled!==c&&(d.count>=r&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,v,E),v=E,d=s[++u],++c),I._batchEnabled=c,I.touched=l,d.elements[d.count++]=I)}for(d.count>0&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,v,this._bufferSize),++u,++c),E=0;E<a.length;E++)a[E]=null;_i._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,c=s.vertexSize,u=t._drawCallPool,d=this._dcIndex,v=this._aIndex,E=this._iIndex,I=u[d];I.start=this._iIndex,I.texArray=e;for(var A=i;A<r;++A){var N=o[A],L=rP[N._texture.baseTexture.alphaMode?1:0][N.blendMode];o[A]=null,i<A&&I.blend!==L&&(I.size=E-I.start,i=A,(I=u[++d]).texArray=e,I.start=E),this.packInterleavedGeometry(N,a,l,v,E),v+=N.vertexData.length/2*c,E+=N.indices.length,I.blend=L}i<r&&(I.size=E-I.start,++d),this._dcIndex=d,this._aIndex=v,this._iIndex=E},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,s=e._indexBuffer;wt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,s=i.state,o=t._drawCallPool,a=null,l=0;l<e;l++){var c=o[l],u=c.texArray,d=c.type,v=c.size,E=c.start,I=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=I,s.set(this.state),r.drawElements(d,v,r.UNSIGNED_SHORT,2*E)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),wt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=zv(Math.ceil(e/8)),r=lP(i),s=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new _S(s*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var i=zv(Math.ceil(e/12)),r=lP(i),s=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o},t.prototype.packInterleavedGeometry=function(e,i,r,s,o){for(var a=i.uint32View,l=i.float32View,c=s/this.vertexSize,u=e.uvs,d=e.indices,v=e.vertexData,E=e._texture.baseTexture._batchLocation,I=Math.min(e.worldAlpha,1),A=I<1&&e._texture.baseTexture.alphaMode?$1(e._tintRGB,I):e._tintRGB+(255*I<<24),N=0;N<v.length;N+=2)l[s++]=v[N],l[s++]=v[N+1],l[s++]=u[N],l[s++]=u[N+1],a[s++]=A,l[s++]=E;for(N=0;N<d.length;N++)r[o++]=c+d[N]},t._drawCallPool=[],t._textureArrayPool=[],t}(Jv),z5=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Bd.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new y_(this.vertexSrc,r)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Di,default:this.defaultGroupCache[t]};return new Nu(this.programCache[t],s)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),nx=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new ps(null,e,!1),i._indexBuffer=new ps(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Dt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Dt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Dt.FLOAT).addIndex(i._indexBuffer),i}return rr(t,n),t}(v_),W5="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Y5="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",$5=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:W5,fragment:Y5,geometryClass:nx,vertexSize:6},t),i=e.vertex,r=e.fragment,s=e.vertexSize,o=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new z5(i,r),u.geometryClass=o,u.vertexSize=s,u}return rr(l,a),l}(V5)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return W5},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return Y5},enumerable:!1,configurable:!0}),n}(),X5=$5.create(),q5={},Bce=function(n){Object.defineProperty(q5,n,{get:function(){return jc("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),d5[n]}})};for(var ix in d5)Bce(ix);var K5={},Lce=function(n){Object.defineProperty(K5,n,{get:function(){return jc("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),G5[n]}})};for(var ix in G5)Lce(ix);var t0=function(){function n(t){var e=this;this.stage=new vr,t=Object.assign({forceCanvas:!1},t),this.renderer=j5(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(s){s.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),Uce=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var s=e._resizeTo;i=s.clientWidth,r=s.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();t0.registerPlugin(Uce);var J5=new di,Z5=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,e=this.renderer,s=!1,a=!1;t&&(t instanceof gl?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(i=o.baseTexture.resolution,r=o.frame,s=!1,e.renderTexture.bind(o)):(i=this.renderer.resolution,s=!0,(r=J5).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),c=Math.floor(r.height*i+1e-4),u=new g_(l,c,1),d=new Uint8Array(4*l*c),v=e.gl;v.readPixels(r.x*i,r.y*i,l,c,v.RGBA,v.UNSIGNED_BYTE,d);var E=u.context.getImageData(0,0,l,c);if(n.arrayPostDivide(d,E.data),u.context.putImageData(E,0,0),s){var I=new g_(u.width,u.height,1);I.context.scale(1,-1),I.context.drawImage(u.canvas,0,-c),u.destroy(),u=I}return a&&o.destroy(!0),u.canvas},n.prototype.pixels=function(t){var i,r,s,e=this.renderer,o=!1;t&&(t instanceof gl?s=t:(s=this.renderer.generateTexture(t),o=!0)),s?(i=s.baseTexture.resolution,r=s.frame,e.renderTexture.bind(s)):(i=e.resolution,(r=J5).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,c=new Uint8Array(4*a*l),u=e.gl;return u.readPixels(r.x*i,r.y*i,a,l,u.RGBA,u.UNSIGNED_BYTE,c),o&&s.destroy(!0),n.arrayPostDivide(c,c),c},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),mS=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function eU(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var Fu=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof mS))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return eU(this,new mS(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return eU(this,new mS(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof mS))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function tU(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},s=14;s--;)r[e.key[s]]=i[s]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(o,a,l){a&&(r[e.q.name][a]=l)}),r}var Gce=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),vS=null;function iU(){}function rU(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function rx(n){return n.toString().replace("object ","")}var n,s,xr=function(){function n(t,e,i){if(this._dequeue=iU,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=iU,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Fu,this.onProgress=new Fu,this.onComplete=new Fu,this.onAfterMiddleware=new Fu}return n.setExtensionLoadType=function(t,e){rU(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){rU(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:Gce&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(rx(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(rx(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(rx(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var o=document.createElement("div");o.innerHTML=e,this.data=o}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,vS||(vS=document.createElement("a")),vS.href=t;var i=tU(vS.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),s=t.indexOf("#"),o=Math.min(r>-1?r:t.length,s>-1?s:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function df(){}function Wce(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var s=n;n=null,s.apply(this,i)}}(s=(n=xr||(xr={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[s.NONE=0]="NONE",s[s.DATA_URL=1]="DATA_URL",s[s.COMPLETE=2]="COMPLETE",s[s.LOADING=4]="LOADING",function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.JSON=1]="JSON",s[s.XML=2]="XML",s[s.IMAGE=3]="IMAGE",s[s.AUDIO=4]="AUDIO",s[s.VIDEO=5]="VIDEO",s[s.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(s){s[s.XHR=1]="XHR",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(s){s.DEFAULT="text",s.BUFFER="arraybuffer",s.BLOB="blob",s.DOCUMENT="document",s.JSON="json",s.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Yce=function n(t,e){this.data=t,this.callback=e},sx=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=df,this.unsaturated=df,this.empty=df,this.drain=df,this.error=df,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,s,o){if(o&&"function"!=typeof o)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new Yce(r,"function"==typeof o?o:df);s?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,Wce(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],s=0;s<arguments.length;s++)r[s]=i[s];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=df,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var s=0,o=t.length;!function a(l){l||s===o?i&&i(l):r?setTimeout(function(){e(t[s++],a)},1):e(t[s++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),$ce=/(#[\w-]+)?$/,To=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=sx.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Fu,this.onError=new Fu,this.onLoad=new Fu,this.onStart=new Fu,this.onComplete=new Fu;for(var r=0;r<n._plugins.length;++r){var s=n._plugins[r],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new xr(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var c=s.progressChunk*(o.length+1)/(o.length+2);for(s.children.push(this.resources[t]),s.progressChunk=c,a=0;a<o.length;++a)o[a].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=tU(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=$ce.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,sx.eachSeries(this._beforeMiddleware,function(r,s){r.call(i,t,function(){s(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),sx.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();To.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var sU=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?To.shared:new To},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),oU=function(){function n(){}return n.add=function(){xr.setExtensionLoadType("svg",xr.LOAD_TYPE.XHR),xr.setExtensionXhrType("svg",xr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==xr.TYPE.IMAGE&&"svg"!==t.extension?e():Qt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),aU=self.URL||self.webkitURL;To.registerPlugin({use:function Kce(n,t){if(n.data){if(n.xhr&&n.xhrType===xr.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=aU.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=xr.TYPE.IMAGE,void(n.data.onload=function(){aU.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function qce(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],s=0;s<i.length;++s)i[s]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(s=0;s<r.length;++s)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[s])}return t}(n.xhr.responseText),n.type=xr.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),To.registerPlugin(oU);var Li,Dn=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Dn||(Dn={})),Dn))(),n0=((Li={})[Dn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Li[Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Li[Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Li[Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Li[Dn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Li[Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Li[Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Li[Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Li[Dn.COMPRESSED_R11_EAC]=.5,Li[Dn.COMPRESSED_SIGNED_R11_EAC]=.5,Li[Dn.COMPRESSED_RG11_EAC]=1,Li[Dn.COMPRESSED_SIGNED_RG11_EAC]=1,Li[Dn.COMPRESSED_RGB8_ETC2]=.5,Li[Dn.COMPRESSED_RGBA8_ETC2_EAC]=1,Li[Dn.COMPRESSED_SRGB8_ETC2]=.5,Li[Dn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Li[Dn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Li[Dn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Li[Dn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Li[Dn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Li[Dn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Li[Dn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Li[Dn.COMPRESSED_RGB_ETC1_WEBGL]=.5,Li[Dn.COMPRESSED_RGB_ATC_WEBGL]=.5,Li[Dn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Li[Dn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Li),ax=function(n,t){return(ax=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function lU(n,t){function e(){this.constructor=n}ax(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var r0,sc,cU=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var s,o,r=this;return"string"==typeof e?(s=e,o=new Uint8Array):(s=null,o=e),(r=n.call(this,o,i)||this).origin=s,r.buffer=o?new _S(o):null,r.origin&&!1!==i.autoLoad&&r.load(),o&&o.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return lU(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function Jce(n,t,e,i){return new(e||(e=Promise))(function(r,s){function o(c){try{l(i.next(c))}catch(u){s(u)}}function a(c){try{l(i.throw(c))}catch(u){s(u)}}function l(c){c.done?r(c.value):new e(function(u){u(c.value)}).then(o,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function Qce(n,t){var i,r,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(6===c[0]&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return[4,s.sent().blob()];case 2:return[4,s.sent().arrayBuffer()];case 3:return r=s.sent(),this.data=new Uint32Array(r),this.buffer=new _S(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}(m_),yS=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return lU(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var c=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,c.levelID,this.format,c.levelWidth,c.levelHeight,0,c.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,s,o,a,l){for(var c=new Array(r),u=e.byteOffset,d=a,v=l,E=d+s-1&~(s-1),I=v+o-1&~(o-1),A=E*I*n0[i],N=0;N<r;N++)c[N]={levelID:N,levelWidth:r>1?d:E,levelHeight:r>1?v:I,levelBuffer:new Uint8Array(e.buffer,u,A)},u+=A,A=(E=(d=d>>1||1)+s-1&~(s-1))*(I=(v=v>>1||1)+o-1&~(o-1))*n0[i];return c},t}(cU),uU=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===xr.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var s=i.textures,o=void 0,a=void 0,l=0,c=s.length;l<c;l++){var u=s[l],d=u.src,v=u.format;if(v||(a=d),n.textureFormats[v]){o=d;break}}if(!(o=o||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(o===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var E={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},I=Qh.resolve(t.url.replace(this.baseUrl,""),o);this.add(i.cacheID,I,E,function(N){if(N.error)e(N.error);else{var k=N.texture,W=N.textures;Object.assign(t,{texture:void 0===k?null:k,textures:void 0===W?{}:W}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var s=i[r];!s||Object.assign(n.textureFormats,Object.getPrototypeOf(s))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function dU(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(s){return new Qt(new _i(s,Object.assign({mipmap:zo.OFF,alphaMode:Us.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(s,o){var a=s.baseTexture,l=n+"-"+(o+1);_i.addToCache(a,l),Qt.addToCache(s,l),0===o&&(_i.addToCache(a,n),Qt.addToCache(s,n),i.texture=s),i.textures[l]=s}),i}xr.setExtensionXhrType("dds",xr.XHR_RESPONSE_TYPE.BUFFER);var b_,hf,s0,_l=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(_l||(_l={})),_l))(),CS=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(CS||(CS={})),CS))(),fue=((r0={})[827611204]=Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,r0[861165636]=Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,r0[894720068]=Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT,r0),pue=((sc={})[_l.DXGI_FORMAT_BC1_TYPELESS]=Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,sc[_l.DXGI_FORMAT_BC1_UNORM]=Dn.COMPRESSED_RGBA_S3TC_DXT1_EXT,sc[_l.DXGI_FORMAT_BC2_TYPELESS]=Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,sc[_l.DXGI_FORMAT_BC2_UNORM]=Dn.COMPRESSED_RGBA_S3TC_DXT3_EXT,sc[_l.DXGI_FORMAT_BC3_TYPELESS]=Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT,sc[_l.DXGI_FORMAT_BC3_UNORM]=Dn.COMPRESSED_RGBA_S3TC_DXT5_EXT,sc[_l.DXGI_FORMAT_BC1_UNORM_SRGB]=Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,sc[_l.DXGI_FORMAT_BC2_UNORM_SRGB]=Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,sc[_l.DXGI_FORMAT_BC3_UNORM_SRGB]=Dn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,sc),fU=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,dU(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),s=r[3],o=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),c=l[1];if(4&c){var u=l[2];if(808540228!==u){var d=fue[u],E=new Uint8Array(t,128);return[new yS(E,{format:d,width:o,height:s,levels:a})]}var N=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),k=N[0],L=N[1],W=N[2],Z=N[3],ee=pue[k];if(void 0===ee)throw new Error("DDSLoader cannot parse texture data with DXGI format "+k);if(4===W)throw new Error("DDSLoader does not support cubemap textures");if(L===CS.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var te=new Array;if(1===Z)te.push(new Uint8Array(t,148));else{for(var pe=n0[ee],le=0,he=o,Ie=s,ye=0;ye<a;ye++)le+=Math.max(1,he+3&-4)*Math.max(1,Ie+3&-4)*pe,he>>>=1,Ie>>>=1;var Ce=148;for(ye=0;ye<Z;ye++)te.push(new Uint8Array(t,Ce,le)),Ce+=le}return te.map(function(Te){return new yS(Te,{format:ee,width:o,height:s,levels:a})})}throw 64&c?new Error("DDSLoader does not support uncompressed texture data."):512&c?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&c?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&c?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();xr.setExtensionXhrType("ktx",xr.XHR_RESPONSE_TYPE.BUFFER);var pU=[171,75,84,88,32,49,49,187,13,10,26,10],cx=((b_={})[Dt.UNSIGNED_BYTE]=1,b_[Dt.UNSIGNED_SHORT]=2,b_[Dt.FLOAT]=4,b_[Dt.HALF_FLOAT]=8,b_),gU=((hf={})[nt.RGBA]=4,hf[nt.RGB]=3,hf[nt.LUMINANCE]=1,hf[nt.LUMINANCE_ALPHA]=2,hf[nt.ALPHA]=1,hf),_U=((s0={})[Dt.UNSIGNED_SHORT_4_4_4_4]=2,s0[Dt.UNSIGNED_SHORT_5_5_5_1]=2,s0[Dt.UNSIGNED_SHORT_5_6_5]=2,s0),mU=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,dU(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),s=i.getUint32(16,r),o=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,u=i.getUint32(44,r)||1,d=i.getUint32(48,r)||1,v=i.getUint32(52,r),E=i.getUint32(56,r),I=i.getUint32(60,r);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==v)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");var ee,k=l+3&-4,L=c+3&-4,W=new Array(d),Z=l*c;if(0===s&&(Z=k*L),void 0===(ee=0!==s?cx[s]?cx[s]*gU[o]:_U[s]:n0[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var ge=Z*ee,pe=l,le=c,he=k,Ie=L,ye=64+I,Se=0;Se<E;Se++){for(var Re=i.getUint32(ye,r),xe=ye+4,Ce=0;Ce<d;Ce++){var Te=W[Ce];Te||(Te=W[Ce]=new Array(E)),Te[Se]={levelID:Se,levelWidth:E>1?pe:he,levelHeight:E>1?le:Ie,levelBuffer:new Uint8Array(e,xe,ge)},xe+=ge}ye=(ye+=Re+4)%4!=0?ye+4-ye%4:ye,ge=(he=(pe=pe>>1||1)+4-1&-4)*(Ie=(le=le>>1||1)+4-1&-4)*ee}if(0!==s)throw new Error("TODO: Uncompressed");return W.map(function(De){return new yS(null,{format:a,width:l,height:c,levels:E,levelBuffers:De})})},n.validate=function(t,e){for(var i=0;i<pU.length;i++)if(e.getUint8(i)!==pU[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),ux=function(n,t){return(ux=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function vU(n,t){function e(){this.constructor=n}ux(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var yU=function(n){function t(e,i,r,s){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===s&&(s=!1);var o=n.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=Ke.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(i),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return vU(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Du(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(vr),bU=function(){function n(t,e,i){this.geometry=new v_,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var s=t[r];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Dt.FLOAT,offset:s.offset},e[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new ps(X4(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new ps(this.dynamicData,!1,!1);var o=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=o,o+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new ps(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===Dt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===Dt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var s=this.dynamicProperties[r];s.uploadFunction(t,e,i,s.type===Dt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var s=this.staticProperties[r];s.uploadFunction(t,e,i,s.type===Dt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),SU=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new Di,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Dt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Nu.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=Ld.for2d(),i}return vU(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,s=e._batchSize,o=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var c=i[0]._texture.baseTexture;this.state.blendMode=sP(e.blendMode,c.alphaMode),o.state.set(this.state);var u=o.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=$4(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var v=!1,E=0,I=0;E<a;E+=s,I+=1){var A=a-E;A>s&&(A=s),I>=l.length&&l.push(this._generateOneMoreBuffer(e));var N=l[I];N.uploadDynamic(i,E,A),(v=v||N._updateID<(e._bufferUpdateIDs[I]||0))&&(N._updateID=e._updateID,N.uploadStatic(i,E,A)),o.geometry.bind(N.geometry),u.drawElements(u.TRIANGLES,6*A,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,s=e._batchSize,o=e._properties,a=0;a<r;a+=s)i.push(new bU(this.properties,o,s));return i},t.prototype._generateOneMoreBuffer=function(e){return new bU(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,s,o,a){for(var l=0,c=0,u=0,d=0,v=0;v<r;++v){var E=e[i+v],I=E._texture,A=E.scale.x,N=E.scale.y,k=I.trim,L=I.orig;k?(l=(c=k.x-E.anchor.x*L.width)+k.width,u=(d=k.y-E.anchor.y*L.height)+k.height):(l=L.width*(1-E.anchor.x),c=L.width*-E.anchor.x,u=L.height*(1-E.anchor.y),d=L.height*-E.anchor.y),s[a]=c*A,s[a+1]=d*N,s[a+o]=l*A,s[a+o+1]=d*N,s[a+2*o]=l*A,s[a+2*o+1]=u*N,s[a+3*o]=c*A,s[a+3*o+1]=u*N,a+=4*o}},t.prototype.uploadPosition=function(e,i,r,s,o,a){for(var l=0;l<r;l++){var c=e[i+l].position;s[a]=c.x,s[a+1]=c.y,s[a+o]=c.x,s[a+o+1]=c.y,s[a+2*o]=c.x,s[a+2*o+1]=c.y,s[a+3*o]=c.x,s[a+3*o+1]=c.y,a+=4*o}},t.prototype.uploadRotation=function(e,i,r,s,o,a){for(var l=0;l<r;l++){var c=e[i+l].rotation;s[a]=c,s[a+o]=c,s[a+2*o]=c,s[a+3*o]=c,a+=4*o}},t.prototype.uploadUvs=function(e,i,r,s,o,a){for(var l=0;l<r;++l){var c=e[i+l]._texture._uvs;c?(s[a]=c.x0,s[a+1]=c.y0,s[a+o]=c.x1,s[a+o+1]=c.y1,s[a+2*o]=c.x2,s[a+2*o+1]=c.y2,s[a+3*o]=c.x3,s[a+3*o+1]=c.y3,a+=4*o):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+2*o]=0,s[a+2*o+1]=0,s[a+3*o]=0,s[a+3*o+1]=0,a+=4*o)}},t.prototype.uploadTint=function(e,i,r,s,o,a){for(var l=0;l<r;++l){var c=e[i+l],d=c.alpha,v=d<1&&c._texture.baseTexture.alphaMode>0?$1(c._tintRGB,d):c._tintRGB+(255*d<<24);s[a]=v,s[a+o]=v,s[a+2*o]=v,s[a+3*o]=v,a+=4*o}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Jv),Vc=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(Vc||(Vc={})),Vc))(),zc=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(zc||(zc={})),zc))(),S_={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},dx=function(){function n(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),hx=function(n,t){return(hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function fx(n,t){function e(){this.constructor=n}hx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var px={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,s=t.indices;if(e.length>=6){for(var o=[],a=0;a<i.length;a++){var l=i[a];o.push(e.length/2),e=e.concat(l.points)}var c=QO()(e,o,2);if(!c)return;var u=r.length/2;for(a=0;a<c.length;a+=3)s.push(c[a]+u),s.push(c[a+1]+u),s.push(c[a+2]+u);for(a=0;a<e.length;a++)r.push(e[a])}}},gx={build:function(n){var s,o,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===yi.CIRC)s=t.radius,o=t.radius;else{var a=n.shape;s=a.width,o=a.height}if(0!==s&&0!==o){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(s+o));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)e.push(i+Math.sin(-c*u)*s,r+Math.cos(-c*u)*o);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,s=i.length/2,o=s,a=n.shape,l=n.matrix,c=a.x,u=a.y;i.push(n.matrix?l.a*c+l.c*u+l.tx:c,n.matrix?l.b*c+l.d*u+l.ty:u);for(var d=0;d<e.length;d+=2)i.push(e[d],e[d+1]),r.push(s++,o,s)}},EU={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,s=t.height,o=n.points;o.length=0,o.push(e,i,e+r,i,e+r,i+s,e,i+s)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function E_(n,t,e){return n+(t-n)*e}function TS(n,t,e,i,r,s,o){void 0===o&&(o=[]);for(var l=o,c=0,u=0,d=0,v=0,E=0,I=0,A=0,N=0;A<=20;++A)c=E_(n,e,N=A/20),u=E_(t,i,N),d=E_(e,r,N),v=E_(i,s,N),E=E_(c,d,N),I=E_(u,v,N),(0!==A||l[l.length-2]!==E||l[l.length-1]!==I)&&l.push(E,I);return l}var CU={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,s=t.width,o=t.height,a=Math.max(0,Math.min(t.radius,Math.min(s,o)/2));e.length=0,a?(TS(i,r+a,i,r,i+a,r,e),TS(i+s-a,r,i+s,r,i+s,r+a,e),TS(i+s,r+o-a,i+s,r+o,i+s-a,r+o,e),TS(i+a,r+o,i,r+o,i,r+o-a,e)):e.push(i,r,i+s,r,i+s,r+o,i,r+o)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,s=i.length/2,o=QO()(e,null,2),a=0,l=o.length;a<l;a+=3)r.push(o[a]+s),r.push(o[a+1]+s),r.push(o[a+2]+s);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function TU(n,t,e,i,r,s,o,a){var v,E;o?(v=i,E=-e):(v=-i,E=e);var N=n+e*s+v,k=t+i*s+E;return a.push(n-e*r+v,t-i*r+E),a.push(N,k),2}function C_(n,t,e,i,r,s,o,a){var l=e-n,c=i-t,u=Math.atan2(l,c),d=Math.atan2(r-n,s-t);a&&u<d?u+=2*Math.PI:!a&&u>d&&(d+=2*Math.PI);var v=u,E=d-u,I=Math.abs(E),A=Math.sqrt(l*l+c*c),N=1+(15*I*Math.sqrt(A)/Math.PI>>0),k=E/N;if(v+=k,a){o.push(n,t),o.push(e,i);for(var L=1,W=v;L<N;L++,W+=k)o.push(n,t),o.push(n+Math.sin(W)*A,t+Math.cos(W)*A);o.push(n,t),o.push(r,s)}else{for(o.push(e,i),o.push(n,t),L=1,W=v;L<N;L++,W+=k)o.push(n+Math.sin(W)*A,t+Math.cos(W)*A),o.push(n,t);o.push(r,s),o.push(n,t)}return 2*N}function _x(n,t){n.lineStyle.native?function bue(n,t){var e=0,i=n.shape,r=n.points||i.points,s=i.type!==yi.POLY||i.closeStroke;if(0!==r.length){var o=t.points,a=t.indices,l=r.length/2,c=o.length/2,u=c;for(o.push(r[0],r[1]),e=1;e<l;e++)o.push(r[2*e],r[2*e+1]),a.push(u,u+1),u++;s&&a.push(u,c)}}(n,t):function yue(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var s=n.lineStyle,o=new ir(i[0],i[1]),a=new ir(i[i.length-2],i[i.length-1]),l=e.type!==yi.POLY||e.closeStroke,c=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var u=.5*(o.x+a.x),d=.5*(a.y+o.y);i.unshift(u,d),i.push(u,d)}var v=t.points,E=i.length/2,I=i.length,A=v.length/2,N=s.width/2,k=N*N,L=s.miterLimit*s.miterLimit,W=i[0],Z=i[1],ee=i[2],te=i[3],ge=0,pe=0,le=-(Z-te),he=W-ee,Ie=0,ye=0,Se=Math.sqrt(le*le+he*he);le/=Se,he/=Se,le*=N,he*=N;var Re=s.alignment,xe=2*(1-Re),Ce=2*Re;l||(s.cap===zc.ROUND?I+=C_(W-le*(xe-Ce)*.5,Z-he*(xe-Ce)*.5,W-le*xe,Z-he*xe,W+le*Ce,Z+he*Ce,v,!0)+2:s.cap===zc.SQUARE&&(I+=TU(W,Z,le,he,xe,Ce,!0,v))),v.push(W-le*xe,Z-he*xe),v.push(W+le*Ce,Z+he*Ce);for(var Te=1;Te<E-1;++Te){ge=i[2*(Te+1)],pe=i[2*(Te+1)+1],le=-((Z=i[2*(Te-1)+1])-(te=i[2*Te+1])),he=(W=i[2*(Te-1)])-(ee=i[2*Te]),le/=Se=Math.sqrt(le*le+he*he),he/=Se,le*=N,he*=N,Ie=-(te-pe),ye=ee-ge,Ie/=Se=Math.sqrt(Ie*Ie+ye*ye),ye/=Se,Ie*=N,ye*=N;var De=ee-W,tt=Z-te,_e=ee-ge,Ve=pe-te,et=tt*_e-Ve*De,it=et<0;if(Math.abs(et)<.1)v.push(ee-le*xe,te-he*xe),v.push(ee+le*Ce,te+he*Ce);else{var Tt=(-le+W)*(-he+te)-(-le+ee)*(-he+Z),yt=(-Ie+ge)*(-ye+te)-(-Ie+ee)*(-ye+pe),kt=(De*yt-_e*Tt)/et,Vt=(Ve*Tt-tt*yt)/et,Mn=(kt-ee)*(kt-ee)+(Vt-te)*(Vt-te),ln=ee+(kt-ee)*xe,Jt=te+(Vt-te)*xe,Ft=ee-(kt-ee)*Ce,gn=te-(Vt-te)*Ce,ji=it?xe:Ce;Mn<=Math.min(De*De+tt*tt,_e*_e+Ve*Ve)+ji*ji*k?s.join===Vc.BEVEL||Mn/k>L?(it?(v.push(ln,Jt),v.push(ee+le*Ce,te+he*Ce),v.push(ln,Jt),v.push(ee+Ie*Ce,te+ye*Ce)):(v.push(ee-le*xe,te-he*xe),v.push(Ft,gn),v.push(ee-Ie*xe,te-ye*xe),v.push(Ft,gn)),I+=2):s.join===Vc.ROUND?it?(v.push(ln,Jt),v.push(ee+le*Ce,te+he*Ce),I+=C_(ee,te,ee+le*Ce,te+he*Ce,ee+Ie*Ce,te+ye*Ce,v,!0)+4,v.push(ln,Jt),v.push(ee+Ie*Ce,te+ye*Ce)):(v.push(ee-le*xe,te-he*xe),v.push(Ft,gn),I+=C_(ee,te,ee-le*xe,te-he*xe,ee-Ie*xe,te-ye*xe,v,!1)+4,v.push(ee-Ie*xe,te-ye*xe),v.push(Ft,gn)):(v.push(ln,Jt),v.push(Ft,gn)):(v.push(ee-le*xe,te-he*xe),v.push(ee+le*Ce,te+he*Ce),s.join===Vc.BEVEL||Mn/k>L||(s.join===Vc.ROUND?I+=it?C_(ee,te,ee+le*Ce,te+he*Ce,ee+Ie*Ce,te+ye*Ce,v,!0)+2:C_(ee,te,ee-le*xe,te-he*xe,ee-Ie*xe,te-ye*xe,v,!1)+2:(it?(v.push(Ft,gn),v.push(Ft,gn)):(v.push(ln,Jt),v.push(ln,Jt)),I+=2)),v.push(ee-Ie*xe,te-ye*xe),v.push(ee+Ie*Ce,te+ye*Ce),I+=2)}}le=-((Z=i[2*(E-2)+1])-(te=i[2*(E-1)+1])),he=(W=i[2*(E-2)])-(ee=i[2*(E-1)]),le/=Se=Math.sqrt(le*le+he*he),he/=Se,v.push(ee-(le*=N)*xe,te-(he*=N)*xe),v.push(ee+le*Ce,te+he*Ce),l||(s.cap===zc.ROUND?I+=C_(ee-le*(xe-Ce)*.5,te-he*(xe-Ce)*.5,ee-le*xe,te-he*xe,ee+le*Ce,te+he*Ce,v,!1)+2:s.cap===zc.SQUARE&&(I+=TU(ee,te,le,he,xe,Ce,!1,v)));var rs=t.indices,Ki=S_.epsilon*S_.epsilon;for(Te=A;Te<I+A-2;++Te)W=v[2*Te],Z=v[2*Te+1],ee=v[2*(Te+1)],te=v[2*(Te+1)+1],ge=v[2*(Te+2)],pe=v[2*(Te+2)+1],!(Math.abs(W*(te-pe)+ee*(pe-Z)+ge*(Z-te))<Ki)&&rs.push(Te,Te+1,Te+2)}}(n,t)}var ff,mx=function(){function n(){}return n.curveTo=function(t,e,i,r,s,o){var c=o[o.length-1]-e,u=o[o.length-2]-t,d=r-e,v=i-t,E=Math.abs(c*v-u*d);if(E<1e-8||0===s)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var I=c*c+u*u,A=d*d+v*v,N=c*d+u*v,k=s*Math.sqrt(I)/E,L=s*Math.sqrt(A)/E,W=k*N/I,Z=L*N/A,ee=k*v+L*u,te=k*d+L*c,le=v*(k+Z),he=d*(k+Z);return{cx:ee+t,cy:te+e,radius:s,startAngle:Math.atan2(c*(L+W)-te,u*(L+W)-ee),endAngle:Math.atan2(he-te,le-ee),anticlockwise:u*d>v*c}},n.arc=function(t,e,i,r,s,o,a,l,c){for(var u=a-o,d=S_._segmentsCount(Math.abs(u)*s,40*Math.ceil(Math.abs(u)/Yv)),v=u/(2*d),E=2*v,I=Math.cos(v),A=Math.sin(v),N=d-1,k=N%1/N,L=0;L<=N;++L){var Z=v+o+E*(L+k*L),ee=Math.cos(Z),te=-Math.sin(Z);c.push((I*ee+A*te)*s+i,(I*-te+A*ee)*s+r)}},n}(),wU=function(){function n(){}return n.curveLength=function(t,e,i,r,s,o,a,l){for(var u=0,d=0,v=0,E=0,I=0,A=0,N=0,k=0,L=0,W=0,Z=0,ee=t,te=e,ge=1;ge<=10;++ge)W=ee-(k=(N=(A=(I=1-(d=ge/10))*I)*I)*t+3*A*d*i+3*I*(v=d*d)*s+(E=v*d)*a),Z=te-(L=N*e+3*A*d*r+3*I*v*o+E*l),ee=k,te=L,u+=Math.sqrt(W*W+Z*Z);return u},n.curveTo=function(t,e,i,r,s,o,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var u=S_._segmentsCount(n.curveLength(l,c,t,e,i,r,s,o)),d=0,v=0,E=0,I=0,A=0;a.push(l,c);for(var N=1,k=0;N<=u;++N)a.push((E=(v=(d=1-(k=N/u))*d)*d)*l+3*v*k*t+3*d*(I=k*k)*i+(A=I*k)*s,E*c+3*v*k*e+3*d*I*r+A*o)},n}(),MU=function(){function n(){}return n.curveLength=function(t,e,i,r,s,o){var a=t-2*i+s,l=e-2*r+o,c=2*i-2*t,u=2*r-2*e,d=4*(a*a+l*l),v=4*(a*c+l*u),E=c*c+u*u,I=2*Math.sqrt(d+v+E),A=Math.sqrt(d),N=2*d*A,k=2*Math.sqrt(E),L=v/A;return(N*I+A*v*(I-k)+(4*E*d-v*v)*Math.log((2*A+L+I)/(L+k)))/(4*N)},n.curveTo=function(t,e,i,r,s){for(var o=s[s.length-2],a=s[s.length-1],l=S_._segmentsCount(n.curveLength(o,a,t,e,i,r)),c=0,u=0,d=1;d<=l;++d){var v=d/l;s.push((c=o+(t-o)*v)+(t+(i-t)*v-c)*v,(u=a+(e-a)*v)+(e+(r-e)*v-u)*v)}},n}(),OU=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),wS=((ff={})[yi.POLY]=px,ff[yi.CIRC]=gx,ff[yi.ELIP]=gx,ff[yi.RECT]=EU,ff[yi.RREC]=CU,ff),vx=[],o0=[];function Sue(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var yx=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),T_=new ir,Eue=new __,PU=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new __,e.boundsDirty=-1,e}return fx(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),o0.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),vx.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,s){void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null);var o=new yx(e,i,r,s);return this.graphicsData.push(o),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new yx(e,null,null,i),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var s=i[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,T_):T_.copyFrom(e),s.shape.contains(T_.x,T_.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++)if(s.holes[a].shape.contains(T_.x,T_.y)){o=!0;break}if(!o)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,s=null,o=null;this.batches.length>0&&(o=(s=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],c=l.fillStyle,u=l.lineStyle;wS[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var v=0;v<2;v++){var E=0===v?c:u;if(E.visible){var A=this.indices.length,N=this.points.length/2;E.texture.baseTexture.wrapMode=fl.REPEAT,0===v?this.processFill(l):this.processLine(l);var k=this.points.length/2-N;0!==k&&(s&&!this._compareStyles(o,E)&&(s.end(A,N),s=null),s||((s=vx.pop()||new OU).begin(E,A,N),this.batches.push(s),o=E),this.addUvs(this.points,i,E.texture,N,k,E.matrix))}}}var W=this.points.length/2;if(s&&s.end(this.indices.length,W),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=W>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],s=r.fillStyle,o=r.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var s=e[i],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++_i._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),o0.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,s=this.textureIds,o=o0.pop();o||((o=new pS).texArray=new gS),o.texArray.count=0,o.start=0,o.size=0,o.type=Zs.TRIANGLES;var a=0,l=null,c=0,u=!1,d=Zs.TRIANGLES,v=0;for(this.drawCalls.push(o),i=0;i<this.batches.length;i++){var E=this.batches[i],A=E.style,N=A.texture.baseTexture;u!==!!A.native&&(d=(u=!!A.native)?Zs.LINES:Zs.TRIANGLES,l=null,a=8,e++),l!==N&&(l=N,N._batchEnabled!==e&&(8===a&&(e++,a=0,o.size>0&&((o=o0.pop())||((o=new pS).texArray=new gS),this.drawCalls.push(o)),o.start=v,o.size=0,o.texArray.count=0,o.type=d),N.touched=1,N._batchEnabled=e,N._batchLocation=a,N.wrapMode=fl.REPEAT,o.texArray.elements[o.texArray.count++]=N,a++)),o.size+=E.size,v+=E.size,c=N._batchLocation,this.addColors(r,A.color,A.alpha,E.attribSize,E.attribStart),this.addTextureIds(s,c,E.attribSize,E.attribStart)}_i._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,s=this.textureIds,o=new ArrayBuffer(3*e.length*4),a=new Float32Array(o),l=new Uint32Array(o),c=0,u=0;u<e.length/2;u++)a[c++]=e[2*u],a[c++]=e[2*u+1],a[c++]=i[2*u],a[c++]=i[2*u+1],l[c++]=r[u],a[c++]=s[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),px.triangulate(e,this)):wS[e.type].triangulate(e,this)},t.prototype.processLine=function(e){_x(e,this);for(var i=0;i<e.holes.length;i++)_x(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];wS[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=Eue,r=Di.IDENTITY;this._bounds.clear(),i.clear();for(var s=0;s<this.graphicsData.length;s++){var o=this.graphicsData[s],a=o.shape,l=o.type,c=o.lineStyle,u=o.matrix||Di.IDENTITY,d=0;if(c&&c.visible){var v=c.alignment;d=c.width,l===yi.POLY?Sue(a)?d*=1-v:d*=v:d*=Math.max(0,v)}r!==u&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=u),l===yi.RECT||l===yi.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,d,d):l===yi.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+d,a.radius+d):l===yi.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+d,a.height+d):e.addVerticesMatrix(r,a.points,0,a.points.length,d,d)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var s=e[2*r],o=e[2*r+1];e[2*r]=i.a*s+i.c*o+i.tx,e[2*r+1]=i.b*s+i.d*o+i.ty}},t.prototype.addColors=function(e,i,r,s,o){void 0===o&&(o=0);var l=$1((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,o+s);for(var c=0;c<s;c++)e[o+c]=l},t.prototype.addTextureIds=function(e,i,r,s){void 0===s&&(s=0),e.length=Math.max(e.length,s+r);for(var o=0;o<r;o++)e[s+o]=i},t.prototype.addUvs=function(e,i,r,s,o,a){void 0===a&&(a=null);for(var l=0,c=i.length,u=r.frame;l<o;){var d=e[2*(s+l)],v=e[2*(s+l)+1];if(a){var E=a.a*d+a.c*v+a.tx;v=a.b*d+a.d*v+a.ty,d=E}l++,i.push(d/u.width,v/u.height)}var I=r.baseTexture;(u.width<I.width||u.height<I.height)&&this.adjustUvs(i,r,c,o)},t.prototype.adjustUvs=function(e,i,r,s){for(var o=i.baseTexture,a=1e-6,l=r+2*s,c=i.frame,u=c.width/o.width,d=c.height/o.height,v=c.x/c.width,E=c.y/c.height,I=Math.floor(e[r]+a),A=Math.floor(e[r+1]+a),N=r+2;N<l;N+=2)I=Math.min(I,Math.floor(e[N]+a)),A=Math.min(A,Math.floor(e[N+1]+a));for(v-=I,E-=A,N=r;N<l;N+=2)e[N]=(e[N]+v)*u,e[N+1]=(e[N+1]+E)*d},t.BATCHABLE_SIZE=100,t}(nx),xU=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=zc.BUTT,e.join=Vc.MITER,e.miterLimit=10,e}return fx(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(dx),Cue=new Float32Array(3),bx={},Ua=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new dx,i._lineStyle=new xU,i._matrix=null,i._holeMode=!1,i.state=Ld.for2d(),i._geometry=e||new PU,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=Ke.NORMAL,i}return fx(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,s,o){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=.5),void 0===o&&(o=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:s,native:o}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Qt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:zc.BUTT,join:Vc.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new $v,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new $v,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,s){this._initCurve();var o=this.currentPath.points;return 0===o.length&&this.moveTo(0,0),MU.curveTo(e,i,r,s,o),this},t.prototype.bezierCurveTo=function(e,i,r,s,o,a){return this._initCurve(),wU.curveTo(e,i,r,s,o,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,s,o){this._initCurve(e,i);var l=mx.curveTo(e,i,r,s,o,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,s,o,a){if(void 0===a&&(a=!1),s===o)return this;if(!a&&o<=s?o+=Yv:a&&s<=o&&(s+=Yv),0==o-s)return this;var c=e+Math.cos(s)*r,u=i+Math.sin(s)*r,d=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var E=Math.abs(v[v.length-2]-c),I=Math.abs(v[v.length-1]-u);E<d&&I<d||v.push(c,u)}else this.moveTo(c,u),v=this.currentPath.points;return mx.arc(c,u,e,i,r,s,o,a,v),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:Qt.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Qt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,s){return this.drawShape(new di(e,i,r,s))},t.prototype.drawRoundedRect=function(e,i,r,s,o){return this.drawShape(new i5(e,i,r,s,o))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new t5(e,i,r))},t.prototype.drawEllipse=function(e,i,r,s){return this.drawShape(new n5(e,i,r,s))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var s,o=!0,a=i[0];a.points?(o=a.closeStroke,s=a.points):s=Array.isArray(i[0])?i[0]:i;var l=new $v(s);return l.closeStroke=o,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==yi.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var s=0;s<r;s++){var o=e.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,4*o.attribStart*2,2*o.attribSize),c=new Float32Array(e.uvsFloat32.buffer,4*o.attribStart*2,2*o.attribSize),d={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*o.start,o.size),uvs:c,_batchRGB:Du(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=d}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var s=this.batches[i];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,s=this.tint,o=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(255&s)/255*o,a.tint[3]=o,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var c=0,u=l.length;c<u;c++)this._renderDrawCallDirect(e,r.drawCalls[c])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,s=i.type,o=i.size,a=i.start,l=r.count,c=0;c<l;c++)e.texture.bind(r.elements[c],c);e.geometry.draw(s,o,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!bx[r]){for(var s=e.plugins.batch.MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new Di,default:Bd.from({uSamplers:o},!0)};bx[r]=new Nu(e.plugins[r]._shader.program,l)}i=bx[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Du(this.tint,Cue),i=0;i<this.batches.length;i++){var r=this.batches[i],s=r._batchRGB,c=(e[0]*s[0]*255<<16)+(e[1]*s[1]*255<<8)+(0|e[2]*s[2]*255);r._tintRGB=(c>>16)+(65280&c)+((255&c)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,s=i.b,o=i.c,a=i.d,l=i.tx,c=i.ty,u=this._geometry.points,d=this.vertexData,v=0,E=0;E<u.length;E+=2){var I=u[E],A=u[E+1];d[v++]=r*I+o*A+l,d[v++]=a*A+s*I+c}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new ir,t}(vr),Tue={buildPoly:px,buildCircle:gx,buildRectangle:EU,buildRoundedRectangle:CU,buildLine:_x,ArcUtils:mx,BezierUtils:wU,QuadraticUtils:MU,BatchPart:OU,FILL_COMMANDS:wS,BATCH_POOL:vx,DRAW_CALL_POOL:o0},Sx=function(n,t){return(Sx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},a0=new ir,Mue=new Uint16Array([0,1,2,0,2,3]),Yo=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new tf(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=Ke.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||Qt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Mue,i.pluginName="batch",i.isSprite=!0,i._roundPixels=wt.ROUND_PIXELS,i}return function wue(n,t){function e(){this.constructor=n}Sx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ef(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ef(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,s=i.b,o=i.c,a=i.d,l=i.tx,c=i.ty,u=this.vertexData,d=e.trim,v=e.orig,E=this._anchor,I=0,A=0,N=0,k=0;if(d?(I=(A=d.x-E._x*v.width)+d.width,N=(k=d.y-E._y*v.height)+d.height):(I=(A=-E._x*v.width)+v.width,N=(k=-E._y*v.height)+v.height),u[0]=r*A+o*k+l,u[1]=a*k+s*A+c,u[2]=r*I+o*k+l,u[3]=a*k+s*I+c,u[4]=r*I+o*N+l,u[5]=a*N+s*I+c,u[6]=r*A+o*N+l,u[7]=a*N+s*A+c,this._roundPixels)for(var L=wt.RESOLUTION,W=0;W<u.length;++W)u[W]=Math.round((u[W]*L|0)/L)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,u=o.d,d=o.tx,v=o.ty,E=-s._x*r.width,I=E+r.width,A=-s._y*r.height,N=A+r.height;i[0]=a*E+c*A+d,i[1]=u*A+l*E+v,i[2]=a*I+c*A+d,i[3]=u*A+l*I+v,i[4]=a*I+c*N+d,i[5]=u*N+l*I+v,i[6]=a*E+c*N+d,i[7]=u*N+l*E+v},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new __),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new di),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,a0);var i=this._texture.orig.width,r=this._texture.orig.height,s=-i*this.anchor.x,o=0;return a0.x>=s&&a0.x<s+i&&a0.y>=(o=-r*this.anchor.y)&&a0.y<o+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof Qt?e:Qt.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=ef(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=ef(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Qt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(vr),Ex=function(n,t){return(Ex=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},pf=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(pf||(pf={})),pf))(),Cx={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:pf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Pue=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],gf=function(){function n(t){this.styleID=0,this.reset(),wx(this,t,t)}return n.prototype.clone=function(){var t={};return wx(t,this,Cx),new n(t)},n.prototype.reset=function(){wx(this,Cx,Cx)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Tx(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Tx(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function xue(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Tx(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Pue.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function IU(n){return"number"==typeof n?Y1(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function Tx(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=IU(n[t]);return n}return IU(n)}function wx(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var Ga=function(){function n(t,e,i,r,s,o,a,l,c){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var s=e.toFontString(),o=n.measureFont(s);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var a=r.getContext("2d");a.font=s;for(var c=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),d=0,v=0;v<c.length;v++){var E=a.measureText(c[v]).width+(c[v].length-1)*e.letterSpacing;u[v]=E,d=Math.max(d,E)}var I=d+e.strokeThickness;e.dropShadow&&(I+=e.dropShadowDistance);var A=e.lineHeight||o.fontSize+e.strokeThickness,N=Math.max(A,o.fontSize+e.strokeThickness)+(c.length-1)*(A+e.leading);return e.dropShadow&&(N+=e.dropShadowDistance),new n(t,e,I,N,c,u,A+e.leading,d,o)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),s=0,o="",a="",l=Object.create(null),c=e.letterSpacing,u=e.whiteSpace,d=n.collapseSpaces(u),v=n.collapseNewlines(u),E=!d,I=e.wordWrapWidth+c,A=n.tokenize(t),N=0;N<A.length;N++){var k=A[N];if(n.isNewline(k)){if(!v){a+=n.addLine(o),E=!d,o="",s=0;continue}k=" "}if(d){var L=n.isBreakingSpace(k),W=n.isBreakingSpace(o[o.length-1]);if(L&&W)continue}var Z=n.getFromCache(k,c,l,r);if(Z>I)if(""!==o&&(a+=n.addLine(o),o="",s=0),n.canBreakWords(k,e.breakWords))for(var ee=n.wordWrapSplit(k),te=0;te<ee.length;te++){for(var ge=ee[te],pe=1;ee[te+pe];){var le=ee[te+pe];if(n.canBreakChars(ge[ge.length-1],le,k,te,e.breakWords))break;ge+=le,pe++}te+=ge.length-1;var Ie=n.getFromCache(ge,c,l,r);Ie+s>I&&(a+=n.addLine(o),E=!1,o="",s=0),o+=ge,s+=Ie}else o.length>0&&(a+=n.addLine(o),o="",s=0),a+=n.addLine(k,!(N===A.length-1)),E=!1,o="",s=0;else Z+s>I&&(E=!1,a+=n.addLine(o),o="",s=0),(o.length>0||!n.isBreakingSpace(k)||E)&&(o+=k,s+=Z)}return a+n.addLine(o,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var s=i[t];if("number"!=typeof s){var o=t.length*e;s=r.measureText(t).width+o,i[t]=s}return s},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var s=t[r];n.isBreakingSpace(s,t[r+1])||n.isNewline(s)?(""!==i&&(e.push(i),i=""),e.push(s)):i+=s}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,s){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var s=n.METRICS_STRING+n.BASELINE_SYMBOL,o=Math.ceil(r.measureText(s).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=o,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,o,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s,0,a);var c=r.getImageData(0,0,o,l).data,u=c.length,d=4*o,v=0,E=0,I=!1;for(v=0;v<a;++v){for(var A=0;A<d;A+=4)if(255!==c[E+A]){I=!0;break}if(I)break;E+=d}for(e.ascent=a-v,E=u-d,I=!1,v=l;v>a;--v){for(A=0;A<d;A+=4)if(255!==c[E+A]){I=!0;break}if(I)break;E-=d}return e.descent=v-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),MS=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();MS.width=MS.height=10,Ga._canvas=MS,Ga._context=MS.getContext("2d"),Ga._fonts={},Ga.METRICS_STRING="|\xc9q\xc5",Ga.BASELINE_SYMBOL="M",Ga.BASELINE_MULTIPLIER=1.4,Ga.HEIGHT_MULTIPLIER=2,Ga._newlines=[10,13],Ga._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Iue={texture:!0,children:!1,baseTexture:!0},l0=function(n){function t(e,i,r){var s=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Qt.from(r);return a.orig=new di,a.trim=new di,(s=n.call(this,a)||this)._ownCanvas=o,s.canvas=r,s.context=s.canvas.getContext("2d"),s._resolution=wt.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=e,s.style=i,s.localStyleID=-1,s}return function Oue(n,t){function e(){this.constructor=n}Ex(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,s=Ga.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.height,l=s.lines,c=s.lineHeight,u=s.lineWidths,d=s.maxLineWidth,v=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var E,I,A=i.dropShadow?2:1,N=0;N<A;++N){var k=i.dropShadow&&0===N,L=k?Math.ceil(Math.max(1,a)+2*i.padding):0,W=L*this._resolution;if(k){r.fillStyle="black",r.strokeStyle="black";var Z=i.dropShadowColor,ee=Du("number"==typeof Z?Z:Wo(Z)),te=i.dropShadowBlur*this._resolution,ge=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*ee[0]+","+255*ee[1]+","+255*ee[2]+","+i.dropShadowAlpha+")",r.shadowBlur=te,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*ge,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*ge+W}else r.fillStyle=this._generateFillStyle(i,l,s),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var pe=(c-v.fontSize)/2;(!t.nextLineHeightBehavior||c-v.fontSize<0)&&(pe=0);for(var le=0;le<l.length;le++)E=i.strokeThickness/2,I=i.strokeThickness/2+le*c+v.ascent+pe,"right"===i.align?E+=d-u[le]:"center"===i.align&&(E+=(d-u[le])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[le],E+i.padding,I+i.padding-L,!0),i.fill&&this.drawLetterSpacing(l[le],E+i.padding,I+i.padding-L)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,s){void 0===s&&(s=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(s?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var c=i,u=Array.from?Array.from(e):e.split(""),d=this.context.measureText(e).width,v=0,E=0;E<u.length;++E){var I=u[E];s?this.context.strokeText(I,c,r):this.context.fillText(I,c,r);for(var A="",N=E+1;N<u.length;++N)A+=u[N];c+=d-(v=this.context.measureText(A).width)+a,d=v}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=K4(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,s=this._style,o=s.trim?0:s.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-2*o,r.orig.height=r._frame.height-2*o,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var o,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-2*l,u=this.canvas.height/this._resolution-a-2*l,d=s.slice(),v=e.fillGradientStops.slice();if(!v.length)for(var E=d.length+1,I=1;I<E;++I)v.push(I/E);if(d.unshift(s[0]),v.unshift(0),d.push(s[s.length-1]),v.push(1),e.fillGradientType===pf.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,l,c/2,u+l);var A=r.fontProperties.fontSize+e.strokeThickness;for(I=0;I<i.length;I++){var N=r.lineHeight*(I-1)+A,k=r.lineHeight*I,L=k;I>0&&N>k&&(L=(k+N)/2);var W=k+A,Z=r.lineHeight*(I+1),ee=W;I+1<i.length&&Z<W&&(ee=(W+Z)/2);for(var te=(ee-L)/u,ge=0;ge<d.length;ge++){var le=Math.min(1,Math.max(0,L/u+("number"==typeof v[ge]?v[ge]:ge/d.length)*te));le=Number(le.toFixed(5)),o.addColorStop(le,d[ge])}}}else{o=this.context.createLinearGradient(l,u/2,c+l,u/2);var he=d.length+1,Ie=1;for(I=0;I<d.length;I++)o.addColorStop("number"==typeof v[I]?v[I]:Ie/he,d[I]),Ie++}return o},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Iue,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=ef(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=ef(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof gf?e:new gf(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Yo);wt.UPLOADS_PER_FRAME=4;var Mx=function(n,t){return(Mx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},AU=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function Rue(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Qt){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function Due(n,t){if(n.baseTexture instanceof _i){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Nue(n,t){if(n._texture&&n._texture instanceof Qt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function kue(n,t){return t instanceof l0&&(t.updateText(!0),!0)}function Fue(n,t){if(t instanceof gf){var e=t.toFontString();return Ga.measureFont(e),!0}return!1}function Bue(n,t){if(n instanceof l0){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Lue(n,t){return n instanceof gf&&(-1===t.indexOf(n)&&t.push(n),!0)}var Ox=function(){function n(t){var e=this;this.limiter=new AU(wt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Bue),this.registerFindHook(Lue),this.registerFindHook(Rue),this.registerFindHook(Due),this.registerFindHook(Nue),this.registerUploadHook(kue),this.registerUploadHook(Fue)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Gs.system.addOnce(this.tick,this,ic.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Gs.system.addOnce(this.tick,this,ic.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);for(this.completes.length=0,i=0,r=s.length;i<r;i++)s[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof vr)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&Gs.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function RU(n,t){return t instanceof _i&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function Uue(n,t){if(!(t instanceof Ua))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var s=i[r].style.texture;s&&RU(n,s.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Gue(n,t){return n instanceof Ua&&(t.push(n),!0)}var DU=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Gue),i.registerUploadHook(RU),i.registerUploadHook(Uue),i}return function Aue(n,t){function e(){this.constructor=n}Mx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(Ox),jue=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),NU=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof Qt?t:null,this.baseTexture=t instanceof _i?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=Wv(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],s=this._frames[r],o=s.frame;if(o){var a,l=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,u=new di(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=s.rotated?new di(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new di(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new di(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Qt(this.baseTexture,a,u,l,s.rotated?2:0,s.anchor),Qt.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),kU=function(){function n(){}return n.use=function(t,e){var i,r,s=this,o=t.name+"_image";if(t.data&&t.type===xr.TYPE.JSON&&t.data.frames&&!s.resources[o]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(I){if("string"!=typeof I)return"continue";var A=I.replace(".json",""),N=Qh.resolve(t.url.replace(s.baseUrl,""),I);if(s.resources[A]||Object.values(s.resources).some(function(L){return Qh.format(Qh.parse(L.url))===N}))return"continue";s.add(A,N,{crossOrigin:t.crossOrigin,loadType:xr.LOAD_TYPE.XHR,xhrType:xr.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},c=0,u=a;c<u.length;c++)l(u[c]);var v={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},E=n.getResourcePath(t,s.baseUrl);s.add(o,E,v,function(A){if(A.error)e(A.error);else{var N=new NU(A.texture,t.data,t.url);N.parse(function(){t.spritesheet=N,t.textures=N.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Qh.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),Px=function(n,t){return(Px=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function FU(n,t){function e(){this.constructor=n}Px(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var c0=new ir,BU=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var s=n.call(this,e)||this;return s.tileTransform=new dP,s._width=i,s._height=r,s.uvMatrix=s.texture.uvMatrix||new dS(e),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return FU(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new di),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,c0);var i=this._width,r=this._height,s=-i*this.anchor._x;if(c0.x>=s&&c0.x<s+i){var o=-r*this.anchor._y;if(c0.y>=o&&c0.y<o+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof Qt?e:Qt.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Yo),LU="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",OS=new Di,UU=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new xP,i.state=Ld.for2d(),i}return FU(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=Nu.from(LU,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?Nu.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):Nu.from(LU,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);var o=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(s=r.uvs)[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,r.invalidate();var l=e._texture,c=l.baseTexture,u=e.tileTransform.localTransform,d=e.uvMatrix,v=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;v&&(c._glTextures[i.CONTEXT_UID]?v=c.wrapMode!==fl.CLAMP:c.wrapMode===fl.CLAMP&&(c.wrapMode=fl.REPEAT));var E=v?this.simpleShader:this.shader,I=l.width,A=l.height,N=e._width,k=e._height;OS.set(u.a*I/N,u.b*I/k,u.c*A/N,u.d*A/k,u.tx/N,u.ty/k),OS.invert(),v?OS.prepend(d.mapCoord):(E.uniforms.uMapCoord=d.mapCoord.toArray(!0),E.uniforms.uClampFrame=d.uClampFrame,E.uniforms.uClampOffset=d.uClampOffset),E.uniforms.uTransform=OS.toArray(!0),E.uniforms.uColor=oP(e.tint,e.worldAlpha,E.uniforms.uColor,c.alphaMode),E.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),E.uniforms.uSampler=l,i.shader.bind(E),i.geometry.bind(r),this.state.blendMode=sP(e.blendMode,c.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Jv),xx=function(n,t){return(xx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Ix(n,t){function e(){this.constructor=n}xx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var GU=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),Ax=new ir,jU=new $v,ml=function(n){function t(e,i,r,s){void 0===s&&(s=Zs.TRIANGLES);var o=n.call(this)||this;return o.geometry=e,o.shader=i,o.state=r||Ld.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=wt.ROUND_PIXELS,o.batchUvs=null,o}return Ix(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===Zs.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,s=i._updateID;if(s!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,u=o.d,d=o.tx,v=o.ty,E=this.vertexData,I=0;I<E.length/2;I++){var A=r[2*I],N=r[2*I+1];E[2*I]=a*A+c*N+d,E[2*I+1]=l*A+u*N+v}if(this._roundPixels){var k=wt.RESOLUTION;for(I=0;I<E.length;++I)E[I]=Math.round((E[I]*k|0)/k)}this.vertexDirty=s}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new GU(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Ax);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=jU.points,s=this.geometry.getIndex().data,o=s.length,a=4===this.drawMode?3:1,l=0;l+2<o;l+=a){var c=2*s[l],u=2*s[l+1],d=2*s[l+2];if(r[0]=i[c],r[1]=i[c+1],r[2]=i[u],r[3]=i[u+1],r[4]=i[d],r[5]=i[d+1],jU.contains(Ax.x,Ax.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(vr),_f=function(n){function t(e,i){var r=this,s={uSampler:e,alpha:1,uTextureMatrix:Di.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(s,i.uniforms),(r=n.call(this,i.program||y_.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),s)||this)._colorDirty=!1,r.uvMatrix=new dS(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return Ix(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,oP(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Nu),u0=function(n){function t(e,i,r){var s=n.call(this)||this,o=new ps(e),a=new ps(i,!0),l=new ps(r,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",a,2,!1,Dt.FLOAT).addIndex(l),s._updateId=-1,s}return Ix(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(v_),Rx=function(n,t){return(Rx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},d0=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},que=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var s=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in o){var c=o[l].split("="),u=c[0],d=c[1].replace(/"/gm,""),v=parseFloat(d),E=isNaN(v)?d:v;a[u]=E}i[s].push(a)}var I=new d0;return i.info.forEach(function(A){return I.info.push({face:A.face,size:parseInt(A.size,10)})}),i.common.forEach(function(A){return I.common.push({lineHeight:parseInt(A.lineHeight,10)})}),i.page.forEach(function(A){return I.page.push({id:parseInt(A.id,10),file:A.file})}),i.char.forEach(function(A){return I.char.push({id:parseInt(A.id,10),page:parseInt(A.page,10),x:parseInt(A.x,10),y:parseInt(A.y,10),width:parseInt(A.width,10),height:parseInt(A.height,10),xoffset:parseInt(A.xoffset,10),yoffset:parseInt(A.yoffset,10),xadvance:parseInt(A.xadvance,10)})}),i.kerning.forEach(function(A){return I.kerning.push({first:parseInt(A.first,10),second:parseInt(A.second,10),amount:parseInt(A.amount,10)})}),i.distanceField.forEach(function(A){return I.distanceField.push({distanceRange:parseInt(A.distanceRange,10),fieldType:A.fieldType})}),I},n}(),Dx=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new d0,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<i.length;c++)e.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(c=0;c<r.length;c++)e.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(c=0;c<s.length;c++)e.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(c=0;c<o.length;c++){var u=o[c];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(c=0;c<a.length;c++)e.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(c=0;c<l.length;c++)e.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return e},n}(),Kue=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Dx.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return Dx.parse(e)},n}(),Nx=[que,Dx,Kue];function HU(n){for(var t=0;t<Nx.length;t++)if(Nx[t].test(n))return Nx[t];return null}function Que(n,t,e,i,r,s,o){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(s,s);var c=o.strokeThickness/2,u=-o.strokeThickness/2;if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=function Jue(n,t,e,i,r,s){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a,l=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,u=n.width/i-l-2*c,d=n.height/i-l-2*c,v=o.slice(),E=e.fillGradientStops.slice();if(!E.length)for(var I=v.length+1,A=1;A<I;++A)E.push(A/I);if(v.unshift(o[0]),E.unshift(0),v.push(o[o.length-1]),E.push(1),e.fillGradientType===pf.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,c,u/2,d+c);var N=0,L=(s.fontProperties.fontSize+e.strokeThickness)/d;for(A=0;A<r.length;A++)for(var W=s.lineHeight*A,Z=0;Z<v.length;Z++){var ge=Math.max(N,W/d+("number"==typeof E[Z]?E[Z]:Z/v.length)*L);ge=Math.min(ge,1),a.addColorStop(ge,v[Z]),N=ge}}else{a=t.createLinearGradient(c,d/2,u+c,d/2);var pe=v.length+1,le=1;for(A=0;A<v.length;A++)a.addColorStop("number"==typeof E[A]?E[A]:le/pe,v[A]),le++}return a}(n,t,o,s,[a],e),t.strokeStyle=o.stroke,o.dropShadow){var d=o.dropShadowColor,v=Du("number"==typeof d?d:Wo(d)),E=o.dropShadowBlur*s,I=o.dropShadowDistance*s;t.shadowColor="rgba("+255*v[0]+","+255*v[1]+","+255*v[2]+","+o.dropShadowAlpha+")",t.shadowBlur=E,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*I,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*I}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,c,u+e.lineHeight-l.descent),o.fill&&t.fillText(a,c,u+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function VU(n){return Array.from?Array.from(n):n.split("")}function PS(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var Bu=function(){function n(t,e,i){var r,s,o=t.info[0],a=t.common[0],c=t.distanceField[0],u=Wv(t.page[0].file),d={};this._ownsTextures=i,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=d;for(var v=0;v<t.page.length;v++){var E=t.page[v];d[I=E.id]=e instanceof Array?e[v]:e[E.file],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(d[I].baseTexture.alphaMode=Us.NO_PREMULTIPLIED_ALPHA)}for(v=0;v<t.char.length;v++){var N=t.char[v],I=N.id,k=N.page,L=t.char[v],W=L.x,Z=L.y,ee=L.width,te=L.height,ge=L.xoffset,pe=L.yoffset,le=L.xadvance;ge/=u,pe/=u,le/=u;var he=new di((W/=u)+d[k].frame.x/u,(Z/=u)+d[k].frame.y/u,ee/=u,te/=u);this.chars[I]={xOffset:ge,yOffset:pe,xAdvance:le,kerning:{},texture:new Qt(d[k].baseTexture,he),page:k}}for(v=0;v<t.kerning.length;v++){var Ie=t.kerning[v],ye=Ie.first,Se=Ie.second,Re=Ie.amount;ye/=u,Re/=u,this.chars[Se/=u]&&(this.chars[Se].kerning[ye]=Re)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(s=null===(r=null==c?void 0:c.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==s?s:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof d0)r=t;else{var s=HU(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof Qt&&(e=[e]);var o=new n(r,e,i);return n.available[o.font]=o,o},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),o=r.padding,a=r.resolution,l=r.textureWidth,c=r.textureHeight,u=function Zue(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var s=r[0].charCodeAt(0),o=r[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,VU(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),d=e instanceof gf?e:new gf(e),v=l,E=new d0;E.info[0]={face:d.fontFamily,size:d.fontSize},E.common[0]={lineHeight:d.fontSize};for(var N,k,L,I=0,A=0,W=0,Z=[],ee=0;ee<u.length;ee++){N||((N=document.createElement("canvas")).width=l,N.height=c,k=N.getContext("2d"),L=new _i(N,{resolution:a}),Z.push(new Qt(L)),E.page.push({id:Z.length-1,file:""}));var te=Ga.measureText(u[ee],d,!1,N),ge=te.width,pe=Math.ceil(te.height),le=Math.ceil(("italic"===d.fontStyle?2:1)*ge);if(A>=c-pe*a){if(0===A)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+d.fontSize+"px fonts");--ee,N=null,k=null,L=null,A=0,I=0,W=0}else if(W=Math.max(pe+te.fontProperties.descent,W),le*a+I>=v)--ee,A+=W*a,A=Math.ceil(A),I=0,W=0;else{Que(N,k,te,I,A,a,d);var he=PS(te.text);E.char.push({id:he,page:Z.length-1,x:I/a,y:A/a,width:le,height:pe,xoffset:0,yoffset:0,xadvance:Math.ceil(ge-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),I+=(le+2*o)*a,I=Math.ceil(I)}}ee=0;for(var Ie=u.length;ee<Ie;ee++)for(var ye=u[ee],Se=0;Se<Ie;Se++){var Re=u[Se],xe=k.measureText(ye).width,Ce=k.measureText(Re).width,De=k.measureText(ye+Re).width-(xe+Ce);De&&E.kerning.push({first:PS(ye),second:PS(Re),amount:De})}var tt=new n(E,Z,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=tt,tt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),nde=[],ide=[],zU=[],h0=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var s=Object.assign({},t.styleDefaults,i),o=s.align,a=s.tint,l=s.maxWidth,c=s.letterSpacing,u=s.fontName,d=s.fontSize;if(!Bu.available[u])throw new Error('Missing BitmapFont "'+u+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=o,r._tint=a,r._fontName=u,r._fontSize=d||Bu.available[u].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new tf(function(){r.dirty=!0},r,0,0),r._roundPixels=wt.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function Xue(n,t){function e(){this.constructor=n}Rx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=Bu.available[this._fontName],r=this._fontSize/i.size,s=new ir,o=[],a=[],l=[],u=VU(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),d=this._maxWidth*i.size/this._fontSize,v="none"===i.distanceFieldType?nde:ide,E=null,I=0,A=0,N=0,k=-1,L=0,W=0,Z=0,ee=0,te=0;te<u.length;te++){var pe=PS(ge=u[te]);if(/(?:\s)/.test(ge)&&(k=te,L=I,ee++),"\r"!==ge&&"\n"!==ge){var le=i.chars[pe];if(le){E&&le.kerning[E]&&(s.x+=le.kerning[E]);var he=zU.pop()||{texture:Qt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ir};he.texture=le.texture,he.line=N,he.charCode=pe,he.position.x=s.x+le.xOffset+this._letterSpacing/2,he.position.y=s.y+le.yOffset,he.prevSpaces=ee,o.push(he),I=he.position.x+le.texture.orig.width,s.x+=le.xAdvance+this._letterSpacing,Z=Math.max(Z,le.yOffset+le.texture.height),E=pe,-1!==k&&d>0&&s.x>d&&(Zh(o,1+k-++W,1+te-k),te=k,k=-1,a.push(L),l.push(o.length>0?o[o.length-1].prevSpaces:0),A=Math.max(A,L),N++,s.x=0,s.y+=i.lineHeight,E=null,ee=0)}}else a.push(I),l.push(-1),A=Math.max(A,I),++N,++W,s.x=0,s.y+=i.lineHeight,E=null,ee=0}var Ie=u[u.length-1];"\r"!==Ie&&"\n"!==Ie&&(/(?:\s)/.test(Ie)&&(I=L),a.push(I),A=Math.max(A,I),l.push(-1));var ye=[];for(te=0;te<=N;te++){var Se=0;"right"===this._align?Se=A-a[te]:"center"===this._align?Se=(A-a[te])/2:"justify"===this._align&&(Se=l[te]<0?0:(A-a[te])/l[te]),ye.push(Se)}var Re=o.length,xe={},Ce=[],Te=this._activePagesMeshData;for(te=0;te<Te.length;te++)v.push(Te[te]);for(te=0;te<Re;te++){var tt=(De=o[te].texture).baseTexture.uid;if(!xe[tt]){if(!(_e=v.pop())){var Ve=new u0,et=void 0,it=void 0;"none"===i.distanceFieldType?(et=new _f(Qt.EMPTY),it=Ke.NORMAL):(et=new _f(Qt.EMPTY,{program:y_.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),it=Ke.NORMAL_NPM);var Tt=new ml(Ve,et);Tt.blendMode=it,_e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Tt,vertices:null,uvs:null,indices:null}}_e.index=0,_e.indexCount=0,_e.vertexCount=0,_e.uvsCount=0,_e.total=0;var yt=this._textureCache;yt[tt]=yt[tt]||new Qt(De.baseTexture),_e.mesh.texture=yt[tt],_e.mesh.tint=this._tint,Ce.push(_e),xe[tt]=_e}xe[tt].total++}for(te=0;te<Te.length;te++)-1===Ce.indexOf(Te[te])&&this.removeChild(Te[te].mesh);for(te=0;te<Ce.length;te++)Ce[te].mesh.parent!==this&&this.addChild(Ce[te].mesh);for(var te in this._activePagesMeshData=Ce,xe){var kt=(_e=xe[te]).total;if(!((null===(e=_e.indices)||void 0===e?void 0:e.length)>6*kt)||_e.vertices.length<2*ml.BATCHABLE_SIZE)_e.vertices=new Float32Array(8*kt),_e.uvs=new Float32Array(8*kt),_e.indices=new Uint16Array(6*kt);else for(var Mn=_e.vertices,ln=4*_e.total*2;ln<Mn.length;ln++)Mn[ln]=0;_e.mesh.size=6*kt}for(te=0;te<Re;te++){var ge,Jt=(ge=o[te]).position.x+ye[ge.line]*("justify"===this._align?ge.prevSpaces:1);this._roundPixels&&(Jt=Math.round(Jt));var De,Ft=Jt*r,gn=ge.position.y*r,Zt=xe[(De=ge.texture).baseTexture.uid],ji=De.frame,An=De._uvs,mn=Zt.index++;Zt.indices[6*mn+0]=0+4*mn,Zt.indices[6*mn+1]=1+4*mn,Zt.indices[6*mn+2]=2+4*mn,Zt.indices[6*mn+3]=0+4*mn,Zt.indices[6*mn+4]=2+4*mn,Zt.indices[6*mn+5]=3+4*mn,Zt.vertices[8*mn+0]=Ft,Zt.vertices[8*mn+1]=gn,Zt.vertices[8*mn+2]=Ft+ji.width*r,Zt.vertices[8*mn+3]=gn,Zt.vertices[8*mn+4]=Ft+ji.width*r,Zt.vertices[8*mn+5]=gn+ji.height*r,Zt.vertices[8*mn+6]=Ft,Zt.vertices[8*mn+7]=gn+ji.height*r,Zt.uvs[8*mn+0]=An.x0,Zt.uvs[8*mn+1]=An.y0,Zt.uvs[8*mn+2]=An.x1,Zt.uvs[8*mn+3]=An.y1,Zt.uvs[8*mn+4]=An.x2,Zt.uvs[8*mn+5]=An.y2,Zt.uvs[8*mn+6]=An.x3,Zt.uvs[8*mn+7]=An.y3}for(var te in this._textWidth=A*r,this._textHeight=(s.y+i.lineHeight)*r,xe){var _e=xe[te];if(0!==this.anchor.x||0!==this.anchor.y)for(var rs=0,Ki=this._textWidth*this.anchor.x,tl=this._textHeight*this.anchor.y,Tc=0;Tc<_e.total;Tc++)_e.vertices[rs++]-=Ki,_e.vertices[rs++]-=tl,_e.vertices[rs++]-=Ki,_e.vertices[rs++]-=tl,_e.vertices[rs++]-=Ki,_e.vertices[rs++]-=tl,_e.vertices[rs++]-=Ki,_e.vertices[rs++]-=tl;this._maxLineHeight=Z*r;var pu=_e.mesh.geometry.getBuffer("aVertexPosition"),ss=_e.mesh.geometry.getBuffer("aTextureCoord"),ud=_e.mesh.geometry.getIndex();pu.data=_e.vertices,ss.data=_e.uvs,ud.data=_e.indices,pu.update(),ss.update(),ud.update()}for(te=0;te<o.length;te++)zU.push(o[te])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=Bu.available[this._fontName],r=i.distanceFieldRange,o=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,c=a.b,u=a.c,d=a.d,v=Math.sqrt(l*l+c*c),E=Math.sqrt(u*u+d*d),I=(Math.abs(v)+Math.abs(E))/2,A=this._fontSize/o,N=0,k=this._activePagesMeshData;N<k.length;N++)k[N].mesh.shader.uniforms.uFWidth=I*r*A*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Bu.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(vr),WU=function(){function n(){}return n.add=function(){xr.setExtensionXhrType("fnt",xr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=HU(t.data);if(i)for(var r=n.getBaseUrl(this,t),s=i.parse(t.data),o={},a=function(A){o[A.metadata.pageFile]=A.texture,Object.keys(o).length===s.page.length&&(t.bitmapFont=Bu.install(s,o,!0),e())},l=0;l<s.page.length;++l){var c=s.page[l].file,u=r+c,d=!1;for(var v in this.resources){var E=this.resources[v];if(E.url===u){E.metadata.pageFile=c,E.texture?a(E):E.onAfterMiddleware.add(a),d=!0;break}}if(!d){var I={crossOrigin:t.crossOrigin,loadType:xr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(u,I,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),kx=function(n,t){return(kx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},ode=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,H5,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function rde(n,t){function e(){this.constructor=n}kx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ku),Fx=function(n,t){return(Fx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function YU(n,t){function e(){this.constructor=n}Fx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var cde={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ude=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),w_=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(w_||(w_={})),w_))(),Bx=function(n){function t(e,i,r,s,o){void 0===i&&(i=8),void 0===r&&(r=4),void 0===s&&(s=wt.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,l=function lde(n,t){var s,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";s=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<n;o++){var a=s.replace("%index%",o.toString());r+=a=a.replace("%sampleIndex%",o-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(o,e),c=function dde(n){for(var o,t=cde[n],e=t.length,i=ude,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());o=a,a>=e&&(o=n-a-1),r+=l=l.replace("%value%",t[o].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(o);return(a=n.call(this,l,c)||this).horizontal=e,a.resolution=s,a._quality=0,a.quality=r,a.blur=i,a}return YU(t,n),t.prototype.apply=function(e,i,r,s){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,s);else{var o=e.getFilterTexture(),a=e.renderer,l=i,c=o;this.state.blend=!1,e.applyFilter(this,l,c,w_.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(l,w_.BLIT),this.uniforms.uSampler=c;var d=c;c=l,l=d,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,s),e.returnFilterTexture(o)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(ku),hde=function(n){function t(e,i,r,s){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=wt.FILTER_RESOLUTION),void 0===s&&(s=5);var o=n.call(this)||this;return o.blurXFilter=new Bx(!0,e,i,r,s),o.blurYFilter=new Bx(!1,e,i,r,s),o.resolution=r,o.quality=i,o.blur=e,o.repeatEdgePixels=!1,o}return YU(t,n),t.prototype.apply=function(e,i,r,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,w_.CLEAR),this.blurYFilter.apply(e,l,r,s),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,s):this.blurXFilter.apply(e,i,r,s)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(ku),Lx=function(n,t){return(Lx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ux=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,tx,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function fde(n,t){function e(){this.constructor=n}Lx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),s=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*s,a*(1-r)+l*s,0,0,a*(1-r)+l*s,r+a*(1-r),a*(1-r)-l*s,0,0,a*(1-r)-l*s,a*(1-r)+l*s,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,s=-.5*(r-1);this._loadMatrix([r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,s=-.5*(r-1);this._loadMatrix([r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,s,o){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,u=((s=s||3375104)>>16&255)/255,d=(s>>8&255)/255,v=(255&s)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,c,e=e||.2,0,u,d,v,i=i||.15,0,a-u,l-d,c-v,0,0],o)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ku);Ux.prototype.grayscale=Ux.prototype.greyscale;var Gx=function(n,t){return(Gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},vde=function(n){function t(e,i){var r=this,s=new Di;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=s,null==i&&(i=20),r.scale=new ir(i,i),r}return function gde(n,t){function e(){this.constructor=n}Gx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(ku),jx=function(n,t){return(jx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ede=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function yde(n,t){function e(){this.constructor=n}jx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(ku),Hx=function(n,t){return(Hx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},wde=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,tx,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function Cde(n,t){function e(){this.constructor=n}Hx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(ku),xS=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(xS||(xS={})),xS))(),$U=new Di;Pr.prototype._cacheAsBitmap=!1,Pr.prototype._cacheData=null,Pr.prototype._cacheAsBitmapResolution=null,Pr.prototype._cacheAsBitmapMultisample=xS.NONE;var Mde=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Pr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new Mde),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Pr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Pr.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(wt.RESOLUTION);var o=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,u=gl.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),d="cacheAsBitmap_"+Fd();this._cacheData.textureCacheId=d,_i.addToCache(u.baseTexture,d),Qt.addToCache(u,d);var v=this.transform.localTransform.copyTo($U).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:v,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(o,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var E=new Yo(u);E.transform.worldTransform=this.transform.worldTransform,E.anchor.x=-r.x/r.width,E.anchor.y=-r.y/r.height,E.alpha=i,E._bounds=this._bounds,this._cacheData.sprite=E,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=E.containsPoint.bind(E)}},Pr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Pr.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,s=t._projTransform;e.ceil(wt.RESOLUTION);var o=gl.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+Fd();this._cacheData.textureCacheId=a,_i.addToCache(o.baseTexture,a),Qt.addToCache(o,a);var l=$U;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new Yo(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},Pr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Pr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Pr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_i.removeFromCache(this._cacheData.textureCacheId),Qt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Pr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Pr.prototype.name=null,vr.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var o=this.children[i].getChildByName(t,!0);if(o)return o}return null},Pr.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ir),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Vx=function(n,t){return(Vx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function M_(n,t){function e(){this.constructor=n}Vx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var XU=function(n){function t(e,i,r,s){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===s&&(s=10);var o=n.call(this)||this;return o.segWidth=r,o.segHeight=s,o.width=e,o.height=i,o.build(),o}return M_(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,c=this.height/a,u=0;u<e;u++){var d=u%this.segWidth,v=u/this.segWidth|0;i.push(d*l,v*c),r.push(d/o,v/a)}var E=o*a;for(u=0;u<E;u++){var I=u%o,A=u/o|0,k=A*this.segWidth+I+1,L=(A+1)*this.segWidth+I;s.push(A*this.segWidth+I,k,L,k,(A+1)*this.segWidth+I+1,L)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(u0),qU=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var s=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return s.points=i,s._width=e,s.textureScale=r,s.build(),s}return M_(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),s.data=new Uint16Array(6*(e.length-1)));var o=r.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var l=0,c=e[0],u=this._width*this.textureScale,d=e.length,v=0;v<d;v++){var E=4*v;if(this.textureScale>0){var I=c.x-e[v].x,A=c.y-e[v].y,N=Math.sqrt(I*I+A*A);c=e[v],l+=N/u}else l=v/(d-1);o[E]=l,o[E+1]=0,o[E+2]=l,o[E+3]=1}var k=0;for(v=0;v<d-1;v++)a[k++]=E=2*v,a[k++]=E+1,a[k++]=E+2,a[k++]=E+2,a[k++]=E+1,a[k++]=E+3;r.update(),s.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],s=0,o=0,a=this.buffers[0].data,l=e.length,c=0;c<l;c++){var u=e[c],d=4*c;o=-((r=c<e.length-1?e[c+1]:u).x-i.x),s=r.y-i.y;var v=Math.sqrt(s*s+o*o),E=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=v,o/=v,o*=E,a[d]=u.x+(s*=E),a[d+1]=u.y+o,a[d+2]=u.x-s,a[d+3]=u.y-o,i=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(u0),KU=function(n){function t(e,i,r){void 0===r&&(r=0);var s=this,o=new qU(e.height,i,r),a=new _f(e);return r>0&&(e.baseTexture.wrapMode=fl.REPEAT),(s=n.call(this,o,a)||this).autoUpdate=!0,s}return M_(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(ml),JU=function(n){function t(e,i,r){var s=this,o=new XU(e.width,e.height,i,r),a=new _f(Qt.WHITE);return(s=n.call(this,o,a)||this).texture=e,s.autoResize=!0,s}return M_(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(ml),QU=function(n){function t(e,i,r,s,o){void 0===e&&(e=Qt.EMPTY);var a=this,l=new u0(i,r,s);l.getBuffer("aVertexPosition").static=!1;var c=new _f(e);return(a=n.call(this,l,c,null,o)||this).autoUpdate=!0,a}return M_(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(ml),f0=function(n){function t(e,i,r,s,o){void 0===i&&(i=10),void 0===r&&(r=10),void 0===s&&(s=10),void 0===o&&(o=10);var a=n.call(this,Qt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=s,a._topHeight=r,a._bottomHeight=o,a.texture=e,a}return M_(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,s=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=s*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(JU),zx=function(n,t){return(zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},ZU=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof Qt?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function Ode(n,t){function e(){this.constructor=n}zx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Gs.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Gs.shared.add(this.update,this,ic.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=i/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Qt.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Qt.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Qt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Gs.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Gs.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Yo);rc.registerPlugin("accessibility",gP),rc.registerPlugin("extract",Z5),rc.registerPlugin("interaction",yP),rc.registerPlugin("particle",SU),rc.registerPlugin("prepare",DU),rc.registerPlugin("batch",X5),rc.registerPlugin("tilingSprite",UU),To.registerPlugin(WU),To.registerPlugin(uU),To.registerPlugin(fU),To.registerPlugin(mU),To.registerPlugin(kU),t0.registerPlugin(l5),t0.registerPlugin(sU);var Pde="6.2.2",xde={AlphaFilter:ode,BlurFilter:hde,BlurFilterPass:Bx,ColorMatrixFilter:Ux,DisplacementFilter:vde,FXAAFilter:Ede,NoiseFilter:wde},Wx=function(n,t){return(Wx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ade=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var s=e.context;s.beginPath();for(var o=0;o<r.length;o++){var a=r[o];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,s.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var s=0;s<r;s++){var o=i[s],a=o.shape;if(a.type===yi.POLY){var l=a.points,c=o.holes,u=void 0,d=void 0,v=void 0,E=void 0;e.moveTo(l[0],l[1]);for(var I=1;I<l.length/2;I++)e.lineTo(l[2*I],l[2*I+1]);if(c.length>0){for(u=0,v=l[0],E=l[1],I=2;I+2<l.length;I+=2)u+=(l[I]-v)*(l[I+3]-E)-(l[I+2]-v)*(l[I+1]-E);for(var A=0;A<c.length;A++)if(l=c[A].shape.points){for(d=0,v=l[0],E=l[1],I=2;I+2<l.length;I+=2)d+=(l[I]-v)*(l[I+3]-E)-(l[I+2]-v)*(l[I+1]-E);if(d*u<0)for(e.moveTo(l[0],l[1]),I=2;I<l.length;I+=2)e.lineTo(l[I],l[I+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),I=l.length-4;I>=0;I-=2)e.lineTo(l[I],l[I+1]);c[A].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===yi.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===yi.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===yi.ELIP){var N=2*a.width,k=2*a.height,L=a.x-N/2,W=a.y-k/2,Z=.5522848,ee=N/2*Z,te=k/2*Z,ge=L+N,pe=W+k,le=L+N/2,he=W+k/2;e.moveTo(L,he),e.bezierCurveTo(L,he-te,le-ee,W,le,W),e.bezierCurveTo(le+ee,W,ge,he-te,ge,he),e.bezierCurveTo(ge,he+te,le+ee,pe,le,pe),e.bezierCurveTo(le-ee,pe,L,he+te,L,he),e.closePath()}else if(a.type===yi.RREC){var Ie=a.x,ye=a.y,Se=a.width,Re=a.height,xe=a.radius,Ce=Math.min(Se,Re)/2;e.moveTo(Ie,ye+(xe=xe>Ce?Ce:xe)),e.lineTo(Ie,ye+Re-xe),e.quadraticCurveTo(Ie,ye+Re,Ie+xe,ye+Re),e.lineTo(Ie+Se-xe,ye+Re),e.quadraticCurveTo(Ie+Se,ye+Re,Ie+Se,ye+Re-xe),e.lineTo(Ie+Se,ye+xe),e.quadraticCurveTo(Ie+Se,ye,Ie+Se-xe,ye),e.lineTo(Ie+xe,ye),e.quadraticCurveTo(Ie,ye,Ie,ye+xe),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function e8(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function t8(){if("undefined"==typeof document)return!1;var n=e8("#ff00ff"),t=e8("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var s=r.data;return 255===s[0]&&0===s[1]&&0===s[2]}var Dde=new Di,Wc=function(n){function t(e){var i=n.call(this,nc.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new Ade(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function Rde(n){return void 0===n&&(n=[]),t8()?(n[Ke.NORMAL]="source-over",n[Ke.ADD]="lighter",n[Ke.MULTIPLY]="multiply",n[Ke.SCREEN]="screen",n[Ke.OVERLAY]="overlay",n[Ke.DARKEN]="darken",n[Ke.LIGHTEN]="lighten",n[Ke.COLOR_DODGE]="color-dodge",n[Ke.COLOR_BURN]="color-burn",n[Ke.HARD_LIGHT]="hard-light",n[Ke.SOFT_LIGHT]="soft-light",n[Ke.DIFFERENCE]="difference",n[Ke.EXCLUSION]="exclusion",n[Ke.HUE]="hue",n[Ke.SATURATION]="saturate",n[Ke.COLOR]="color",n[Ke.LUMINOSITY]="luminosity"):(n[Ke.NORMAL]="source-over",n[Ke.ADD]="lighter",n[Ke.MULTIPLY]="source-over",n[Ke.SCREEN]="source-over",n[Ke.OVERLAY]="source-over",n[Ke.DARKEN]="source-over",n[Ke.LIGHTEN]="source-over",n[Ke.COLOR_DODGE]="source-over",n[Ke.COLOR_BURN]="source-over",n[Ke.HARD_LIGHT]="source-over",n[Ke.SOFT_LIGHT]="source-over",n[Ke.DIFFERENCE]="source-over",n[Ke.EXCLUSION]="source-over",n[Ke.HUE]="source-over",n[Ke.SATURATION]="source-over",n[Ke.COLOR]="source-over",n[Ke.LUMINOSITY]="source-over"),n[Ke.NORMAL_NPM]=n[Ke.NORMAL],n[Ke.ADD_NPM]=n[Ke.ADD],n[Ke.SCREEN_NPM]=n[Ke.SCREEN],n[Ke.SRC_IN]="source-in",n[Ke.SRC_OUT]="source-out",n[Ke.SRC_ATOP]="source-atop",n[Ke.DST_OVER]="destination-over",n[Ke.DST_IN]="destination-in",n[Ke.DST_OUT]="destination-out",n[Ke.DST_ATOP]="destination-atop",n[Ke.XOR]="xor",n[Ke.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),tP("Canvas"),i.resize(i.options.width,i.options.height),i}return function Ide(n,t){function e(){this.constructor=n}Wx(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,s,o,a;i&&(i instanceof gl||i instanceof Kv?(jc("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new g_(r.width,r.height,r.resolution),r.resource=new qv(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var c=this.context;if(this._projTransform=o||null,r||(this._lastObjectRendered=e),!a){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,this._activeBlendMode=Ke.NORMAL,this._outerBlend=!1,c.globalCompositeOperation=this.blendModes[Ke.NORMAL],void 0!==s?s:this.clearBeforeRender)if(this.renderingToScreen)c.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(c.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,c.fillStyle=this._backgroundColorString,c.fillRect(0,0,this.width,this.height),c.globalAlpha=1);else{r._canvasRenderTarget.clear();var d=r.clearColor;d[3]>0&&(c.globalAlpha=this.useContextAlpha?d[3]:1,c.fillStyle=Y1(iP(d)),c.fillRect(0,0,r.realWidth,r.realHeight),c.globalAlpha=1)}var v=this.context;this.context=c,e.renderCanvas(this),this.context=v,c.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var s=e,o=this._projTransform,a=this.resolution;r=r||a,o&&((s=Dde).copyFrom(e),s.prepend(o)),i?this.context.setTransform(s.a*r,s.b*r,s.c*r,s.d*r,s.tx*a|0,s.ty*a|0):this.context.setTransform(s.a*r,s.b*r,s.c*r,s.d*r,s.tx*a,s.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===Ke.SRC_IN||e===Ke.SRC_OUT||e===Ke.DST_IN||e===Ke.DST_ATOP;!i&&r&&(e=Ke.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=wt.SCALE_MODE===ds.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(ex),ts={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=ts.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var s,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];s=e.tintCache[i]}else s=document.createElement("canvas");if(ts.tintMethod(e,t,s),s.tintId=e._updateID,ts.convertTintToImage){var o=new Image;o.src=s.toDataURL(),e.tintCache[i]=o}else e.tintCache[i]=s;return s},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=ts.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(ts.canvas||(ts.canvas=document.createElement("canvas")),ts.tintMethod(n,t,ts.canvas),(i=ts.canvas.getContext("2d").createPattern(ts.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var o=n.baseTexture.getDrawableSource();i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var o=Du(t),a=o[0],l=o[1],c=o[2],u=i.getImageData(0,0,r.width,r.height),d=u.data,v=0;v<d.length;v+=4)d[v+0]*=a,d[v+1]*=l,d[v+2]*=c;i.putImageData(u,0,0)},roundColor:function(n){var t=ts.cacheStepsPerColorChannel,e=Du(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),iP(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:t8(),tintMethod:null};ts.tintMethod=ts.canUseMultiply?ts.tintWithMultiply:ts.tintWithPerPixel;var Nde=rc.create;rc.create=function(t){if(!t||!t.forceCanvas)try{return Nde(t)}catch(i){}return new Wc(t)},_i.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},Kv.prototype._canvasRenderTarget=null,Qt.prototype.patternCache=null,Qt.prototype.tintCache=null;var Yx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function $x(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function kde(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var Xx=$x(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,v){if("function"!=typeof u)throw new TypeError("The listener must be a function");var E=new r(u,d||l,v),I=e?e+c:c;return l._events[I]?l._events[I].fn?l._events[I]=[l._events[I],E]:l._events[I].push(E):(l._events[I]=E,l._eventsCount++),l}function o(l,c){0==--l._eventsCount?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var u,d,c=[];if(0===this._eventsCount)return c;for(d in u=this._events)t.call(u,d)&&c.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var d=this._events[e?e+c:c];if(!d)return[];if(d.fn)return[d.fn];for(var v=0,E=d.length,I=new Array(E);v<E;v++)I[v]=d[v].fn;return I},a.prototype.listenerCount=function(c){var d=this._events[e?e+c:c];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,v,E,I){var A=arguments,N=e?e+c:c;if(!this._events[N])return!1;var W,Z,k=this._events[N],L=arguments.length;if(k.fn){switch(k.once&&this.removeListener(c,k.fn,void 0,!0),L){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,u),!0;case 3:return k.fn.call(k.context,u,d),!0;case 4:return k.fn.call(k.context,u,d,v),!0;case 5:return k.fn.call(k.context,u,d,v,E),!0;case 6:return k.fn.call(k.context,u,d,v,E,I),!0}for(Z=1,W=new Array(L-1);Z<L;Z++)W[Z-1]=A[Z];k.fn.apply(k.context,W)}else{var te,ee=k.length;for(Z=0;Z<ee;Z++)switch(k[Z].once&&this.removeListener(c,k[Z].fn,void 0,!0),L){case 1:k[Z].fn.call(k[Z].context);break;case 2:k[Z].fn.call(k[Z].context,u);break;case 3:k[Z].fn.call(k[Z].context,u,d);break;case 4:k[Z].fn.call(k[Z].context,u,d,v);break;default:if(!W)for(te=1,W=new Array(L-1);te<L;te++)W[te-1]=A[te];k[Z].fn.apply(k[Z].context,W)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,v){var E=e?e+c:c;if(!this._events[E])return this;if(!u)return o(this,E),this;var I=this._events[E];if(I.fn)I.fn===u&&(!v||I.once)&&(!d||I.context===d)&&o(this,E);else{for(var A=0,N=[],k=I.length;A<k;A++)(I[A].fn!==u||v&&!I[A].once||d&&I[A].context!==d)&&N.push(I[A]);N.length?this._events[E]=1===N.length?N[0]:N:o(this,E)}return this},a.prototype.removeAllListeners=function(c){var u;return c?this._events[u=e?e+c:c]&&o(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),Fde=$x(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,s="object"==typeof Yx&&Yx;(s.global===s||s.window===s||s.self===s)&&(e=s);var o,ge,a=2147483647,l=36,N=/^xn--/,k=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ee=Math.floor,te=String.fromCharCode;function pe(_e){throw RangeError(W[_e])}function le(_e,Ve){for(var et=_e.length,it=[];et--;)it[et]=Ve(_e[et]);return it}function he(_e,Ve){var et=_e.split("@"),it="";return et.length>1&&(it=et[0]+"@",_e=et[1]),it+le((_e=_e.replace(L,".")).split("."),Ve).join(".")}function Ie(_e){for(var Tt,yt,Ve=[],et=0,it=_e.length;et<it;)(Tt=_e.charCodeAt(et++))>=55296&&Tt<=56319&&et<it?56320==(64512&(yt=_e.charCodeAt(et++)))?Ve.push(((1023&Tt)<<10)+(1023&yt)+65536):(Ve.push(Tt),et--):Ve.push(Tt);return Ve}function ye(_e){return le(_e,function(Ve){var et="";return Ve>65535&&(et+=te((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),et+te(Ve)}).join("")}function Se(_e){return _e-48<10?_e-22:_e-65<26?_e-65:_e-97<26?_e-97:l}function Re(_e,Ve){return _e+22+75*(_e<26)-((0!=Ve)<<5)}function xe(_e,Ve,et){var it=0;for(_e=et?ee(_e/700):_e>>1,_e+=ee(_e/Ve);_e>455;it+=l)_e=ee(_e/35);return ee(it+36*_e/(_e+38))}function Ce(_e){var it,Vt,Mn,ln,Jt,Ft,gn,Zt,ji,An,Ve=[],et=_e.length,Tt=0,yt=128,kt=72;for((Vt=_e.lastIndexOf("-"))<0&&(Vt=0),Mn=0;Mn<Vt;++Mn)_e.charCodeAt(Mn)>=128&&pe("not-basic"),Ve.push(_e.charCodeAt(Mn));for(ln=Vt>0?Vt+1:0;ln<et;){for(Jt=Tt,Ft=1,gn=l;ln>=et&&pe("invalid-input"),((Zt=Se(_e.charCodeAt(ln++)))>=l||Zt>ee((a-Tt)/Ft))&&pe("overflow"),Tt+=Zt*Ft,!(Zt<(ji=gn<=kt?1:gn>=kt+26?26:gn-kt));gn+=l)Ft>ee(a/(An=l-ji))&&pe("overflow"),Ft*=An;kt=xe(Tt-Jt,it=Ve.length+1,0==Jt),ee(Tt/it)>a-yt&&pe("overflow"),yt+=ee(Tt/it),Tt%=it,Ve.splice(Tt++,0,yt)}return ye(Ve)}function Te(_e){var Ve,et,it,Tt,yt,kt,Vt,Mn,ln,Jt,Ft,Zt,ji,An,mn,gn=[];for(Zt=(_e=Ie(_e)).length,Ve=128,et=0,yt=72,kt=0;kt<Zt;++kt)(Ft=_e[kt])<128&&gn.push(te(Ft));for(it=Tt=gn.length,Tt&&gn.push("-");it<Zt;){for(Vt=a,kt=0;kt<Zt;++kt)(Ft=_e[kt])>=Ve&&Ft<Vt&&(Vt=Ft);for(Vt-Ve>ee((a-et)/(ji=it+1))&&pe("overflow"),et+=(Vt-Ve)*ji,Ve=Vt,kt=0;kt<Zt;++kt)if((Ft=_e[kt])<Ve&&++et>a&&pe("overflow"),Ft==Ve){for(Mn=et,ln=l;!(Mn<(Jt=ln<=yt?1:ln>=yt+26?26:ln-yt));ln+=l)gn.push(te(Re(Jt+(mn=Mn-Jt)%(An=l-Jt),0))),Mn=ee(mn/An);gn.push(te(Re(Mn,0))),yt=xe(et,ji,it==Tt),et=0,++it}++et,++Ve}return gn.join("")}if(o={version:"1.3.2",ucs2:{decode:Ie,encode:ye},decode:Ce,encode:Te,toASCII:function tt(_e){return he(_e,function(Ve){return k.test(Ve)?"xn--"+Te(Ve):Ve})},toUnicode:function De(_e){return he(_e,function(Ve){return N.test(Ve)?Ce(Ve.slice(4).toLowerCase()):Ve})}},i&&r)if(n.exports==i)r.exports=o;else for(ge in o)o.hasOwnProperty(ge)&&(i[ge]=o[ge]);else e.punycode=o}(Yx)}),Yc_isString=function(n){return"string"==typeof n},Yc_isObject=function(n){return"object"==typeof n&&null!==n},Yc_isNull=function(n){return null===n};function Bde(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Lde=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var s=/\+/g;n=n.split(t=t||"&");var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var a=n.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var d,v,E,I,c=n[l].replace(s,"%20"),u=c.indexOf(e);u>=0?(d=c.substr(0,u),v=c.substr(u+1)):(d=c,v=""),E=decodeURIComponent(d),I=decodeURIComponent(v),Bde(r,E)?Array.isArray(r[E])?r[E].push(I):r[E]=[r[E],I]:r[E]=I}return r},p0=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},Ude=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var s=encodeURIComponent(p0(r))+e;return Array.isArray(n[r])?n[r].map(function(o){return s+encodeURIComponent(p0(o))}).join(t):s+encodeURIComponent(p0(n[r]))}).join(t):i?encodeURIComponent(p0(i))+e+encodeURIComponent(p0(n)):""},qx=$x(function(n,t){t.decode=t.parse=Lde,t.encode=t.stringify=Ude}),Gde=AS;function ac(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Vde=/^([a-z0-9.+-]+:)/i,zde=/:[0-9]*$/,Wde=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$de=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Kx=["'"].concat($de),n8=["%","/","?",";","#"].concat(Kx),i8=["/","?","#"],r8=/^[+a-z0-9A-Z_-]{0,63}$/,qde=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Kde={javascript:!0,"javascript:":!0},Jx={javascript:!0,"javascript:":!0},O_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function AS(n,t,e){if(n&&Yc_isObject(n)&&n instanceof ac)return n;var i=new ac;return i.parse(n,t,e),i}ac.prototype.parse=function(n,t,e){if(!Yc_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",s=n.split(r);s[0]=s[0].replace(/\\/g,"/");var a=n=s.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=Wde.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?qx.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=Vde.exec(a);if(c){var u=(c=c[0]).toLowerCase();this.protocol=u,a=a.substr(c.length)}if(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var d="//"===a.substr(0,2);d&&(!c||!Jx[c])&&(a=a.substr(2),this.slashes=!0)}if(!Jx[c]&&(d||c&&!O_[c])){for(var v=-1,E=0;E<i8.length;E++)-1!==(I=a.indexOf(i8[E]))&&(-1===v||I<v)&&(v=I);var A,N;for(-1!==(N=-1===v?a.lastIndexOf("@"):a.lastIndexOf("@",v))&&(A=a.slice(0,N),a=a.slice(N+1),this.auth=decodeURIComponent(A)),v=-1,E=0;E<n8.length;E++){var I;-1!==(I=a.indexOf(n8[E]))&&(-1===v||I<v)&&(v=I)}-1===v&&(v=a.length),this.host=a.slice(0,v),a=a.slice(v),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var L=this.hostname.split(/\./),W=(E=0,L.length);E<W;E++){var Z=L[E];if(Z&&!Z.match(r8)){for(var ee="",te=0,ge=Z.length;te<ge;te++)Z.charCodeAt(te)>127?ee+="x":ee+=Z[te];if(!ee.match(r8)){var pe=L.slice(0,E),le=L.slice(E+1),he=Z.match(qde);he&&(pe.push(he[1]),le.unshift(he[2])),le.length&&(a="/"+le.join(".")+a),this.hostname=pe.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),k||(this.hostname=Fde.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Kde[u])for(E=0,W=Kx.length;E<W;E++){var Se=Kx[E];if(-1!==a.indexOf(Se)){var Re=encodeURIComponent(Se);Re===Se&&(Re=escape(Se)),a=a.split(Se).join(Re)}}var xe=a.indexOf("#");-1!==xe&&(this.hash=a.substr(xe),a=a.slice(0,xe));var Ce=a.indexOf("?");return-1!==Ce?(this.search=a.substr(Ce),this.query=a.substr(Ce+1),t&&(this.query=qx.parse(this.query)),a=a.slice(0,Ce)):t&&(this.search="",this.query={}),a&&(this.pathname=a),O_[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ac.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,s="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&Yc_isObject(this.query)&&Object.keys(this.query).length&&(s=qx.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||O_[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+i},ac.prototype.resolve=function(n){return this.resolveObject(AS(n,!1,!0)).format()},ac.prototype.resolveObject=function(n){if(Yc_isString(n)){var t=new ac;t.parse(n,!1,!0),n=t}for(var e=new ac,i=Object.keys(this),r=0;r<i.length;r++){var s=i[r];e[s]=this[s]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var o=Object.keys(n),a=0;a<o.length;a++){var l=o[a];"protocol"!==l&&(e[l]=n[l])}return O_[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!O_[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var d=c[u];e[d]=n[d]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||Jx[n.protocol])e.pathname=n.pathname;else{for(var W=(n.pathname||"").split("/");W.length&&!(n.host=W.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==W[0]&&W.unshift(""),W.length<2&&W.unshift(""),e.pathname=W.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var I=e.pathname&&"/"===e.pathname.charAt(0),A=n.host||n.pathname&&"/"===n.pathname.charAt(0),N=A||I||e.host&&n.pathname,k=N,L=e.pathname&&e.pathname.split("/")||[],Z=(W=n.pathname&&n.pathname.split("/")||[],e.protocol&&!O_[e.protocol]);if(Z&&(e.hostname="",e.port=null,e.host&&(""===L[0]?L[0]=e.host:L.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===W[0]?W[0]=n.host:W.unshift(n.host)),n.host=null),N=N&&(""===W[0]||""===L[0])),A)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,L=W;else if(W.length)L||(L=[]),L.pop(),L=L.concat(W),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return Z&&(e.hostname=e.host=L.shift(),(ee=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=ee.shift(),e.host=e.hostname=ee.shift())),e.search=n.search,e.query=n.query,(!Yc_isNull(e.pathname)||!Yc_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!L.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var te=L.slice(-1)[0],ge=(e.host||n.host||L.length>1)&&("."===te||".."===te)||""===te,pe=0,le=L.length;le>=0;le--)"."===(te=L[le])?L.splice(le,1):".."===te?(L.splice(le,1),pe++):pe&&(L.splice(le,1),pe--);if(!N&&!k)for(;pe--;pe)L.unshift("..");N&&""!==L[0]&&(!L[0]||"/"!==L[0].charAt(0))&&L.unshift(""),ge&&"/"!==L.join("/").substr(-1)&&L.push("");var ee,he=""===L[0]||L[0]&&"/"===L[0].charAt(0);return Z&&(e.hostname=e.host=he?"":L.length?L.shift():"",(ee=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=ee.shift(),e.host=e.hostname=ee.shift())),(N=N||e.host&&L.length)&&!he&&L.unshift(""),L.length?e.pathname=L.join("/"):(e.pathname=null,e.path=null),(!Yc_isNull(e.pathname)||!Yc_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},ac.prototype.parseHost=function(){var n=this.host,t=zde.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var Zde={parse:Gde,format:function Jde(n){return Yc_isString(n)&&(n=AS(n)),n instanceof ac?n.format():ac.prototype.format.call(n)},resolve:function Qde(n,t){return AS(n,!1,!0).resolve(t)}};wt.RETINA_PREFIX=/@([0-9\.]+)x/,wt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Qx,s8=!1,she=function rhe(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ke.NORMAL_NPM]=Ke.NORMAL,n[Ke.ADD_NPM]=Ke.ADD,n[Ke.SCREEN_NPM]=Ke.SCREEN,t[Ke.NORMAL]=Ke.NORMAL_NPM,t[Ke.ADD]=Ke.ADD_NPM,t[Ke.SCREEN]=Ke.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function a8(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function RS(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function l8(n){return!(n&n-1||!n)}function c8(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var lhe=0;function g0(){return++lhe}var u8={};function mf(n,t,e){if(void 0===e&&(e=3),!u8[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),u8[t]=!0}}var DS,d8={},Lu=Object.create(null),vf=Object.create(null);function h8(n,t){var e=wt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||wt.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var wo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var v=0,E=d.length;v<E;v++)d[v][u](t,e,i,r,s,o,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(wo.prototype,{dispatch:{value:wo.prototype.emit},run:{value:wo.prototype.emit}}),wt.TARGET_FPMS=.06;var _0=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(_0||(_0={})),_0))(),Zx=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),P_=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Zx(null,null,1/0),this.deltaMS=1/wt.TARGET_FPMS,this.elapsedMS=1/wt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=_0.NORMAL),this._addListener(new Zx(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=_0.NORMAL),this._addListener(new Zx(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*wt.TARGET_FPMS;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,wt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),uhe=2*Math.PI,NS=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(NS||(NS={})),NS))(),Mo=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=NS.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Ud=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),kS=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),ja=function(){function n(t,e,i,r,s,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,s,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Ud;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Ud;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,s=t.y;return e.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},n.prototype.setTransform=function(t,e,i,r,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-r,s),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(uhe-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+s*s),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*i+o.y*s),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*s)/o,this.ty=-(t*this.ty-e*s)/o,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),yf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Sf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ef=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],eI=[],f8=[],FS=Math.sign;!function dhe(){for(var n=0;n<16;n++){var t=[];eI.push(t);for(var e=0;e<16;e++)for(var i=FS(yf[n]*yf[e]+Sf[n]*bf[e]),r=FS(bf[n]*yf[e]+Ef[n]*bf[e]),s=FS(yf[n]*Sf[e]+Sf[n]*Ef[e]),o=FS(bf[n]*Sf[e]+Ef[n]*Ef[e]),a=0;a<16;a++)if(yf[a]===i&&bf[a]===r&&Sf[a]===s&&Ef[a]===o){t.push(a);break}}for(n=0;n<16;n++){var l=new ja;l.set(yf[n],bf[n],Sf[n],Ef[n],0,0),f8.push(l)}}();var Ir={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return yf[n]},uY:function(n){return bf[n]},vX:function(n){return Sf[n]},vY:function(n){return Ef[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return eI[n][t]},sub:function(n,t){return eI[n][Ir.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?Ir.S:Ir.N:2*Math.abs(t)<=Math.abs(n)?n>0?Ir.E:Ir.W:t>0?n>0?Ir.SE:Ir.SW:n>0?Ir.NE:Ir.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=f8[Ir.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new ja,this.localTransform=new ja,this.position=new kS(this.onChange,this,0,0),this.scale=new kS(this.onChange,this,1,1),this.pivot=new kS(this.onChange,this,0,0),this.skew=new kS(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),wt.PREFER_ENV=La.any?Ls.WEBGL:Ls.WEBGL2,wt.STRICT_TEXTURE_CACHE=!1;var BS=[];function tI(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=BS.length-1;r>=0;--r){var s=BS[r];if(s.test&&s.test(n,e))return new s(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var nI=function(n,t){return(nI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function sr(n,t){function e(){this.constructor=n}nI(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var iI=function(){return iI=Object.assign||function(t){for(var i,e=arguments,r=1,s=arguments.length;r<s;r++)for(var o in i=e[r])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},iI.apply(this,arguments)},x_=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new wo("setRealSize"),this.onUpdate=new wo("update"),this.onError=new wo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),LS=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,o,a)||this).data=e,r}return sr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(x_),fhe={scaleMode:ds.NEAREST,format:nt.RGBA,alphaMode:Us.NPM},Os=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,s=(i=i||{}).alphaMode,o=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,v=i.format,E=i.type,I=i.target,A=i.resolution;return e&&!(e instanceof x_)&&((e=tI(e,i.resourceOptions)).internal=!0),r.resolution=A||wt.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:wt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:wt.ANISOTROPIC_LEVEL,r._wrapMode=d||wt.WRAP_MODE,r._scaleMode=void 0!==l?l:wt.SCALE_MODE,r.format=v||nt.RGBA,r.type=E||Dt.UNSIGNED_BYTE,r.target=I||ha.TEXTURE_2D,r.alphaMode=void 0!==s?s:Us.UNPACK,r.uid=g0(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return sr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=l8(this.realWidth)&&l8(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete vf[this.cacheId],delete Lu[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=wt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+g0()),o=e._pixiId);var l=vf[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=o,t.addToCache(l,o)),l},t.fromBuffer=function(e,i,r,s){e=e||new Float32Array(i*r*4);var o=new LS(e,{width:i,height:r}),a=e instanceof Float32Array?Dt.FLOAT:Dt.UNSIGNED_BYTE;return new t(o,Object.assign(fhe,s||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),vf[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),vf[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=vf[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete vf[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete vf[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Xx),rI=function(n){function t(e,i){var r=this,s=i||{};(r=n.call(this,s.width,s.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Os;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return sr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof x_?e[r]:tI(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(s){return s.resource}).filter(function(s){return s}),r=i.map(function(s){return s.load()});return this._load=Promise.all(r).then(function(){var s=e.items[0];return e.resize(s.realWidth,s.realHeight),Promise.resolve(e)}),this._load},t}(x_),p8=function(n){function t(e,i){var l,c,r=this,s=i||{},o=s.width,a=s.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:o,height:a})||this,l&&r.initFromArray(l,i),r}return sr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ha.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,o,0,i.format,r.type,null);for(var u=0;u<o;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(rI),Uu=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return sr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function che(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,DS||(DS=document.createElement("a")),DS.href=n;var e=Zde.parse(DS.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,s){var o=e.gl,a=i.realWidth,l=i.realHeight;return s=s||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK),this.noSubImage||i.target!==o.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,o.texImage2D(i.target,0,r.internalFormat,i.format,r.type,s)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,r.type,s),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(x_),sI=function(n){function t(e){return n.call(this,e)||this}return sr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Uu),g8=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height,l=s.autoLoad,c=s.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:o,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return sr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=ha.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=ha.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var s=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];s[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),s[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(rI),oI=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var s=new Image;Uu.crossOrigin(s,e,i.crossorigin),s.src=e,e=s}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:wt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return sr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,s){var o=i.source;i.url=o.src;var a=function(){i.destroyed||(o.onload=null,o.onerror=null,i.resize(o.width,o.height),i._load=null,r(i.createBitmap?i.process():i))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(o){return o.blob()}).then(function(o){return r(o,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Us.UNPACK?"premultiply":"none"})}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var s=!0,o=i._glTextures;for(var a in o){var l=o[a];if(l!==r&&l.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Uu),_8=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return sr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;Uu.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,s=i.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=r*e.scale,a=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/s*r,a=e._overrideHeight||e._overrideWidth/r*s),o=Math.round(o),a=Math.round(a);var l=e.source;l.width=o,l.height=a,l._pixiId="canvas_"+g0(),l.getContext("2d").drawImage(i,0,0,r,s,0,0,o,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Uu),m8=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Uu.crossOrigin(s,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,v=(u=u||e[a]).split("?").shift().toLowerCase(),E=v.substr(v.lastIndexOf(".")+1);d=d||t.MIME_TYPES[E]||"video/"+E,l.src=u,l.type=d,s.appendChild(l)}e=s}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return sr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-P_.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(P_.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(P_.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(P_.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(P_.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(P_.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Uu),v8=function(n){function t(e){return n.call(this,e)||this}return sr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Uu);BS.push(oI,v8,sI,m8,_8,LS,g8,p8);var y8={__proto__:null,Resource:x_,BaseImageResource:Uu,INSTALLED:BS,autoDetectResource:tI,AbstractMultiResource:rI,ArrayResource:p8,BufferResource:LS,CanvasResource:sI,CubeResource:g8,ImageResource:oI,SVGResource:_8,VideoResource:m8,ImageBitmapResource:v8},phe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return sr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Us.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t}(LS),aI=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new wo("disposeFramebuffer"),this.multisample=Gn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Os(null,{scaleMode:ds.NEAREST,resolution:1,mipmap:zo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Os(new phe(null,{width:this.width,height:this.height}),{scaleMode:ds.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:zo.OFF,format:nt.DEPTH_COMPONENT,type:Dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(s=r.resolution),e/s)}var s;this.depthTexture&&this.depthTexture.setSize(t/(s=this.depthTexture.resolution),e/s)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),b8=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];e={width:r,height:s,scaleMode:o,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Gn.NONE,(i=n.call(this,null,e)||this).mipmap=zo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new aI(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return sr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Os),S8=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,s=e.height;if(i){var o=t.width/2/r,a=t.height/2/s,l=t.x/r+o,c=t.y/s+a;i=Ir.add(i,Ir.NW),this.x0=l+o*Ir.uX(i),this.y0=c+a*Ir.uY(i),i=Ir.add(i,2),this.x1=l+o*Ir.uX(i),this.y1=c+a*Ir.uY(i),i=Ir.add(i,2),this.x2=l+o*Ir.uX(i),this.y2=c+a*Ir.uY(i),i=Ir.add(i,2),this.x3=l+o*Ir.uX(i),this.y3=c+a*Ir.uY(i)}else this.x0=t.x/r,this.y0=t.y/s,this.x1=(t.x+t.width)/r,this.y1=t.y/s,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/s,this.x3=t.x/r,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),E8=new S8,$c=function(n){function t(e,i,r,s,o,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Mo(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=s,l.valid=!1,l._uvs=E8,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Ud(a.x,a.y):new Ud(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return sr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&Lu[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===E8&&(this._uvs=new S8),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=wt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:e instanceof Os?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+g0(),Os.addToCache(e,e.cacheId)),o=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+g0()),o=e._pixiId);var l=Lu[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return l||e instanceof Os?!l&&e instanceof Os&&(l=new t(e),t.addToCache(l,o)):(i.resolution||(i.resolution=h8(e)),(l=new t(new Os(e,i))).baseTexture.cacheId=o,Os.addToCache(l.baseTexture,o),t.addToCache(l,o)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),s=t.from(e,Object.assign({resourceOptions:r},i),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},t.fromBuffer=function(e,i,r,s){return new t(Os.fromBuffer(e,i,r,s))},t.fromLoader=function(e,i,r,s){var o=new Os(e,Object.assign({scaleMode:wt.SCALE_MODE,resolution:h8(i)},s)),a=o.resource;a instanceof oI&&(a.url=i);var l=new t(o);return r||(r=i),Os.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Os.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Lu[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Lu[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Lu[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Lu[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)Lu[e.textureCacheIds[s]]===e&&delete Lu[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,s=e.width,o=e.height,a=i+s>this.baseTexture.width,l=r+o>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.height);this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Xx);function US(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}$c.EMPTY=new $c(new Os),US($c.EMPTY),US($c.EMPTY.baseTexture),$c.WHITE=function ghe(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new $c(new Os(new sI(n)))}(),US($c.WHITE),US($c.WHITE.baseTexture);var lI=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return sr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(i*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(o,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],s=1;s<arguments.length;s++)r[s-1]=i[s];return"number"==typeof e&&(mf("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new b8(e))},t}($c),_he=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Gn.NONE);var r=new b8(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new lI(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var s;void 0===i&&(i=1),void 0===r&&(r=Gn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?s=r>1?-r:-1:(s=((65535&(t=RS(t)))<<16|65535&(e=RS(e)))>>>0,r>1&&(s+=4294967296*r)),this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=s,o.setResolution(i),o},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Gn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),C8=function(){function n(t,e,i,r,s,o,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Dt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=s,this.start=o,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,s){return new n(t,e,i,r,s)},n}(),mhe=0,Ha=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=mhe++,this.disposeRunner=new wo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===fs.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?fs.ELEMENT_ARRAY_BUFFER:fs.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),vhe={Float32Array,Uint32Array,Int32Array,Uint8Array},T8={5126:4,5123:2,5121:1},bhe=0,She={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},cI=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=bhe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new wo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,s,o,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ha||(e instanceof Array&&(e=new Float32Array(e)),e=new Ha(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,s);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new C8(d,i,r,s,o,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Ha||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ha(t)),t.type=fs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Ha;for(r in this.attributes){var s=this.attributes[r];t.push(this.buffers[s.buffer].data),e.push(s.size*T8[s.type]/4),s.buffer=0}for(i.data=function yhe(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=a8(u);r[d]||(r[d]=new vhe[d](o)),a=r[d];for(var v=0;v<u.length;v++)a[(v/c|0)*i+l+v%c]=u[v];l+=c}return new Float32Array(o)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ha(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new C8(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=fs.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var o,e=new n,i=[],r=[],s=[],a=0;a<t.length;a++){o=t[a];for(var l=0;l<o.buffers.length;l++)r[l]=r[l]||0,r[l]+=o.buffers[l].data.length,s[l]=0}for(a=0;a<o.buffers.length;a++)i[a]=new(She[a8(o.buffers[a].data)])(r[a]),e.buffers[a]=new Ha(i[a]);for(a=0;a<t.length;a++)for(o=t[a],l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=fs.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,v=0;for(a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){v=a;break}for(var a in o.attributes){var E=o.attributes[a];(0|E.buffer)===v&&(u+=E.size*T8[E.type]/4)}for(a=0;a<t.length;a++){var I=t[a].indexBuffer.data;for(l=0;l<I.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[v].data.length/u,d+=I.length}}return e},n}(),Ehe=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return sr(t,n),t}(cI),Che=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ha(e.vertices),e.uvBuffer=new Ha(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return sr(t,n),t.prototype.map=function(e,i){var r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+i.width/e.width,this.uvs[3]=s,this.uvs[4]=r+i.width/e.width,this.uvs[5]=s+i.height/e.height,this.uvs[6]=r,this.uvs[7]=s+i.height/e.height,s=i.y,this.vertices[0]=r=i.x,this.vertices[1]=s,this.vertices[2]=r+i.width,this.vertices[3]=s,this.vertices[4]=r+i.width,this.vertices[5]=s+i.height,this.vertices[6]=r,this.vertices[7]=s+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(cI),The=0,I_=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=The++,this.static=!!e,this.ubo=!!i,t instanceof Ha?(this.buffer=t,this.buffer.type=fs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ha(new Float32Array(1)),this.buffer.type=fs.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),whe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Gn.NONE,this.sourceFrame=new Mo,this.destinationFrame=new Mo,this.bindingSourceFrame=new Mo,this.bindingDestinationFrame=new Mo,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),GS=[new Ud,new Ud,new Ud,new Ud],uI=new ja,w8=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new _he,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Ehe,this.quadUv=new Che,this.tempRect=new Mo,this.activeState={},this.globalUniforms=new I_({outputFrame:new Mo,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new whe,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,v=e[0].autoFit,E=null===(i=e[0].legacy)||void 0===i||i,I=1;I<e.length;I++){var A=e[I];c=Math.min(c,A.resolution),u=Math.min(u,A.multisample),d=this.useMaxPadding?Math.max(d,A.padding):d+A.padding,v=v&&A.autoFit,E=E||null===(r=A.legacy)||void 0===r||r}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=c,a.multisample=u,a.legacy=E,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),v){var N=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(uI.copyFrom(s.projection.transform).invert(),N),a.sourceFrame.fit(N)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var k=this.tempRect;k.x=0,k.y=0,k.width=a.sourceFrame.width,k.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,k),s.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var s=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Co.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var v=0;for(v=0;v<i.length-1;++v){1===v&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[v].apply(this,u,d,Co.CLEAR,e);var E=u;u=d,d=E}i[v].apply(this,u,c.renderTexture,Co.BLEND,e),v>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Co.CLEAR);var i=this.renderer,r=i.renderTexture,s=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Co.CLEAR||e===Co.BLIT&&(1&s.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var s=this.renderer;s.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zs.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zs.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,s=i.destinationFrame,o=e._texture.orig,a=t.set(s.width,0,0,s.height,r.x,r.y),l=e.worldTransform.copyTo(ja.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Gn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var s=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Gn.NONE);return s.filterFrame=t.filterFrame,s},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=GS[0],r=GS[1],s=GS[2],o=GS[3];i.set(e.left,e.top),r.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(s,s),t.apply(o,o);var a=Math.min(i.x,r.x,s.x,o.x),l=Math.min(i.y,r.y,s.y,o.y),c=Math.max(i.x,r.x,s.x,o.x),u=Math.max(i.y,r.y,s.y,o.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,s){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(s){var o=s.a,l=s.c,c=s.d;if((Math.abs(s.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}(s=s?uI.copyFrom(s):uI.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}},n}(),M8=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),O8=function(){function n(t){this.renderer=t,this.emptyRenderer=new M8(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var s=t.elements,o=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=s[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)o[c]=d;else for(;l<r;){var v=e[l];if(!v||v._batchEnabled!==i||v._batchLocation!==l){o[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),P8=0,x8=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=P8++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=P8++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(wt.PREFER_ENV>=Ls.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),Mhe=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Gn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Ohe=new Mo,I8=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new aI(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Mo,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;wt.PREFER_ENV===Ls.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=i),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var s=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(s.width!==i||s.height!==r||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=i,s.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,s){void 0===s&&(s=Nd.COLOR|Nd.DEPTH);var o=this.gl;o.clearColor(t,e,i,r),o.clear(s)},n.prototype.initFramebuffer=function(t){var i=new Mhe(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,s=r.length;e.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=r[o];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,o=s.length;i.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var c=s[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var v=t.depthTexture;this.renderer.texture.bind(v,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Gn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Gn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,s=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&s){var c=s.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=s.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new aI(s.width,s.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||((e=Ohe).width=s.width,e.height=s.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,i,r):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,r),e.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Mo},n.prototype.destroy=function(){this.renderer=null},n}(),dI={5126:4,5123:2,5121:1},A8=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;wt.PREFER_ENV===Ls.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(s){return i.bindVertexArrayOES(s)},t.deleteVertexArray=function(s){return i.deleteVertexArrayOES(s)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(s,o){return r.vertexAttribDivisorANGLE(s,o)},t.drawElementsInstanced=function(s,o,a,l,c){return r.drawElementsInstancedANGLE(s,o,a,l,c)},t.drawArraysInstanced=function(s,o,a,l){return r.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},s=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var s in r)if(!i[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,s=["g",t.id];for(var o in i)r[o]&&s.push(o,r[o].location);return s.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,v=t.attributes,E={},I={};for(var A in d)E[A]=0,I[A]=0;for(var A in v)!v[A].size&&a.attributeData[A]?v[A].size=a.attributeData[A].size:v[A].size||console.warn("PIXI Geometry attribute '"+A+"' size cannot be determined (likely the bound shader does not have the attribute)"),E[v[A].buffer]+=v[A].size*dI[v[A].type];for(var A in v){var N=v[A],k=N.size;void 0===N.stride&&(N.stride=E[N.buffer]===k*dI[N.type]?0:E[N.buffer]),void 0===N.start&&(N.start=I[N.buffer],I[N.buffer]+=k*dI[N.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var L=0;L<d.length;L++){var W=d[L];o.bind(W),i&&W._glBuffers[s].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<o.length;l++){var c=o[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(o[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=o[u.buffer],v=d._glBuffers[r];if(e.attributeData[c]){l!==v&&(s.bind(d),l=v);var E=e.attributeData[c].location;if(i.enableVertexAttribArray(E),i.vertexAttribPointer(E,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(E,1)}}}},n.prototype.draw=function(t,e,i,r){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,l,(i||0)*a,r||1):s.drawElements(t,e||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,i,e||o.getSize(),r||1):s.drawArrays(t,i,e||o.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),Phe=function(){function n(t){void 0===t&&(t=null),this.type=Ci.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=wt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ci.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function R8(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function D8(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),s={},o=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||s[c]||(s[c]=!0,0))}),a=[""];o.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function hI(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function N8(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return hI(2*t);case"bvec3":return hI(3*t);case"bvec4":return hI(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var jS,k8={},m0=k8;function F8(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===hs.HIGH&&e!==hs.HIGH&&(i=hs.MEDIUM),"precision "+i+" float;\n"+n}return e!==hs.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Rhe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function B8(n){return Rhe[n]}var HS=null,L8={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function U8(n,t){if(!HS){var e=Object.keys(L8);HS={};for(var i=0;i<e.length;++i){var r=e[i];HS[n[r]]=L8[r]}}return HS[t]}var v0,A_=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Dhe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Nhe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Fhe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Bhe(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var Hhe=0,VS={},fI=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Hhe++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),VS[i]?(VS[i]++,i+="-"+VS[i]):VS[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=F8(this.vertexSrc,wt.PRECISION_VERTEX,hs.HIGH),this.fragmentSrc=F8(this.fragmentSrc,wt.PRECISION_FRAGMENT,function Ahe(){if(!jS){jS=hs.MEDIUM;var n=function Ihe(){if(m0===k8||m0&&m0.isContextLost()){var n=document.createElement("canvas"),t=void 0;wt.PREFER_ENV>=Ls.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),m0=t}return m0}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);jS=t.precision?hs.HIGH:hs.MEDIUM}}return jS}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,s=d8[r];return s||(d8[r]=s=new n(t,e,i)),s},n}(),G8=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof I_?e:new I_(e):new I_({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(fI.from(t,e),i)},n}(),bI=function(){function n(){this.data=0,this.blendMode=Ke.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ke.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Whe=function(n){function t(e,i,r){var s=this,o=fI.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(s=n.call(this,o,r)||this).padding=0,s.resolution=wt.FILTER_RESOLUTION,s.multisample=wt.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new bI,s}return sr(t,n),t.prototype.apply=function(e,i,r,s,o){e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(G8),j8=new ja,Xhe=function(){function n(t,e){this._texture=t,this.mapCoord=new ja,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var s=t[r],o=t[r+1];e[r]=s*i.a+o*i.c+i.tx,e[r+1]=s*i.b+o*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,s=e.trim;s&&(j8.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(j8));var o=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/o.width,a[1]=(e._frame.y+l+c)/o.height,a[2]=(e._frame.x+e._frame.width-l+c)/o.width,a[3]=(e._frame.y+e._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},n}(),qhe=function(n){function t(e,i,r){var s=this,o=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(o=e,e=void 0,i=void 0,r=void 0),(s=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,s.maskMatrix=new ja,s}return sr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new Xhe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,s))},t}(Whe),H8=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Phe;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ci.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ci.SCISSOR:this.renderer.scissor.push(i);break;case Ci.STENCIL:this.renderer.stencil.push(i);break;case Ci.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ci.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ci.SCISSOR:this.renderer.scissor.pop();break;case Ci.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ci.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ci.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ci.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ci.SCISSOR:Ci.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,s=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new qhe]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;o[0].resolution=c,o[0].multisample=u,o[0].maskSprite=r;var v=s.filterArea;s.filterArea=r.getBounds(!0),a.filter.push(s,o),s.filterArea=v,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),V8=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),z8=new ja,W8=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return sr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,s=this.renderer,o=s.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,s=e.c,o=e.d;return(Math.abs(e.b)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,s,o){t.isMatrixRotated(o)||((o=o?z8.copyFrom(o):z8.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(V8),Y8=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return sr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(V8),$8=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ja,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var s=this.projectionMatrix,o=r?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Cf=new Mo,y0=new Mo,X8=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Mo,this.destinationFrame=new Mo,this.viewportFrame=new Mo}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var s,o,a,r=this.renderer;this.current=t,t?(a=(s=t.baseTexture).resolution,e||(Cf.width=t.frame.width,Cf.height=t.frame.height,e=Cf),i||(y0.x=t.frame.x,y0.y=t.frame.y,y0.width=e.width,y0.height=e.height,i=y0),o=s.framebuffer):(a=r.resolution,e||(Cf.width=r.screen.width,Cf.height=r.screen.height,e=Cf),i||((i=Cf).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,e,a,!o),this.renderer.mask.setMaskStack(t?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,s=i.width!==r.width||i.height!==r.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,c=o.width,u=o.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function Khe(n,t,e,i,r){e.buffer.update(r)}var Jhe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},q8={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var tfe=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var sfe=0,zS={textureCount:0,uboCount:0},K8=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=sfe++}return n.prototype.systemCheck=function(){if(!function Uhe(){if("boolean"==typeof v0)return v0;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");v0=!0===n({a:"b"},"a","b")}catch(t){v0=!1}return v0}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(zS.textureCount=0,zS.uboCount=0,this.syncUniformGroup(t.uniformGroup,zS)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function khe(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var s=t[r];if(s){for(var o=n.uniforms[r],a=!1,l=0;l<A_.length;l++)if(A_[l].test(s,o)){i.push(A_[l].code(r,o)),a=!0;break}if(!a){var u=(1===s.size?Dhe:Nhe)[s.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,zS,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var s=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=function efe(n,t){if(!n.autoManage)return{size:0,syncFunc:Khe};for(var e=function Zhe(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,s){return r.index-s.index}),e}(n.uniforms,t),i=function Qhe(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,s=0;s<t.length;s++){var o=t[s];if(e=q8[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),o.offset=r,r+=e,i=e):(o.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,s=i.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,v=0;v<A_.length;v++){var E=A_[v];if(E.codeUbo&&E.test(l.data,c)){o.push("offset = "+l.offset/4+";",A_[v].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var I=B8(l.data.type),A=Math.max(q8[l.data.type]/16,1),N=I/A;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*A+"; i++)\n                {\n                    for(var j = 0; j < "+N+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-N%4)%4+";\n                }\n\n                ")}else o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+Jhe[l.data.type]+";\n                ")}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,s=[i+"-"];for(var o in r)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function rfe(n,t){var e=R8(n,n.VERTEX_SHADER,t.vertexSrc),i=R8(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function xhe(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||D8(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||D8(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function nfe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=t.getActiveAttrib(n,r);if(0!==s.name.indexOf("gl_")){var o=U8(t,s.type),a={type:o,name:s.name,size:B8(o),location:t.getAttribLocation(n,s.name)};e[s.name]=a}}return e}(r,n),t.uniformData=function ife(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var s=t.getActiveUniform(n,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=U8(t,s.type);e[o]={name:o,index:r,type:l,size:s.size,isArray:a,value:N8(l,s.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort(function(u,d){return u>d?1:-1});for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,n.bindAttribLocation(r,o,s[o]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var o in t.uniformData){var l=t.uniformData[o];a[o]={location:n.getUniformLocation(r,o),value:N8(l.type,l.size)}}return new tfe(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),J8=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ke.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new bI,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function ofe(n,t){return void 0===t&&(t=[]),t[Ke.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.ADD]=[n.ONE,n.ONE],t[Ke.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.NONE]=[0,0],t[Ke.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ke.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ke.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ke.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ke.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ke.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ke.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ke.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ke.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ke.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ke.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),Q8=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=wt.GC_MAX_IDLE,this.checkCountMax=wt.GC_MAX_CHECK_COUNT,this.mode=wt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==p_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var s=e[r];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),SI=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Dt.UNSIGNED_BYTE,this.internalFormat=nt.RGBA,this.samplerType=0},Z8=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Os,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function ffe(n){var t,e,i,r,s,o,a,l,c,u,d,v,E,I,A,N,k,L,W,Z,ee,te,ge;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Dt.UNSIGNED_BYTE]=((e={})[nt.RGBA]=n.RGBA8,e[nt.RGB]=n.RGB8,e[nt.RG]=n.RG8,e[nt.RED]=n.R8,e[nt.RGBA_INTEGER]=n.RGBA8UI,e[nt.RGB_INTEGER]=n.RGB8UI,e[nt.RG_INTEGER]=n.RG8UI,e[nt.RED_INTEGER]=n.R8UI,e[nt.ALPHA]=n.ALPHA,e[nt.LUMINANCE]=n.LUMINANCE,e[nt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Dt.BYTE]=((i={})[nt.RGBA]=n.RGBA8_SNORM,i[nt.RGB]=n.RGB8_SNORM,i[nt.RG]=n.RG8_SNORM,i[nt.RED]=n.R8_SNORM,i[nt.RGBA_INTEGER]=n.RGBA8I,i[nt.RGB_INTEGER]=n.RGB8I,i[nt.RG_INTEGER]=n.RG8I,i[nt.RED_INTEGER]=n.R8I,i),t[Dt.UNSIGNED_SHORT]=((r={})[nt.RGBA_INTEGER]=n.RGBA16UI,r[nt.RGB_INTEGER]=n.RGB16UI,r[nt.RG_INTEGER]=n.RG16UI,r[nt.RED_INTEGER]=n.R16UI,r[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Dt.SHORT]=((s={})[nt.RGBA_INTEGER]=n.RGBA16I,s[nt.RGB_INTEGER]=n.RGB16I,s[nt.RG_INTEGER]=n.RG16I,s[nt.RED_INTEGER]=n.R16I,s),t[Dt.UNSIGNED_INT]=((o={})[nt.RGBA_INTEGER]=n.RGBA32UI,o[nt.RGB_INTEGER]=n.RGB32UI,o[nt.RG_INTEGER]=n.RG32UI,o[nt.RED_INTEGER]=n.R32UI,o[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,o),t[Dt.INT]=((a={})[nt.RGBA_INTEGER]=n.RGBA32I,a[nt.RGB_INTEGER]=n.RGB32I,a[nt.RG_INTEGER]=n.RG32I,a[nt.RED_INTEGER]=n.R32I,a),t[Dt.FLOAT]=((l={})[nt.RGBA]=n.RGBA32F,l[nt.RGB]=n.RGB32F,l[nt.RG]=n.RG32F,l[nt.RED]=n.R32F,l[nt.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Dt.HALF_FLOAT]=((c={})[nt.RGBA]=n.RGBA16F,c[nt.RGB]=n.RGB16F,c[nt.RG]=n.RG16F,c[nt.RED]=n.R16F,c),t[Dt.UNSIGNED_SHORT_5_6_5]=((u={})[nt.RGB]=n.RGB565,u),t[Dt.UNSIGNED_SHORT_4_4_4_4]=((d={})[nt.RGBA]=n.RGBA4,d),t[Dt.UNSIGNED_SHORT_5_5_5_1]=((v={})[nt.RGBA]=n.RGB5_A1,v),t[Dt.UNSIGNED_INT_2_10_10_10_REV]=((E={})[nt.RGBA]=n.RGB10_A2,E[nt.RGBA_INTEGER]=n.RGB10_A2UI,E),t[Dt.UNSIGNED_INT_10F_11F_11F_REV]=((I={})[nt.RGB]=n.R11F_G11F_B10F,I),t[Dt.UNSIGNED_INT_5_9_9_9_REV]=((A={})[nt.RGB]=n.RGB9_E5,A),t[Dt.UNSIGNED_INT_24_8]=((N={})[nt.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,N),t[Dt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((k={})[nt.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,k),ge=t):((L={})[Dt.UNSIGNED_BYTE]=((W={})[nt.RGBA]=n.RGBA,W[nt.RGB]=n.RGB,W[nt.ALPHA]=n.ALPHA,W[nt.LUMINANCE]=n.LUMINANCE,W[nt.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,W),L[Dt.UNSIGNED_SHORT_5_6_5]=((Z={})[nt.RGB]=n.RGB,Z),L[Dt.UNSIGNED_SHORT_4_4_4_4]=((ee={})[nt.RGBA]=n.RGBA,ee),L[Dt.UNSIGNED_SHORT_5_5_5_1]=((te={})[nt.RGBA]=n.RGBA,te),ge=L),ge}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new SI(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new SI(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(s=0;s<r.length;s++)r[s]===t&&(this.currentLocation!==s&&(i.activeTexture(i.TEXTURE0+s),this.currentLocation=s),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[s]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,s=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var o=t-1;o>=0;--o){var a=i[o];a&&a._glTextures[s].samplerType!==kd.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new SI(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Dt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==kd.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,s=t.realHeight,o=i.gl;(e.width!==r||e.height!==s||e.dirtyId<0)&&(e.width=r,e.height=s,o.texImage2D(t.target,0,e.internalFormat,r,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function ahe(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var s=i-(e=t+e>i?i-t:e);for(r=t;r<s;++r)n[r]=n[r+e];n.length=s}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==zo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:fl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==zo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===ds.LINEAR){var s=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===ds.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),eG={__proto__:null,FilterSystem:w8,BatchSystem:O8,ContextSystem:x8,FramebufferSystem:I8,GeometrySystem:A8,MaskSystem:H8,ScissorSystem:W8,StencilSystem:Y8,ProjectionSystem:$8,RenderTextureSystem:X8,ShaderSystem:K8,StateSystem:J8,TextureGCSystem:Q8,TextureSystem:Z8},EI=new ja,pfe=function(n){function t(e,i){void 0===e&&(e=nc.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},wt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Mo(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||wt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(mf("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return sr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=s+"px"),this.emit("resize",r,s)},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={}),"number"==typeof i&&(mf("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:s});var o=i.region,a=function hhe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(s=o||e.getLocalBounds(null,!0)).width&&(s.width=1),0===s.height&&(s.height=1);var l=lI.create(iI({width:s.width,height:s.height},a));return EI.tx=-s.x,EI.ty=-s.y,this.render(e,{renderTexture:l,clear:!1,transform:EI,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=nc.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function ihe(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function nhe(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Xx),gfe=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},_fe=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,s.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var s=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==s.updateID)if(s.updateID=t._updateID,i.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new gfe(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),mfe=(function(n){function t(e){var i=n.call(this,nc.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new wo("destroy"),contextChange:new wo("contextChange"),reset:new wo("reset"),update:new wo("update"),postrender:new wo("postrender"),prerender:new wo("prerender"),resize:new wo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new I_({projectionMatrix:new ja},!0),i.addSystem(H8,"mask").addSystem(x8,"context").addSystem(J8,"state").addSystem(K8,"shader").addSystem(Z8,"texture").addSystem(_fe,"buffer").addSystem(A8,"geometry").addSystem(I8,"framebuffer").addSystem(W8,"scissor").addSystem(Y8,"stencil").addSystem($8,"projection").addSystem(Q8,"textureGC").addSystem(w8,"filter").addSystem(X8,"renderTexture").addSystem(O8,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function ehe(n){var t;s8||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),s8=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}sr(t,n),t.create=function(e){if(function the(){return void 0===Qx&&(Qx=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:wt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(o){return!1}}()),Qx}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Gn.HIGH?Gn.HIGH:i>=Gn.MEDIUM?Gn.MEDIUM:i>=Gn.LOW?Gn.LOW:Gn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var s in this[i]=r,this.runners)this.runners[s].add(r);return this},t.prototype.render=function(e,i){var r,s,o,a;if(i&&(i instanceof lI?(mf("6.0.0","Renderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==s?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={});var o=n.prototype.generateTexture.call(this,e,i,r,s);return this.framebuffer.blit(),o},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return mf("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(pfe),function n(){this.texArray=null,this.blend=0,this.type=Zs.TRIANGLES,this.start=0,this.size=0,this.data=null}),vfe=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),yfe=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),bfe=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=bI.for2d(),i.size=4*wt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return sr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;wt.PREFER_ENV===Ls.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),wt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function Lhe(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=Fhe.replace(/%forloop%/gi,Bhe(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,s=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new mfe);for(;i.length<s;)i.push(new vfe);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,s=t._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Os._globalBatch,u=0,d=s[0],v=0;o.copyBoundTextures(a,r);for(var E=0;E<this._bufferSize;++E){var I=i[E];i[E]=null,I._batchEnabled!==c&&(d.count>=r&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,v,E),v=E,d=s[++u],++c),I._batchEnabled=c,I.touched=l,d.elements[d.count++]=I)}for(d.count>0&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,v,this._bufferSize),++u,++c),E=0;E<a.length;E++)a[E]=null;Os._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,c=s.vertexSize,u=t._drawCallPool,d=this._dcIndex,v=this._aIndex,E=this._iIndex,I=u[d];I.start=this._iIndex,I.texArray=e;for(var A=i;A<r;++A){var N=o[A],L=she[N._texture.baseTexture.alphaMode?1:0][N.blendMode];o[A]=null,i<A&&I.blend!==L&&(I.size=E-I.start,i=A,(I=u[++d]).texArray=e,I.start=E),this.packInterleavedGeometry(N,a,l,v,E),v+=N.vertexData.length/2*c,E+=N.indices.length,I.blend=L}i<r&&(I.size=E-I.start,++d),this._dcIndex=d,this._aIndex=v,this._iIndex=E},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,s=e._indexBuffer;wt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,s=i.state,o=t._drawCallPool,a=null,l=0;l<e;l++){var c=o[l],u=c.texArray,d=c.type,v=c.size,E=c.start,I=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=I,s.set(this.state),r.drawElements(d,v,r.UNSIGNED_SHORT,2*E)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),wt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=RS(Math.ceil(e/8)),r=c8(i),s=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new yfe(s*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var i=RS(Math.ceil(e/12)),r=c8(i),s=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o},t.prototype.packInterleavedGeometry=function(e,i,r,s,o){for(var a=i.uint32View,l=i.float32View,c=s/this.vertexSize,u=e.uvs,d=e.indices,v=e.vertexData,E=e._texture.baseTexture._batchLocation,I=Math.min(e.worldAlpha,1),A=I<1&&e._texture.baseTexture.alphaMode?function ohe(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,I):e._tintRGB+(255*I<<24),N=0;N<v.length;N+=2)l[s++]=v[N],l[s++]=v[N+1],l[s++]=u[N],l[s++]=u[N+1],a[s++]=A,l[s++]=E;for(N=0;N<d.length;N++)r[o++]=c+d[N]},t._drawCallPool=[],t._textureArrayPool=[],t}(M8),Sfe=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=I_.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new fI(this.vertexSrc,r)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ja,default:this.defaultGroupCache[t]};return new G8(this.programCache[t],s)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),Efe=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Ha(null,e,!1),i._indexBuffer=new Ha(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Dt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Dt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Dt.FLOAT).addIndex(i._indexBuffer),i}return sr(t,n),t}(cI),tG="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",nG="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Cfe=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:tG,fragment:nG,geometryClass:Efe,vertexSize:6},t),i=e.vertex,r=e.fragment,s=e.vertexSize,o=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new Sfe(i,r),u.geometryClass=o,u.vertexSize=s,u}return sr(l,a),l}(bfe)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return tG},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return nG},enumerable:!1,configurable:!0}),n}(),Tfe=(Cfe.create(),{}),wfe=function(n){Object.defineProperty(Tfe,n,{get:function(){return mf("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),y8[n]}})};for(var CI in y8)wfe(CI);var Mfe={},Ofe=function(n){Object.defineProperty(Mfe,n,{get:function(){return mf("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),eG[n]}})};for(var CI in eG)Ofe(CI);var iG=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==Zs.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var s=this.renderer.context,o=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var c=16777215!==t.tint,u=l.baseTexture,d=u.width,v=u.height;c&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new $c(u),t._tintedCanvas=ts.getTintedCanvas({texture:t._cachedTexture},t.tint));var E=c?t._tintedCanvas:u.getDrawableSource(),I=a[e]*u.width,A=a[i]*u.width,N=a[r]*u.width,k=a[e+1]*u.height,L=a[i+1]*u.height,W=a[r+1]*u.height,Z=o[e],ee=o[i],te=o[r],ge=o[e+1],pe=o[i+1],le=o[r+1],he=t.canvasPadding/this.renderer.resolution;if(he>0){var Ie=t.worldTransform,ye=Ie.a,Se=Ie.b,Re=Ie.c,xe=Ie.d,Ce=(Z+ee+te)/3,Te=(ge+pe+le)/3,De=Z-Ce,tt=ge-Te,_e=ye*De+Re*tt,Ve=Se*De+xe*tt,et=Math.sqrt(_e*_e+Ve*Ve),it=1+he/et;Z=Ce+De*it,ge=Te+tt*it,_e=ye*(De=ee-Ce)+Re*(tt=pe-Te),Ve=Se*De+xe*tt,ee=Ce+De*(it=1+he/(et=Math.sqrt(_e*_e+Ve*Ve))),pe=Te+tt*it,_e=ye*(De=te-Ce)+Re*(tt=le-Te),Ve=Se*De+xe*tt,te=Ce+De*(it=1+he/(et=Math.sqrt(_e*_e+Ve*Ve))),le=Te+tt*it}s.save(),s.beginPath(),s.moveTo(Z,ge),s.lineTo(ee,pe),s.lineTo(te,le),s.closePath(),s.clip();var Tt=I*L+k*N+A*W-L*N-k*A-I*W;s.transform((Z*L+k*te+ee*W-L*te-k*ee-Z*W)/Tt,(ge*L+k*le+pe*W-L*le-k*pe-ge*W)/Tt,(I*ee+Z*N+A*te-ee*N-Z*A-I*te)/Tt,(I*pe+ge*N+A*le-pe*N-ge*A-I*le)/Tt,(I*L*te+k*ee*N+Z*A*W-Z*L*N-k*A*te-I*ee*W)/Tt,(I*L*le+k*pe*N+ge*A*W-ge*L*N-k*A*le-I*pe*W)/Tt),s.drawImage(E,0,0,d*u.resolution,v*u.resolution,0,0,d,v),s.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var s=1;s<r-2;++s){var o=2*s,c=i[o+2],u=i[o+3],d=i[o+4],v=i[o+5];e.moveTo(i[o],i[o+1]),e.lineTo(c,u),e.lineTo(d,v)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();wt.MESH_CANVAS_PADDING=0,_f.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},f0.prototype._cachedTint=16777215,f0.prototype._tintedCanvas=null,f0.prototype._canvasUvs=null,f0.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,s=this.texture;if(s.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=ts.getTintedCanvas(this,this.tint));var o=r?this._tintedCanvas:s.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,c=r?0:s.frame.x,u=r?0:s.frame.y,d=c+s.frame.width,v=u+s.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=d-this._rightWidth,l[3]=d,l[4]=u,l[5]=u+this._topHeight,l[6]=v-this._bottomHeight,l[7]=v;for(var E=0;E<8;E++)l[E]*=s.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var I=0;I<3;I++)for(var A=0;A<3;A++){var N=2*A+8*I,k=Math.max(1,l[A+1]-l[A]),L=Math.max(1,l[I+5]-l[I+4]),W=Math.max(1,a[N+10]-a[N]),Z=Math.max(1,a[N+11]-a[N+1]);e.drawImage(o,l[A],l[I+4],k,L,a[N],a[N+1],W,Z)}}};var rG=!1;ml.prototype._cachedTint=16777215,ml.prototype._tintedCanvas=null,ml.prototype._cachedTexture=null,ml.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):rG||(rG=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},ml.prototype._canvasPadding=null,Object.defineProperty(ml.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:wt.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),QU.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},KU.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var TI,sG=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var s=0;s<r;s+=2){var o=s-2;o<0&&(o+=r);var a=(s+2)%r,l=t[s]-t[o],c=t[s+1]-t[o+1],u=Math.sqrt(l*l+c*c);l/=u,c/=u;var d=-(c*=e),E=[t[o]+d,t[o+1]+(l*=e)],I=[t[s]+d,t[s+1]+l],A=t[a]-t[s],N=t[a+1]-t[s+1];A/=u=Math.sqrt(A*A+N*N),N/=u;var k=-(N*=e),W=[t[s]+k,t[s+1]+(A*=e)],Z=[t[a]+k,t[a+1]+A],ee=n.findIntersection(E[0],E[1],I[0],I[1],W[0],W[1],Z[0],Z[1]);ee&&i.push.apply(i,ee)}return i},n.findIntersection=function(t,e,i,r,s,o,a,l){var c=(l-o)*(i-t)-(a-s)*(r-e),u=(a-s)*(e-o)-(l-o)*(t-s);if(0===c)return 0===u&&0==(i-t)*(e-o)-(r-e)*(t-s)?[(t+i)/2,(e+r)/2]:null;var v=u/c;return[t+v*(i-t),e+v*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),oG=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new Di,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==Qt.WHITE.baseTexture?t.texture.valid?(i=ts.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||Di.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,s=t.transform.worldTransform;e.setContextTransform(s),e.setBlendMode(t.blendMode);for(var a,l,o=t.geometry.graphicsData,c=(t.tint>>16&255)/255,u=(t.tint>>8&255)/255,d=(255&t.tint)/255,v=0;v<o.length;v++){var E=o[v],I=E.shape,A=E.fillStyle,N=E.lineStyle,k=0|E.fillStyle.color,L=0|E.lineStyle.color;if(E.matrix&&e.setContextTransform(s.copyTo(this._tempMatrix).append(E.matrix)),A.visible&&(a=this._calcCanvasStyle(A,((k>>16&255)/255*c*255<<16)+((k>>8&255)/255*u*255<<8)+(255&k)/255*d*255)),N.visible&&(l=this._calcCanvasStyle(N,((L>>16&255)/255*c*255<<16)+((L>>8&255)/255*u*255<<8)+(255&L)/255*d*255)),i.lineWidth=N.width,i.lineCap=N.cap,i.lineJoin=N.join,i.miterLimit=N.miterLimit,E.type===yi.POLY){i.beginPath();var te=(ee=I).points,ge=E.holes,pe=void 0,le=void 0,he=void 0,Ie=void 0,ye=void 0;i.moveTo(te[0],te[1]);for(var Se=2;Se<te.length;Se+=2)i.lineTo(te[Se],te[Se+1]);if(ee.closeStroke&&i.closePath(),ge.length>0){for(ye=[],pe=0,he=te[0],Ie=te[1],Se=2;Se+2<te.length;Se+=2)pe+=(te[Se]-he)*(te[Se+3]-Ie)-(te[Se+2]-he)*(te[Se+1]-Ie);for(var Re=0;Re<ge.length;Re++)if(te=ge[Re].shape.points){for(le=0,he=te[0],Ie=te[1],Se=2;Se+2<te.length;Se+=2)le+=(te[Se]-he)*(te[Se+3]-Ie)-(te[Se+2]-he)*(te[Se+1]-Ie);if(le*pe<0)for(i.moveTo(te[0],te[1]),Se=2;Se<te.length;Se+=2)i.lineTo(te[Se],te[Se+1]);else for(i.moveTo(te[te.length-2],te[te.length-1]),Se=te.length-4;Se>=0;Se-=2)i.lineTo(te[Se],te[Se+1]);ge[Re].shape.closeStroke&&i.closePath(),ye[Re]=le*pe<0}}A.visible&&(i.globalAlpha=A.alpha*r,i.fillStyle=a,i.fill()),N.visible&&this.paintPolygonStroke(ee,N,l,ge,ye,r,i)}else if(E.type===yi.RECT){var ee=I;if(A.visible&&(i.globalAlpha=A.alpha*r,i.fillStyle=a,i.fillRect(ee.x,ee.y,ee.width,ee.height)),N.visible){var Ce=ee.width+2*(xe=N.width*(.5-(1-N.alignment))),Te=ee.height+2*xe;i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.strokeRect(ee.x-xe,ee.y-xe,Ce,Te)}}else if(E.type===yi.CIRC){if(ee=I,i.beginPath(),i.arc(ee.x,ee.y,ee.radius,0,2*Math.PI),i.closePath(),A.visible&&(i.globalAlpha=A.alpha*r,i.fillStyle=a,i.fill()),N.visible){if(.5!==N.alignment){var xe=N.width*(.5-(1-N.alignment));i.beginPath(),i.arc(ee.x,ee.y,ee.radius+xe,0,2*Math.PI),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}}else if(E.type===yi.ELIP){if(ee=I,(De=1===N.alignment)||this.paintEllipse(ee,A,N,a,r,i),N.visible){if(.5!==N.alignment){var tt=.5522848,_e=2*(ee.width+(xe=N.width*(.5-(1-N.alignment)))),Ve=2*(ee.height+xe),et=ee.x-_e/2,it=ee.y-Ve/2,Tt=_e/2*tt,yt=Ve/2*tt,kt=et+_e,Vt=it+Ve,Mn=et+_e/2,ln=it+Ve/2;i.beginPath(),i.moveTo(et,ln),i.bezierCurveTo(et,ln-yt,Mn-Tt,it,Mn,it),i.bezierCurveTo(Mn+Tt,it,kt,ln-yt,kt,ln),i.bezierCurveTo(kt,ln+yt,Mn+Tt,Vt,Mn,Vt),i.bezierCurveTo(Mn-Tt,Vt,et,ln+yt,et,ln),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}De&&this.paintEllipse(ee,A,N,a,r,i)}else if(E.type===yi.RREC){var De;if(ee=I,(De=1===N.alignment)||this.paintRoundedRectangle(ee,A,N,a,r,i),N.visible){if(.5!==N.alignment){Ce=ee.width,Te=ee.height;var Jt=ee.x-(xe=N.width*(.5-(1-N.alignment))),Ft=ee.y-xe,gn=ee.width+2*xe,Zt=ee.height+2*xe,ji=xe*(N.alignment>=1?Math.min(gn/Ce,Zt/Te):Math.min(Ce/gn,Te/Zt)),An=ee.radius+ji,mn=Math.min(gn,Zt)/2;An=An>mn?mn:An,i.beginPath(),i.moveTo(Jt,Ft+An),i.lineTo(Jt,Ft+Zt-An),i.quadraticCurveTo(Jt,Ft+Zt,Jt+An,Ft+Zt),i.lineTo(Jt+gn-An,Ft+Zt),i.quadraticCurveTo(Jt+gn,Ft+Zt,Jt+gn,Ft+Zt-An),i.lineTo(Jt+gn,Ft+An),i.quadraticCurveTo(Jt+gn,Ft,Jt+gn-An,Ft),i.lineTo(Jt+An,Ft),i.quadraticCurveTo(Jt,Ft,Jt,Ft+An),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}De&&this.paintRoundedRectangle(ee,A,N,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,s,o,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),c=sG.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(var d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);t.closeStroke&&a.closePath();for(var v=0;v<r.length;v++){if(c=sG.offsetPolygon(r[v].shape.points,l),s[v])for(a.moveTo(c[0],c[1]),d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);else for(a.moveTo(c[c.length-2],c[c.length-1]),d=c.length-4;d>=0;d-=2)a.lineTo(c[d],c[d+1]);r[v].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*o,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,s,o){var a=2*t.width,l=2*t.height,c=t.x-a/2,u=t.y-l/2,d=.5522848,v=a/2*d,E=l/2*d,I=c+a,A=u+l,N=c+a/2,k=u+l/2;0===i.alignment&&o.save(),o.beginPath(),o.moveTo(c,k),o.bezierCurveTo(c,k-E,N-v,u,N,u),o.bezierCurveTo(N+v,u,I,k-E,I,k),o.bezierCurveTo(I,k+E,N+v,A,N,A),o.bezierCurveTo(N-v,A,c,k+E,c,k),o.closePath(),0===i.alignment&&o.clip(),e.visible&&(o.globalAlpha=e.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,s,o){var a=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,v=Math.min(c,u)/2;d=d>v?v:d,0===i.alignment&&o.save(),o.beginPath(),o.moveTo(a,l+d),o.lineTo(a,l+u-d),o.quadraticCurveTo(a,l+u,a+d,l+u),o.lineTo(a+c-d,l+u),o.quadraticCurveTo(a+c,l+u,a+c,l+u-d),o.lineTo(a+c,l+d),o.quadraticCurveTo(a+c,l,a+c-d,l),o.lineTo(a+d,l),o.quadraticCurveTo(a,l,a,l+d),o.closePath(),0===i.alignment&&o.clip(),e.visible&&(o.globalAlpha=e.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),b0=new Di;Ua.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=gl.create({width:i.width,height:i.height,scaleMode:t,resolution:e});TI||(TI=new Wc),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(b0),b0.invert(),b0.tx-=i.x,b0.ty-=i.y,TI.render(this,{renderTexture:r,clear:!0,transform:b0});var s=Qt.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return s.baseTexture.setResolution(e),s},Ua.prototype.cachedGraphicsData=[],Ua.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var aG=new Di,lG=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var s=e._frame.width,o=e._frame.height,a=t.transform.worldTransform,l=0,c=0,u=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&u){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===ds.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==d&&(r[i.smoothProperty]=d),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(aG),hr.matrixAppendRotationInv(a=aG,e.rotate,l,c),l=0,c=0),l-=s/2,c-=o/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,c|=0);var v=e.baseTexture.resolution,E=i._outerBlend;E&&(r.save(),r.beginPath(),r.rect(l*i.resolution,c*i.resolution,s*i.resolution,o*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=ts.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(s*v),Math.floor(o*v),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(s*i.resolution),Math.floor(o*i.resolution))):r.drawImage(u,e._frame.x*v,e._frame.y*v,Math.floor(s*v),Math.floor(o*v),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(s*i.resolution),Math.floor(o*i.resolution)),E&&r.restore(),i.setBlendMode(Ke.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();Yo.prototype._tintedCanvas=null,Yo.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var cG=new di,uG=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,o,e=this.renderer;t&&(o=t instanceof gl?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,s=o.frame):(i=e.rootContext,r=e.resolution,(s=cG).width=this.renderer.width,s.height=this.renderer.height);var a=Math.floor(s.width*r+1e-4),l=Math.floor(s.height*r+1e-4),c=new g_(a,l,1),u=i.getImageData(s.x*r,s.y*r,a,l);return c.context.putImageData(u,0,0),c.canvas},n.prototype.pixels=function(t){var i,r,s,o,e=this.renderer;return t&&(o=t instanceof gl?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,s=o.frame):(i=e.rootContext,r=e.resolution,(s=cG).width=e.width,s.height=e.height),i.getImageData(s.x*r,s.y*r,s.width*r,s.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),wI=function(n,t){return(wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function xfe(n,t){var e=n;if(t instanceof _i){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),s=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,s,0,0,e.canvas.width,e.canvas.height),!0}return!1}var hG=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(xfe),i}return function Pfe(n,t){function e(){this.constructor=n}wI(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(Ox),WS=new Di,S0=new Di,Xc=[new ir,new ir,new ir,new ir];BU.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,s=e.baseTexture,o=s.getDrawableSource(),a=s.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new g_(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=ts.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(o,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var c=this.tileTransform.localTransform,u=this._width,d=this._height;WS.identity(),S0.copyFrom(c),this.uvRespectAnchor||S0.translate(-this.anchor.x*u,-this.anchor.y*d),S0.scale(this.tileScale.x/a,this.tileScale.y/a),WS.prepend(S0),WS.prepend(r),t.setContextTransform(WS),i.fillStyle=this._canvasPattern;var v=this.anchor.x*-u,E=this.anchor.y*-d;Xc[0].set(v,E),Xc[1].set(v+u,E),Xc[2].set(v+u,E+d),Xc[3].set(v,E+d);for(var I=0;I<4;I++)S0.applyInverse(Xc[I],Xc[I]);for(i.beginPath(),i.moveTo(Xc[0].x,Xc[0].y),I=1;I<4;I++)i.lineTo(Xc[I].x,Xc[I].y);i.closePath(),i.fill()}},yU.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,s=0,o=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible&&u._texture.valid){var d=u._texture.frame;e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),s=u.anchor.x*(-d.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-d.height*u.scale.y)+u.position.y+.5,a=d.width*u.scale.x,l=d.height*u.scale.y):(r||(r=!0),u.displayObjectUpdateTransform(),t.setContextTransform(u.worldTransform,this.roundPixels,1),s=u.anchor.x*-d.width+.5,o=u.anchor.y*-d.height+.5,a=d.width,l=d.height);var E=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.getDrawableSource(),d.x*E,d.y*E,d.width*E,d.height*E,s*t.resolution,o*t.resolution,a*t.resolution,l*t.resolution)}}}},vr.prototype._renderCanvas=function(t){},vr.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Pr.prototype.renderCanvas=function(t){},l0.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Yo.prototype._renderCanvas.call(this,t)},Wc.registerPlugin("accessibility",gP),Wc.registerPlugin("extract",uG),Wc.registerPlugin("graphics",oG),Wc.registerPlugin("interaction",yP),Wc.registerPlugin("mesh",iG),Wc.registerPlugin("prepare",hG),Wc.registerPlugin("sprite",lG);const fG=["af","am","az","bg","bn","cs","de","el","en","es","fa","fi","fr","hi","hr","hu","hy","id","it","ja","ka","ko","lt","lv","mk","nl","no","pl","pt","pt-br","ro","ru","sq","sr","sv","sw","th","tl","tr","uk","uz","vi","zh","zh-tw"];class jn extends $e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:Afe}=Array,{getPrototypeOf:Rfe,prototype:Dfe,keys:Nfe}=Object;function pG(n){if(1===n.length){const t=n[0];if(Afe(t))return{args:t,keys:null};if(function kfe(n){return n&&"object"==typeof n&&Rfe(n)===Dfe}(t)){const e=Nfe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function gG(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function MI(...n){const t=Ji(n),{args:e,keys:i}=pG(n),r=new fe(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Ot(e[u]).subscribe(de(s,v=>{d||(d=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?gG(i,a):a),s.complete())}))}});return t?r.pipe(GO(t)):r}function Gd(...n){const t=wa(n),e=Ji(n),{args:i,keys:r}=pG(n);if(0===i.length)return Jn([],t);const s=new fe(function Ffe(n,t,e=me){return i=>{_G(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)_G(t,()=>{const c=Jn(n[l],t);let u=!1;c.subscribe(de(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>gG(r,o):me));return e?s.pipe(GO(e)):s}function _G(n,t,e){n?co(e,n,t):t()}class OI extends $e{constructor(t=1/0,e=1/0,i=LO){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function mG(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,Fo({connector:()=>new OI(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function pa(n,t){return Je((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(de(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;Ot(n(l,u)).subscribe(r=de(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}var vG=x(6100);class Lfe{constructor(t){this.translations=t}getTranslation(t){return dn(this.translations.get(t)||{})}}const PI=new Kt("TRANSLOCO_LOADER");function yG(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>null==e?void 0:e[i],n))}function bG(n){return n?Array.isArray(n)?n.length:xI(n)?Object.keys(n).length:n?n.length:0:0}function Tf(n){return"string"==typeof n}function xI(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function SG(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function II(n){return null==n}function CG(n){return!1===II(n)}function TG(n){return n&&"string"==typeof n.scope}function wG(n){return(0,vG.flatten)(n,{safe:!0})}const wf=new Kt("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({defaultLang:"en"})}),YS={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function Wfe(n=YS){return Object.assign(Object.assign({},YS),n)}const MG=new Kt("TRANSLOCO_TRANSPILER");let Yfe=(()=>{class n{constructor(e){this.interpolationMatcher=function $fe(n){const[t,e]=n&&n.interpolation?n.interpolation:YS.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e)}transpile(e,i={},r,s){return Tf(e)?e.replace(this.interpolationMatcher,(o,a)=>(a=a.trim(),CG(i[a])?i[a]:CG(r[a])?this.transpile(r[a],i,r,s):"")):(i&&(xI(e)?e=this.handleObject(e,i,r,s):Array.isArray(e)&&(e=this.handleArray(e,i,r,s))),e)}handleObject(e,i={},r,s){let o=e;return Object.keys(i).forEach(a=>{const l=yG(o,a),c=yG(i,a),u=this.transpile(l,c,r,s);o=function Ufe(n,t,e){n=Object.assign({},n);const i=t.split("."),r=i.length-1;return i.reduce((s,o,a)=>(s[o]=a===r?e:Array.isArray(s[o])?s[o].slice():Object.assign({},s[o]),s&&s[o]),n),n}(o,a,u)}),o}handleArray(e,i={},r,s){return e.map(o=>this.transpile(o,i,r,s))}}return n.\u0275fac=function(e){return new(e||n)(He(wf,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const AI=new Kt("TRANSLOCO_MISSING_HANDLER");let Xfe=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const OG=new Kt("TRANSLOCO_INTERCEPTOR");let qfe=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const PG=new Kt("TRANSLOCO_FALLBACK_STRATEGY");let NI,Kfe=(()=>{class n{constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}}return n.\u0275fac=function(e){return new(e||n)(He(wf))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function E0(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function jd(n){return n?n.split("/").pop():""}function RI(n,t,e="|"){if(Tf(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function xG(n,t){return function Vfe(n){return n&&xI(n.loader)}(n)?function epe(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function DI(n){return{scope:E0(n)||null,langName:jd(n)}}function IG(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function jfe(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(o=>o.default?o.default:o)}return i.getTranslation(t,r)}let C0=(()=>{class n{constructor(e,i,r,s,o,a){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=s,this.userConfig=o,this.fallbackStrategy=a,this.subscription=null,this.translations=new Map,this.cache=new Map,this.defaultLang="",this.availableLangs=[],this.isResolvedMissingOnce=!1,this.failedLangs=new Set,this.events=new $e,this.events$=this.events.asObservable(),this.loader||(this.loader=new Lfe(this.translations)),NI=this,this.mergedConfig=function Jfe(n,t){return Object.assign(Object.assign(Object.assign({},n),t),{missingHandler:Object.assign(Object.assign({},n.missingHandler),t.missingHandler),flatten:Object.assign(Object.assign({},n.flatten),t.flatten)})}(YS,this.userConfig),this.setAvailableLangs(this.mergedConfig.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new jn(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{"translationLoadSuccess"===l.type&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){var i,r;return null===(r=(i=this.parser).onLangChanged)||void 0===r||r.call(i,e),this.lang.next(e),this.events.next({type:"langChanged",payload:DI(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let s;const o=this._isLangScoped(e);let a;o&&(a=E0(e));const l={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:a}:void 0};if(this.useFallbackTranslation(e)){const u=o?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=function tpe({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(o=>Jn(IG({path:o,mainLoader:n,inlineLoader:r,data:e})).pipe(Pe(l=>({translation:l,lang:o}))))}(Object.assign(Object.assign({},l),{fallbackPath:u}));s=MI(d)}else s=Jn(IG(l));const c=s.pipe(function Bfe(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?me:Je((s,o)=>{let l,a=0;const c=()=>{let u=!1;l=s.subscribe(de(o,d=>{r&&(a=0),o.next(d)},void 0,d=>{if(a++<e){const v=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(null!=i){const E="number"==typeof i?Iu(i):Ot(i(d,a)),I=de(o,()=>{I.unsubscribe(),v()},()=>{o.complete()});E.subscribe(I)}else v()}else o.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}(this.config.failedRetries),nr(u=>{Array.isArray(u)?u.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==e&&this.cache.set(d.lang,dn({}))}):this.handleSuccess(e,u)}),tc(u=>(this.mergedConfig.prodMode||console.error(`Error while trying to load "${e}"`,u),this.handleFailure(e,i))),mG(1));return this.cache.set(e,c),c}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(c=>this.translate(s?`${s}.${c}`:c,i,o));e=s?`${s}.${e}`:e;const a=this.getTranslation(o),l=a[e];return l?this.parser.transpile(l,i,a,e):this._handleMissingKey(e,l,i)}selectTranslate(e,i,r,s=!1){let o;const a=(c,u)=>this.load(c,u).pipe(Pe(()=>s?this.translateObject(e,i,c):this.translate(e,i,c)));if(II(r))return this.langChanges$.pipe(pa(c=>a(c)));if(TG(r)){const c=r;r=c.scope,o=xG(c,c.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return a(r);const l=r;return this.langChanges$.pipe(pa(c=>a(`${l}/${c}`,{inlineLoader:o})))}isScopeWithLang(e){return this.isLang(jd(e))}translateObject(e,i={},r=this.getActiveLang()){if(Tf(e)||Array.isArray(e)){const{resolveLang:o,scope:a}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(u=>this.translateObject(a?`${a}.${u}`:u,i,o));const l=this.getTranslation(o),c=function zfe(n){return(0,vG.unflatten)(n)}(this.getObjectByKey(l,e=a?`${a}.${e}`:e));return function Gfe(n){return 0===bG(n)}(c)?this.translate(e,i,r):this.parser.transpile(c,i,l,e)}const s=[];for(const[o,a]of this.getEntries(e))s.push(this.translateObject(o,a,r));return s}selectTranslateObject(e,i,r){if(Tf(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[s,o],...a]=this.getEntries(e);return this.selectTranslateObject(s,o,r).pipe(Pe(l=>{const c=[l];for(const[u,d]of a)c.push(this.translateObject(u,d,r));return c}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=jd(e)!==e;i=this.isLang(e)||r?dn(e):this.langChanges$.pipe(Pe(s=>`${e}/${s}`))}return i.pipe(pa(r=>this.load(r).pipe(Pe(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const o=Object.assign(Object.assign({},{merge:!0,emitChange:!0}),r),a=E0(i);let l=e;a&&(l=wG({[this.getMappedScope(a)]:e}));const c=a?jd(i):i,u=Object.assign(Object.assign({},o.merge&&this.getTranslation(c)),l),d=this.mergedConfig.flatten.aot?u:wG(u),v=this.interceptor.preSaveTranslation(d,c);this.translations.set(c,v),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:o},r,Object.assign(Object.assign({},s),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=jd(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?Gd(this.load(r),this.load(e,{inlineLoader:i})):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(jd(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return bG(this.getTranslation(e))}getAvailableLangsIds(){return Tf(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Object.assign(Object.assign({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:DI(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){II(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),ft;if(!o||o===r[r.length-1]){let c="Unable to load translation and all the fallback languages";throw r.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=o;return r.length>1&&(r[r.length-1]=o,l=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:DI(e)}),this.load(l,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||SG(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const s=jd(e),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?E0(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},s=`${i}.`;for(const o in e)o.startsWith(s)&&(r[o.replace(s,"")]=e[o]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}}return n.\u0275fac=function(e){return new(e||n)(He(PI,8),He(MG),He(AI),He(OG),He(wf),He(PG))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ipe=new Kt("TRANSLOCO_LANG"),AG=(new Kt("TRANSLOCO_LOADING_TEMPLATE"),new Kt("TRANSLOCO_SCOPE"));class rpe{constructor(){this.initialized=!1}resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,s]=RI(e,"static");r=s}if(t){const[,s]=RI(t,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(t){return E0(t)?jd(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class spe{constructor(t){this.translocoService=t}resolve({inline:t,provider:e}={inline:void 0,provider:void 0}){if(t)return t;if(e){if(TG(e)){const{scope:i,alias:r=SG(i)}=e;return this.translocoService._setScopeAlias(i,r),i}return e}}}let Ut=(()=>{class n{constructor(e,i,r,s){this.translocoService=e,this.providerScope=i,this.providerLang=r,this.cdr=s,this.subscription=null,this.lastValue="",this.langResolver=new rpe,this.scopeResolver=new spe(this.translocoService)}transform(e,i,r){var s;if(!e)return e;const o=i?`${e}${JSON.stringify(i)}`:e;if(o===this.lastKey)return this.lastValue;this.lastKey=o,null===(s=this.subscription)||void 0===s||s.unsubscribe();const a=function Qfe(n,t){const[e]=RI(t,"static");return!e&&!!n.config.reRenderOnLangChange}(this.translocoService,this.providerLang||r);return this.subscription=this.translocoService.langChanges$.pipe(pa(l=>{const c=this.langResolver.resolve({inline:r,provider:this.providerLang,active:l});return Array.isArray(this.providerScope)?MI(this.providerScope.map(u=>this.resolveScope(c,u))):this.resolveScope(c,this.providerScope)}),function Zfe(n){return n?t=>t:wi(1)}(a)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=xG(i,r);return this.translocoService._loadDependencies(this.path,s)}}return n.\u0275fac=function(e){return new(e||n)(J(C0,16),J(AG,24),J(ipe,24),J(En,16))},n.\u0275pipe=fr({name:"transloco",type:n,pure:!1}),n})();const RG=[{provide:MG,useClass:Yfe,deps:[wf]},{provide:AI,useClass:Xfe},{provide:OG,useClass:qfe},{provide:PG,useClass:Kfe,deps:[wf]}];function lpe(n){return[{provide:AG,useValue:n}]}let tn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[RG]}),n})();new Kt("TRANSLOCO_TEST_LANGS - Available testing languages"),new Kt("TRANSLOCO_TEST_OPTIONS - Testing options");class upe{handle(t){console.error(`Missing translation for ${t}`)}}let dpe=(()=>{class n{constructor(e){this.http=e}getTranslation(e){const i=new RegExp("challenges","g");return this.http.get(`/assets/i18n/${e}.json?v=${Ei_version}`).pipe(tc(r=>(console.error(r),i.test(e)?this.http.get(`/assets/i18n/challenges/en.json?v=${Ei_version}`):this.http.get(`/assets/i18n/en.json?v=${Ei_version}`))))}}return n.\u0275fac=function(e){return new(e||n)(He(xO))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[{provide:wf,useValue:Wfe({availableLangs:fG,fallbackLang:"en",prodMode:Ei_production,missingHandler:{useFallbackTranslation:!0}})},{provide:AI,useClass:upe},{provide:PI,useClass:dpe}],imports:[tn]}),n})();var w0=(()=>(function(n){n.SessionStorage="sessionStorage",n.LocalStorage="localStorage"}(w0||(w0={})),w0))();class fpe{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return this.storage.keys()[t]?this.storage.keys()[t]:null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)?this.storage.get(t):null}setItem(t,e){this.storage.set(t,""+e)}}let DG=(()=>{class n{constructor(){this._session=this.setStorage(w0.SessionStorage),this._local=this.setStorage(w0.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new fpe}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vl=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction",n.aviaport="aviaport"}(vl||(vl={})),vl))(),M0=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(M0||(M0={})),M0))();let qc=(()=>{class n{constructor(){this.user=this.getRequiredParam(vl.user),this.operator=this.getRequiredParam(vl.operator),this.currency=this.getRequiredParam(vl.currency),this.lang=this.getOptionalLangParam(vl.lang),this.returnUrl=this.getOptionalParam(vl.returnUrl),this.accountHistoryUrl=this.getOptionalParam(vl.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(vl.jurisdiction),this.aviaport=this.getOptionalParam(vl.aviaport),this.additionalParams=[],Object.values(M0).forEach(e=>{const i=this.getOptionalParam(e);null!==i&&this.additionalParams.push({[e]:i})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(M0.sisalToken):this.getRequiredParam(vl.token),Uc("url.param.user",this.user),Uc("url.param.operator",this.operator),Uc("url.param.currency",this.currency),Uc("url.param.token",this.token),Uc("url.param.lang",this.lang),Uc("url.param.return_url",this.returnUrl),Uc("url.param.account_history_url",this.accountHistoryUrl),Uc("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const i=this.searchURLParam(e);if(null===i||""===i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchURLParam(e);return null===i||""===i?"en":i.toLowerCase()}getOptionalParam(e){const i=this.searchURLParam(e);return null===i||""===i?null:i}searchURLParam(e){const i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ppe=["adjarabet","spribegaming"];let gpe=(()=>{class n{constructor(){const e=location.hostname.split(".");this.secondLevel=e[e.length-2],this.topLevel=e[e.length-1]}mirrorURL(e){const i=new URL(e);return i.hostname=this.mirrorHostname(i.hostname),i.href}mirrorHostname(e){if(!Ei_domainMirroringEnabled||!this.secondLevel||!this.topLevel||ppe.includes(this.secondLevel))return e;const i=e.split(".");return e.replace(`.${i[i.length-2]}.${i[i.length-1]}`,`.${this.secondLevel}.${this.topLevel}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),on=(()=>{class n{constructor(e,i,r,s,o,a){this.translate=e,this.http=i,this.storage=r,this.deviceService=s,this.urlParams=o,this.domain=a,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const l=[];return l.push(document.fonts.load(`16px ${Dd.Base}`)),Promise.all(l)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===T4.IOS&&parseInt(function Nre(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&FO()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${this.domain.mirrorURL(Ei_clientConfig.path)}${this.urlParams.operator}${Ei_clientConfig.ext}?v=${Ei_version}`;return new Promise((c,u)=>{this.http.get(l).pipe(function mse(n){return Je((t,e)=>{let i,s,r=!1;const o=()=>{i=t.subscribe(de(e,void 0,void 0,a=>{s||(s=new $e,n(s).subscribe(de(e,()=>i?o():r=!0))),s&&s.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,o())};o()})}(d=>d.pipe(wi(5),P4(2e3),v=>a_(v,Hv(new Error(e)))))).subscribe(d=>{d.ws.host=this.domain.mirrorHostname(d.ws.host),this._clientConfig=Object.freeze(d),c()},()=>u(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function kre(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===k1.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,h4(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)}setAviaportSessionToken(e){this.storage.session.setItem(this.SESSION_TOKEN_KEY,e)}setLanguage(){const e=fG.includes(this.urlParams.lang)?this.urlParams.lang:"en";return this.translate.setActiveLang(e),new Promise(i=>{this.translate.load(e).subscribe(()=>{i(void 0)})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],s=[];for(let o=0;o<4;o++)s.push({name:`plane-${o}`,url:`${i}plane/${n}/plane-${o}.svg`});return r.concat(s)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class Ife{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(s=>{r.forEach(o=>{To.shared.resources[o.name]||To.shared.add(o)}),"function"==typeof e&&(this.onProgressID=To.shared.onProgress.add(o=>{e(null==o?void 0:o.progress,i)})),To.shared.load(()=>{this.onProgressID&&To.shared.onProgress.detach(this.onProgressID),s()})})}static versionResources(t){return t.map(e=>({name:e.name,url:e.url+=`?v=${Ei_version}`}))}}.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===U1.modal}get isGameInited(){return this._isGameInited}getFormattedUsername(e){var i;return!1===(null===(i=this._config)||void 0===i?void 0:i.isUseMaskedUsername)?e:function Bre(n){return n&&f4(n)?`${n.charAt(0)}***${n.charAt(n.length-1)}`.toLowerCase():"*****"}(e)}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:u_.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return Ei_avatarPath+e+`?v=${Ei_version}`}}return n.\u0275fac=function(e){return new(e||n)(He(C0),He(xO),He(DG),He(_se),He(qc),He(gpe))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Va=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new $e,this._clearSubject=new $e,this._message$=this._messageSubject.asObservable(),this._clear$=this._clearSubject.asObservable()}add(e,i=!1){e&&(!1===i?this._messageSubject.next(e):!0===i&&this.zone.run(()=>this._messageSubject.next(e)))}clear(e=null,i=!1){!1===i?this._clearSubject.next(e):!0===i&&this.zone.run(()=>this._clearSubject.next(e))}get clear$(){return this._clear$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$o=(()=>{class n{constructor(){this._subject=new $e,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lc=(()=>{class n{constructor(){this._selfInited=!1,this.isInited=!1,this._commands=new $e,this._commandsObs=this._commands.asObservable(),this.sendPostMessage=(e,i)=>{console.log("%c[ IFC EVENT ] "+e,"background: #222; color: #caa817","\n",i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}setup(){this._selfInited||(this._selfInited=!0,vi(window,"message").pipe(Nt(e=>Object.values(gr).includes(e.data.cmd))).subscribe(e=>this.onMessageCommand(e.data)))}onMessageCommand(e){console.log("%c[ IFC COMMAND ] "+e.cmd,"background: #222; color: #bada55","\n",e.data),this._commands.next(e)}command(e){return this._commandsObs.pipe(Nt(i=>i.cmd===e),Pe(i=>i.data))}emitEvent(e,i){!this._selfInited||this.sendPostMessage(e,i)}emitCloseEvent(e){!FO()||this.sendPostMessage(Ii.Close,e)}emitInitEvent(e){this.emitEvent(Ii.Init,{isReInit:this.isInited,balance:e.user.balance,currency:e.config.currency,precision:e.config.betPrecision,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),this.isInited=!0}emitUpdateStakeEvent(e,i){this.emitEvent(Ii.UpdateStake,{id:e,amount:i})}emitEventStartRound(e){const i=[];e&&Array.isArray(e)&&e.forEach(r=>{i.push({id:r.betId,amount:r.data.bet})}),this.emitEvent(Ii.StartRound,{bets:i})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ui=(()=>{class n{constructor(e,i,r,s,o,a){this.app=e,this.zone=i,this.message=r,this.modal=s,this.urlParams=o,this.ifc=a,this._display=new $e,this.responseSubject=new $e,this.isOnLoginError=!1,this.reconnection=new Wre}get display(){return this._display.asObservable().pipe(nr(e=>{e&&TO({type:"ws",level:"info",category:"ws.state",message:e.state})}))}init(){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.zone.runOutsideAngular(()=>{console.log("[ SFS ] instantiate"),this.smartFox=new _r.SmartFox(this.getWSServer(this.app.clientConfig.ws,this.app.clientConfig.servers)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),this.pingMonitor=new use(this.smartFox,e=>{this.setDisplay(e)})}),this.response(vn.Init)}getWSServer(e,i){return i?i[Math.floor(Math.random()*i.length)]:e}shutdown(e){this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.reconnection.reset(),this.pingMonitor.reset(),this.setDisplay(e)}bindEvents(e=!0){e?(this.smartFox.addEventListener(_r.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(_r.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(_r.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(_r.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(_r.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(_r.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(_r.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(_r.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(_r.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(_r.SFSEvent.EXTENSION_RESPONSE,this.onResponse))}request(e,i){if(null==this.smartFox)return;TO({type:"ws",level:"info",category:"ws.send",data:{action:e,data:i}}),console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i);let r=null;null!==i&&i.constructor==={}.constructor&&(r=g4.toSFSObject(i)),this.smartFox.send(new _r.ExtensionRequest(e+"Handler",r))}response(e,i=null){let r;return r=this.responseSubject.pipe(Nt(null===i?s=>s.cmd===e:s=>{var o;return s.cmd===e&&(null===(o=s.data)||void 0===o?void 0:o.code)===i})),r.pipe(nr(s=>{TO({type:"ws",level:"info",category:"ws.receive",data:{action:s.cmd,data:s.data}})}),Pe(s=>s.data))}setDisplay(e,i){this.zone.run(()=>this._display.next({state:e,data:i}))}onConnection(e){console.log("[ SFS ] onConnection",e),e.success?(this.reconnection.reset(),this.setDisplay(null),this.pingMonitor.reset(),"true"===this.urlParams.aviaport?(this.ifc.command(gr.AviaportSetSessionToken).pipe(wi(1),function Vre(n,t){const{first:e,each:i,with:r=zre,scheduler:s=(null!=t?t:t_),meta:o=null}=p4(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return Je((a,l)=>{let c,u,d=null,v=0;const E=I=>{u=co(l,s,()=>{try{c.unsubscribe(),Ot(r({meta:o,lastValue:d,seen:v})).subscribe(l)}catch(A){l.error(A)}},I)};c=a.subscribe(de(l,I=>{null==u||u.unsubscribe(),v++,l.next(d=I),i>0&&E(i)},void 0,void 0,()=>{(null==u?void 0:u.closed)||null==u||u.unsubscribe(),d=null})),!v&&E(null!=e?"number"==typeof e?e:+e-s.now():i)})}(5e3),tc(()=>(this.setDisplay(mi.loginError),ft))).subscribe(i=>{this.app.setAviaportSessionToken(i.value),this.smartFoxLogin()}),this.ifc.emitEvent(Ii.AviaportWaitingSessionToken)):this.smartFoxLogin()):(this.setDisplay(mi.reconnect),this.reconnection.try(this.smartFox,()=>{this.setDisplay(mi.connectionLost)}))}smartFoxLogin(){const e=new _r.SFSObject;e.putUtfString("token",this.urlParams.token),e.putUtfString("currency",this.urlParams.currency),e.putUtfString("lang",this.urlParams.lang),e.putUtfString("sessionToken",this.app.sessionToken),e.putSFSObject("platform",function Yre(n){let t=new _r.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",i_.Desktop):n.isMobile?t.putUtfString("deviceType",i_.Mobile):n.isTablet&&t.putUtfString("deviceType",i_.Tablet),t}(this.app)),e.putUtfString("version",Ei_version),this.urlParams.jurisdiction&&e.putUtfString("jurisdiction",this.urlParams.jurisdiction);const i=this.urlParams.additionalParams;if(Array.isArray(i)){const s=new _r.SFSObject;i.forEach(o=>{const a=function Fre(n){return"object"!=typeof n?"":Object.keys(n)[0]}(o);s.putUtfString(a,o[a])}),e.putSFSObject("additionalParams",s)}let r=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(r=r+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),this.smartFox.send(new _r.LoginRequest(r,"",e))}onConnectionLost(e){if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===_r.ClientDisconnectionReason.BAN)return this.pingMonitor.reset(),void this.setDisplay(mi.ban);if(e.reason===_r.ClientDisconnectionReason.KICK)return this.pingMonitor.reset(),void this.setDisplay(mi.kicked);this.setDisplay(mi.reconnect),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin")}onLoginError(e){console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,this.smartFox.disconnect(),this.setDisplay(e.errorCode===N1.LOGIN_BANNED_USER?mi.ban:mi.loginError,this.getDisplayData(e.errorMessage))}getDisplayData(e){if(function Lre(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return{additionalOperatorData:JSON.parse(e)}}onResponse(e){if(e.cmd===r_.Response)return;const i=g4.toObject(e.params);i.code===Kh.RealityCheck&&this.zone.run(()=>{this.modal.open(ri.notification,{type:Au.RealityCheck,message:i.errorMessage})}),i.code!==Kh.Success&&i.code!==Kh.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:dr.danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==vn.CurrentMultiplier&&e.cmd!==vn.X&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===vn.CurrentMultiplier||e.cmd===vn.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}startPingMonitor(e){this.pingMonitor.start(e)}}return n.\u0275fac=function(e){return new(e||n)(He(on),He(Wn),He(Va),He($o),He(qc),He(lc))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var NG=x(6461),Xo=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win",n.FreeBet="free_bet"}(Xo||(Xo={})),Xo))();let Mf=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const i={src:[`${this.soundPath}sprite_audio.mp3?v=${Ei_version}`],autoplay:!1,loop:!1,volume:.3,sprite:{[Xo.Bet]:[0,522.4489795918367],[Xo.FlyAway]:[2e3,2574.126984126984],[Xo.RoundStart]:[6e3,1515.102040816327],[Xo.Win]:[9e3,4022.857142857143],[Xo.FreeBet]:[15125,2e3]}};this._music=new NG.Howl({src:[`${this.soundPath}bg_music.mp3?v=${Ei_version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new NG.Howl(i),this.soundOn=!1,this.musicOn=!1}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wi=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new $e,this._eventsObs=this._events.asObservable(),this._stateSubject=new jn(null),this._onlinePlayersSubject=new jn(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._timeLeft=e.betTimeLeft,this._onlinePlayersSubject.next(e.onlinePlayers),this._stateSubject.next(e.stageId),Uc("roundId",e.roundId),this.changeState$=this.connector.response(vn.ChangeState,200).pipe(Nt(i=>i.newStateId!==zi.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(vn.CurrentMultiplier,200).pipe(Nt(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:zi.End,roundId:this.roundId})),this.connector.response(vn.X,200).pipe(Nt(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:zi.End,roundId:this.roundId})),this.connector.response(vn.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(e){Uc("roundId",e.roundId),this.state===zi.Run&&e.newStateId===zi.Bet&&function Mie(n,t){var e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;(0,Mr.Gd)().captureMessage(n,e,i)}("Frontend did not receive the crash multiplier"),this._roundId=e.roundId,this._timeLeft=e.timeLeft,e.newStateId===zi.End&&this.sound.play(Xo.FlyAway),e.newStateId===zi.Run&&this.sound.play(Xo.RoundStart),this._stateSubject.next(e.newStateId)}getState(e=null){return null===e?this._stateObs:this._stateObs.pipe(Nt(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===zi.Bet}get isRunningState(){return this.state===zi.Run}get isEndingState(){return this.state===zi.End||this.state===zi.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(Nt(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(ri.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(Mf),He($o))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var to=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(to||(to={})),to))();let kI=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(to.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(to.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(to.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(to.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(to.isRandomSeed);return null===e||e&&"true"===e}set isRandomSeed(e){this.setItem(to.isRandomSeed,e)}get randomSeed(){return null===this.getItem(to.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(to.randomSeed)}set randomSeed(e){this.setItem(to.randomSeed,e)}get manualSeed(){return null===this.getItem(to.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(to.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(to.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(to.sid))}set sid(e){this.setItem(to.sid,e)}getRandomSeed(){return h4(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(He(DG))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Gi=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(Gi||(Gi={})),Gi))(),Of=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(Of||(Of={})),Of))(),cc=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(cc||(cc={})),cc))();let vpe=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new jn(null),this._soundSubject=new jn(null),this._musicSubject=new jn(null),this._secondBetSubject=new jn(null),this.otherSubject=new $e,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(cc),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet,"other"in e&&this.otherSettingNames.forEach(i=>{i in e.other&&this.other.set(i,e.other[i])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.emitEvent(Ii.Sound,{value:e}),this.save(Of.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.emitEvent(Ii.Music,{value:e}),this.save(Of.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.emitEvent(Ii.Animation,{value:e}),this.save(Of.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(Of.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(Gi.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(Mf),He(lc))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yl=(()=>{class n{constructor(e,i){this.seed=e,this.settings=i}init(e){this._id=e.userId,this._balance=e.balance,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this._balance}get userBalance(){return this._balance>=0?this._balance:0}set balance(e){this._balance=e}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(He(kI),He(vpe))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gu=(()=>{class n{constructor(e,i,r){this.modal=e,this.connector=i,this.message=r,this._list=[],this._activeId=null,this._activateSource=new $e,this._updateSource=new $e,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(vn.FreeBetInfo).subscribe(s=>{s.activeFreeBetsInfo&&200===s.code&&this.update(s.activeFreeBetsInfo)}),this.connector.response(vn.FreeBetFinish,200).subscribe(()=>{this.remove(this.activeFreeBet),this.activate(null)}),this.connector.response(vn.CreateFreeBet,200).subscribe(s=>{const o=s.freeBets;this.message.add({value:Ad.YouHaveGotAFreeBet,context:dr.success}),this.setList(o,!1)}),this.connector.response(vn.CancelFreeBet,200).subscribe(s=>{this.message.add({value:Ad.YourFreeBetWasCancelledByAdministrator,context:dr.danger}),this.activate(null),s.freeBets.forEach(o=>{const a=this.list.find(l=>l.freeBetsId===o);a&&this.remove(a)})})}setList(e,i=!0){!Array.isArray(e)||(this._list=e,i&&this.autoActivation(),this._updateSource.next(e[e.length-1]))}autoActivation(){this.activate(this._list.length>0?this._list[0].freeBetsId:null)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(null!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e=null){e!==this._activeId&&(this._activeId=e,this._activateSource.next(e))}onClaim(){this.connector.request(Gi.FreeBetFinish,{freeBetsId:this.activeFreeBet.freeBetsId})}onManage(){this.modal.open(ri.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(He($o),He(Ui),He(Va))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kG=(()=>{class n{constructor(){this.history=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ju=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(ju||(ju={})),ju))();function qo(n,t=t_){return function ype(n){return Je((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(de(e,c=>{i=!0,r=c,s||Ot(n(c)).subscribe(s=de(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Iu(n,t))}let O0=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new jn(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{vi(window,"resize").pipe(Pe(()=>this.getSize()),qo(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=ju.md}}return n.\u0275fac=function(e){return new(e||n)(He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FI=(()=>{class n{constructor(){this.fakeElem=null,this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null),window.getSelection().removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ga=(()=>{class n{constructor(e,i,r,s,o){this.app=e,this.window=i,this.clipBoard=r,this.bsMessage=s,this.ifc=o,this._isOpen=!1,this._top10Gifs=[],this.tagUserSubject=new $e,this._openSubject=new jn(!1),this.isOpen$=this._openSubject.asObservable(),this.ifc.command(gr.AviaportToggleChat).subscribe(()=>{this.isOpen=!this.isOpen})}init(e){if(this.app.config.chat.isEnabled){const i=this.window.getSize().width;i>=ju.md&&(this.isOpen=!(i<ju.xl1300&&i>=ju.lg)),this.messages=function Dre(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages),this._top10Gifs=kO(e.chatSettings.top10Gifs)}}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen!==e&&(this._isOpen=e,this._openSubject.next(e),this.window.manualEmitResizeEvent())}shareBet(e,i){this.clipBoard.copyToClipBoard(this.app.config.chatApiVersion>=B1.v2?`/share_bet:${e}:${i}`:`/share_bet:${e}`),this.bsMessage.add({value:"copied-for-chat",context:dr.success,lifeTime:1e3,closable:!1})}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}}return n.\u0275fac=function(e){return new(e||n)(He(on),He(O0),He(FI),He(Va),He(lc))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$S=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new $e,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(s){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(s){}}}setup(){this.inited||(this.inited=!0,vi(window,"message").pipe(Nt(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),vi(window,"message").pipe(Nt(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(Gi.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(He(Ui))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BI=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,s){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const o=document.createElement("script");o.innerHTML="",o.src=this.getCaptchaScriptUrl(e,i,s),o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),FG=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,s,o){this.executeAsPromise(e,i,s).then(r).catch(a=>o?o(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((s,o)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(e,{action:i}).then(u=>this.zone.run(()=>s(u)))}catch(u){o(u)}})})})}}return n.\u0275fac=function(e){return new(e||n)(He(BI),He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),bpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[BI,FG],imports:[[Pt]]}),n})(),Kc=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new $e,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new $e,this.betSetted$=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Hd=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(Hd||(Hd={})),Hd))(),R_=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(R_||(R_={})),R_))();class Spe{getString(t){return t<Hd.Medium?R_.Low:t<Hd.High?R_.Medium:R_.High}getHex(t){return Wo(this.getString(t))}}let XS=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new Spe,this.dataSubject=new jn({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(vn.X,200).pipe(Nt(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(vn.CurrentMultiplier,200).pipe(Nt(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(zi.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(He(Ui),He(Wi))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:Epe}=Array;function BG(n){return 1===n.length&&Epe(n[0])?n[0]:n}function LG(...n){return 1===(n=BG(n)).length?Ot(n[0]):new fe(function Cpe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Ot(n[i]).subscribe(de(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}function qS(...n){const t=Ji(n),e=BG(n);return e.length?new fe(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Ot(e[o]).subscribe(de(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ft}function Vd(...n){const t=wa(n);return Je((e,i)=>{(t?a_(n,e,t):a_(n,e)).subscribe(i)})}function Pf(n,t=me){return n=null!=n?n:wpe,Je((e,i)=>{let r,s=!0;e.subscribe(de(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function wpe(n,t){return n===t}function LI(...n){const t=Ji(n);return Je((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Ot(n[l]).subscribe(de(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(me))&&(o=null))},O));e.subscribe(de(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new fe(O);let GG=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(J(Ho),J(Si))},n.\u0275dir=Rt({type:n}),n})(),xf=(()=>{class n extends GG{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=po(n)))(i||n)}}(),n.\u0275dir=Rt({type:n,features:[Mi]}),n})();const Ko=new Kt("NgValueAccessor"),Ppe={provide:Ko,useExisting:kn(()=>Hu),multi:!0},Ipe=new Kt("CompositionEventMode");let Hu=(()=>{class n extends GG{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xpe(){const n=Fc()?Fc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(J(Ho),J(Si),J(Ipe,8))},n.\u0275dir=Rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ni([Ppe]),Mi]}),n})();function HG(n){return null!=n&&"number"==typeof n.length}const Oo=new Kt("NgValidators"),Wd=new Kt("NgAsyncValidators");function KS(n){return null}function JG(n){return null!=n}function QG(n){const t=uv(n)?Jn(n):n;return sM(t),t}function ZG(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function e6(n,t){return t.map(e=>e(n))}function t6(n){return n.map(t=>function Rpe(n){return!n.validate}(t)?t:e=>t.validate(e))}function UI(n){return null!=n?function n6(n){if(!n)return null;const t=n.filter(JG);return 0==t.length?null:function(e){return ZG(e6(e,t))}}(t6(n)):null}function GI(n){return null!=n?function i6(n){if(!n)return null;const t=n.filter(JG);return 0==t.length?null:function(e){return MI(e6(e,t).map(QG)).pipe(Pe(ZG))}}(t6(n)):null}function r6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function jI(n){return n?Array.isArray(n)?n:[n]:[]}function JS(n,t){return Array.isArray(n)?n.includes(t):n===t}function a6(n,t){const e=jI(t);return jI(n).forEach(r=>{JS(e,r)||e.push(r)}),e}function l6(n,t){return jI(t).filter(e=>!JS(n,e))}class c6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=UI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=GI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Yd extends c6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jo extends c6{get formDirective(){return null}get path(){return null}}let Qo=(()=>{class n extends class u6{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(J(Yd,2))},n.\u0275dir=Rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Mt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Mi]}),n})();function P0(n,t){(function zI(n,t){const e=function s6(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(r6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function o6(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(r6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();tE(t._rawValidators,r),tE(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function jpe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&h6(n,t)})}(n,t),function Vpe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Hpe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&h6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Gpe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function tE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function h6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $I(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const x0="VALID",iE="INVALID",D_="PENDING",I0="DISABLED";function qI(n){return(rE(n)?n.validators:n)||null}function _6(n){return Array.isArray(n)?UI(n):n||null}function KI(n,t){return(rE(t)?t.asyncValidators:n)||null}function m6(n){return Array.isArray(n)?GI(n):n||null}function rE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const JI=n=>n instanceof ZI;function y6(n){return(n=>n instanceof E6)(n)?n.value:n.getRawValue()}function b6(n,t){const e=JI(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new Wt(1e3,"");if(!i[t])throw new Wt(1001,"")}function S6(n,t){JI(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new Wt(1002,"")})}class QI{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=_6(this._rawValidators),this._composedAsyncValidatorFn=m6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===x0}get invalid(){return this.status===iE}get pending(){return this.status==D_}get disabled(){return this.status===I0}get enabled(){return this.status!==I0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=_6(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=m6(t)}addValidators(t){this.setValidators(a6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(a6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(l6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(l6(t,this._rawAsyncValidators))}hasValidator(t){return JS(this._rawValidators,t)}hasAsyncValidator(t){return JS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=D_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=I0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=x0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===x0||this.status===D_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?I0:x0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=D_,this._hasOwnPendingAsyncValidator=!0;const e=QG(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function $pe(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=JI(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof qpe)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?I0:this.errors?iE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(D_)?D_:this._anyControlsHaveStatus(iE)?iE:x0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class E6 extends QI{constructor(t=null,e,i){super(qI(e),KI(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rE(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$I(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$I(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ZI extends QI{constructor(t,e,i){super(qI(e),KI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){S6(this,t),Object.keys(t).forEach(i=>{b6(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=y6(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qpe extends QI{constructor(t,e,i){super(qI(e),KI(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){S6(this,t),t.forEach((i,r)=>{b6(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>y6(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Qpe={provide:Yd,useExisting:kn(()=>Po)},w6=(()=>Promise.resolve(null))();let Po=(()=>{class n extends Yd{constructor(e,i,r,s,o){super(),this._changeDetectorRef=o,this.control=new E6,this._registered=!1,this.update=new en,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function YI(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Hu?e=s:function Ype(n){return Object.getPrototypeOf(n.constructor)===xf}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function WI(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){P0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){w6.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;w6.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?function ZS(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(J(Jo,9),J(Oo,10),J(Wd,10),J(Ko,10),J(En,8))},n.\u0275dir=Rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ni([Qpe]),Mi,Js]}),n})(),O6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();const tA=new Kt("NgModelWithFormControlWarning");function k6(n){return"number"==typeof n?n:parseInt(n,10)}let If=(()=>{class n{constructor(){this._validator=KS}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):KS,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Rt({type:n,features:[Js]}),n})();const Sge={provide:Oo,useExisting:kn(()=>N_),multi:!0};let N_=(()=>{class n extends If{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>k6(e),this.createValidator=e=>function XG(n){return t=>function zd(n){return null==n||0===n.length}(t.value)||!HG(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=po(n)))(i||n)}}(),n.\u0275dir=Rt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ti("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[ni([Sge]),Mi]}),n})();const Ege={provide:Oo,useExisting:kn(()=>k_),multi:!0};let k_=(()=>{class n extends If{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>k6(e),this.createValidator=e=>function qG(n){return t=>HG(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=po(n)))(i||n)}}(),n.\u0275dir=Rt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ti("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ni([Ege]),Mi]}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[O6]]}),n})(),_a=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[H6]}),n})(),V6=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:tA,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[H6]}),n})();const Age=["*"],qge=["dialog"];function Af(n){return null!=n}function F_(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const W6={animation:!0,transitionTimerDelayMs:5},W_e=()=>{},{transitionTimerDelayMs:Y_e}=W6,R0=new Map,Zo=(n,t,e,i)=>{let r=i.context||{};const s=R0.get(t);if(s)switch(i.runningTransition){case"continue":return ft;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),R0.delete(t)}const o=e(t,i.animation,r)||W_e;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),dn(void 0).pipe(function V_e(n){return t=>new fe(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new $e,l=new $e,c=a.pipe(function Tpe(...n){return t=>a_(t,dn(...n))}(!0));R0.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function z_e(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=vi(t,"transitionend").pipe(Or(c),Nt(({target:E})=>E===t));LG(Iu(u+Y_e).pipe(Or(c)),d,l).pipe(Or(c)).subscribe(()=>{R0.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let oE=(()=>{class n{constructor(){this.animation=W6.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Q6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),ej=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),ij=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();var Ps=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Ps||(Ps={})),Ps))();const lE=(n,t)=>!!t&&t.some(e=>e.contains(n)),sj=(n,t)=>!t||null!=function H_e(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),ume="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const oj=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function aj(n){const t=Array.from(n.querySelectorAll(oj)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const gme=/\s+/,lj=new class pme{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,r){const[s="top",o="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),c=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),v=parseFloat(l.marginRight);let E=0,I=0;switch(s){case"top":E=a.top-(e.offsetHeight+c+u);break;case"bottom":E=a.top+a.height;break;case"left":I=a.left-(e.offsetWidth+d+v);break;case"right":I=a.left+a.width}switch(o){case"top":E=a.top;break;case"bottom":E=a.top+a.height-e.offsetHeight;break;case"left":I=a.left;break;case"right":I=a.left+a.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?I=a.left+a.width/2-e.offsetWidth/2:E=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(I)}px, ${Math.round(E)}px)`;const A=e.getBoundingClientRect(),N=document.documentElement,k=window.innerHeight||N.clientHeight,L=window.innerWidth||N.clientWidth;return A.left>=0&&A.top>=0&&A.right<=L&&A.bottom<=k}};new Date(1882,10,12),new Date(2174,10,25);let pj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_a]]}),n})(),wme=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Rt({type:n,selectors:[["",8,"navbar"]]}),n})(),hE=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(J(Si))},n.\u0275dir=Rt({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&Mt("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),fE=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(J(kn(()=>kf)),J(Si))},n.\u0275dir=Rt({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&Jr(r,hE,4),2&e){let s;Vn(s=zn())&&(i.menuItems=s)}},hostVars:5,hostBindings:function(e,i){1&e&&Oe("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return i.dropdown.onKeyDown(s)})("keydown.Space",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&(ti("x-placement",i.placement),Mt("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),pE=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(J(kn(()=>kf)),J(Si))},n.\u0275dir=Rt({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&ti("aria-expanded",i.dropdown.isOpen())}}),n})(),_A=(()=>{class n extends pE{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(J(kn(()=>kf)),J(Si))},n.\u0275dir=Rt({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Oe("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&ti("aria-expanded",i.dropdown.isOpen())},features:[ni([{provide:pE,useExisting:kn(()=>n)}]),Mi]}),n})(),kf=(()=>{class n{constructor(e,i,r,s,o,a,l){this._changeDetector=e,this._document=r,this._ngZone=s,this._elementRef=o,this._renderer=a,this._closed$=new $e,this._bodyContainer=null,this._open=!1,this.openChange=new en,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=s.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(wi(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function hme(n,t,e,i,r,s,o,a){e&&n.runOutsideAngular((n=>ume?()=>setTimeout(()=>n(),100):n)(()=>{const c=vi(t,"keydown").pipe(Or(r),Nt(v=>v.which===Ps.Escape),nr(v=>v.preventDefault())),u=vi(t,"mousedown").pipe(Pe(v=>{const E=v.target;return 2!==v.button&&!lE(E,o)&&("inside"===e?lE(E,s)&&sj(E,a):"outside"===e?!lE(E,s):sj(E,a)||!lE(E,s))}),Or(r)),d=vi(t,"mouseup").pipe(LI(u),Nt(([v,E])=>E),P4(0),Or(r));LG([c.pipe(Pe(v=>0)),d.pipe(Pe(v=>1))]).subscribe(v=>n.run(()=>i(v)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let s=-1,o=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(e.target)&&(o=l),l===this._document.activeElement&&(s=c)}),i!==Ps.Space&&i!==Ps.Enter){if(i!==Ps.Tab){if(a||o){if(this.open(),r.length){switch(i){case Ps.ArrowDown:s=Math.min(s+1,r.length-1);break;case Ps.ArrowUp:if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case Ps.Home:s=0;break;case Ps.End:s=r.length-1}r[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(oj);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else vi(e.target,"focusout").pipe(wi(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else o&&(!0===this.autoClose||"inside"===this.autoClose)&&vi(o,"click").pipe(wi(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function _me(n,t,e,i,r){let s=Array.isArray(e)?e:e.split(gme);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=E=>{const[I,A]=E.split("-"),N=[];return r&&(N.push(`${r}-${I}`),A&&N.push(`${r}-${I}-${A}`),N.forEach(k=>{a.add(k)})),N};r&&o.forEach(E=>{a.remove(`${r}-${E}`)});let c=s.findIndex(E=>"auto"===E);c>=0&&o.forEach(function(E){null==s.find(I=>-1!==I.search("^"+E))&&s.splice(c++,1,E)});const u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let d=null,v=!1;for(d of s){let E=l(d);if(lj.positionElements(n,t,d,i)){v=!0;break}r&&E.forEach(I=>{a.remove(I)})}return v||(d=s[0],l(d),lj.positionElements(n,t,d,i)),d}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(s,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(s,"z-index","1050"),i.appendChild(s,r),i.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,s=this._elementRef.nativeElement;r.removeClass(s,"dropup"),r.removeClass(s,"dropdown"),i.placement="static"===this.display?null:e;const o=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(s,o);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,o))}}}return n.\u0275fac=function(e){return new(e||n)(J(En),J(wme),J(ur),J(Wn),J(Si),J(Ho),J(gj,8))},n.\u0275dir=Rt({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(Jr(r,fE,5),Jr(r,pE,5)),2&e){let s;Vn(s=zn())&&(i._menu=s.first),Vn(s=zn())&&(i._anchor=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&Mt("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Js]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();class Ff{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let Mme=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{Zo(this._zone,this._el.nativeElement,(e,i)=>{i&&F_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(J(Si),J(Wn))},n.\u0275cmp=st({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(Uh("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),Mt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class ns{close(t){}dismiss(t){}}class Ome{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $e,this._dismissed=new $e,this._hidden=new $e,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Or(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Or(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function j_e(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():dn(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qS(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var F0=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(F0||(F0={})),F0))();let Pme=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new $e,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new en,this.shown=new $e,this.hidden=new $e}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(wi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=qS(Zo(this._zone,e,()=>e.classList.remove("show"),i),Zo(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"},i=Zo(this._zone,this._elRef.nativeElement,(s,o)=>{o&&F_(s),s.classList.add("show")},e);qS(i,Zo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{vi(e,"keydown").pipe(Or(this._closed$),Nt(r=>r.which===Ps.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(F0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;vi(this._dialogEl.nativeElement,"mousedown").pipe(Or(this._closed$),nr(()=>i=!1),pa(()=>vi(e,"mouseup").pipe(Or(this._closed$),wi(1))),Nt(({target:r})=>e===r)).subscribe(()=>{i=!0}),vi(e,"click").pipe(Or(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(F0.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=aj(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(J(ur),J(Si),J(Wn))},n.\u0275cmp=st({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Ts(qge,7),2&e){let r;Vn(r=zn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(ti("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),Uh("modal d-block"+(i.windowClass?" "+i.windowClass:"")),Mt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Age,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(dv(),R(0,"div",0,1)(2,"div",2),hv(3),D()()),2&e&&Uh("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const xme=()=>{};let Ime=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):xme}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(He(ur))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ame=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new $e,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new en,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=vi(t,"focusin").pipe(Or(e),Pe(s=>s.target));vi(t,"keydown").pipe(Or(e),Nt(s=>s.which===Ps.Tab),LI(r)).subscribe(([s,o])=>{const[a,l]=aj(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&vi(t,"click").pipe(Or(e),LI(r),Pe(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:Af(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new ns,d=this._getContentRef(e,s.injector||i,r,u,s);let v=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,E=this._attachWindowComponent(e,o,d),I=new Ome(E,d,v,s.beforeDismiss);return this._registerModalRef(I),this._registerWindowCmpt(E),I.result.then(l,l),I.result.then(c,c),u.close=A=>{I.close(A)},u.dismiss=A=>{I.dismiss(A)},this._applyWindowOptions(E.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),v&&v.instance&&(this._applyBackdropOptions(v.instance,s),v.changeDetectorRef.detectChanges()),E.changeDetectorRef.detectChanges(),I}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(Mme).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(Pme).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Af(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Af(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof Tr?this._createFromTemplateRef(r,s):function z6(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new Ff([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new Ff([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Ff([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=Es.create({providers:[{provide:ns,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Ff([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(He(s1),He(Es),He(ur),He(Ime),He(jg),He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rme=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(He(oE))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B0=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(He(Ug),He(Es),He(Ame),He(Rme))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[B0]}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Dj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();new Kt("live announcer delay",{providedIn:"root",factory:function Wme(){return 100}});let Bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})();const Yme=[J6,Q6,ej,ij,rj,pj,_j,mj,Sj,xj,Aj,Rj,Dj,Nj,kj,Fj,Bj];let dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[Yme,J6,Q6,ej,ij,rj,pj,_j,mj,Sj,xj,Aj,Rj,Dj,Nj,kj,Fj,Bj]}),n})(),bA=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(J(Si),J(XS))},n.\u0275dir=Rt({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const $me=function(n,t){return{padding:n,borderRadius:t}};let Qc=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 6px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:2,vars:5,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(R(0,"div",0),j(1),D()),2&e&&(B("ngStyle",ka(2,$me,i.padding,i.borderRadius)),P(1),re(" ",i.multiplier.toFixed(2),"x\n"))},directives:[bA,Yh],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),hc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&ve(0,"div",0),2&e&&B("ngClass",i.size)},directives:[vo],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function Xme(n,t){if(1&n&&(R(0,"div",12)(1,"div",13),ve(2,"app-bubble-multiplier",14),D(),R(3,"div",15),j(4),$(5,"date"),D()()),2&n){const e=se();P(2),B("multiplier",e.fairnessData.result),P(2),re(" ",Yt(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const qme=function(n){return{value:n}};function Kme(n,t){if(1&n&&(R(0,"div",22)(1,"div",35)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"div",36),ve(6,"img",37),j(7),D()(),R(8,"div",38)(9,"span"),j(10),$(11,"transloco"),D(),R(12,"div",39),j(13),D()()()),2&n){const e=se(),i=e.index,r=e.$implicit,s=se(2);P(3),re(" ",Yt(4,6,"shared.modals.fairness.player",Bi(11,qme,i+1))," "),P(3),B("src",s.getAvatar(r),nn)("alt",s.getAvatar(r)),P(1),re(" ",s.app.getFormattedUsername(r.username)," "),P(3),We(K(11,9,"shared.modals.fairness.seed")),P(3),re(" ",r.seed," ")}}function Jme(n,t){if(1&n&&(R(0,"div"),ne(1,Kme,14,13,"div",34),D()),2&n){const e=t.$implicit;se();const i=xi(26);P(1),B("ngIf",e)("ngIfElse",i)}}function Qme(n,t){1&n&&(R(0,"div",40),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.fairness.not enough")," "))}function Zme(n,t){if(1&n){const e=_t();R(0,"div",16)(1,"div",17)(2,"div",18),ve(3,"div",19),R(4,"div",20)(5,"span"),j(6),$(7,"transloco"),D(),R(8,"div",21),j(9),$(10,"transloco"),D()()(),R(11,"div",22)(12,"input",23,24),Oe("ngModelChange",function(r){return ct(e),se().fairnessData.serverSeed=r})("click",function(){ct(e);const r=xi(13);return se().onSelect(r)}),D()()(),R(14,"div",25)(15,"div",18),ve(16,"div",26),R(17,"div",20)(18,"span"),j(19),$(20,"transloco"),D(),R(21,"div",21),j(22),$(23,"transloco"),D()()(),ne(24,Jme,2,2,"div",27),ne(25,Qme,3,3,"ng-template",null,28,mo),D(),R(27,"div",29)(28,"div",18),ve(29,"div",30),R(30,"div",20)(31,"span"),j(32),$(33,"transloco"),D(),R(34,"div",21),j(35),$(36,"transloco"),D()()(),R(37,"div",22)(38,"input",23,31),Oe("ngModelChange",function(r){return ct(e),se().fairnessData.seedSHA256=r})("click",function(){ct(e);const r=xi(39);return se().onSelect(r)}),D()()(),R(40,"div",32)(41,"div",18)(42,"span"),j(43),$(44,"transloco"),D(),R(45,"span"),j(46),$(47,"transloco"),D(),R(48,"span"),j(49),$(50,"transloco"),D()(),R(51,"div",22)(52,"span"),j(53),D(),R(54,"span"),j(55),D(),R(56,"span"),j(57),D()()(),R(58,"div",33)(59,"div",18)(60,"span"),j(61),$(62,"transloco"),D()(),R(63,"div",22)(64,"span"),j(65),D()(),R(66,"div",18)(67,"span"),j(68),$(69,"transloco"),D()(),R(70,"div",22)(71,"span"),j(72),D()(),R(73,"div",18)(74,"span"),j(75),$(76,"transloco"),D()(),R(77,"div",22)(78,"span"),j(79),D()()()()}if(2&n){const e=se();P(6),We(K(7,23,"shared.modals.fairness.server seed")),P(3),re(" ",K(10,25,"shared.modals.fairness.server tip")," "),P(3),B("readonly",!0)("ngModel",e.fairnessData.serverSeed),P(7),We(K(20,27,"shared.modals.fairness.client seed")),P(3),re(" ",K(23,29,"shared.modals.fairness.client tip")," "),P(2),B("ngForOf",e.players),P(8),We(K(33,31,"shared.modals.fairness.hash")),P(3),re(" ",K(36,33,"shared.modals.fairness.hash tip")," "),P(3),B("readonly",!0)("ngModel",e.fairnessData.seedSHA256),P(5),We(K(44,35,"shared.modals.fairness.hex")),P(3),We(K(47,37,"shared.modals.fairness.decimal")),P(3),We(K(50,39,"shared.modals.fairness.result")),P(4),We(e.fairnessData.partSeedHexNumber),P(2),We(e.fairnessData.partSeedDecimalNumber),P(2),We(e.fairnessData.result),P(4),We(K(62,41,"shared.modals.fairness.hex")),P(4),We(e.fairnessData.partSeedHexNumber),P(3),We(K(69,43,"shared.modals.fairness.decimal")),P(4),We(e.fairnessData.partSeedDecimalNumber),P(3),We(K(76,45,"shared.modals.fairness.result")),P(4),We(e.fairnessData.result)}}function eve(n,t){1&n&&(R(0,"div"),ve(1,"app-loader"),D())}let Bf=class{constructor(t,e,i,r){this.activeModal=t,this.app=e,this.modal=i,this.connector=r,this.loaded=!1}ngOnInit(){this.connector.request(Gi.RoundFairness,{roundId:this.betId}),this.connector.response(vn.RoundFairness,200).pipe(Et(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(ri.whatIsPf)}onSelect(t){t.select()}get players(){const t=this.fairnessData.playerSeeds;for(let e=t.length;e<3;e++)t.push(null);return t}getAvatar(t){return Ei_avatarPath+t.profileImage+`?v=${Ei_version}`}ngOnDestroy(){this.loaded=!1}};Bf.\u0275fac=function(t){return new(t||Bf)(J(ns),J(on),J($o),J(Ui))},Bf.\u0275cmp=st({type:Bf,selectors:[["app-fairness"]],decls:19,vars:13,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"help"],[3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],[1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],[1,"value","empty"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D(),ne(4,Xme,6,5,"div",2),R(5,"button",3),Oe("click",function(){return e.activeModal.close()}),R(6,"span",4),j(7,"\xd7"),D()()(),R(8,"div",5)(9,"div",6),ne(10,Zme,80,47,"div",7),ne(11,eve,2,0,"div",8),D()(),R(12,"div",9)(13,"div",10),j(14),$(15,"transloco"),R(16,"span",11),Oe("click",function(){return e.onPFModalOpen()}),j(17),$(18,"transloco"),D()()()),2&t&&(P(2),ui(" ",K(3,7,"shared.round")," ",e.betId," "),P(2),B("ngIf",e.loaded),P(6),B("ngIf",e.loaded),P(1),B("ngIf",!e.loaded),P(3),re(" ",K(15,9,"shared.modals.fairness.help")," "),P(3),re(" ",K(18,11,"shared.what_is_provably_fair")," "))},directives:[Lt,Qc,Hu,Qo,Po,ii,hc],pipes:[Ut,Bc],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.d1f55f15e704c606.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.1a7adfbd8896f09e.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.99b8c40ac31b3e06.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),Bf=Qe([qn()],Bf);let tve=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(on))},n.\u0275cmp=st({type:n,selectors:[["app-what-is-pf-modal"]],decls:57,vars:51,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],[1,"text-center","text-uppercase"],[1,"description","mt-2"],[1,"mt-3"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D(),R(4,"button",2),Oe("click",function(){return i.activeModal.close()}),R(5,"span",3),j(6,"\xd7"),D()()(),R(7,"div",4)(8,"div",5),ve(9,"div",6),D(),R(10,"div",7)(11,"span"),j(12),$(13,"transloco"),D()(),R(14,"div",8)(15,"span"),j(16),$(17,"transloco"),D()(),R(18,"div",9),j(19),$(20,"transloco"),D(),R(21,"div"),j(22),$(23,"transloco"),D(),R(24,"div",10),j(25),$(26,"transloco"),D(),R(27,"div",11),j(28),$(29,"transloco"),D(),R(30,"div",10),j(31),$(32,"transloco"),$(33,"transloco"),$(34,"transloco"),D(),R(35,"div",10),j(36),$(37,"transloco"),D(),R(38,"div",12),ve(39,"div",13),D(),R(40,"div",9),j(41),$(42,"transloco"),D(),R(43,"div",14)(44,"div"),j(45),$(46,"transloco"),D(),R(47,"div"),j(48),$(49,"transloco"),D(),R(50,"div"),j(51),$(52,"transloco"),$(53,"transloco"),D(),R(54,"div"),j(55),$(56,"transloco"),D()()()),2&e&&(P(2),re(" ",K(3,17,"shared.what_is_provably_fair"),"? "),P(10),re(" Provably Fair - ",K(13,19,"shared.modals.provably-fair.slogan")," "),P(4),We(K(17,21,"shared.modals.provably-fair.top text")),P(3),re(" ",K(20,23,"shared.modals.provably-fair.How does it work")," "),P(3),We(K(23,25,"shared.modals.provably-fair.Simple")),P(3),re(" ",K(26,27,"shared.modals.provably-fair.text1")," "),P(3),We(K(29,29,"shared.modals.provably-fair.more")),P(3),Fg(" ",K(32,31,"shared.modals.provably-fair.text2-1")," ",K(33,33,"shared.modals.provably-fair.text2-2")," ",K(34,35,"shared.modals.provably-fair.text2-3")," "),P(5),re(" ",K(37,37,"shared.modals.provably-fair.text2-4")," "),P(5),re(" ",K(42,39,"shared.modals.provably-fair.video title")," "),P(4),re("- ",K(46,41,"shared.modals.provably-fair.stats-1"),""),P(3),re("- ",K(49,43,"shared.modals.provably-fair.stats-2"),""),P(3),ui(" - ",K(52,45,"shared.modals.provably-fair.settings-1")," ",K(53,47,"shared.modals.provably-fair.settings-2")," "),P(4),re("- ",K(56,49,"shared.modals.provably-fair.settings-3"),""))},pipes:[Ut],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.8d41a398beb18651.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),nve=(()=>{class n{constructor(e){this.seed=e,this.finish=new en,this.isSaveBtnEnabled=!0}ngOnInit(){this.seedValue=this.seed.manualSeed}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)(J(kI))},n.\u0275cmp=st({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:28,vars:17,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"seed-body"],[1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),j(4),$(5,"transloco"),D(),R(6,"button",3),Oe("click",function(){return i.handlerClose()}),R(7,"span",4),j(8,"\xd7"),D()()(),R(9,"div",5)(10,"div",6),j(11),$(12,"transloco"),D(),R(13,"div",7)(14,"input",8),Oe("ngModelChange",function(s){return i.seedValue=s})("ngModelChange",function(s){return i.validateSeedValue(s)}),D(),R(15,"button",9),Oe("click",function(){return i.handlerRandom()}),R(16,"span",10),j(17),$(18,"transloco"),D()()(),R(19,"div",11)(20,"button",12),Oe("click",function(){return i.handlerSave()}),R(21,"span",10),j(22),$(23,"transloco"),D()(),R(24,"button",13),Oe("click",function(){return i.handlerClose()}),R(25,"span",10),j(26),$(27,"transloco"),D()()()()()()),2&e&&(P(4),re(" ",K(5,7,"shared.modals.fairness-settings.seed-change.change seed")," "),P(7),re(" ",K(12,9,"shared.modals.fairness-settings.seed-change.enter new seed")," "),P(3),B("ngModel",i.seedValue),P(3),We(K(18,11,"shared.random")),P(3),B("disabled",!i.isSaveBtnEnabled),P(2),We(K(23,13,"shared.save")),P(4),We(K(27,15,"shared.cancel")))},directives:[Hu,Qo,Po],pipes:[Ut],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function ive(n,t){1&n&&(R(0,"div",33)(1,"div",34),j(2),$(3,"transloco"),D()()),2&n&&(P(2),re(" ",K(3,1,"shared.modals.fairness-settings.alert")," "))}function rve(n,t){if(1&n){const e=_t();R(0,"app-seed-change",35),Oe("finish",function(){return ct(e),se().changeSeed=!1}),D()}}let Lf=class{constructor(t,e,i,r,s,o,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=s,this.clipboard=o,this.activeModal=a,this.changeSeed=!1,this.serverSeed=null,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(Gi.ServerSeed,null),this.connector.response(vn.ServerSeed,200).pipe(Et(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:dr.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(ri.whatIsPf)}};function sve(n,t){if(1&n){const e=_t();R(0,"img",8),Oe("click",function(){const s=ct(e).$implicit;return se().onSaveAvatar(s.name)}),D()}if(2&n){const e=t.$implicit,i=se();Mt("active",i.user.avatar===e.name),B("src",i.getAvatar(e.name),nn)("alt",i.getAvatar(e.name))}}Lf.\u0275fac=function(t){return new(t||Lf)(J($o),J(kI),J(Va),J(Ui),J(Kc),J(FI),J(ns))},Lf.\u0275cmp=st({type:Lf,selectors:[["app-fairness-settings"]],decls:80,vars:46,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],[1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],[1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],[1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],[1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),j(2),$(3,"transloco"),D(),R(4,"button",2),Oe("click",function(){return e.activeModal.close()}),R(5,"span",3),j(6,"\xd7"),D()()(),R(7,"div",4),ne(8,ive,4,3,"div",5),R(9,"div",6)(10,"p"),j(11),$(12,"transloco"),D(),R(13,"p",7),Oe("click",function(){return e.onPFModalOpen()}),ve(14,"i",8),j(15),$(16,"transloco"),D()(),R(17,"div",9)(18,"div",10)(19,"div",11),ve(20,"i",12),R(21,"span"),j(22),$(23,"transloco"),D()(),R(24,"div",13)(25,"span"),j(26),$(27,"transloco"),D()()(),R(28,"div",14)(29,"label",15),Oe("click",function(){return e.onSelectClientSeedType(!0)}),R(30,"span",16),ve(31,"i",17),D(),R(32,"span"),j(33),$(34,"transloco"),D()(),R(35,"div",18)(36,"div",19)(37,"div",20)(38,"p")(39,"span",21),j(40),$(41,"transloco"),D(),R(42,"span"),j(43),D()()(),R(44,"i",22),Oe("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),D()()()(),R(45,"div",14)(46,"label",15),Oe("click",function(){return e.onSelectClientSeedType(!1)}),R(47,"span",16),ve(48,"i",17),D(),R(49,"span"),j(50),$(51,"transloco"),D()(),R(52,"div",23)(53,"div",24)(54,"div",20)(55,"p")(56,"span",21),j(57),$(58,"transloco"),D(),R(59,"span"),j(60),D()()(),R(61,"i",22),Oe("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),D()(),R(62,"button",25),Oe("click",function(){return e.changeSeed=!0}),R(63,"span"),j(64),$(65,"transloco"),D()()()()(),R(66,"div",26)(67,"div",27),ve(68,"i",28),R(69,"span"),j(70),$(71,"transloco"),D()(),R(72,"div",29)(73,"div",30)(74,"div",20),j(75),D()()()()(),R(76,"div",31),j(77),$(78,"transloco"),D(),ne(79,rve,1,0,"app-seed-change",32)),2&t&&(P(2),re(" ",K(3,22,"shared.provably_fair_settings")," "),P(6),B("ngIf",e.betSetted),P(3),We(K(12,24,"shared.modals.fairness-settings.tooltip.text")),P(4),re(" ",K(16,26,"shared.what_is_provably_fair")," "),P(7),We(K(23,28,"shared.modals.fairness-settings.client-part.title")),P(4),We(K(27,30,"shared.modals.fairness-settings.client-part.text")),P(2),Mt("active",e.seed.isRandomSeed),P(5),re(" ",K(34,32,"shared.modals.fairness-settings.client-part.random")," "),P(7),re(" ",K(41,34,"shared.modals.fairness-settings.client-part.current")," "),P(3),We(e.seed.randomSeed),P(2),Mt("active",!e.seed.isRandomSeed),P(5),re(" ",K(51,36,"shared.modals.fairness-settings.client-part.manual")," "),P(7),re(" ",K(58,38,"shared.modals.fairness-settings.client-part.current")," "),P(3),We(e.seed.manualSeedWithId),P(2),B("disabled",e.seed.isRandomSeed),P(2),We(K(65,40,"shared.change")),P(6),We(K(71,42,"shared.modals.fairness-settings.server seed")),P(5),re(" ",null===e.serverSeed?"loading...":e.serverSeed," "),P(2),re(" ",K(78,44,"shared.modals.fairness-settings.bottom"),"\n"),P(2),B("ngIf",e.changeSeed))},directives:[Lt,nve],pipes:[Ut],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.8f5a7ef7bad6779b.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.1a7adfbd8896f09e.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.d1f55f15e704c606.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.4a0d60bc14e7330f.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),Lf=Qe([qn()],Lf);let ove=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let s=1;s<=72;s++)this.avatars.push({name:"av-"+s+".png"})}getAvatar(e){return Ei_avatarPath+e+`?v=${Ei_version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(Gi.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(Ui),J(yl))},n.\u0275cmp=st({type:n,selectors:[["app-game-avatar"]],decls:14,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.activeModal.close()}),R(5,"span",2),j(6,"\xd7"),D()()(),R(7,"div",3)(8,"div",4),ne(9,sve,1,4,"img",5),D()(),R(10,"div",6)(11,"button",7),Oe("click",function(){return i.activeModal.close()}),j(12),$(13,"transloco"),D()()),2&e&&(P(2),We(K(3,3,"shared.modals.game-avatar.title")),P(7),B("ngForOf",i.avatars),P(3),re(" ",K(13,5,"shared.close")," "))},directives:[ii],pipes:[Ut],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();var Lj,zu,L_=9e15,Xd=1e9,SA="0123456789abcdef",gE="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",_E="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",EA={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-L_,maxE:L_,crypto:!1},Cn=!0,mE="[DecimalError] ",qd=mE+"Invalid argument: ",Uj=mE+"Precision limit exceeded",Gj=mE+"crypto unavailable",jj="[object Decimal]",xo=Math.floor,xs=Math.pow,ave=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,lve=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,cve=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Hj=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fc=1e7,dve=gE.length-1,CA=_E.length-1,bt={toStringTag:jj};function no(n){var t,e,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,t=1;t<r;t++)(e=7-(i=n[t]+"").length)&&(s+=Kd(e)),s+=i;(e=7-(i=(o=n[t])+"").length)&&(s+=Kd(e))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function ma(n,t,e){if(n!==~~n||n<t||n>e)throw Error(qd+n)}function L0(n,t,e,i){var r,s,o,a;for(s=n[0];s>=10;s/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),s=xs(10,7-t),a=n[r]%s|0,null==i?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),o=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):o=(e<4&&a+1==s||e>3&&a+1==s/2)&&(n[r+1]/s/100|0)==xs(10,t-2)-1||(a==s/2||0==a)&&0==(n[r+1]/s/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),o=(i||e<4)&&9999==a||!i&&e>3&&4999==a):o=((i||e<4)&&a+1==s||!i&&e>3&&a+1==s/2)&&(n[r+1]/s/1e3|0)==xs(10,t-3)-1,o}function vE(n,t,e){for(var i,s,r=[0],o=0,a=n.length;o<a;){for(s=r.length;s--;)r[s]*=t;for(r[0]+=SA.indexOf(n.charAt(o++)),i=0;i<r.length;i++)r[i]>e-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/e|0,r[i]%=e)}return r.reverse()}bt.absoluteValue=bt.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),rn(n)},bt.ceil=function(){return rn(new this.constructor(this),this.e+1,2)},bt.clampedTo=bt.clamp=function(n,t){var i=this,r=i.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(qd+t);return i.cmp(n)<0?n:i.cmp(t)>0?t:new r(i)},bt.comparedTo=bt.cmp=function(n){var t,e,i,r,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(t=0,e=(i=o.length)<(r=a.length)?i:r;t<e;++t)if(o[t]!==a[t])return o[t]>a[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},bt.cosine=bt.cos=function(){var n,t,e=this,i=e.constructor;return e.d?e.d[0]?(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function hve(n,t){var e,i,r;if(t.isZero())return t;(i=t.d.length)<32?r=(1/SE(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,t=U_(n,1,t.times(r),new n(1));for(var s=e;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return n.precision-=e,t}(i,Xj(i,e)),i.precision=n,i.rounding=t,rn(2==zu||3==zu?e.neg():e,n,t,!0)):new i(1):new i(NaN)},bt.cubeRoot=bt.cbrt=function(){var n,t,e,i,r,s,o,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(Cn=!1,(s=u.s*xs(u.s*u,1/3))&&Math.abs(s)!=1/0?i=new d(s.toString()):(e=no(u.d),(s=((n=u.e)-e.length+1)%3)&&(e+=1==s||-2==s?"0":"00"),s=xs(e,1/3),n=xo((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(e=s==1/0?"5e"+n:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=Yi(c.plus(u).times(a),c.plus(l),o+2,1),no(a.d).slice(0,o)===(e=no(i.d)).slice(0,o)){if("9999"!=(e=e.slice(o-3,o+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(rn(i,n+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(rn(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,r=1}return Cn=!0,rn(i,n,d.rounding,t)},bt.decimalPlaces=bt.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-xo(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},bt.dividedBy=bt.div=function(n){return Yi(this,new this.constructor(n))},bt.dividedToIntegerBy=bt.divToInt=function(n){var e=this.constructor;return rn(Yi(this,new e(n),0,1,1),e.precision,e.rounding)},bt.equals=bt.eq=function(n){return 0===this.cmp(n)},bt.floor=function(){return rn(new this.constructor(this),this.e+1,3)},bt.greaterThan=bt.gt=function(n){return this.cmp(n)>0},bt.greaterThanOrEqualTo=bt.gte=function(n){var t=this.cmp(n);return 1==t||0===t},bt.hyperbolicCosine=bt.cosh=function(){var n,t,e,i,r,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;i=o.rounding,o.precision=(e=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(r=s.d.length)<32?t=(1/SE(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),s=U_(o,1,s.times(t),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return rn(s,o.precision=e,o.rounding=i,!0)},bt.hyperbolicSine=bt.sinh=function(){var n,t,e,i,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(e=s.rounding,s.precision=(t=s.precision)+Math.max(r.e,r.sd())+4,s.rounding=1,(i=r.d.length)<3)r=U_(s,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=U_(s,2,r=r.times(1/SE(5,n=n>16?16:0|n)),r,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=r.times(r),r=r.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=t,s.rounding=e,rn(r,t,e,!0)},bt.hyperbolicTangent=bt.tanh=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,Yi(e.sinh(),e.cosh(),i.precision=n,i.rounding=t)):new i(e.s)},bt.inverseCosine=bt.acos=function(){var n,t=this,e=t.constructor,i=t.abs().cmp(1),r=e.precision,s=e.rounding;return-1!==i?0===i?t.isNeg()?pc(e,r,s):new e(0):new e(NaN):t.isZero()?pc(e,r+4,s).times(.5):(e.precision=r+6,e.rounding=1,t=t.asin(),n=pc(e,r+4,s).times(.5),e.precision=r,e.rounding=s,n.minus(t))},bt.inverseHyperbolicCosine=bt.acosh=function(){var n,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(t=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,Cn=!1,e=e.times(e).minus(1).sqrt().plus(e),Cn=!0,i.precision=n,i.rounding=t,e.ln()):new i(e)},bt.inverseHyperbolicSine=bt.asinh=function(){var n,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,Cn=!1,e=e.times(e).plus(1).sqrt().plus(e),Cn=!0,i.precision=n,i.rounding=t,e.ln())},bt.inverseHyperbolicTangent=bt.atanh=function(){var n,t,e,i,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=s.precision,t=s.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?rn(new s(r),n,t,!0):(s.precision=e=i-r.e,r=Yi(r.plus(1),new s(1).minus(r),e+n,1),s.precision=n+4,s.rounding=1,r=r.ln(),s.precision=n,s.rounding=t,r.times(.5))):new s(NaN)},bt.inverseSine=bt.asin=function(){var n,t,e,i,r=this,s=r.constructor;return r.isZero()?new s(r):(t=r.abs().cmp(1),e=s.precision,i=s.rounding,-1!==t?0===t?((n=pc(s,e+4,i).times(.5)).s=r.s,n):new s(NaN):(s.precision=e+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=e,s.rounding=i,r.times(2)))},bt.inverseTangent=bt.atan=function(){var n,t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,v=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=CA)return(o=pc(u,d+4,v).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=CA)return(o=pc(u,d+4,v).times(.5)).s=c.s,o}for(u.precision=a=d+10,u.rounding=1,n=e=Math.min(28,a/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Cn=!1,t=Math.ceil(a/7),i=1,l=c.times(c),o=new u(c),r=c;-1!==n;)if(r=r.times(l),s=o.minus(r.div(i+=2)),r=r.times(l),void 0!==(o=s.plus(r.div(i+=2))).d[t])for(n=t;o.d[n]===s.d[n]&&n--;);return e&&(o=o.times(2<<e-1)),Cn=!0,rn(o,u.precision=d,u.rounding=v,!0)},bt.isFinite=function(){return!!this.d},bt.isInteger=bt.isInt=function(){return!!this.d&&xo(this.e/7)>this.d.length-2},bt.isNaN=function(){return!this.s},bt.isNegative=bt.isNeg=function(){return this.s<0},bt.isPositive=bt.isPos=function(){return this.s>0},bt.isZero=function(){return!!this.d&&0===this.d[0]},bt.lessThan=bt.lt=function(n){return this.cmp(n)<0},bt.lessThanOrEqualTo=bt.lte=function(n){return this.cmp(n)<1},bt.logarithm=bt.log=function(n){var t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,v=u.rounding;if(null==n)n=new u(10),t=!0;else{if(e=(n=new u(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new u(NaN);t=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new u(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(t)if(e.length>1)s=!0;else{for(r=e[0];r%10==0;)r/=10;s=1!==r}if(Cn=!1,o=Jd(c,a=d+5),i=t?bE(u,a+10):Jd(n,a),L0((l=Yi(o,i,a,1)).d,r=d,v))do{if(o=Jd(c,a+=10),i=t?bE(u,a+10):Jd(n,a),l=Yi(o,i,a,1),!s){+no(l.d).slice(r+1,r+15)+1==1e14&&(l=rn(l,d+1,0));break}}while(L0(l.d,r+=10,v));return Cn=!0,rn(l,d,v)},bt.minus=bt.sub=function(n){var t,e,i,r,s,o,a,l,c,u,d,v,E=this,I=E.constructor;if(n=new I(n),!E.d||!n.d)return E.s&&n.s?E.d?n.s=-n.s:n=new I(n.d||E.s!==n.s?E:NaN):n=new I(NaN),n;if(E.s!=n.s)return n.s=-n.s,E.plus(n);if(v=n.d,a=I.precision,l=I.rounding,!(c=E.d)[0]||!v[0]){if(v[0])n.s=-n.s;else{if(!c[0])return new I(3===l?-0:0);n=new I(E)}return Cn?rn(n,a,l):n}if(e=xo(n.e/7),u=xo(E.e/7),c=c.slice(),s=u-e){for((d=s<0)?(t=c,s=-s,o=v.length):(t=v,e=u,o=c.length),s>(i=Math.max(Math.ceil(a/7),o)+2)&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for((d=(i=c.length)<(o=v.length))&&(o=i),i=0;i<o;i++)if(c[i]!=v[i]){d=c[i]<v[i];break}s=0}for(d&&(t=c,c=v,v=t,n.s=-n.s),i=v.length-(o=c.length);i>0;--i)c[o++]=0;for(i=v.length;i>s;){if(c[--i]<v[i]){for(r=i;r&&0===c[--r];)c[r]=fc-1;--c[r],c[i]+=fc}c[i]-=v[i]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=yE(c,e),Cn?rn(n,a,l):n):new I(3===l?-0:0)},bt.modulo=bt.mod=function(n){var t,e=this,i=e.constructor;return n=new i(n),!e.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||e.d&&!e.d[0]?rn(new i(e),i.precision,i.rounding):(Cn=!1,9==i.modulo?(t=Yi(e,n.abs(),0,3,1)).s*=n.s:t=Yi(e,n,0,i.modulo,1),t=t.times(n),Cn=!0,e.minus(t))},bt.naturalExponential=bt.exp=function(){return TA(this)},bt.naturalLogarithm=bt.ln=function(){return Jd(this)},bt.negated=bt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,rn(n)},bt.plus=bt.add=function(n){var t,e,i,r,s,o,a,l,c,u,d=this,v=d.constructor;if(n=new v(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new v(n.d||d.s===n.s?d:NaN)):n=new v(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=v.precision,l=v.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new v(d)),Cn?rn(n,a,l):n;if(s=xo(d.e/7),i=xo(n.e/7),c=c.slice(),r=s-i){for(r<0?(e=c,r=-r,o=u.length):(e=u,i=s,o=c.length),r>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(r=o,e.length=1),e.reverse();r--;)e.push(0);e.reverse()}for((o=c.length)-(r=u.length)<0&&(r=o,e=u,u=c,c=e),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/fc|0,c[r]%=fc;for(t&&(c.unshift(t),++i),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=yE(c,i),Cn?rn(n,a,l):n},bt.precision=bt.sd=function(n){var t,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(qd+n);return e.d?(t=Vj(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},bt.round=function(){var n=this,t=n.constructor;return rn(new t(n),n.e+1,t.rounding)},bt.sine=bt.sin=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function pve(n,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:U_(n,2,t,t);e=1.4*Math.sqrt(i),t=U_(n,2,t=t.times(1/SE(5,e=e>16?16:0|e)),t);for(var r,s=new n(5),o=new n(16),a=new n(20);e--;)r=t.times(t),t=t.times(s.plus(r.times(o.times(r).minus(a))));return t}(i,Xj(i,e)),i.precision=n,i.rounding=t,rn(zu>2?e.neg():e,n,t,!0)):new i(NaN)},bt.squareRoot=bt.sqrt=function(){var n,t,e,i,r,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(Cn=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=no(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=xo((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),e=(l=u.precision)+3;;)if(i=(s=i).plus(Yi(o,s,e+2,1)).times(.5),no(s.d).slice(0,e)===(t=no(i.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(rn(i,l+1,1),n=!i.times(i).eq(o));break}if(!r&&(rn(s,l+1,0),s.times(s).eq(o))){i=s;break}e+=4,r=1}return Cn=!0,rn(i,l,u.rounding,n)},bt.tangent=bt.tan=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=Yi(e,new i(1).minus(e.times(e)).sqrt(),n+10,0),i.precision=n,i.rounding=t,rn(2==zu||4==zu?e.neg():e,n,t,!0)):new i(NaN)},bt.times=bt.mul=function(n){var t,e,i,r,s,o,a,l,c,u=this,d=u.constructor,v=u.d,E=(n=new d(n)).d;if(n.s*=u.s,!(v&&v[0]&&E&&E[0]))return new d(!n.s||v&&!v[0]&&!E||E&&!E[0]&&!v?NaN:v&&E?0*n.s:n.s/0);for(e=xo(u.e/7)+xo(n.e/7),(l=v.length)<(c=E.length)&&(s=v,v=E,E=s,o=l,l=c,c=o),s=[],i=o=l+c;i--;)s.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)a=s[r]+E[i]*v[r-i-1]+t,s[r--]=a%fc|0,t=a/fc|0;s[r]=(s[r]+t)%fc|0}for(;!s[--o];)s.pop();return t?++e:s.shift(),n.d=s,n.e=yE(s,e),Cn?rn(n,d.precision,d.rounding):n},bt.toBinary=function(n,t){return MA(this,2,n,t)},bt.toDecimalPlaces=bt.toDP=function(n,t){var e=this,i=e.constructor;return e=new i(e),void 0===n?e:(ma(n,0,Xd),void 0===t?t=i.rounding:ma(t,0,8),rn(e,n+e.e+1,t))},bt.toExponential=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Zc(i,!0):(ma(n,0,Xd),void 0===t?t=r.rounding:ma(t,0,8),e=Zc(i=rn(new r(i),n+1,t),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+e:e},bt.toFixed=function(n,t){var e,i,r=this,s=r.constructor;return void 0===n?e=Zc(r):(ma(n,0,Xd),void 0===t?t=s.rounding:ma(t,0,8),e=Zc(i=rn(new s(r),n+r.e+1,t),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+e:e},bt.toFraction=function(n){var t,e,i,r,s,o,a,l,c,u,d,v,E=this,I=E.d,A=E.constructor;if(!I)return new A(E);if(c=e=new A(1),i=l=new A(0),s=(t=new A(i)).e=Vj(I)-E.e-1,t.d[0]=xs(10,(o=s%7)<0?7+o:o),null==n)n=s>0?t:c;else{if(!(a=new A(n)).isInt()||a.lt(c))throw Error(qd+a);n=a.gt(t)?s>0?t:c:a}for(Cn=!1,a=new A(no(I)),u=A.precision,A.precision=s=7*I.length*2;d=Yi(a,t,0,1,1),1!=(r=e.plus(d.times(i))).cmp(n);)e=i,i=r,c=l.plus(d.times(r=c)),l=r,t=a.minus(d.times(r=t)),a=r;return r=Yi(n.minus(e),i,0,1,1),l=l.plus(r.times(c)),e=e.plus(r.times(i)),l.s=c.s=E.s,v=Yi(c,i,s,1).minus(E).abs().cmp(Yi(l,e,s,1).minus(E).abs())<1?[c,i]:[l,e],A.precision=u,Cn=!0,v},bt.toHexadecimal=bt.toHex=function(n,t){return MA(this,16,n,t)},bt.toNearest=function(n,t){var e=this,i=e.constructor;if(e=new i(e),null==n){if(!e.d)return e;n=new i(1),t=i.rounding}else{if(n=new i(n),void 0===t?t=i.rounding:ma(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Cn=!1,e=Yi(e,n,0,t,1).times(n),Cn=!0,rn(e)):(n.s=e.s,e=n),e},bt.toNumber=function(){return+this},bt.toOctal=function(n,t){return MA(this,8,n,t)},bt.toPower=bt.pow=function(n){var t,e,i,r,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(xs(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,s=l.rounding,n.eq(1))return rn(a,i,s);if((t=xo(n.e/7))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return r=zj(l,a,e,i),n.s<0?new l(1).div(r):rn(r,i,s);if((o=a.s)<0){if(t<n.d.length-1)return new l(NaN);if(0==(1&n.d[t])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(t=0!=(e=xs(+a,c))&&isFinite(e)?new l(e+"").e:xo(c*(Math.log("0."+no(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(Cn=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),(r=TA(n.times(Jd(a,i+e)),i)).d&&L0((r=rn(r,i+5,1)).d,i,s)&&+no((r=rn(TA(n.times(Jd(a,(t=i+10)+e)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=rn(r,i+1,0)),r.s=o,Cn=!0,l.rounding=s,rn(r,i,s))},bt.toPrecision=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Zc(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(ma(n,1,Xd),void 0===t?t=r.rounding:ma(t,0,8),e=Zc(i=rn(new r(i),n,t),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+e:e},bt.toSignificantDigits=bt.toSD=function(n,t){var i=this.constructor;return void 0===n?(n=i.precision,t=i.rounding):(ma(n,1,Xd),void 0===t?t=i.rounding:ma(t,0,8)),rn(new i(this),n,t)},bt.toString=function(){var n=this,t=n.constructor,e=Zc(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},bt.truncated=bt.trunc=function(){return rn(new this.constructor(this),this.e+1,1)},bt.valueOf=bt.toJSON=function(){var n=this,t=n.constructor,e=Zc(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Yi=function(){function n(i,r,s){var o,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(o=i[l]*r+a)%s|0,a=o/s|0;return a&&i.unshift(a),i}function t(i,r,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function e(i,r,s,o){for(var a=0;s--;)i[s]-=a,i[s]=(a=i[s]<r[s]?1:0)*o+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o,a,l){var c,u,d,v,E,I,A,N,k,L,W,Z,ee,te,ge,pe,le,he,Ie,ye,Se=i.constructor,Re=i.s==r.s?1:-1,xe=i.d,Ce=r.d;if(!(xe&&xe[0]&&Ce&&Ce[0]))return new Se(i.s&&r.s&&(xe?!Ce||xe[0]!=Ce[0]:Ce)?xe&&0==xe[0]||!Ce?0*Re:Re/0:NaN);for(l?(E=1,u=i.e-r.e):(l=fc,u=xo(i.e/(E=7))-xo(r.e/E)),Ie=Ce.length,le=xe.length,L=(k=new Se(Re)).d=[],d=0;Ce[d]==(xe[d]||0);d++);if(Ce[d]>(xe[d]||0)&&u--,null==s?(te=s=Se.precision,o=Se.rounding):te=a?s+(i.e-r.e)+1:s,te<0)L.push(1),I=!0;else{if(te=te/E+2|0,d=0,1==Ie){for(v=0,Ce=Ce[0],te++;(d<le||v)&&te--;d++)L[d]=(ge=v*l+(xe[d]||0))/Ce|0,v=ge%Ce|0;I=v||d<le}else{for((v=l/(Ce[0]+1)|0)>1&&(Ce=n(Ce,v,l),xe=n(xe,v,l),Ie=Ce.length,le=xe.length),pe=Ie,Z=(W=xe.slice(0,Ie)).length;Z<Ie;)W[Z++]=0;(ye=Ce.slice()).unshift(0),he=Ce[0],Ce[1]>=l/2&&++he;do{v=0,(c=t(Ce,W,Ie,Z))<0?(ee=W[0],Ie!=Z&&(ee=ee*l+(W[1]||0)),(v=ee/he|0)>1?(v>=l&&(v=l-1),1==(c=t(A=n(Ce,v,l),W,N=A.length,Z=W.length))&&(v--,e(A,Ie<N?ye:Ce,N,l))):(0==v&&(c=v=1),A=Ce.slice()),(N=A.length)<Z&&A.unshift(0),e(W,A,Z,l),-1==c&&(c=t(Ce,W,Ie,Z=W.length))<1&&(v++,e(W,Ie<Z?ye:Ce,Z,l)),Z=W.length):0===c&&(v++,W=[0]),L[d++]=v,c&&W[0]?W[Z++]=xe[pe]||0:(W=[xe[pe]],Z=1)}while((pe++<le||void 0!==W[0])&&te--);I=void 0!==W[0]}L[0]||L.shift()}if(1==E)k.e=u,Lj=I;else{for(d=1,v=L[0];v>=10;v/=10)d++;k.e=d+u*E-1,rn(k,a?s+k.e+1:s,o,I)}return k}}();function rn(n,t,e,i){var r,s,o,a,l,c,u,d,v,E=n.constructor;e:if(null!=t){if(!(d=n.d))return n;for(r=1,a=d[0];a>=10;a/=10)r++;if((s=t-r)<0)s+=7,l=(u=d[v=0])/xs(10,r-(o=t)-1)%10|0;else if((v=Math.ceil((s+1)/7))>=(a=d.length)){if(!i)break e;for(;a++<=v;)d.push(0);u=l=0,r=1,o=(s%=7)-7+1}else{for(u=a=d[v],r=1;a>=10;a/=10)r++;l=(o=(s%=7)-7+r)<0?0:u/xs(10,r-o-1)%10|0}if(i=i||t<0||void 0!==d[v+1]||(o<0?u:u%xs(10,r-o-1)),c=e<4?(l||i)&&(0==e||e==(n.s<0?3:2)):l>5||5==l&&(4==e||i||6==e&&(s>0?o>0?u/xs(10,r-o):0:d[v-1])%10&1||e==(n.s<0?8:7)),t<1||!d[0])return d.length=0,c?(d[0]=xs(10,(7-(t-=n.e+1)%7)%7),n.e=-t||0):d[0]=n.e=0,n;if(0==s?(d.length=v,a=1,v--):(d.length=v+1,a=xs(10,7-s),d[v]=o>0?(u/xs(10,r-o)%xs(10,o)|0)*a:0),c)for(;;){if(0==v){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,d[0]==fc&&(d[0]=1));break}if(d[v]+=a,d[v]!=fc)break;d[v--]=0,a=1}for(s=d.length;0===d[--s];)d.pop()}return Cn&&(n.e>E.maxE?(n.d=null,n.e=NaN):n.e<E.minE&&(n.e=0,n.d=[0])),n}function Zc(n,t,e){if(!n.isFinite())return $j(n);var i,r=n.e,s=no(n.d),o=s.length;return t?(e&&(i=e-o)>0?s=s.charAt(0)+"."+s.slice(1)+Kd(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):r<0?(s="0."+Kd(-r-1)+s,e&&(i=e-o)>0&&(s+=Kd(i))):r>=o?(s+=Kd(r+1-o),e&&(i=e-r-1)>0&&(s=s+"."+Kd(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-o)>0&&(r+1===o&&(s+="."),s+=Kd(i))),s}function yE(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function bE(n,t,e){if(t>dve)throw Cn=!0,e&&(n.precision=e),Error(Uj);return rn(new n(gE),t,1,!0)}function pc(n,t,e){if(t>CA)throw Error(Uj);return rn(new n(_E),t,e,!0)}function Vj(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function Kd(n){for(var t="";n--;)t+="0";return t}function zj(n,t,e,i){var r,s=new n(1),o=Math.ceil(i/7+4);for(Cn=!1;;){if(e%2&&qj((s=s.times(t)).d,o)&&(r=!0),0===(e=xo(e/2))){e=s.d.length-1,r&&0===s.d[e]&&++s.d[e];break}qj((t=t.times(t)).d,o)}return Cn=!0,s}function Wj(n){return 1&n.d[n.d.length-1]}function Yj(n,t,e){for(var i,r=new n(t[0]),s=0;++s<t.length;){if(!(i=new n(t[s])).s){r=i;break}r[e](i)&&(r=i)}return r}function TA(n,t){var e,i,r,s,o,a,l,c=0,u=0,d=0,v=n.constructor,E=v.rounding,I=v.precision;if(!n.d||!n.d[0]||n.e>17)return new v(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==t?(Cn=!1,l=I):l=t,a=new v(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=i=Math.log(xs(2,d))/Math.LN10*2+5|0,e=s=o=new v(1),v.precision=l;;){if(s=rn(s.times(n),l,1),e=e.times(++u),no((a=o.plus(Yi(s,e,l,1))).d).slice(0,l)===no(o.d).slice(0,l)){for(r=d;r--;)o=rn(o.times(o),l,1);if(null!=t)return v.precision=I,o;if(!(c<3&&L0(o.d,l-i,E,c)))return rn(o,v.precision=I,E,Cn=!0);v.precision=l+=10,e=s=a=new v(1),u=0,c++}o=a}}function Jd(n,t){var e,i,r,s,o,a,l,c,u,d,v,E=1,A=n,N=A.d,k=A.constructor,L=k.rounding,W=k.precision;if(A.s<0||!N||!N[0]||!A.e&&1==N[0]&&1==N.length)return new k(N&&!N[0]?-1/0:1!=A.s?NaN:N?0:A);if(null==t?(Cn=!1,u=W):u=t,k.precision=u+=10,i=(e=no(N)).charAt(0),!(Math.abs(s=A.e)<15e14))return c=bE(k,u+2,W).times(s+""),A=Jd(new k(i+"."+e.slice(1)),u-10).plus(c),k.precision=W,null==t?rn(A,W,L,Cn=!0):A;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=no((A=A.times(n)).d)).charAt(0),E++;for(s=A.e,i>1?(A=new k("0."+e),s++):A=new k(i+"."+e.slice(1)),d=A,l=o=A=Yi(A.minus(1),A.plus(1),u,1),v=rn(A.times(A),u,1),r=3;;){if(o=rn(o.times(v),u,1),no((c=l.plus(Yi(o,new k(r),u,1))).d).slice(0,u)===no(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(bE(k,u+2,W).times(s+""))),l=Yi(l,new k(E),u,1),null!=t)return k.precision=W,l;if(!L0(l.d,u-10,L,a))return rn(l,k.precision=W,L,Cn=!0);k.precision=u+=10,c=o=A=Yi(d.minus(1),d.plus(1),u,1),v=rn(A.times(A),u,1),r=a=1}l=c,r+=2}}function $j(n){return String(n.s*n.s/0)}function wA(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,n.e=e=e-i-1,n.d=[],i=(e+1)%7,e<0&&(i+=7),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=7;i<r;)n.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";n.d.push(+t),Cn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function U_(n,t,e,i,r){var s,o,a,l,u=n.precision,d=Math.ceil(u/7);for(Cn=!1,l=e.times(e),a=new n(i);;){if(o=Yi(a.times(l),new n(t++*t++),u,1),a=r?i.plus(o):i.minus(o),i=Yi(o.times(l),new n(t++*t++),u,1),void 0!==(o=a.plus(i)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=i,i=o,o=s}return Cn=!0,o.d.length=d+1,o}function SE(n,t){for(var e=n;--t;)e*=n;return e}function Xj(n,t){var e,i=t.s<0,r=pc(n,n.precision,1),s=r.times(.5);if((t=t.abs()).lte(s))return zu=i?4:1,t;if((e=t.divToInt(r)).isZero())zu=i?3:2;else{if((t=t.minus(e.times(r))).lte(s))return zu=Wj(e)?i?2:3:i?4:1,t;zu=Wj(e)?i?1:4:i?3:2}return t.minus(r).abs()}function MA(n,t,e,i){var r,s,o,a,l,c,u,d,v,E=n.constructor,I=void 0!==e;if(I?(ma(e,1,Xd),void 0===i?i=E.rounding:ma(i,0,8)):(e=E.precision,i=E.rounding),n.isFinite()){for(I?(r=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):r=t,(o=(u=Zc(n)).indexOf("."))>=0&&(u=u.replace(".",""),(v=new E(1)).e=u.length-o,v.d=vE(Zc(v),10,r),v.e=v.d.length),s=l=(d=vE(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?s--:((n=new E(n)).d=d,n.e=s,d=(n=Yi(n,v,e,i,0,r)).d,s=n.e,c=Lj),o=d[e],a=r/2,c=c||void 0!==d[e+1],c=i<4?(void 0!==o||c)&&(0===i||i===(n.s<0?3:2)):o>a||o===a&&(4===i||c||6===i&&1&d[e-1]||i===(n.s<0?8:7)),d.length=e,c)for(;++d[--e]>r-1;)d[e]=0,e||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=SA.charAt(d[o]);if(I){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)u+="0";for(l=(d=vE(u,r,t)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=SA.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=I?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=$j(n);return n.s<0?"-"+u:u}function qj(n,t){if(n.length>t)return n.length=t,!0}function gve(n){return new this(n).abs()}function _ve(n){return new this(n).acos()}function mve(n){return new this(n).acosh()}function vve(n,t){return new this(n).plus(t)}function yve(n){return new this(n).asin()}function bve(n){return new this(n).asinh()}function Sve(n){return new this(n).atan()}function Eve(n){return new this(n).atanh()}function Cve(n,t){n=new this(n),t=new this(t);var e,i=this.precision,r=this.rounding,s=i+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?pc(this,i,r):new this(0)).s=n.s:!n.d||t.isZero()?(e=pc(this,s,1).times(.5)).s=n.s:t.s<0?(this.precision=s,this.rounding=1,e=this.atan(Yi(n,t,s,1)),t=pc(this,s,1),this.precision=i,this.rounding=r,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Yi(n,t,s,1)):(e=pc(this,s,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function Tve(n){return new this(n).cbrt()}function wve(n){return rn(n=new this(n),n.e+1,2)}function Mve(n,t,e){return new this(n).clamp(t,e)}function Ove(n){if(!n||"object"!=typeof n)throw Error(mE+"Object expected");var t,e,i,r=!0===n.defaults,s=["precision",1,Xd,"rounding",0,8,"toExpNeg",-L_,0,"toExpPos",0,L_,"maxE",0,L_,"minE",-L_,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(e=s[t],r&&(this[e]=EA[e]),void 0!==(i=n[e])){if(!(xo(i)===i&&i>=s[t+1]&&i<=s[t+2]))throw Error(qd+e+": "+i);this[e]=i}if(e="crypto",r&&(this[e]=EA[e]),void 0!==(i=n[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(qd+e+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Gj);this[e]=!0}else this[e]=!1}return this}function Pve(n){return new this(n).cos()}function xve(n){return new this(n).cosh()}function Ive(n,t){return new this(n).div(t)}function Ave(n){return new this(n).exp()}function Rve(n){return rn(n=new this(n),n.e+1,3)}function Dve(){var n,t,e=new this(0);for(Cn=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Cn=!0,new this(1/0);e=t}return Cn=!0,e.sqrt()}function Jj(n){return n instanceof Ar||n&&n.toStringTag===jj||!1}function Nve(n){return new this(n).ln()}function kve(n,t){return new this(n).log(t)}function Fve(n){return new this(n).log(2)}function Bve(n){return new this(n).log(10)}function Lve(){return Yj(this,arguments,"lt")}function Uve(){return Yj(this,arguments,"gt")}function Gve(n,t){return new this(n).mod(t)}function jve(n,t){return new this(n).mul(t)}function Hve(n,t){return new this(n).pow(t)}function Vve(n){var t,e,i,r,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:ma(n,1,Xd),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));s<i;)(r=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=r%1e7;else{if(!crypto.randomBytes)throw Error(Gj);for(t=crypto.randomBytes(i*=4);s<i;)(r=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(r%1e7),s+=4);s=i/4}else for(;s<i;)a[s++]=1e7*Math.random()|0;for(n%=7,(i=a[--s])&&n&&(r=xs(10,7-n),a[s]=(i/r|0)*r);0===a[s];s--)a.pop();if(s<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=7)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<7&&(e-=7-i)}return o.e=e,o.d=a,o}function zve(n){return rn(n=new this(n),n.e+1,this.rounding)}function Wve(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function Yve(n){return new this(n).sin()}function $ve(n){return new this(n).sinh()}function Xve(n){return new this(n).sqrt()}function qve(n,t){return new this(n).sub(t)}function Kve(){var n=0,t=arguments,e=new this(t[n]);for(Cn=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Cn=!0,rn(e,this.precision,this.rounding)}function Jve(n){return new this(n).tan()}function Qve(n){return new this(n).tanh()}function Zve(n){return rn(n=new this(n),n.e+1,1)}bt[Symbol.for("nodejs.util.inspect.custom")]=bt.toString,bt[Symbol.toStringTag]="Decimal";var Ar=bt.constructor=function Kj(n){var t,e,i;function r(s){var o,a,l,c=this;if(!(c instanceof r))return new r(s);if(c.constructor=r,Jj(s))return c.s=s.s,void(Cn?!s.d||s.e>r.maxE?(c.e=NaN,c.d=null):s.e<r.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(Cn?o>r.maxE?(c.e=NaN,c.d=null):o<r.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):wA(c,s.toString())}if("string"!==l)throw Error(qd+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),Hj.test(s)?wA(c,s):function fve(n,t){var e,i,r,s,o,a,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Hj.test(t))return wA(n,t)}else if("Infinity"===t||"NaN"===t)return+t||(n.s=NaN),n.e=NaN,n.d=null,n;if(lve.test(t))e=16,t=t.toLowerCase();else if(ave.test(t))e=2;else{if(!cve.test(t))throw Error(qd+t);e=8}for((s=t.search(/p/i))>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),i=n.constructor,(o=s>=0)&&(s=(a=(t=t.replace(".","")).length)-s,r=zj(i,new i(e),s,2*s)),s=u=(c=vE(t,e,fc)).length-1;0===c[s];--s)c.pop();return s<0?new i(0*n.s):(n.e=yE(c,u),n.d=c,Cn=!1,o&&(n=Yi(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?xs(2,l):Ar.pow(2,l))),Cn=!0,n)}(c,s)}if(r.prototype=bt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Ove,r.clone=Kj,r.isDecimal=Jj,r.abs=gve,r.acos=_ve,r.acosh=mve,r.add=vve,r.asin=yve,r.asinh=bve,r.atan=Sve,r.atanh=Eve,r.atan2=Cve,r.cbrt=Tve,r.ceil=wve,r.clamp=Mve,r.cos=Pve,r.cosh=xve,r.div=Ive,r.exp=Ave,r.floor=Rve,r.hypot=Dve,r.ln=Nve,r.log=kve,r.log10=Bve,r.log2=Fve,r.max=Lve,r.min=Uve,r.mod=Gve,r.mul=jve,r.pow=Hve,r.random=Vve,r.round=zve,r.sign=Wve,r.sin=Yve,r.sinh=$ve,r.sqrt=Xve,r.sub=qve,r.sum=Kve,r.tan=Jve,r.tanh=Qve,r.trunc=Zve,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}(EA);gE=new Ar(gE),_E=new Ar(_E);let br=(()=>{class n{constructor(e){this.app=e,this.minIntegerDigits=1}transform(e){return"number"!=typeof e&&"string"!=typeof e?"":Wh(new Ar(e).toDecimalPlaces(this.app.config.betPrecision,Ar.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${this.app.config.betPrecision}-${this.app.config.betPrecision}`)}}return n.\u0275fac=function(e){return new(e||n)(J(on,16))},n.\u0275pipe=fr({name:"currencyPrecision",type:n,pure:!0}),n})();function e0e(n,t){if(1&n){const e=_t();R(0,"div",3)(1,"div",4)(2,"span",5),Oe("click",function(){return ct(e),se().selectClick(null)}),ve(3,"i",6),D(),R(4,"div",7),j(5),$(6,"transloco"),D()()()}2&n&&(Mt("selected",se().freeBets.isActive(null)),P(5),re(" ",K(6,3,"shared.modals.free-bets-management.play with cash")," "))}function t0e(n,t){if(1&n){const e=_t();R(0,"span",5),Oe("click",function(){ct(e);const r=se(2);return r.selectClick(r.freeBet.freeBetsId)}),ve(1,"i",6),D()}}function n0e(n,t){if(1&n&&(R(0,"div",18),j(1),D()),2&n){const e=se(2);P(1),re(" ",e.freeBet.numberOfFreeBets," ")}}function i0e(n,t){if(1&n&&(R(0,"div",19),j(1),D()),2&n){const e=se(2);P(1),We(e.freeBet.freeBetsLeft)}}function r0e(n,t){if(1&n&&(R(0,"div",20)(1,"div",21)(2,"div",22),j(3),$(4,"transloco"),D(),R(5,"div",23),j(6),$(7,"date"),D()(),R(8,"div",24)(9,"div",22),j(10),$(11,"transloco"),D(),R(12,"div",23),j(13),D()(),R(14,"div",24)(15,"div",22),j(16),$(17,"transloco"),D(),R(18,"div",23),j(19),$(20,"date"),D()()()),2&n){const e=se(2);P(3),re(" ",K(4,6,"shared.modals.free-bets-management.granted")," "),P(3),re(" ",Yt(7,8,e.freeBet.freeBetsStartDate,"dd.MM.yy, HH:mm")," "),P(4),re(" ",K(11,11,"shared.modals.free-bets-management.min cashout coefficient")," "),P(3),We(e.freeBet.freeBetsMinCashOut),P(3),re(" ",K(17,13,"shared.modals.free-bets-management.expires")," "),P(3),re(" ",Yt(20,15,e.freeBet.freeBetsEndDate,"dd.MM.yy, HH:mm")," ")}}function s0e(n,t){if(1&n){const e=_t();R(0,"div",8)(1,"div",4),ne(2,t0e,2,0,"span",9),ne(3,n0e,2,1,"div",10),ne(4,i0e,2,1,"div",11),R(5,"div",12)(6,"div",13)(7,"span"),j(8),$(9,"currencyPrecision"),D()()(),R(10,"div",14)(11,"div",13),j(12),$(13,"currencyPrecision"),D()(),R(14,"div",15),Oe("click",function(){return ct(e),se().toggleDisplayDetails()}),ve(15,"div",16),D()(),ne(16,r0e,21,18,"div",17),D()}if(2&n){const e=se();Mt("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),P(2),B("ngIf",!e.isArchive),P(1),B("ngIf",e.isArchive),P(1),B("ngIf",!e.isArchive),P(4),re(" ",K(9,12,e.freeBet.freeBetsBetAmount)," "),P(4),re(" ",K(13,14,e.freeBet.freeBetsWinSum)," "),P(3),Mt("rotate",e.isDisplayedDetails),P(1),B("ngIf",e.isDisplayedDetails)}}let o0e=(()=>{class n{constructor(e,i,r,s){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=s,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(J(Wi),J(Gu),J(ns),J(on))},n.\u0275cmp=st({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],[1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],[1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,e0e,7,5,"div",1),ne(2,s0e,17,16,"div",2),D()),2&e&&(B("ngSwitch",i.itemType),P(1),B("ngSwitchCase","playWithCash"))},directives:[Bs,yo,Ou,Lt],pipes:[Ut,br,Bc],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function a0e(n,t){1&n&&ve(0,"app-free-bet-management-item",12),2&n&&B("itemType","playWithCash")}function l0e(n,t){if(1&n){const e=_t();R(0,"div",13)(1,"div"),j(2),$(3,"transloco"),D(),R(4,"div",14),Oe("click",function(){return ct(e),se().onClickArchiveHistory()}),ve(5,"div",15),R(6,"div"),j(7),$(8,"transloco"),D()()()}2&n&&(P(2),re(" ",K(3,2,"shared.modals.free-bets-management.active free bets")," "),P(5),We(K(8,4,"shared.archive")))}function c0e(n,t){if(1&n){const e=_t();R(0,"div",16)(1,"div"),j(2),$(3,"transloco"),D(),R(4,"div",14),Oe("click",function(){return ct(e),se().isArchive=!1}),ve(5,"div",17),R(6,"div"),j(7),$(8,"transloco"),D()()()}if(2&n){const e=se();P(2),We(K(3,4,"shared.archive")),P(2),Mt("disabled",!e.loaded),P(3),We(K(8,6,"shared.back"))}}function u0e(n,t){if(1&n&&(R(0,"div",26),ve(1,"app-free-bet-management-item",27),D()),2&n){const e=t.$implicit,i=se(2);P(1),B("isArchive",i.isArchive)("freeBet",e)}}function d0e(n,t){if(1&n){const e=_t();R(0,"div",28)(1,"div",29),Oe("click",function(){ct(e);const r=se(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),ve(2,"div",30),R(3,"span",31),j(4),$(5,"transloco"),D()()()}2&n&&(P(4),We(K(5,1,"shared.load_more")))}function h0e(n,t){1&n&&(R(0,"div"),ve(1,"app-loader",32),D())}function f0e(n,t){if(1&n&&(R(0,"div",18)(1,"div",19)(2,"div",20),j(3),$(4,"transloco"),D(),R(5,"div",21),j(6),$(7,"transloco"),D(),R(8,"div",22),j(9),$(10,"transloco"),D()(),R(11,"div",23),ne(12,u0e,2,2,"div",24),ne(13,d0e,6,3,"div",25),ne(14,h0e,2,0,"div",10),D()()),2&n){const e=se();P(2),Mt("archive",e.isArchive),P(1),re(" ",K(4,10,"shared.modals.free-bets-management.quantity")," "),P(3),ui(" ",K(7,12,"shared.bet")," ",e.app.config.currency," "),P(3),ui(" ",K(10,14,"shared.win")," ",e.app.config.currency," "),P(3),B("ngForOf",e.freeBetsList),P(1),B("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),P(1),B("ngIf",e.isArchive&&!e.loaded)}}function p0e(n,t){1&n&&(R(0,"div"),ve(1,"app-loader"),D())}function g0e(n,t){1&n&&(R(0,"div",36),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.free-bets-management.no active free bets")," "))}function _0e(n,t){1&n&&(R(0,"div",36),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.free-bets-management.nothing yet")," "))}function m0e(n,t){if(1&n&&(R(0,"div",33),ve(1,"div",34),ne(2,g0e,3,3,"div",35),ne(3,_0e,3,3,"div",35),D()),2&n){const e=se();P(2),B("ngIf",!e.isArchive),P(1),B("ngIf",e.isArchive)}}let Uf=class{constructor(t,e,i,r){this.app=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1}ngOnInit(){this.connector.response(vn.FreeBetsArchive).pipe(Et(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(Gi.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};Uf.\u0275fac=function(t){return new(t||Uf)(J(on),J(ns),J(Gu),J(Ui))},Uf.\u0275cmp=st({type:Uf,selectors:[["app-free-bets-management"]],decls:16,vars:9,consts:[[1,"title","modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],[1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],[1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text",4,"ngIf"],[1,"none-text"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return e.activeModal.close()}),R(5,"span",2),j(6,"\xd7"),D()()(),R(7,"div",3)(8,"div",4)(9,"div",5),ne(10,a0e,1,1,"app-free-bet-management-item",6),ne(11,l0e,9,6,"div",7),ne(12,c0e,9,8,"div",8),ne(13,f0e,15,16,"div",9),ne(14,p0e,2,0,"div",10),ne(15,m0e,4,2,"div",11),D()()()),2&t&&(P(2),We(K(3,7,"shared.modals.free-bets-management.title")),P(8),B("ngIf",!e.isArchive),P(1),B("ngIf",!e.isArchive),P(1),B("ngIf",e.isArchive),P(1),B("ngIf",e.freeBetsCount>0),P(1),B("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),P(1),B("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[Lt,o0e,ii,hc],pipes:[Ut],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.4631ab127c326520.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.50c61e3b304f4ab0.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.1b7512b42d0c37e1.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.370ad567de19b0d6.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),Uf=Qe([qn()],Uf);var ea=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es",n.TH="th"}(ea||(ea={})),ea))();const Qj=n=>{const t={};return t[ea.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1",t[ea.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1",t[ea.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1",t[ea.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1",t[ea.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1",t[ea.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1",t[ea.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1",t[ea.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1",t[ea.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1",t[ea.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1",t[ea.TH]="https://www.youtube.com/embed/VleLfaBs2JQ?playsinline=1",t.hasOwnProperty(n)?t[n]:t[ea.EN]};function v0e(n,t){1&n&&(R(0,"li",24),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.rules.game-rules.game-functions.bet-cashout.point2")," "))}function y0e(n,t){if(1&n&&(R(0,"ul",23)(1,"li",24),j(2),$(3,"transloco"),D(),R(4,"li",24),j(5),$(6,"transloco"),D(),R(7,"li",24),j(8),$(9,"transloco"),D(),R(10,"li",24),j(11),$(12,"transloco"),D(),R(13,"li",24),j(14),$(15,"transloco"),D(),R(16,"li",24),j(17),$(18,"transloco"),D(),R(19,"li",24),j(20),$(21,"transloco"),D(),R(22,"li",24),j(23),$(24,"transloco"),D()()),2&n){const e=se(2);P(2),re(" ",K(3,8,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),P(3),re(" ",K(6,10,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1")," "),P(3),re(" ",K(9,12,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point8")," "),P(3),re(" ",K(12,14,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2")," "),P(3),re(" ",K(15,16,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3")," "),P(3),re(" ",K(18,18,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4")," "),P(3),re(" ",K(21,20,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," "),P(3),re(" ",K(24,22,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point9")," ")}}function b0e(n,t){if(1&n&&(R(0,"ul",23)(1,"li",24),j(2),$(3,"transloco"),D(),R(4,"li",24),j(5),$(6,"transloco"),D(),R(7,"li",24),j(8),$(9,"transloco"),D()()),2&n){const e=se(2);P(2),re(" ",K(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),P(3),re(" ",K(6,5,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6")," "),P(3),re(" ",K(9,7,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function S0e(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),j(2),$(3,"transloco"),D(),ne(4,y0e,25,24,"ul",31),ne(5,b0e,10,9,"ul",31),D()),2&n){const e=se();P(2),re(" ",K(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title")," "),P(2),B("ngIf",void 0!==e.app.config.autoBetOptions),P(1),B("ngIf",void 0===e.app.config.autoBetOptions)}}function E0e(n,t){1&n&&(R(0,"div",27)(1,"div",22),j(2),$(3,"transloco"),D(),R(4,"ul",23)(5,"li",24),j(6),$(7,"transloco"),D()()()),2&n&&(P(2),re(" ",K(3,2,"shared.modals.rules.game-rules.game-functions.in-game-chat.title")," "),P(4),re(" ",K(7,4,"shared.modals.rules.game-rules.game-functions.in-game-chat.point1")," "))}function C0e(n,t){1&n&&(R(0,"div",27)(1,"div",32),j(2),$(3,"transloco"),D(),R(4,"ul",23)(5,"li",24),j(6),$(7,"transloco"),D()()()),2&n&&(P(2),re(" ",K(3,2,"shared.free_bets")," "),P(4),re(" ",K(7,4,"shared.modals.rules.game-rules.game-functions.free-bets.point1")," "))}function T0e(n,t){1&n&&(R(0,"div",27)(1,"div",22),j(2),$(3,"transloco"),D(),R(4,"ul",23)(5,"li",24),j(6),$(7,"transloco"),D()()()),2&n&&(P(2),re(" ",K(3,2,"shared.modals.rules.game-rules.game-functions.rain-feature.title")," "),P(4),re(" ",K(7,4,"shared.modals.rules.game-rules.game-functions.rain-feature.point1")," "))}const w0e=function(n,t){return{minBankValue:n,currency:t}};function M0e(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),j(2),$(3,"transloco"),D(),R(4,"ul",23)(5,"li",24),j(6),$(7,"transloco"),D()()()),2&n){const e=se();P(2),re(" ",K(3,2,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.title")," "),P(4),re(" ",Yt(7,4,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",ka(7,w0e,e.minBankValue,e.app.config.currency))," ")}}const O0e=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function P0e(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),j(2),$(3,"transloco"),D(),R(4,"ul",23)(5,"li",24),j(6),$(7,"transloco"),D()()()),2&n){const e=se();P(2),re(" ",K(3,2,"shared.modals.rules.game-rules.game-functions.return-to-player.title")," "),P(4),re(" ",Yt(7,4,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",ka(7,O0e,e.app.config.returnToPlayer,100-e.app.config.returnToPlayer))," ")}}function x0e(n,t){1&n&&(R(0,"li",24),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.rules.game-rules.game-functions.other.unfinished game")," "))}const I0e=function(n,t){return{maxWin:n,currency:t}};function A0e(n,t){if(1&n&&(R(0,"li",24),j(1),$(2,"transloco"),$(3,"currencyPrecision"),D()),2&n){const e=se();P(1),re(" ",Yt(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",ka(6,I0e,K(3,4,e.app.config.maxUserWin),e.app.config.currency))," ")}}const R0e=function(n){return{maxMultiplier:n}};function D0e(n,t){if(1&n&&(R(0,"li",24),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(" ",Yt(2,1,"shared.modals.rules.game-rules.game-functions.other.max_user_multiplier",Bi(4,R0e,e.app.config.maxUserMultiplier.toFixed(2)))," ")}}const N0e=function(n){return{min:n}};function k0e(n,t){if(1&n&&(R(0,"li",24),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(" ",Yt(2,1,"shared.modals.rules.game-rules.game-functions.other.inactivityTime",Bi(4,N0e,e.app.config.inactivityTimeForDisconnect))," ")}}function F0e(n,t){if(1&n&&(R(0,"div",33)(1,"div")(2,"span"),j(3),$(4,"transloco"),D(),R(5,"span"),j(6),D()()()),2&n){const e=se();P(3),re(" ",K(4,2,"shared.modals.rules.game-rules.game-functions.version")," "),P(3),We(e.app.config.gameVersion)}}let B0e=(()=>{class n{constructor(e,i,r,s,o,a){this.activeModal=e,this.app=i,this.modal=r,this.urlParams=s,this.sanitizer=o,this.currencyPrecisionPipe=a,this.minBankValue=this.currencyPrecisionPipe.transform(Ar.mul(this.app.config.minBet,1.01).toNumber()),this.gameRulesAutoCashOutType=L1}ngOnInit(){const e=Qj(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(ri.whatIsPf)}get isShowRainFeature(){try{return this.app.config.chat.rain.isEnabled||this.app.config.chat.promo.isEnabled}catch(e){return!0}}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(on),J($o),J(qc),J(pO),J(br))},n.\u0275cmp=st({type:n,selectors:[["app-rules"]],features:[ni([br])],decls:182,vars:148,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"text-grey"],["href","#",3,"click"],[1,"mt-4","mb-2","text-uppercase"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"steps-wrapper"],[1,"pt-5","pl-2"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],[1,"step-text","pt-2"],[1,"step","step-2"],[1,"step-text"],[1,"step","step-3"],[1,"mt-3","text-grey"],[1,"rules-list","pt-3"],[1,"rules-list-title"],[1,"list-group"],[1,"list-group-item"],[1,"icon-fair"],[1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item",4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D(),R(4,"button",2),Oe("click",function(){return i.activeModal.close()}),R(5,"span",3),j(6,"\xd7"),D()()(),R(7,"div",4)(8,"p",5),j(9),$(10,"transloco"),D(),R(11,"a",6),Oe("click",function(s){return i.onPFModalOpen(s)}),j(12),$(13,"transloco"),D(),R(14,"h6",7),j(15),$(16,"transloco"),D(),R(17,"div",8)(18,"div",9),ve(19,"iframe",10),D()(),R(20,"div",11)(21,"h6",12),j(22),$(23,"transloco"),D(),R(24,"div",13)(25,"div",14)(26,"h3"),j(27,"01"),D(),ve(28,"div",15),R(29,"div",16)(30,"span",1),j(31),$(32,"transloco"),D(),j(33),$(34,"transloco"),D()(),R(35,"div",17)(36,"h3"),j(37,"02"),D(),ve(38,"div",15),R(39,"div",18)(40,"span",1),j(41),$(42,"transloco"),D(),j(43),$(44,"transloco"),D()(),R(45,"div",19)(46,"h3"),j(47,"03"),D(),ve(48,"div",15),R(49,"div",18)(50,"span",1),j(51),$(52,"transloco"),D(),j(53),$(54,"transloco"),D()()(),R(55,"p",20),j(56),$(57,"transloco"),D(),R(58,"div",21)(59,"div",22),j(60),$(61,"transloco"),D(),R(62,"ul",23)(63,"li",24),j(64),$(65,"transloco"),D(),R(66,"li",24),j(67),$(68,"transloco"),D(),R(69,"li",24),j(70),$(71,"transloco"),ve(72,"span",25),j(73),$(74,"transloco"),D()()()(),R(75,"h6",26),j(76),$(77,"transloco"),D(),R(78,"div",27)(79,"div",22),j(80),$(81,"transloco"),D(),R(82,"ul",23)(83,"li",24),j(84),$(85,"transloco"),D(),ot(86),R(87,"li",24),j(88),$(89,"transloco"),D(),R(90,"li",24),j(91),$(92,"transloco"),D(),at(),ne(93,v0e,3,3,"li",28),R(94,"li",24),j(95),$(96,"transloco"),D(),R(97,"li",24),j(98),$(99,"transloco"),D()()(),ne(100,S0e,6,5,"div",29),R(101,"div",27)(102,"div",22),j(103),$(104,"transloco"),D(),R(105,"ul",23)(106,"li",24),j(107),$(108,"transloco"),D(),R(109,"li",24),j(110),$(111,"transloco"),D(),R(112,"li",24),j(113),$(114,"transloco"),D()()(),ne(115,E0e,8,6,"div",29),ne(116,C0e,8,6,"div",29),ne(117,T0e,8,6,"div",29),R(118,"div",27)(119,"div",22),j(120),$(121,"transloco"),D(),R(122,"ul",23)(123,"li",24),j(124),$(125,"transloco"),R(126,"a",6),Oe("click",function(s){return i.onPFModalOpen(s)}),j(127),$(128,"transloco"),D()(),R(129,"li",24),j(130),$(131,"transloco"),D(),R(132,"li",24),j(133),$(134,"transloco"),ve(135,"span",25),j(136),$(137,"transloco"),D()()(),ne(138,M0e,8,10,"div",29),ne(139,P0e,8,10,"div",29),R(140,"div",27)(141,"div",22),j(142),$(143,"transloco"),D(),R(144,"ul",23)(145,"li",24),j(146),$(147,"transloco"),D(),R(148,"li",24),j(149),$(150,"transloco"),D(),R(151,"li",24),j(152),$(153,"transloco"),D(),R(154,"li",24),j(155),$(156,"transloco"),D(),R(157,"li",24),j(158),$(159,"transloco"),D(),R(160,"li",24),j(161),$(162,"transloco"),D(),R(163,"li",24),j(164),$(165,"transloco"),D()()(),R(166,"div",27)(167,"div",22),j(168),$(169,"transloco"),D(),R(170,"ul",23)(171,"li",24),j(172),$(173,"transloco"),D(),R(174,"li",24),j(175),$(176,"transloco"),D(),ne(177,x0e,3,3,"li",28),ne(178,A0e,4,9,"li",28),ne(179,D0e,3,6,"li",28),ne(180,k0e,3,6,"li",28),D()(),ne(181,F0e,7,4,"div",30),D()),2&e&&(P(2),We(K(3,58,"shared.game_rules")),P(7),re(" ",K(10,60,"shared.modals.rules.game-rules.main-text")," "),P(3),re(" ",K(13,62,"shared.modals.rules.game-rules.link")," "),P(3),re(" ",K(16,64,"shared.how_to_play")," "),P(4),B("src",i.videoURL,Nb),P(3),re(" ",K(23,66,"shared.modals.rules.game-rules.steps.title")," "),P(9),We(K(32,68,"shared.bet")),P(2),re(" ",K(34,70,"shared.modals.rules.game-rules.steps.first-step")," "),P(8),We(K(42,72,"shared.watch")),P(2),re(" ",K(44,74,"shared.modals.rules.game-rules.steps.second-step")," "),P(8),re(" ",K(52,76,"shared.cash_out")," "),P(2),re(" ",K(54,78,"shared.modals.rules.game-rules.steps.third-step")," "),P(3),re(" ",K(57,80,"shared.modals.rules.game-rules.steps.text")," "),P(4),re(" ",K(61,82,"shared.modals.rules.game-rules.details.title")," "),P(4),re(" ",K(65,84,"shared.modals.rules.game-rules.details.point1")," "),P(3),re(" ",K(68,86,"shared.modals.rules.game-rules.details.point2")," "),P(3),re(" ",K(71,88,"shared.modals.rules.game-rules.details.point3-1")," "),P(3),re(" ",K(74,90,"shared.modals.rules.game-rules.details.point3-2")," "),P(3),re(" ",K(77,92,"shared.modals.rules.game-rules.game-functions.title")," "),P(4),re(" ",K(81,94,"shared.modals.rules.game-rules.game-functions.bet-cashout.title")," "),P(4),re(" ",K(85,96,"shared.modals.rules.game-rules.game-functions.bet-cashout.point1")," "),P(4),re(" ",K(89,98,"shared.modals.rules.game-rules.game-functions.bet-cashout.point5")," "),P(3),re(" ",K(92,100,"shared.modals.rules.game-rules.game-functions.bet-cashout.point6")," "),P(2),B("ngIf",i.app.config.isMultipleBetsEnabled),P(2),re(" ",K(96,102,"shared.modals.rules.game-rules.game-functions.bet-cashout.point3")," "),P(3),re(" ",K(99,104,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4")," "),P(2),B("ngIf",i.app.isAutoBetFeatureEnabled),P(3),re(" ",K(104,106,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.title")," "),P(4),re(" ",K(108,108,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1")," "),P(3),re(" ",K(111,110,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2")," "),P(3),re(" ",K(114,112,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3")," "),P(2),B("ngIf",i.app.config.chat.isEnabled),P(1),B("ngIf",i.app.isFreeBetsEnabled),P(1),B("ngIf",i.isShowRainFeature),P(3),re(" ",K(121,114,"shared.modals.rules.game-rules.game-functions.randomization.title")," "),P(4),re(" ",K(125,116,"shared.modals.rules.game-rules.game-functions.randomization.point1")," "),P(3),re(" ",K(128,118,"shared.modals.rules.game-rules.link")," "),P(3),re(" ",K(131,120,"shared.modals.rules.game-rules.game-functions.randomization.point2")," "),P(3),re(" ",K(134,122,"shared.modals.rules.game-rules.game-functions.randomization.point3-1")," "),P(3),re(" ",K(137,124,"shared.modals.rules.game-rules.game-functions.randomization.point3-2")," "),P(2),B("ngIf",i.app.config.isGameRulesHaveMinimumBankValue),P(1),B("ngIf",i.app.config.returnToPlayer>0),P(3),re(" ",K(143,126,"shared.modals.rules.game-rules.game-functions.game-menu.title")," "),P(4),re(" ",K(147,128,"shared.modals.rules.game-rules.game-functions.game-menu.point1")," "),P(3),re(" ",K(150,130,"shared.modals.rules.game-rules.game-functions.game-menu.point2")," "),P(3),re(" ",K(153,132,"shared.modals.rules.game-rules.game-functions.game-menu.point3")," "),P(3),re(" ",K(156,134,"shared.modals.rules.game-rules.game-functions.game-menu.point4")," "),P(3),re(" ",K(159,136,"shared.modals.rules.game-rules.game-functions.game-menu.point5")," "),P(3),re(" ",K(162,138,"shared.modals.rules.game-rules.game-functions.game-menu.point6")," "),P(3),re(" ",K(165,140,"shared.modals.rules.game-rules.game-functions.game-menu.point7")," "),P(4),re(" ",K(169,142,"shared.modals.rules.game-rules.game-functions.other.title")," "),P(4),re(" ",K(173,144,"shared.modals.rules.game-rules.game-functions.other.point1")," "),P(3),re(" ",K(176,146,"shared.modals.rules.game-rules.game-functions.other.point2")," "),P(2),B("ngIf",i.app.config.isRuleUnfinishedGame),P(1),B("ngIf",i.app.config.isGameRulesHaveMaxWin),P(1),B("ngIf",i.app.config.maxUserMultiplier),P(1),B("ngIf",i.app.config.inactivityTimeForDisconnect),P(1),B("ngIf",i.app.config.gameVersion))},directives:[Lt],pipes:[Ut,br],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.71eb97eaadfab595.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:240px;height:140px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-1[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-01.455606c0e1effa2b.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.e4c4ded206c4c071.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.e6c43f8198532fff.png)}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"]}),n})(),L0e=(()=>{class n{constructor(e,i,r,s){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=s}ngOnInit(){const e=Qj(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(ri.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(pO),J($o),J(qc))},n.\u0275cmp=st({type:n,selectors:[["app-quick-help-modal"]],decls:33,vars:16,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"step"],[1,"bullet","bullet-1"],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],[1,"btn","btn-link","btn-sm","mx-auto",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.activeModal.close()}),R(5,"span",2),j(6,"\xd7"),D()()(),R(7,"div",3)(8,"div",4)(9,"div",5),ve(10,"iframe",6),D()(),R(11,"div",7)(12,"div",8),j(13,"01"),D(),R(14,"p"),j(15),$(16,"transloco"),D()(),R(17,"div",7)(18,"div",9),j(19,"02"),D(),R(20,"p"),j(21),$(22,"transloco"),D()(),R(23,"div",7)(24,"div",10),j(25,"03"),D(),R(26,"p"),j(27),$(28,"transloco"),D()()(),R(29,"div",11)(30,"button",12),Oe("click",function(){return i.onShowRules()}),j(31),$(32,"transloco"),D()()),2&e&&(P(2),re("",K(3,6,"shared.how_to_play"),"?"),P(8),B("src",i.videoURL,Nb),P(5),We(K(16,8,"shared.modals.quick-help.step1")),P(6),We(K(22,10,"shared.modals.quick-help.step2")),P(6),We(K(28,12,"shared.modals.quick-help.step3")),P(4),re(" ",K(32,14,"shared.modals.quick-help.details")," "))},pipes:[Ut],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.ea80a7e88f9b36d2.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.a17abd692baf4849.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var U0=(()=>(function(n){n.RealityCheck="reality_check"}(U0||(U0={})),U0))(),Gf=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(Gf||(Gf={})),Gf))();function U0e(n,t){1&n&&(R(0,"p",7),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.modals.notification.alderney_message")," "))}function G0e(n,t){1&n&&ve(0,"p",8),2&n&&B("innerHTML",se().params.message,WN)}function j0e(n,t){if(1&n){const e=_t();R(0,"p",9)(1,"button",10),Oe("click",function(){return ct(e),se().onOpenAccountHistory()}),j(2),$(3,"transloco"),D()()}2&n&&(P(2),re(" ",K(3,1,"shared.modals.notification.account_history")," "))}function H0e(n,t){if(1&n){const e=_t();R(0,"div",11)(1,"button",12),Oe("click",function(){ct(e);const r=se();return r.onRealityCheck(r.realityCheckAction.Continue)}),j(2),$(3,"transloco"),D(),R(4,"button",13),Oe("click",function(){ct(e);const r=se();return r.onRealityCheck(r.realityCheckAction.Stop)}),j(5),$(6,"transloco"),D()()}2&n&&(P(2),re(" ",K(3,2,"shared.continue")," "),P(3),re(" ",K(6,4,"shared.stop")," "))}function V0e(n,t){if(1&n){const e=_t();R(0,"div",11)(1,"button",14),Oe("click",function(){return ct(e),se().activeModal.close()}),j(2),$(3,"transloco"),D()()}if(2&n){const e=se();P(1),B("disabled",e.isAcknowledgeDisabled),P(1),re(" ",K(3,2,"shared.acknowledge")," ")}}let jf=class{constructor(t,e,i,r,s,o,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=s,this.ifc=o,this.app=a,this.urlParams=l,this.realityCheckAction=Gf,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&Iu(5e3).pipe(Et(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===Au.RealityCheck}get isInternalRealityCheck(){return this.params.type===Au.InternalRealityCheck}get isAlderney(){return this.params.type===Au.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(Gi.NotificationCallback,{notificationType:U0.RealityCheck,action:t}),t===Gf.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(mi.shutdown),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===c_.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===l_.IfcEvent?this.ifc.emitEvent(Ii.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(ri.myBetsHistory)}};jf.\u0275fac=function(t){return new(t||jf)(J(ns),J(Ui),J($o),J($S),J(Kc),J(lc),J(on),J(qc))},jf.\u0275cmp=st({type:jf,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4",4,"ngIf"],["class","text-center p-4",3,"innerHTML",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],[1,"text-center","p-4"],[1,"text-center","p-4",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D()(),R(4,"div",2),ne(5,U0e,3,3,"p",3),ne(6,G0e,1,1,"p",4),ne(7,j0e,4,3,"p",5),D(),ne(8,H0e,7,6,"div",6),ne(9,V0e,4,4,"div",6)),2&t&&(P(2),We(K(3,6,"shared.notification")),P(3),B("ngIf",e.isAlderney),P(1),B("ngIf",e.isRCButtonsVisible),P(1),B("ngIf",e.isRCButtonsVisible),P(1),B("ngIf",e.isRCButtonsVisible),P(1),B("ngIf",e.isAlderney))},directives:[Lt],pipes:[Ut],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),jf=Qe([qn()],jf);var ta=(()=>(function(n){n.Init="/user/queue/init",n.GifsSearch="/user/queue/gifs.search",n.MessageSend="/user/queue/message.send",n.RainClaim="/user/queue/rain.claim",n.MessageLikeAdd="/user/queue/message.like.add",n.MessageLikeDelete="/user/queue/message.like.delete",n.MessageAdd="/user/queue/message.add",n.MessageDelete="/user/queue/message.delete",n.PlayersOnline="/user/queue/players.online"}(ta||(ta={})),ta))(),Zj=x(209);function e7(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function t7(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){e7(s,i,r,o,a,"next",l)}function a(l){e7(s,i,r,o,a,"throw",l)}o(void 0)})}}const G0_LF="\n",G0_NULL="\0";class Qd{constructor(t){const{command:e,headers:i,body:r,binaryBody:s,escapeHeaderValues:o,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const i={},r=s=>s.replace(/^\s+|\s+$/g,"");for(const s of t.headers.reverse()){s.indexOf(":");const a=r(s[0]);let l=r(s[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=Qd.hdrValueUnEscape(l)),i[a]=l}return new Qd({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Qd.toUnit8Array(t,this._binaryBody).buffer:t+this._body+G0_NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${Qd.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(G0_LF)+G0_LF+G0_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),s=new Uint8Array(i.length+e.length+r.length);return s.set(i),s.set(e,i.length),s.set(r,i.length+e.length),s}static marshall(t){return new Qd(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class $0e{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var Wu,bl;!function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(Wu=Wu||(Wu={})),function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(bl=bl||(bl={}));class na{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}na.V1_0="1.0",na.V1_1="1.1",na.V1_2="1.2",na.default=new na([na.V1_2,na.V1_1,na.V1_0]);class q0e{constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===na.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const s=r.headers.subscription,o=this._subscriptions[s]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===na.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,s,u),a.nack=(u={})=>l.nack(c,s,u),o(a)},RECEIPT:r=>{const s=this._receiptWatchers[r.headers["receipt-id"]];s?(s(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new $0e(e=>{const i=Qd.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==na.V1_1&&t.version!==na.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===Wu.OPEN&&(this._webSocket.send(G0_LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const s=Date.now()-this._lastServerActivityTS;s>2*r&&(this.debug(`did not receive server activity for the last ${s}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Wu.CONNECTING||this._webSocket.readyState===Wu.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function X0e(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=o=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),null==s||s.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=new Qd({command:e,headers:i,body:r,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Wu.CONNECTING||this._webSocket.readyState===Wu.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:s,skipContentLengthHeader:o})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:s=>r.unsubscribe(i.id,s)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===na.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===na.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class i7{constructor(t={}){this.stompVersions=na.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=bl.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===bl.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(bl.ACTIVE),this._connect())};this.state===bl.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return t7(function*(){if(yield t.beforeConnect(),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new q0e(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===bl.DEACTIVATING&&t._changeState(bl.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(t={}){var e=this;return t7(function*(){var o;const i=t.force||!1,r=e.active;let s;if(e.state===bl.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(bl.DEACTIVATING),e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===Wu.CLOSED)return e._changeState(bl.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{e._stompHandler.onWebSocketClose=u=>{a(u),l()}})}return i?null==(o=e._stompHandler)||o.discardWebsocket():r&&e._disposeStompHandler(),s})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var Yu=(()=>(function(n){n.Init="/app/init",n.MessageSend="/app/message.send",n.MessageLikeAdd="/app/message.like.add",n.MessageLikeDelete="/app/message.like.delete",n.GifsSearch="/app/gifs.search",n.RainClaim="/app/rain.claim"}(Yu||(Yu={})),Yu))(),Sl=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(Sl||(Sl={})),Sl))(),TE=(()=>(function(n){n.KickUser="Kick user"}(TE||(TE={})),TE))();let $u=(()=>{class n{constructor(e){this.message=e,this.responseSubject=new OI(1),this.stateSubject=new jn({state:Sl.None}),this.state$=this.stateSubject.asObservable(),this.maxReconnectCount=5,this.reconnectCount=0}response(e){return this.responseSubject.pipe(Nt(i=>i.response===e),Pe(i=>i.data))}request(e,i){console.log("%c[ Stomp Chat REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var s;(null===(s=this.stompClient)||void 0===s?void 0:s.active)&&this.stompClient.deactivate(),this.stompClient=new i7({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:1e3}),this.stompClient.webSocketFactory=()=>new Zj(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.beforeConnect=()=>{if(this.reconnectCount>=this.maxReconnectCount)return this.stompClient.deactivate(),void this.stateSubject.next({state:Sl.Disconnected});this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp Chat ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:Sl.Connected}),r.forEach(o=>{this.stompClient.subscribe(o,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp Chat RESPONSE ] "+o,"background: #222; color: #bada55",l),this.responseSubject.next({response:o,data:l}),this.handleError(l)},{id:o})}),this.request(Yu.Init,null)},this.stompClient.onWebSocketClose=o=>(console.log("[ Stomp Chat ] onWebSocketClose",o),this.stateSubject.getValue().state===Sl.None||o.reason===TE.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:Sl.Disconnected})):void this.stateSubject.next({state:Sl.Reconnecting})),this.stompClient.onDisconnect=o=>{console.log("[ Stomp Chat ] onDisconnect",o),this.stateSubject.next({state:Sl.Disconnected})}}handleError(e){var i;"object"==typeof e&&"code"in e&&200!==e.code&&this.message.add({value:e.errorMessage,context:dr.danger,errorMessageParams:null!==(i=e.errorMessageParams)&&void 0!==i?i:{}})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)(He(Va))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Xu=(()=>{class n{constructor(e,i,r){this.clipBoard=e,this.bsMessage=i,this.stomp=r,this._inited=!1,this._topGifs=[],this._tagUserSubject=new $e,this._onlinePlayersSubject=new jn(0),this.onlinePlayers$=this._onlinePlayersSubject.asObservable(),this.stomp.response(ta.Init).subscribe(s=>{this.init(s)}),this.stomp.response(ta.PlayersOnline).subscribe(s=>{this._onlinePlayersSubject.next(s.onlinePlayers)})}init(e){this._inited=!0,this._onlinePlayersSubject.next(e.onlinePlayers),this._topGifs=function z0e(n){if(!n)return[];const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}(e.config.topGifsJson),this._playerId=e.playerId}get inited(){return this._inited}shareBet(e,i,r){this.clipBoard.copyToClipBoard(r?`/share_bet:${e}:${i}:${r}`:`/share_bet:${e}:${i}:${this._playerId}`),this.bsMessage.add({value:"copied-for-chat",context:dr.success,lifeTime:1e3,closable:!1})}tagUser(e){this._tagUserSubject.next(`@${e} `)}get onTagUser(){return this._tagUserSubject.asObservable()}get top10Gifs(){return this._topGifs}}return n.\u0275fac=function(e){return new(e||n)(He(FI),He(Va),He($u))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function K0e(n,t){if(1&n&&(R(0,"div",2),j(1),D()),2&n){const e=se();P(1),We(e.freeBetLabel)}}const J0e=function(n){return{"long-precision":n}};function Q0e(n,t){if(1&n&&(R(0,"div",3),j(1),$(2,"currencyPrecision"),D()),2&n){const e=se();B("ngClass",Bi(4,J0e,e.app.isLongPrecision)),P(1),re(" ",K(2,2,e.amount),"\n")}}let j0=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(J(on))},n.\u0275cmp=st({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"free-bet"],[3,"ngClass"]],template:function(e,i){1&e&&(ne(0,K0e,2,1,"div",0),ne(1,Q0e,3,6,"div",1)),2&e&&(B("ngIf",i.isFreeBet),P(1),B("ngIf",!i.isFreeBet))},directives:[Lt,vo],pipes:[br],styles:[".free-bet[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}.long-precision[_ngcontent-%COMP%]{font-size:12px}"]}),n})();function Z0e(n,t){if(1&n&&(R(0,"div",12),j(1),$(2,"currencyPrecision"),D()),2&n){const e=se();P(1),re(" ",K(2,1,e.bet.startBalance)," ")}}function eye(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"currencyPrecision"),D()),2&n){const e=se();P(1),re(" ",K(2,1,e.bet.winAmount),"")}}let tye=(()=>{class n{constructor(e,i,r,s){this.app=e,this.chat=i,this.main=r,this.newChat=s}onShareBet(e,i){var r;(null===(r=this.app.config.newChat)||void 0===r?void 0:r.host)?this.newChat.shareBet(e,i):this.chat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(ga),J(Wi),J(Xu))},n.\u0275cmp=st({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:18,vars:21,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex","justify-content-end","pl-2"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"start-balance","pl-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),j(3),$(4,"date"),D(),R(5,"div"),j(6),$(7,"date"),D()(),ne(8,Z0e,3,3,"div",2),R(9,"div",3),ve(10,"app-bet-amount",4),D(),R(11,"div",5),ve(12,"app-bubble-multiplier",6),D(),R(13,"div",7),ne(14,eye,3,3,"span",8),D(),R(15,"div",9)(16,"div",10),Oe("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(17,"div",11),Oe("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),D()()()),2&e&&(Mt("long-precision",i.app.isLongPrecision)("large-width",i.app.config.isBetsHistoryStartBalanceEnabled)("celebrated",i.bet.winAmount),P(3),We(Yt(4,15,i.bet.cashOutDate,"HH:mm")),P(3),We(Yt(7,18,i.bet.cashOutDate,"dd-MM-yy")),P(2),B("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),P(2),B("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),P(2),B("multiplier",i.bet.payout||i.bet.maxMultiplier),P(2),B("ngIf",i.bet.winAmount),P(1),Mt("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[Lt,j0,Qc],pipes:[Bc,br],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item.long-precision[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}.large-width[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;min-width:100%}.large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px}.large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"]}),n})();function nye(n,t){if(1&n&&(R(0,"div",18),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),ui(" ",K(2,2,"shared.Start_balance")," ",e.app.config.currency," ")}}function iye(n,t){1&n&&ve(0,"app-bet-item",19),2&n&&B("bet",t.$implicit)}function rye(n,t){if(1&n){const e=_t();R(0,"button",20),Oe("click",function(){return ct(e),se().onLoadMore()}),j(1),$(2,"transloco"),D()}2&n&&(B("disabled",0===se().lastBetId),P(1),re(" ",K(2,2,"shared.load_more")," "))}function sye(n,t){1&n&&(R(0,"div"),ve(1,"app-loader"),D())}let Hf=class{constructor(t,e,i,r){this.cd=t,this.app=e,this.activeModal=i,this.connector=r,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(vn.BetHistory,200).pipe(Et(this),Nt(()=>!this.loaded)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges()})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(Gi.BetHistory,0===t?null:{lastBetId:t})}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}};function oye(n,t){if(1&n&&(R(0,"li",6)(1,"div")(2,"span"),j(3),$(4,"transloco"),D(),R(5,"span"),j(6," X:"),D()(),R(7,"span",7),j(8),D()()),2&n){const e=se();P(3),re(" ",K(4,2,"shared.modals.game-limits.maximum-multiplier-for-one-bet")," "),P(5),re(" ",e.app.config.maxUserMultiplier.toFixed(2)," ")}}Hf.\u0275fac=function(t){return new(t||Hf)(J(En),J(on),J(ns),J(Ui))},Hf.\u0275cmp=st({type:Hf,selectors:[["app-my-bets-history"]],decls:29,vars:20,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-1","py-2"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","pl-1"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"start-balance","pl-2"],[3,"bet"],["type","button",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D(),R(4,"button",2),Oe("click",function(){return e.activeModal.close()}),R(5,"span",3),j(6,"\xd7"),D()()(),R(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),j(11),$(12,"transloco"),D(),ne(13,nye,3,4,"div",8),R(14,"div",9),j(15),$(16,"transloco"),D(),R(17,"div",10),j(18,"X"),D(),R(19,"div",11),j(20),$(21,"transloco"),D(),ve(22,"div",12),D(),R(23,"div",13),ot(24),ne(25,iye,1,1,"app-bet-item",14),at(),D()(),R(26,"div",15),ne(27,rye,3,4,"button",16),ne(28,sye,2,0,"div",17),D()()),2&t&&(P(2),We(K(3,12,"shared.my_bet_history")),P(7),Mt("large-width",e.app.config.isBetsHistoryStartBalanceEnabled),P(2),We(K(12,14,"game.bets-widget.date")),P(2),B("ngIf",e.app.config.isBetsHistoryStartBalanceEnabled),P(2),ui(" ",K(16,16,"shared.bet")," ",e.app.config.currency," "),P(5),ui(" ",K(21,18,"shared.cash_out")," ",e.app.config.currency," "),P(5),B("ngForOf",e.betHistory),P(2),B("ngIf",e.loaded),P(1),B("ngIf",!e.loaded))},directives:[Lt,ii,tye,hc],pipes:[Ut],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:30%;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"],changeDetection:0}),Hf=Qe([qn()],Hf);let aye=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(on))},n.\u0275cmp=st({type:n,selectors:[["app-game-limits"]],decls:40,vars:25,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],[1,"badge","badge-success","px-2","font-weight-normal"],["class","list-group-item pl-2 pr-1",4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),j(2),$(3,"transloco"),D(),R(4,"button",2),Oe("click",function(){return i.activeModal.close()}),R(5,"span",3),j(6,"\xd7"),D()()(),R(7,"div",4)(8,"ul",5)(9,"li",6)(10,"div")(11,"span"),j(12),$(13,"transloco"),D(),R(14,"span"),j(15),D()(),R(16,"span",7),j(17),$(18,"currencyPrecision"),D()(),R(19,"li",6)(20,"div")(21,"span"),j(22),$(23,"transloco"),D(),R(24,"span"),j(25),D()(),R(26,"span",7),j(27),$(28,"currencyPrecision"),D()(),R(29,"li",6)(30,"div")(31,"span"),j(32),$(33,"transloco"),D(),R(34,"span"),j(35),D()(),R(36,"span",7),j(37),$(38,"currencyPrecision"),D()(),ne(39,oye,9,4,"li",8),D()()),2&e&&(P(2),We(K(3,11,"shared.game_limits")),P(10),We(K(13,13,"shared.modals.game-limits.min-bet")),P(3),re(" ",i.app.config.currency,":"),P(2),re(" ",K(18,15,i.app.config.minBet)," "),P(5),We(K(23,17,"shared.modals.game-limits.max-bet")),P(3),re(" ",i.app.config.currency,":"),P(2),re(" ",K(28,19,i.app.config.maxBet)," "),P(5),We(K(33,21,"shared.modals.game-limits.max-win-one-bet")),P(3),re(" ",i.app.config.currency,":"),P(2),re(" ",K(38,23,i.app.config.maxUserWin)," "),P(2),B("ngIf",i.app.config.maxUserMultiplier))},directives:[Lt],pipes:[Ut,br],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:not(:first-child){border-top:0}"]}),n})(),H0=(()=>{class n{constructor(e){this.cd=e,this.toggle=new en,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(J(En))},n.\u0275cmp=st({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[ni([{provide:Ko,useExisting:kn(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(R(0,"div",0),Oe("click",function(){return i.onClick()}),ve(1,"span",1),D()),2&e&&Mt("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function lye(n,t){if(1&n){const e=_t();R(0,"li",6)(1,"div")(2,"span"),j(3),$(4,"transloco"),D()(),R(5,"app-ui-switcher",7),Oe("toggle",function(r){const o=ct(e).$implicit;return se().user.settings.changeOther(o,r)}),D()()}if(2&n){const e=t.$implicit,i=se();P(3),We(K(4,2,"shared.modals.other_settings."+i.translations.get(e))),P(2),B("ngModel",i.user.settings.getOther(e))}}let cye=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[cc.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[cc.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(on),J(yl))},n.\u0275cmp=st({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.activeModal.close()}),R(5,"span",2),j(6,"\xd7"),D()()(),R(7,"div",3)(8,"ul",4),ne(9,lye,6,4,"li",5),D()()),2&e&&(P(2),We(K(3,2,"shared.modals.other_settings.title")),P(7),B("ngForOf",i.user.settings.otherKeys))},directives:[ii,H0,Qo,Po],pipes:[Ut],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})(),uye=(()=>{class n{constructor(e,i){this.ngbModal=e,this.modal=i,this.activeInstances=[]}init(){this.ngbModal.activeInstances.subscribe(e=>this.activeInstances=e),this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case ri.bugReport:break;case ri.fairness:this.openModal(Bf,{size:"lg"},{betId:i});break;case ri.fairnessSettings:this.openModal(Lf,{size:"lg"});break;case ri.freeBets:this.openModal(Uf);break;case ri.avatar:this.openModal(ove,{size:"lg"});break;case ri.rules:this.openModal(B0e,{size:"xl"});break;case ri.whatIsPf:this.openModal(tve,{size:"xl"});break;case ri.quickHelp:this.openModal(L0e,{size:"lg"});break;case ri.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.openModal(jf,{backdrop:"static"},{params:i});break;case ri.myBetsHistory:this.openModal(Hf);break;case ri.gameLimits:this.openModal(aye);break;case ri.otherSettings:this.openModal(cye)}}openModal(e,i={},r={}){if(this.activeInstances.some(a=>a.componentInstance instanceof e))return;const o=this.ngbModal.open(e,i);Object.entries(r).forEach(([a,l])=>{o.componentInstance[a]=l})}}return n.\u0275fac=function(e){return new(e||n)(He(B0),He($o))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dye=(()=>{class n{constructor(e,i,r,s,o){this.main=e,this.app=i,this.betControls=r,this.connector=s,this.message=o,this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}init(){this.main.getState(zi.Bet).pipe(Nt(()=>this.isInactivityTimePass())).subscribe(()=>this.onBetState()),this.main.getState(zi.Run).subscribe(()=>this.onRunState())}onBetState(){return this.isFirstToastShown?this.isSecondToastShown?void 0:(this.message.add({value:Ad.SecondInactivityMessage,context:dr.warning}),void(this.isSecondToastShown=!0)):(this.message.add({value:Ad.FirstInactivityMessage,context:dr.warning}),void(this.isFirstToastShown=!0))}onRunState(){this.betControls.isBetSetted?this.reset():this.isFirstToastShown&&this.isSecondToastShown&&this.connector.shutdown(mi.inactivity)}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(He(Wi),He(on),He(Kc),He(Ui),He(Va))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hye(n,t){if(1&n&&(R(0,"div",32),j(1),D()),2&n){const e=se(2);P(1),re(" ",e.freeBets.freeBetsCount," ")}}function fye(n,t){if(1&n){const e=_t();R(0,"div",22),Oe("click",function(){return ct(e),se().onFreeBetsManagementOpen()}),R(1,"div",12)(2,"div",13),ve(3,"div",30),D(),R(4,"div",24),j(5),$(6,"transloco"),D(),ne(7,hye,2,1,"div",31),D()()}if(2&n){const e=se();P(5),re(" ",K(6,2,"shared.free_bets")," "),P(2),B("ngIf",e.freeBets.freeBetsCount>0)}}function pye(n,t){if(1&n){const e=_t();R(0,"div",22),Oe("click",function(){return ct(e),se().onOtherSettingsOpen()}),R(1,"div",12)(2,"div",13),ve(3,"div",33),D(),R(4,"div",34),j(5),$(6,"transloco"),D()()()}2&n&&(P(5),re(" ",K(6,1,"shared.Other_Settings")," "))}function gye(n,t){if(1&n){const e=_t();R(0,"a",35),Oe("click",function(){return ct(e),se().onBackToHome()}),ve(1,"div",36),R(2,"span"),j(3),$(4,"transloco"),D()()}2&n&&(P(3),We(K(4,1,"shared.home")))}let Vf=class{constructor(t,e,i,r,s,o,a,l,c,u,d,v){this.connector=t,this.mainService=e,this.app=i,this.user=r,this.sound=s,this.betControl=o,this.freeBets=a,this.proxy=l,this.ifc=c,this.cd=u,this.modal=d,this.urlParams=v}ngOnInit(){this.ifc.command(gr.OpenHelp).pipe(Et(this)).subscribe(()=>this.onRulesOpen()),this.ifc.command(gr.SetSound).pipe(Et(this)).subscribe(t=>this.setSetting(gr.SetSound,t.value)),this.ifc.command(gr.SetMusic).pipe(Et(this)).subscribe(t=>this.setSetting(gr.SetMusic,t.value)),this.ifc.command(gr.SetAnimation).pipe(Et(this)).subscribe(t=>this.setSetting(gr.SetAnimation,t.value))}setSetting(t,e){switch(t){case gr.SetSound:this.user.settings.sound=e;break;case gr.SetMusic:this.user.settings.music=e;break;case gr.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get avatar(){return Ei_avatarPath+this.user.avatar+`?v=${Ei_version}`}onChangeAvatar(){this.modal.open(ri.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(ri.freeBets)}onFairnessOpen(){this.modal.open(ri.fairnessSettings)}onRulesOpen(){this.modal.open(ri.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===l_.IfcEvent?this.ifc.emitEvent(Ii.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.app.config.accountHistoryActionType===l_.NewTab&&this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(ri.myBetsHistory)}onGameLimitsOpen(){this.modal.open(ri.gameLimits)}onOpenHelp(){this.modal.open(ri.quickHelp)}onOtherSettingsOpen(){this.modal.open(ri.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===c_.IfcEvent)return this.proxy.sendBackToHome(this.urlParams.returnUrl),void this.ifc.emitEvent(Ii.BackToHome,{returnUrl:this.urlParams.returnUrl});window.open(this.urlParams.returnUrl,"_top")}};function _ye(n,t){if(1&n&&(R(0,"a",15),ve(1,"img",16),D()),2&n){const e=se(2);Mt("disabled",null===e.urlParams.returnUrl),B("href",e.homeUrl,nn),P(1),B("src",e.brandLogo,nn)}}function mye(n,t){if(1&n){const e=_t();R(0,"button",17),Oe("click",function(){return ct(e),se(2).onOpenHelp()}),ve(1,"div",18),R(2,"div",19),j(3),$(4,"transloco"),D()()}2&n&&(P(3),re(" ",K(4,1,"shared.how_to_play"),"? "))}function vye(n,t){1&n&&Fs(0)}function yye(n,t){if(1&n){const e=_t();R(0,"div",20),Oe("click",function(){ct(e);const r=se(2);return r.chat.isOpen=!r.chat.isOpen}),ve(1,"div",21),D()}}function bye(n,t){if(1&n&&(R(0,"div",3)(1,"div",4),ne(2,_ye,2,4,"a",5),ve(3,"div",6),ne(4,mye,5,3,"button",7),D(),R(5,"div",8)(6,"div",9)(7,"div",10)(8,"div")(9,"span",11),j(10),$(11,"currencyPrecision"),D(),R(12,"span",12),j(13),D()()(),ne(14,vye,1,0,"ng-container",13),D(),ne(15,yye,2,0,"div",14),D()()),2&n){const e=se(),i=xi(3);P(2),B("ngIf",e.app.clientConfig.brandLogo),P(1),Mt("game-logo-ab",e.app.isBrandAdjarabet),P(1),B("ngIf",!0===e.app.config.quickHelp),P(3),Mt("long-precision",e.app.isLongPrecision),P(3),re(" ",K(11,10,e.userService.userBalance)," "),P(3),We(e.app.config.currency),P(1),B("ngTemplateOutlet",i),P(1),B("ngIf",!e.chat.isOpen&&e.app.config.chat.isEnabled)}}function Sye(n,t){1&n&&Fs(0)}function Eye(n,t){if(1&n&&(R(0,"div",22),ne(1,Sye,1,0,"ng-container",13),D()),2&n){se();const e=xi(3);P(1),B("ngTemplateOutlet",e)}}function Cye(n,t){if(1&n&&(R(0,"div",28),j(1),D()),2&n){const e=se(2);P(1),re(" ",e.freeBets.freeBetsCount," ")}}function Tye(n,t){if(1&n&&(R(0,"div",23)(1,"div",24),ve(2,"div",25),ne(3,Cye,2,1,"div",26),R(4,"div",27),ve(5,"app-settings-menu"),D()()()),2&n){const e=se();B("placement","bottom-right"),P(3),B("ngIf",e.freeBets.freeBetsCount>0)}}Vf.\u0275fac=function(t){return new(t||Vf)(J(Ui),J(Wi),J(on),J(yl),J(Mf),J(Kc),J(Gu),J($S),J(lc),J(En),J($o),J(qc))},Vf.\u0275cmp=st({type:Vf,selectors:[["app-settings-menu"]],decls:84,vars:39,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],[1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","history-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","limits-icon"],[1,"icon","help-icon"],[1,"icon","rule-icon"],[1,"icon","fair-icon"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),ve(4,"img",4),D(),R(5,"div",5),j(6),D()(),R(7,"div",6),Oe("click",function(){return e.onChangeAvatar()}),ve(8,"div",7),R(9,"div",8)(10,"div"),j(11),$(12,"transloco"),D(),R(13,"div"),j(14),$(15,"transloco"),D()()()(),R(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),ve(21,"div",14),D(),R(22,"span",15),j(23),$(24,"transloco"),D()(),R(25,"div",16)(26,"app-ui-switcher",17),Oe("ngModelChange",function(r){return e.user.settings.sound=r}),D()()(),R(27,"div",11)(28,"div",12)(29,"div",13),ve(30,"div",18),D(),R(31,"span",15),j(32),$(33,"transloco"),D()(),R(34,"div",16)(35,"app-ui-switcher",17),Oe("ngModelChange",function(r){return e.user.settings.music=r}),D()()(),R(36,"div",11)(37,"div",12)(38,"div",13),ve(39,"div",19),D(),R(40,"span",15),j(41),$(42,"transloco"),D()(),R(43,"div",16)(44,"app-ui-switcher",17),Oe("ngModelChange",function(r){return e.user.settings.animation=r}),D()()()(),R(45,"div",20),ne(46,fye,8,4,"div",21),R(47,"div",22),Oe("click",function(){return e.onMyBetsHistoryOpen()}),R(48,"div",12)(49,"div",13),ve(50,"div",23),D(),R(51,"div",24),j(52),$(53,"transloco"),D()()(),R(54,"div",22),Oe("click",function(){return e.onGameLimitsOpen()}),R(55,"div",12)(56,"div",13),ve(57,"div",25),D(),R(58,"div",24),j(59),$(60,"transloco"),D()()(),R(61,"div",22),Oe("click",function(){return e.onOpenHelp()}),R(62,"div",12)(63,"div",13),ve(64,"div",26),D(),R(65,"div",24),j(66),$(67,"transloco"),D()()(),R(68,"div",22),Oe("click",function(){return e.onRulesOpen()}),R(69,"div",12)(70,"div",13),ve(71,"div",27),D(),R(72,"div",24),j(73),$(74,"transloco"),D()()(),R(75,"div",22),Oe("click",function(){return e.onFairnessOpen()}),R(76,"div",12)(77,"div",13),ve(78,"div",28),D(),R(79,"div",24),j(80),$(81,"transloco"),D()()(),ne(82,pye,7,3,"div",21),D()(),ne(83,gye,5,3,"a",29),D()),2&t&&(P(4),B("src",e.avatar,nn)("alt",e.avatar),P(2),We(e.app.getFormattedUsername(e.user.username)),P(5),We(K(12,19,"shared.change")),P(3),We(K(15,21,"shared.avatar")),P(9),We(K(24,23,"shared.sound")),P(3),B("ngModel",e.user.settings.sound),P(6),We(K(33,25,"shared.music")),P(3),B("ngModel",e.user.settings.music),P(6),We(K(42,27,"shared.animation")),P(3),B("ngModel",e.user.settings.animation),P(2),B("ngIf",e.app.isFreeBetsEnabled),P(6),re(" ",K(53,29,"shared.my_bet_history")," "),P(7),re(" ",K(60,31,"shared.game_limits")," "),P(7),re(" ",K(67,33,"shared.how_to_play")," "),P(7),re(" ",K(74,35,"shared.game_rules")," "),P(7),re(" ",K(81,37,"shared.provably_fair_settings")," "),P(2),B("ngIf",e.user.settings.isOtherEnabled),P(1),B("ngIf",e.urlParams.returnUrl))},directives:[hE,H0,Qo,Po,Lt],pipes:[Ut],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.4789b256e5464f98.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.354a395bdd5bff4a.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.4cfceb698f352c5c.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.ab8f69f184d5fae8.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.e1cef8dadb898f11.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.0c5beb8137f06e6d.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.f240a948b3e6f2f6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42f4d875e3b84de6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.5c82c8e4688aa90d.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.9ac24a8403a5c08f.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.6b1098bdadd19cef.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),Vf=Qe([qn()],Vf);let zf=class{constructor(t,e,i,r,s,o,a,l,c,u){this.mainService=t,this.chat=e,this.modal=i,this.cd=r,this.connector=s,this.freeBets=o,this.ifc=a,this.userService=l,this.app=c,this.urlParams=u}ngOnInit(){this.chat.isOpen$.pipe(Et(this)).subscribe(()=>this.cd.detectChanges()),this.connector.response(vn.NewBalance,200).pipe(Et(this)).subscribe(t=>{this.userService.balance=t.newBalance,this.ifc.emitEvent(Ii.UpdateBalance,{amount:this.userService.balance,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}),this.freeBets.onUpdate$.pipe(Et(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.command(gr.SetBalance).pipe(Et(this)).subscribe(t=>{this.userService.balance=t.value,this.cd.detectChanges()}),this.ifc.command(gr.AviaportToggleGameMenu).pipe(Et(this)).subscribe(()=>{this.onToggleGameMenu(),this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${Ei_brandPath}${this.app.clientConfig.brandLogo}?v=${Ei_version}`}onOpenHelp(){this.modal.open(ri.quickHelp)}onToggleGameMenu(){this.gameMenu.isOpen()?this.gameMenu.close():this.gameMenu.open()}};zf.\u0275fac=function(t){return new(t||zf)(J(Wi),J(ga),J($o),J(En),J(Ui),J(Gu),J(lc),J(yl),J(on),J(qc))},zf.\u0275cmp=st({type:zf,selectors:[["app-header"]],viewQuery:function(t,e){if(1&t&&Ts(kf,5),2&t){let i;Vn(i=zn())&&(e.gameMenu=i.first)}},decls:4,vars:2,consts:[["class","header h-100 d-flex justify-content-between align-items-center",4,"ngIf"],["class","hidden-header",4,"ngIf"],["userMenu",""],[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],["class","btn btn-sm btn-quick-help disabled-on-game-focused shadow-none p-0 px-1",3,"click",4,"ngIf"],[1,"second-block","d-flex"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],[4,"ngTemplateOutlet"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"],[1,"hidden-header"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],[1,"badge","badge-danger","badge-notification","position-absolute"]],template:function(t,e){1&t&&(ne(0,bye,16,12,"div",0),ne(1,Eye,2,1,"div",1),ne(2,Tye,6,2,"ng-template",null,2,mo)),2&t&&(B("ngIf",!e.app.config.hideHeader),P(1),B("ngIf",e.app.config.hideHeader))},directives:[Lt,Md,kf,_A,fE,Vf],pipes:[Ut,br],styles:[".header[_ngcontent-%COMP%]{background-color:#1b1c1d}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.c6b742d995765be3.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.3b29606fcc84f707.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;margin-left:2px}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{margin-left:20px;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(question-brown.57a6d4fa3c236ecd.svg)}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.b484be02230ea764.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0;right:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.0b0f791b80419a8c.svg) no-repeat center center}.hidden-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;height:0;width:100%;padding-right:8px}.hidden-header[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{top:8px;visibility:hidden}.user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}"],changeDetection:0}),zf=Qe([qn()],zf);var G_=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(G_||(G_={})),G_))();const wye=["slider"],Mye=function(n){return{width:n}};function Oye(n,t){if(1&n){const e=_t();ot(0),R(1,"button",4),Oe("click",function(){const s=ct(e).$implicit;return se().onClickTab(s)}),j(2),$(3,"transloco"),D(),at()}if(2&n){const e=t.$implicit,i=se();P(1),Mt("active",i.activeTab===e),B("ngStyle",Bi(6,Mye,i.tabWidth+"px")),P(1),re(" ",K(3,4,i.translatePath+"."+e)," ")}}const Pye=function(n,t){return{width:n,background:t}};let OA=(()=>{class n{constructor(e,i){this.renderer=e,this.cd=i,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="rgb(44, 45, 48)",this.toggle=new en,this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,i,r){return i*r.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(r=>{this.renderer.setStyle(this.slider.nativeElement,r,`translate(${e})`)})}writeValue(e){this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(J(Ho),J(En))},n.\u0275cmp=st({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,i){if(1&e&&Ts(wye,7),2&e){let r;Vn(r=zn())&&(i.slider=r.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[ni([{provide:Ko,useExisting:kn(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],[1,"tab",3,"ngStyle","click"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1,2),ne(3,Oye,4,8,"ng-container",3),D()),2&e&&(Mt("disabled",i.disabled),P(1),B("ngStyle",ka(4,Pye,i.tabWidth+"px",i.slidingColor)),P(2),B("ngForOf",i.tabs))},directives:[Yh,ii],pipes:[Ut],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141516;border-radius:10px;border:solid 1px #141516;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function xye(n,t){if(1&n){const e=_t();R(0,"div",11),Oe("click",function(){ct(e);const r=se();return r.main.checkFairness(r.roundInfo.roundId)}),ve(1,"app-bubble-multiplier",12),D()}if(2&n){const e=se();P(1),B("multiplier",e.roundInfo.multiplier)}}let Iye=(()=>{class n{constructor(e,i){this.app=e,this.main=i,this.previousHand=new en}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand",loadedRoundInfo:"loadedRoundInfo"},outputs:{previousHand:"previousHand"},decls:26,vars:21,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],[1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],[1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div")(2,"div",1),j(3),$(4,"transloco"),D(),R(5,"div"),j(6),D()(),ne(7,xye,2,1,"div",2),R(8,"div",3),Oe("click",function(){return i.setPreviousHand()}),ve(9,"div",4),R(10,"span",5),j(11),$(12,"transloco"),D()()(),ve(13,"div",6),R(14,"div",7)(15,"span",8),j(16),$(17,"transloco"),D(),R(18,"span",9),j(19),$(20,"transloco"),D(),R(21,"span"),j(22,"X"),D(),R(23,"span",10),j(24),$(25,"transloco"),D()()),2&e&&(P(3),re(" ",K(4,11,"game.bets-widget.All Bets")," "),P(3),We(i.total),P(1),B("ngIf",i.isPreviousHand&&i.loadedRoundInfo&&!!i.roundInfo),P(1),Mt("on",i.isPreviousHand),P(3),We(K(12,13,"game.bets-widget.previous hand")),P(5),We(K(17,15,"game.bets-widget.user")),P(3),ui(" ",K(20,17,"shared.bet")," ",i.app.config.currency," "),P(5),ui(" ",K(25,19,"shared.cash_out")," ",i.app.config.currency," "))},directives:[Lt,Qc],pipes:[Ut],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.9967d3df9ff555ef.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function wE(n,t=0){return function Rye(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const V0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=V0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new g(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=V0;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=V0;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Fye=new class kye extends UO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Nye extends BO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=V0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(V0.cancelAnimationFrame(e),t._scheduled=void 0)}});let PA,Bye=1;const ME={};function r7(n){return n in ME&&(delete ME[n],!0)}const Lye={setImmediate(n){const t=Bye++;return ME[t]=!0,PA||(PA=Promise.resolve()),PA.then(()=>r7(t)&&n()),t},clearImmediate(n){r7(n)}},{setImmediate:Uye,clearImmediate:Gye}=Lye,OE={setImmediate(...n){const{delegate:t}=OE;return((null==t?void 0:t.setImmediate)||Uye)(...n)},clearImmediate(n){const{delegate:t}=OE;return((null==t?void 0:t.clearImmediate)||Gye)(n)},delegate:void 0},Vye=new class Hye extends UO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class jye extends BO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=OE.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(OE.clearImmediate(e),t._scheduled=void 0)}});function s7(n){return!!n&&(n instanceof fe||S(n.lift)&&S(n.subscribe))}let xA;try{xA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xA=!1}let PE,Wf,o7=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Iv(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(He(zg))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W0(){if("object"!=typeof document||!document)return 0;if(null==PE){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),PE=0,0===n.scrollLeft&&(n.scrollLeft=1,PE=0===n.scrollLeft?1:2),n.remove()}return PE}const Xye=new Kt("cdk-dir-doc",{providedIn:"root",factory:function qye(){return rN(ur)}}),Kye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let l7=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new en,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Jye(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Kye.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(He(Xye,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();class ebe extends class Qye{}{constructor(t){super(),this._data=t}connect(){return s7(this._data)?this._data:dn(this._data)}disconnect(){}}class tbe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,s){t.forEachOperation((o,a,l)=>{let c,u;null==o.previousIndex?(c=this._insertView(()=>i(o,a,l),l,e,r(o)),u=c?1:0):null==l?(this._detachAndCacheView(a,e),u=3):(c=this._moveView(a,l,e,r(o)),u=2),s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const s=this._insertViewFromCache(e,i);if(s)return void(s.context.$implicit=r);const o=t();return i.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const s=i.get(t);return i.move(s,e),s.context.$implicit=r,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const u7=new Kt("_ViewRepeater"),nbe=["contentWrapper"],ibe=["*"],d7=new Kt("VIRTUAL_SCROLL_STRATEGY");class rbe{constructor(t,e,i){this._scrolledIndexChange=new $e,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Pf()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),o=this._itemSize>0?s/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(o,r-l));o!=c&&(o=c,s=c*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=s-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(o+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(s+i);if(l<this._minBufferPx&&e.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}function sbe(n){return n._scrollStrategy}let obe=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new rbe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=wE(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=wE(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=wE(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Rt({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ni([{provide:d7,useFactory:sbe,deps:[kn(()=>n)]}]),Js]}),n})(),h7=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new $e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new fe(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(qo(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function Dye(n){return n instanceof Si?n.nativeElement:n}(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(He(Wn),He(o7),He(ur,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f7=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new $e,this._elementScrolled=new fe(o=>this.ngZone.runOutsideAngular(()=>vi(this.elementRef.nativeElement,"scroll").pipe(Or(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=W0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==W0()?e.left=e.right:1==W0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function Yye(){if(null==Wf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wf=!1,Wf;if("scrollBehavior"in document.documentElement.style)Wf=!0;else{const n=Element.prototype.scrollTo;Wf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wf}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&2==W0()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==W0()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(J(Si),J(h7),J(Wn),J(l7,8))},n.\u0275dir=Rt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),cbe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new $e,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qo(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(He(o7),He(Wn),He(ur,8))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dbe="undefined"!=typeof requestAnimationFrame?Fye:Vye;let p7=(()=>{class n extends f7{constructor(e,i,r,s,o,a,l){super(e,a,r,o),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this._detachedSubject=new $e,this._renderedRangeSubject=new $e,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new fe(c=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=g.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function Aye(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Vd(null),qo(0,dbe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Or(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function ube(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(J(Si),J(En),J(Wn),J(d7,8),J(l7,8),J(h7),J(cbe))},n.\u0275cmp=st({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Ts(nbe,7),2&e){let r;Vn(r=zn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&Mt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ni([{provide:f7,useExisting:n}]),Mi],ngContentSelectors:ibe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(dv(),R(0,"div",0,1),hv(2),D(),ve(3,"div",2)),2&e&&(P(3),Xl("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function g7(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let hbe=(()=>{class n{constructor(e,i,r,s,o,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=s,this._viewport=o,this.viewChange=new $e,this._dataSourceChanges=new $e,this.dataStream=this._dataSourceChanges.pipe(Vd(null),function zye(){return Je((n,t)=>{let e,i=!1;n.subscribe(de(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}(),pa(([l,c])=>this._changeDataSource(l,c)),mG(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new $e,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Or(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Zye(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new ebe(s7(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=wE(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,s=e.end-e.start;let o,a;for(let l=0;l<s;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){o=a=c.rootNodes[0];break}}for(let l=s-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return o&&a?g7(i,"end",a)-g7(i,"start",o):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):dn()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,o,a)=>this._getEmbeddedViewArgs(s,a),s=>s.item),e.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(J(ul),J(Tr),J(Mv),J(u7),J(p7,4),J(Wn))},n.\u0275dir=Rt({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ni([{provide:u7,useClass:tbe}])]}),n})(),_7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),fbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[c7,_7],c7,_7]}),n})();function pbe(n,t){1&n&&ve(0,"app-bubble-multiplier",9),2&n&&B("multiplier",se().bet.payout)}let gbe=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(J(on))},n.\u0275cmp=st({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:12,vars:11,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ve(2,"img",2),R(3,"div",3),j(4),D()(),R(5,"div",4),ve(6,"app-bet-amount",5),D(),R(7,"div",6),ne(8,pbe,1,1,"app-bubble-multiplier",7),D(),R(9,"div",8),j(10),$(11,"currencyPrecision"),D()()),2&e&&(Mt("celebrated",i.bet.winAmount),P(2),B("src",i.app.getAvatarUrl(i.bet.profileImage),nn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),P(2),We(i.app.getFormattedUsername(i.bet.username)),P(2),B("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),P(2),B("ngIf",i.bet.payout),P(2),re(" ",K(11,9,i.bet.winAmount)," "))},directives:[j0,Lt,Qc],pipes:[br],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function _be(n,t){1&n&&ve(0,"app-loader")}function mbe(n,t){1&n&&ve(0,"app-bet-item",6),2&n&&B("bet",t.$implicit)}function vbe(n,t){if(1&n&&(R(0,"cdk-virtual-scroll-viewport",4),ne(1,mbe,1,1,"app-bet-item",5),D()),2&n){const e=se();B("itemSize",e.betItemTotalHeight),P(1),B("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let Yf=class{constructor(t,e,i,r,s){this.mainService=t,this.cd=e,this.connector=i,this.user=r,this.app=s,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(vn.Bet,200).pipe(Et(this),Nt(()=>!this.isPreviousHand),Nt(()=>!this.isUpdateCurrentBetsReceived),Nt(()=>!this.user.settings.getOther(cc.HideMyActivity)),nr(t=>this._bets.push(t)),qo(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(vn.CancelBet,200).pipe(Et(this),Nt(()=>!this.isPreviousHand),Nt(()=>!this.isUpdateCurrentBetsReceived),Nt(()=>!this.user.settings.getOther(cc.HideMyActivity)),nr(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),qo(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(vn.CashOut,200).pipe(Et(this),Nt(()=>!this.isPreviousHand),Nt(()=>!this.isUpdateCurrentBetsReceived),Nt(()=>!this.user.settings.getOther(cc.HideMyActivity)),nr(t=>this.displayCashOuts(t.cashouts,t.multiplier)),qo(this.auditDuration)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response(vn.UpdateCurrentBets,200).pipe(Et(this),Nt(()=>!this.isPreviousHand),nr(t=>this._bets=t.bets),qo(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response(vn.UpdateCurrentCashOuts,200).pipe(Et(this),Nt(()=>!this.isPreviousHand),qo(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t.cashouts),this.cd.detectChanges()}),this.connector.response(vn.CurrentBetsInfo).pipe(Et(this)).subscribe(t=>{var e;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),"cashOuts"in t&&this.displayCashOuts(t.cashOuts),this.sortBets(),this.cd.detectChanges()}),this.connector.response(vn.PreviousRoundInfo).pipe(Et(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState(zi.Bet).pipe(Et(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(i=>i.bet>=t&&i.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(Gi.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(Gi.CurrentBetsInfo,null)}displayCashOuts(t,e){t.forEach(i=>{this._bets.forEach(r=>{r.player_id===i.player_id&&r.betId===i.betId&&(r.payout="multiplier"in i?i.multiplier:e,r.winAmount=i.winAmount)})})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function ybe(n,t){if(1&n&&(R(0,"div",11),j(1),$(2,"currencyPrecision"),D()),2&n){const e=se();P(1),re(" ",K(2,1,e.bet.winAmount)," ")}}Yf.\u0275fac=function(t){return new(t||Yf)(J(Wi),J(En),J(Ui),J(yl),J(on))},Yf.\u0275cmp=st({type:Yf,selectors:[["app-all-bets-tab"]],decls:4,vars:6,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","loadedRoundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"app-header",1),Oe("previousHand",function(r){return e.onPreviousHand(r)}),D(),ne(2,_be,1,0,"app-loader",2),ne(3,vbe,2,3,"cdk-virtual-scroll-viewport",3),D()),2&t&&(P(1),B("total",e.numberOfBets)("roundInfo",e.roundInfo)("loadedRoundInfo",e.loaded)("isPreviousHand",e.isPreviousHand),P(1),B("ngIf",!e.loaded),P(1),B("ngIf",e.loaded))},directives:[Iye,Lt,hc,p7,obe,hbe,gbe],styles:[""],changeDetection:0}),Yf=Qe([qn()],Yf);const bbe=function(n,t){return{celebrated:n,"bet-item_long-precision":t}};let Sbe=(()=>{class n{constructor(e,i,r,s){this.app=e,this.chat=i,this.main=r,this.newChat=s}onShareBet(e,i){var r;(null===(r=this.app.config.newChat)||void 0===r?void 0:r.host)?this.newChat.shareBet(e,i):this.chat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(ga),J(Wi),J(Xu))},n.\u0275cmp=st({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:17,vars:18,consts:[[1,"bet-item","d-flex","align-items-center",3,"ngClass"],[1,"date","pl-1"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"cash-out"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),j(3),$(4,"date"),D(),R(5,"div"),j(6),$(7,"date"),D()(),R(8,"div",2)(9,"div",3),ve(10,"app-bet-amount",4),D(),R(11,"div",5),ve(12,"app-bubble-multiplier",6),D(),ne(13,ybe,3,3,"div",7),D(),R(14,"div",8)(15,"div",9),Oe("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(16,"div",10),Oe("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),D()()()),2&e&&(B("ngClass",ka(15,bbe,i.bet.winAmount,i.app.isLongPrecision)),P(3),We(Yt(4,9,i.bet.cashOutDate,"HH:mm")),P(3),We(Yt(7,12,i.bet.cashOutDate,"dd-MM-yy")),P(4),B("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),P(2),B("multiplier",i.bet.payout||i.bet.maxMultiplier),P(1),B("ngIf",i.bet.winAmount),P(1),Mt("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[vo,j0,Qc,Lt],pipes:[Bc,br],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}@media (min-width: 992px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:9px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:33%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 1200px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:12px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:14px}}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function Ebe(n,t){1&n&&ve(0,"app-bet-item",9),2&n&&B("bet",t.$implicit)}function Cbe(n,t){if(1&n&&(ot(0),ne(1,Ebe,1,1,"app-bet-item",8),at()),2&n){const e=se();P(1),B("ngForOf",e.betHistory)}}function Tbe(n,t){1&n&&(R(0,"div"),ve(1,"app-loader"),D())}let $f=class{constructor(t,e,i,r,s){this.connector=t,this.mainService=e,this.app=i,this.cd=r,this.user=s,this.isRequested=!1,this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(vn.BetHistory,200).pipe(Et(this),Nt(()=>this.isRequested)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges()}),this.mainService.getState(zi.Bet).pipe(Et(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(vn.CashOut,200).pipe(Et(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(Gi.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};$f.\u0275fac=function(t){return new(t||$f)(J(Ui),J(Wi),J(on),J(En),J(yl))},$f.\u0275cmp=st({type:$f,selectors:[["app-my-bets-tab"]],decls:17,vars:13,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],[1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),j(2),$(3,"transloco"),D(),R(4,"div",2)(5,"span",3),j(6),$(7,"transloco"),D(),R(8,"span"),j(9,"X"),D(),R(10,"span",4),j(11),$(12,"transloco"),D()(),ve(13,"div",5),D(),R(14,"div",6),ne(15,Cbe,2,1,"ng-container",7),ne(16,Tbe,2,0,"div",7),D()),2&t&&(P(2),We(K(3,7,"game.bets-widget.date")),P(4),ui(" ",K(7,9,"shared.bet")," ",e.app.config.currency," "),P(5),ui(" ",K(12,11,"shared.cash_out")," ",e.app.config.currency," "),P(4),B("ngIf",e.loaded),P(1),B("ngIf",!e.loaded))},directives:[Lt,ii,Sbe,hc],pipes:[Ut],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),$f=Qe([qn()],$f);var Io=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(Io||(Io={})),Io))(),Y0=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(Y0||(Y0={})),Y0))(),H_=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(H_||(H_={})),H_))(),$0=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}($0||($0={})),$0))();function wbe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),j(3),$(4,"transloco"),D()(),R(5,"span",20),j(6),$(7,"currencyPrecision"),D()()),2&n){const e=se();P(3),ui("",K(4,3,"shared.win")," ",e.app.config.currency,":"),P(3),re(" ",K(7,5,e.bet.winAmount)," ")}}function Mbe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.cashed_out"),": "))}function Obe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.multiplier"),": "))}function Pbe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),j(3),$(4,"transloco"),D()(),R(5,"span",9),j(6),$(7,"currencyPrecision"),D()()),2&n){const e=se();P(3),ui("",K(4,3,"shared.win")," ",e.app.config.currency,":"),P(3),re(" ",K(7,5,e.bet.winAmount)," ")}}let xbe=(()=>{class n{constructor(e,i,r,s,o){this.app=e,this.chat=i,this.main=r,this.newChat=s,this.user=o,this.winsTab=$0}isTab(e){return this.tab===e}onShareBet(e,i,r){var s;(null===(s=this.app.config.newChat)||void 0===s?void 0:s.host)?this.newChat.shareBet(e,i,r):this.chat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(ga),J(Wi),J(Xu),J(yl))},n.\u0275cmp=st({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:42,vars:29,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"img",3),R(4,"div",4),j(5),D()(),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),j(11),$(12,"transloco"),D()(),R(13,"span",9),j(14),$(15,"currencyPrecision"),D()(),ne(16,wbe,8,7,"div",10),R(17,"div",7)(18,"div",8),ne(19,Mbe,3,3,"span",11),ne(20,Obe,3,3,"span",11),D(),ve(21,"app-bubble-multiplier",12),D(),ne(22,Pbe,8,7,"div",10),D()(),R(23,"div",13),Oe("click",function(){return i.main.checkFairness(i.bet.roundId)}),D()(),R(24,"div",14)(25,"div",15)(26,"div",16)(27,"span"),j(28),$(29,"date"),D(),R(30,"span"),j(31),$(32,"transloco"),$(33,"date"),D()(),R(34,"div")(35,"span"),j(36),$(37,"transloco"),D(),R(38,"span",17),j(39),D()()(),R(40,"div",18),Oe("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId,i.bet.playerId)}),ve(41,"div",19),D()()()),2&e&&(P(3),B("src",i.app.getAvatarUrl(i.bet.profileImage),nn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),P(2),We(i.app.getFormattedUsername(i.bet.username)),P(6),ui("",K(12,15,"shared.bet")," ",i.app.config.currency,":"),P(3),re(" ",K(15,17,i.bet.bet)," "),P(2),B("ngIf",i.isTab(i.winsTab.BiggestWins)),P(3),B("ngIf",i.isTab(i.winsTab.HugeWins)),P(1),B("ngIf",i.isTab(i.winsTab.BiggestWins)),P(1),B("multiplier",i.bet.payout),P(1),B("ngIf",i.isTab(i.winsTab.HugeWins)),P(6),We(Yt(29,19,i.bet.endDate,"dd ")),P(3),re(" ",K(32,22,"shared.date.month."+Yt(33,24,i.bet.endDate,"LLL"))," "),P(5),re("",K(37,27,"shared.round"),":"),P(3),re(" ",i.bet.maxMultiplier,"x"))},directives:[Lt,Qc],pipes:[Ut,br,Bc],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.399839e5d2ccf634.svg) no-repeat center center/contain;width:34px;height:14px}"]}),n})(),Ibe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:17,vars:17,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Oe("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(2,"div")(3,"div",2)(4,"div")(5,"span"),j(6),$(7,"date"),D(),R(8,"span"),j(9),$(10,"transloco"),$(11,"date"),D(),R(12,"span"),j(13),$(14,"date"),D()()(),R(15,"div",3),ve(16,"app-bubble-multiplier",4),D()()()),2&e&&(P(6),We(Yt(7,6,i.bet.endDate,"dd ")),P(3),re(" ",K(10,9,"shared.date.month."+Yt(11,11,i.bet.endDate,"LLL"))," "),P(4),We(Yt(14,14,i.bet.endDate," HH:mm:ss")),P(3),B("padding","2px 16px")("borderRadius","16px")("multiplier",i.bet.maxMultiplier))},directives:[Qc],pipes:[Bc,Ut],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),Abe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:15,vars:15,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),j(3),$(4,"date"),D(),R(5,"span"),j(6),$(7,"transloco"),$(8,"date"),D(),R(9,"span"),j(10),$(11,"date"),D()(),R(12,"div",2),ve(13,"app-bubble-multiplier",3),R(14,"div",4),Oe("click",function(){return i.main.checkFairness(i.bet.roundId)}),D()()()),2&e&&(P(3),We(Yt(4,4,i.bet.endDate,"dd ")),P(3),We(K(7,7,"shared.date.month."+Yt(8,9,i.bet.endDate,"LLL"))),P(4),We(Yt(11,12,i.bet.endDate," HH:mm:ss")),P(3),B("multiplier",i.bet.maxMultiplier))},directives:[Qc],pipes:[Bc,Ut],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function Rbe(n,t){if(1&n&&(R(0,"div"),ve(1,"app-wins-bet-item",3),D()),2&n){const e=t.$implicit,i=se(3);P(1),B("tab",i.winsTab.BiggestWins)("bet",e)}}function Dbe(n,t){if(1&n&&(R(0,"div"),ne(1,Rbe,2,2,"div",2),D()),2&n){const e=se(2);P(1),B("ngForOf",e.topWins)}}function Nbe(n,t){if(1&n&&(R(0,"div"),ve(1,"app-wins-bet-item",3),D()),2&n){const e=t.$implicit,i=se(3);P(1),B("tab",i.winsTab.HugeWins)("bet",e)}}function kbe(n,t){if(1&n&&(R(0,"div"),ne(1,Nbe,2,2,"div",2),D()),2&n){const e=se(2);P(1),B("ngForOf",e.topWins)}}function Fbe(n,t){if(1&n&&(R(0,"div"),ve(1,"app-multipliers-bet-item",4),D()),2&n){const e=t.$implicit;P(1),B("bet",e)}}function Bbe(n,t){if(1&n&&(R(0,"div"),ve(1,"app-multipliers-bet-item-first",4),ne(2,Fbe,2,1,"div",2),$(3,"slice"),D()),2&n){const e=se(2);P(1),B("bet",e.topRounds[0]),P(1),B("ngForOf",Yt(3,2,e.topRounds,1))}}function Lbe(n,t){if(1&n&&(R(0,"div"),ne(1,Dbe,2,1,"div",1),ne(2,kbe,2,1,"div",1),ne(3,Bbe,4,5,"div",1),D()),2&n){const e=se();P(1),B("ngIf",e.isBiggestWins),P(1),B("ngIf",e.isHugeWins),P(1),B("ngIf",e.isCoefficients&&e.topRounds.length>0)}}function Ube(n,t){1&n&&(R(0,"div"),ve(1,"app-loader"),D())}let Xf=class{constructor(t,e,i,r){this.connector=t,this.cd=e,this.mainService=i,this.app=r,this.options={type:Io.HugeWins,period:H_.Day},this.loaded=!1,this.winsTab=$0,this.topRounds=[],this._topWins=[],this.responses={[Io.HugeWins]:vn.GetHugeWinsInfo,[Io.BiggestWins]:vn.GetTopWinsInfo,[Io.Multipliers]:vn.GetTopRoundsInfo},this.requests={[Io.HugeWins]:Gi.GetHugeWinsInfo,[Io.BiggestWins]:Gi.GetTopWinsInfo,[Io.Multipliers]:Gi.GetTopRoundsInfo}}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(this.requests[this.options.type],{period:this.options.period}),this.statistics$=this.connector.response(this.responses[this.options.type]).pipe(Et(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topWins(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isHugeWins(){return this.options.type===Io.HugeWins}get isBiggestWins(){return this.options.type===Io.BiggestWins}get isCoefficients(){return this.options.type===Io.Multipliers}};function Gbe(n,t){1&n&&(R(0,"div",9)(1,"span",10),j(2),$(3,"transloco"),D(),R(4,"div",11)(5,"span",12),j(6,"X"),D(),R(7,"span",13),j(8),$(9,"transloco"),D()()()),2&n&&(P(2),We(K(3,2,"game.bets-widget.date")),P(6),We(K(9,4,"game.bets-widget.fairness")))}Xf.\u0275fac=function(t){return new(t||Xf)(J(Ui),J(En),J(Wi),J(on))},Xf.\u0275cmp=st({type:Xf,selectors:[["app-top-list"]],inputs:{options:"options"},features:[Js],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,Lbe,4,3,"div",1),ne(2,Ube,2,0,"div",1),D()),2&t&&(P(1),B("ngIf",e.loaded),P(1),B("ngIf",!e.loaded))},directives:[Lt,ii,xbe,Ibe,Abe,hc],pipes:[rL],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),Xf=Qe([qn()],Xf);let jbe=(()=>{class n{constructor(){this.activeTab=Io.HugeWins,this.topTab=Io,this.activePeriodTab=Y0.Day,this.periodTabs=Object.values(Y0),this.topListOptions={type:Io.HugeWins,period:H_.Day}}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:H_[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-top-tab"]],decls:15,vars:20,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],[1,"first-type",3,"click"],[1,"second-type",3,"click"],[1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],[1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],[1,"fairness"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Oe("click",function(){return i.onShowTab(i.topTab.HugeWins)}),j(4),$(5,"transloco"),D(),R(6,"button",4),Oe("click",function(){return i.onShowTab(i.topTab.BiggestWins)}),j(7),$(8,"transloco"),D(),R(9,"button",5),Oe("click",function(){return i.onShowTab(i.topTab.Multipliers)}),j(10),$(11,"transloco"),D()()(),R(12,"app-navigation-switcher",6),Oe("toggle",function(s){return i.onChangePeriodTab(s)}),D(),ne(13,Gbe,10,6,"div",7),ve(14,"app-top-list",8),D()),2&e&&(P(3),Mt("active",i.isActiveTab(i.topTab.HugeWins)),P(1),re(" ",K(5,14,"game.bets-widget.top.huge wins")," "),P(2),Mt("active",i.isActiveTab(i.topTab.BiggestWins)),P(1),re(" ",K(8,16,"game.bets-widget.top.biggest wins")," "),P(2),Mt("active",i.isActiveTab(i.topTab.Multipliers)),P(1),re(" ",K(11,18,"game.bets-widget.top.coefficients")," "),P(2),B("ngModel",i.activePeriodTab)("tabs",i.periodTabs)("translatePath","game.bets-widget.top"),P(1),B("ngIf",i.isActiveTab(i.topTab.Multipliers)),P(1),B("options",i.topListOptions))},directives:[OA,Qo,Po,Lt,Xf],pipes:[Ut],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function Hbe(n,t){if(1&n){const e=_t();R(0,"div",7),Oe("click",function(){ct(e);const r=se(2);return r.modal.open(r.modalKey.otherSettings)}),R(1,"u"),j(2),$(3,"transloco"),D()()}2&n&&(P(2),re(" ",K(3,1,"shared.Settings")," "))}function Vbe(n,t){if(1&n&&(ot(0),R(1,"div",4),ve(2,"div",5),R(3,"span"),j(4),$(5,"transloco"),D(),ne(6,Hbe,4,3,"div",6),D(),at()),2&n){const e=se();P(4),re(" ",K(5,2,"shared.This_functionality_is_disabled"),""),P(2),B("ngIf",e.isTabsHiddenByUser)}}function zbe(n,t){1&n&&ve(0,"app-all-bets-tab",9)}function Wbe(n,t){1&n&&ve(0,"app-my-bets-tab",9)}function Ybe(n,t){1&n&&ve(0,"app-top-tab",9)}function $be(n,t){if(1&n&&(ot(0),ne(1,zbe,1,0,"app-all-bets-tab",8),ne(2,Wbe,1,0,"app-my-bets-tab",8),ne(3,Ybe,1,0,"app-top-tab",8),at()),2&n){const e=se();P(1),B("ngIf",e.isActive(e.betsWidgetTab.AllBets)),P(1),B("ngIf",e.isActive(e.betsWidgetTab.MyBets)),P(1),B("ngIf",e.isActive(e.betsWidgetTab.Top))}}let Xbe=(()=>{class n{constructor(e,i,r,s){this.app=e,this.user=i,this.modal=r,this.cd=s,this.activeTab=G_.AllBets,this.betsWidgetTab=G_,this.betsWidgetTabs=Object.values(G_),this.isTabsHiddenByUser=this.user.settings.getOther(cc.HideLiveBetsAndStatistics),this.modalKey=ri}ngOnInit(){this.user.settings.other$.pipe(Nt(e=>e.name===cc.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.app.config.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(yl),J($o),J(En))},n.\u0275cmp=st({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Oe("ngModelChange",function(s){return i.activeTab=s}),D()(),ne(3,Vbe,7,4,"ng-container",3),ne(4,$be,4,3,"ng-container",3),D()),2&e&&(P(2),B("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),P(1),B("ngIf",i.isTabsHidden),P(1),B("ngIf",!i.isTabsHidden))},directives:[OA,Qo,Po,Lt,Yf,$f,jbe],pipes:[Ut],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c1d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.cc9a74671114ce5f.svg) no-repeat center center/contain}"],changeDetection:0}),n})(),qbe=(()=>{class n{constructor(e){this.modal=e}onWhatIsPf(){this.modal.open(ri.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(J($o))},n.\u0275cmp=st({type:n,selectors:[["app-spribe-footer"]],decls:14,vars:4,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href"],[1,"i-logo"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"div",2),Oe("click",function(){return i.onWhatIsPf()}),ve(6,"div",3),R(7,"span",4),j(8,"Provably Fair"),D()()(),R(9,"div",5)(10,"span"),j(11,"Powered by"),D(),R(12,"a",6),ve(13,"div",7),D()()()),2&e&&(P(3),We(K(4,2,"shared.ui-components.spribe-footer.this game is")),P(9),B("href","https://spribe.co",nn))},pipes:[Ut],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#000;border:1px solid #2a2b2e;font-size:11px;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.21150cff6aca56a1.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}"],changeDetection:0}),n})();var gs=(()=>(function(n){n.Init="/user/queue/init",n.ChallengesInit="/user/queue/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/user/queue/challenges.leaderboard",n.ChallengeStatus="/user/queue/challenges.status",n.PlayerStatus="/user/queue/challenges.player.status",n.Prize="/user/queue/challenges.prize.left",n.Progress="/user/queue/challenges.progress",n.JoinCount="/user/queue/challenges.join.count"}(gs||(gs={})),gs))(),js=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(js||(js={})),js))(),gc=(()=>(function(n){n.Init="/app/init",n.\u0421hallengeInit="/app/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/app/challenges.leaderboard"}(gc||(gc={})),gc))(),X0=(()=>(function(n){n.KickUser="Kick user",n.NormalClosure="Normal closure"}(X0||(X0={})),X0))();let za=(()=>{class n{constructor(e){this.message=e,this.responseSubject=new OI(1),this.stateSubject=new jn({state:js.None}),this.state$=this.stateSubject.asObservable(),this.maxReconnectCount=5,this.reconnectCount=0}response(e){return this.responseSubject.pipe(Nt(i=>i.response===e),Pe(i=>i.data))}request(e,i){console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var s;(null===(s=this.stompClient)||void 0===s?void 0:s.active)&&this.stompClient.deactivate(),console.log({host:e}),this.stompClient=new i7({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:1e3}),this.stompClient.webSocketFactory=()=>new Zj(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.beforeConnect=()=>{if(this.reconnectCount>=this.maxReconnectCount)return this.stompClient.deactivate(),void this.stateSubject.next({state:js.Disconnected});this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:js.Connected}),r.forEach(o=>{this.stompClient.subscribe(o,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp RESPONSE ] "+o,"background: #222; color: #bada55",l),this.responseSubject.next({response:o,data:l}),this.handleError(l)},{id:o})}),this.request(gc.Init,null)},this.stompClient.onWebSocketClose=o=>(console.log("[ Stomp ] onWebSocketClose",o),this.stateSubject.getValue().state===js.None||o.reason===X0.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:js.Disconnected})):void(o.reason!==X0.NormalClosure&&this.stateSubject.next({state:js.Reconnecting}))),this.stompClient.onDisconnect=o=>{console.log("[ Stomp ] onDisconnect",o),this.stateSubject.next({state:js.Disconnected})}}handleError(e){"object"==typeof e&&"code"in e&&200!==e.code&&this.message.add({value:e.errorMessage,context:dr.danger})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)(He(Va))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();var Sr=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED",n.Paused="PAUSED",n.Closed="CLOSED",n.Canceled="CANCELED"}(Sr||(Sr={})),Sr))(),or=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED",n.Kicked="KICKED",n.OperatorKicked="OPERATOR_KICKED"}(or||(or={})),or))(),qu=(()=>(function(n){n.RACE="RACE",n.MISSION="MISSION",n.TOURNAMENT="TOURNAMENT"}(qu||(qu={})),qu))(),_c=(()=>(function(n){n.FreeBet="FREE_BET",n.Special="SPECIAL"}(_c||(_c={})),_c))(),Ku=(()=>(function(n){n.Single="SINGLE",n.Range="RANGE"}(Ku||(Ku={})),Ku))(),si=(()=>(function(n){n.RACE="xRace",n.MISSION="xMission",n.TOURNAMENT="xTournament"}(si||(si={})),si))();const m7={[qu.RACE]:si.RACE,[qu.MISSION]:si.MISSION,[qu.TOURNAMENT]:si.TOURNAMENT};let Hs=(()=>{class n{constructor(e,i){this.stomp=e,this.app=i,this.updateSubject=new jn({joinCount:0}),this.update$=this.updateSubject.asObservable(),this._config={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isUseMaskedUsername:!1,isNetwork:!1,leaderBoardSize:100,challengeId:0,type:qu.RACE,typeUi:m7[qu.RACE]},this.stomp.response(gs.ChallengesInit).pipe(Nt(r=>r.challenges.length>0),Pe(r=>r.challenges[0])).subscribe(r=>{var s;this.updateSubject.next({joinCount:r.joinCount}),this._config={name:r.config.name,startDate:r.config.startDate,endDate:r.config.endDate,minBet:r.config.minBet,isCurrencyNameHidden:this.app.config.isCurrencyNameHidden,currency:this.app.config.isCurrencyNameHidden?"":this.app.config.currency,currencyPrecision:this.app.config.betPrecision,isUseMaskedUsername:this.app.config.isUseMaskedUsername,isNetwork:null!==(s=r.config.isNetwork)&&void 0!==s&&s,leaderBoardSize:r.config.leaderBoardSize||100,challengeId:r.config.challengeId,type:r.config.type,typeUi:m7[r.config.type]}}),this.stomp.response(gs.JoinCount).subscribe(r=>{this.updateSubject.next({joinCount:r.joinCount})})}get update(){return this.updateSubject.getValue()}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(He(za),He(on))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const Vs="challenges.challengeDetailsMessages.",V_=`${si.RACE}.`,z_=`${si.MISSION}.`,W_=`${si.TOURNAMENT}.`,v7={[si.RACE]:{waitForStart:Vs+V_+"You have successfully joined the xRace. Wait for the start.",missionPaused:Vs+V_+"Oops! The xRace is paused. It will be resumed shortly",prizeClaimed:Vs+V_+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:Vs+V_+"xRace is over! See you at the next challenge",missionOverFail:Vs+V_+"xRace is over! Try harder next time!",minBetError:Vs+V_+"Your bet doesn't meet the minimum bet requirement for the xRace! Progress is on pause."},[si.MISSION]:{waitForStart:Vs+z_+"You have successfully joined the xMission. Wait for the start.",missionPaused:Vs+z_+"Oops! The xMission is paused. It will be resumed shortly",prizeClaimed:Vs+z_+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:Vs+z_+"xMission is over! See you at the next challenge",missionOverFail:Vs+z_+"xMission is over! Try harder next time!",minBetError:Vs+z_+"Your bet doesn't meet the minimum bet requirement for the xMission! Progress is on pause."},[si.TOURNAMENT]:{waitForStart:Vs+W_+"You have successfully joined the xTournament. Wait for the start.",missionPaused:Vs+W_+"Oops! The xTournament is paused. It will be resumed shortly",prizeClaimed:Vs+W_+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:Vs+W_+"xTournament is over! See you at the next challenge",missionOverFail:Vs+W_+"xTournament is over! Try harder next time!",minBetError:Vs+W_+"Your bet doesn't meet the minimum bet requirement for the xTournament! Progress is on pause."}};function Ju(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function y7(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var AA,Rr,eu,FA,BA,M7,x7,J_,LE,Wa={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Y_={duration:.5,overwrite:!1,delay:0},El=1e8,$i=1e-8,RA=2*Math.PI,Kbe=RA/4,Jbe=0,b7=Math.sqrt,Qbe=Math.cos,Zbe=Math.sin,zs=function(t){return"string"==typeof t},Ws=function(t){return"function"==typeof t},Qu=function(t){return"number"==typeof t},DA=function(t){return void 0===t},Zu=function(t){return"object"==typeof t},va=function(t){return!1!==t},S7=function(){return"undefined"!=typeof window},xE=function(t){return Ws(t)||zs(t)},E7="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ao=Array.isArray,NA=/(?:-?\.?\d|\.)+/gi,C7=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,$_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,kA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,T7=/[+-]=-?[.\d]+/,w7=/[^,'"\[\]\s]+/gi,e1e=/[\d.+\-=]+(?:e[-+]\d*)*/i,Ya={},IE={},O7=function(t){return(IE=X_(t,Ya))&&nu},LA=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},AE=function(t,e){return!e&&console.warn(t)},P7=function(t,e){return t&&(Ya[t]=e)&&IE&&(IE[t]=e)||Ya},q0=function(){return 0},UA={},Zd=[],GA={},$a={},jA={},I7=30,RE=[],HA="",VA=function(t){var i,r,e=t[0];if(Zu(e)||Ws(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=RE.length;r--&&!RE[r].targetTest(e););i=RE[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new iH(t[r],i)))||t.splice(r,1);return t},qf=function(t){return t._gsap||VA(wl(t))[0]._gsap},A7=function(t,e,i){return(i=t[e])&&Ws(i)?t[e]():DA(i)&&t.getAttribute&&t.getAttribute(e)||i},ya=function(t,e){return(t=t.split(",")).forEach(e)||t},_s=function(t){return Math.round(1e5*t)/1e5||0},Ro=function(t){return Math.round(1e7*t)/1e7||0},t1e=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},DE=function(){var i,r,t=Zd.length,e=Zd.slice(0);for(GA={},Zd.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},R7=function(t,e,i,r){Zd.length&&DE(),t.render(e,i,r),Zd.length&&DE()},D7=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(w7).length<2?e:zs(t)?t.trim():t},N7=function(t){return t},Cl=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},X_=function(t,e){for(var i in e)t[i]=e[i];return t},k7=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=Zu(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},NE=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},K0=function(t){var e=t.parent||Rr,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(Ao(t.keyframes)):Cl;if(va(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},kE=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=e._prev,o=e._next;s?s._next=o:t[i]===e&&(t[i]=o),o?o._prev=s:t[r]===e&&(t[r]=s),e._next=e._prev=e.parent=null},ed=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Kf=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},s1e=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},o1e=function n(t){return!t||t._ts&&n(t.parent)},F7=function(t){return t._repeat?q_(t._tTime,t=t.duration()+t._rDelay)*t:0},q_=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},FE=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},BE=function(t){return t._end=Ro(t._start+(t._tDur/Math.abs(t._ts||t._rts||$i)||0))},B7=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Ro(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),BE(t),i._dirty||Kf(i,t)),t},L7=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=FE(t.rawTime(),e),(!e._dur||Q0(0,e.totalDuration(),i)-e._tTime>$i)&&e.render(i,!0)),Kf(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-$i}},tu=function(t,e,i,r){return e.parent&&ed(e),e._start=Ro((Qu(i)?i:i||t!==Rr?Tl(t,i,e):t._time)+e._delay),e._end=Ro(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,o=t[r];if(s)for(a=e[s];o&&o[s]>a;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),zA(e)||(t._recent=e),r||L7(t,e),t},U7=function(t,e){return(Ya.ScrollTrigger||LA("scrollTrigger",e))&&Ya.ScrollTrigger.create(e,t)},G7=function(t,e,i,r){return x1e(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&x7!==Ol.frame?(Zd.push(t),t._lazy=[e,r],1):void 0:1},a1e=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},zA=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},K_=function(t,e,i,r){var s=t._repeat,o=Ro(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:Ro(o*(s+1)+t._rDelay*s):o,a>0&&!r?B7(t,t._tTime=t._tDur*a):t.parent&&BE(t),i||Kf(t.parent,t),t},j7=function(t){return t instanceof Sa?Kf(t):K_(t,t._dur)},u1e={_start:0,endTime:q0,totalDuration:q0},Tl=function n(t,e,i){var a,l,c,r=t.labels,s=t._recent||u1e,o=t.duration()>=El?s.endTime(!1):t._dur;return zs(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),c="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=o),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(Ao(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:o+l)):null==e?o:+e},J0=function(t,e,i){var a,l,r=Qu(e[1]),s=(r?2:1)+(t<2?0:1),o=e[s];if(r&&(o.duration=e[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=va(l.vars.inherit)&&l.parent;o.immediateRender=va(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new Ys(e[0],o,e[s+1])},eh=function(t,e){return t||0===t?e(t):e},Q0=function(t,e,i){return i<t?t:i>e?e:i},ba=function(t,e){return zs(t)&&(e=e1e.exec(t))?t.substr(e.index+e[0].length):""},WA=[].slice,H7=function(t,e){return t&&Zu(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Zu(t[0]))&&!t.nodeType&&t!==eu},wl=function(t,e,i){return!zs(t)||i||!FA&&Q_()?Ao(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var s;return zs(r)&&!e||H7(r,1)?(s=i).push.apply(s,wl(r)):i.push(r)})||i}(t,i):H7(t)?WA.call(t,0):t?[t]:[]:WA.call((e||BA).querySelectorAll(t),0)},V7=function(t){return t.sort(function(){return.5-Math.random()})},z7=function(t){if(Ws(t))return t;var e=Zu(t)?t:{each:t},i=Jf(e.ease),r=e.from||0,s=parseFloat(e.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=e.axis,u=r,d=r;return zs(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(v,E,I){var k,L,W,Z,ee,te,ge,pe,le,A=(I||e).length,N=o[A];if(!N){if(!(le="auto"===e.grid?0:(e.grid||[1,El])[1])){for(ge=-El;ge<(ge=I[le++].getBoundingClientRect().left)&&le<A;);le--}for(N=o[A]=[],k=l?Math.min(le,A)*u-.5:r%le,L=le===El?0:l?A*d/le-.5:r/le|0,ge=0,pe=El,te=0;te<A;te++)W=te%le-k,Z=L-(te/le|0),N[te]=ee=c?Math.abs("y"===c?Z:W):b7(W*W+Z*Z),ee>ge&&(ge=ee),ee<pe&&(pe=ee);"random"===r&&V7(N),N.max=ge-pe,N.min=pe,N.v=A=(parseFloat(e.amount)||parseFloat(e.each)*(le>A?A-1:c?"y"===c?A/le:le:Math.max(le,A/le))||0)*("edges"===r?-1:1),N.b=A<0?s-A:s,N.u=ba(e.amount||e.each)||0,i=i&&A<0?eH(i):i}return A=(N[v]-N.min)/N.max||0,Ro(N.b+(i?i(A):A)*N.v)+N.u}},YA=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(Qu(i)?0:ba(i))}},W7=function(t,e){var r,s,i=Ao(t);return!i&&Zu(t)&&(r=i=t.radius||El,t.values?(t=wl(t.values),(s=!Qu(t[0]))&&(r*=r)):t=YA(t.increment)),eh(e,i?Ws(t)?function(o){return s=t(o),Math.abs(s-o)<=r?s:o}:function(o){for(var v,E,a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=El,u=0,d=t.length;d--;)(v=s?(v=t[d].x-a)*v+(E=t[d].y-l)*E:Math.abs(t[d]-a))<c&&(c=v,u=d);return u=!r||c<=r?t[u]:o,s||u===o||Qu(o)?u:u+ba(o)}:YA(t))},Y7=function(t,e,i,r){return eh(Ao(t)?!e:!0===i?!!(i=0):!r,function(){return Ao(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},$7=function(t,e,i){return eh(i,function(r){return t[~~e(r)]})},Z0=function(t){for(var r,s,o,a,e=0,i="";~(r=t.indexOf("random(",e));)o=t.indexOf(")",r),a="["===t.charAt(r+7),s=t.substr(r+7,o-r-7).match(a?w7:NA),i+=t.substr(e,r-e)+Y7(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},X7=function(t,e,i,r,s){var o=e-t,a=r-i;return eh(s,function(l){return i+((l-t)/o*a||0)})},q7=function(t,e,i){var o,a,l,r=t.labels,s=El;for(o in r)(a=r[o]-e)<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ml=function(t,e,i){var o,a,r=t.vars,s=r[e];if(s)return o=r[e+"Params"],a=r.callbackScope||t,i&&Zd.length&&DE(),o?s.apply(a,o):s.call(a)},ey=function(t){return ed(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&Ml(t,"onInterrupt"),t},b1e=function(t){var e=(t=!t.name&&t.default||t).name,i=Ws(t),r=e&&!i&&t.init?function(){this._props=[]}:t,s={init:q0,render:ZA,add:KA,kill:F1e,modifier:k1e,rawVars:0},o={targetTest:0,get:0,getSetter:QA,aliases:{},register:0};if(Q_(),t!==r){if($a[e])return;Cl(r,Cl(NE(t,s),o)),X_(r.prototype,X_(s,NE(t,o))),$a[r.prop=e]=r,t.targetTest&&(RE.push(r),UA[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}P7(e,r),t.register&&t.register(nu,r,Ea)},Xi=255,ty={aqua:[0,Xi,Xi],lime:[0,Xi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xi],navy:[0,0,128],white:[Xi,Xi,Xi],olive:[128,128,0],yellow:[Xi,Xi,0],orange:[Xi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xi,0,0],pink:[Xi,192,203],cyan:[0,Xi,Xi],transparent:[Xi,Xi,Xi,0]},$A=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Xi+.5|0},K7=function(t,e,i){var s,o,a,l,c,u,d,v,E,I,r=t?Qu(t)?[t>>16,t>>8&Xi,t&Xi]:0:ty.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),ty[t])r=ty[t];else if("#"===t.charAt(0)){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&Xi,r&Xi,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&Xi,t&Xi]}else if("hsl"===t.substr(0,3))if(r=I=t.match(NA),e){if(~t.indexOf("="))return r=t.match(C7),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,s=2*(u=+r[2]/100)-(o=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=$A(l+1/3,s,o),r[1]=$A(l,s,o),r[2]=$A(l-1/3,s,o);else r=t.match(NA)||ty.transparent;r=r.map(Number)}return e&&!I&&(s=r[0]/Xi,o=r[1]/Xi,a=r[2]/Xi,u=((d=Math.max(s,o,a))+(v=Math.min(s,o,a)))/2,d===v?l=c=0:(E=d-v,c=u>.5?E/(2-d-v):E/(d+v),l=d===s?(o-a)/E+(o<a?6:0):d===o?(a-s)/E+2:(s-o)/E+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},J7=function(t){var e=[],i=[],r=-1;return t.split(th).forEach(function(s){var o=s.match($_)||[];e.push.apply(e,o),i.push(r+=o.length+1)}),e.c=i,e},Q7=function(t,e,i){var l,c,u,d,r="",s=(t+r).match(th),o=e?"hsla(":"rgba(",a=0;if(!s)return t;if(s=s.map(function(v){return(v=K7(v,e,1))&&o+(e?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),i&&(u=J7(t),(l=i.c).join(r)!==u.c.join(r)))for(d=(c=t.replace(th,"1").split($_)).length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(d=(c=t.split(th)).length-1;a<d;a++)r+=c[a]+s[a];return r+c[d]},th=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in ty)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),S1e=/hsl[a]?\(/,Z7=function(t){var i,e=t.join(" ");if(th.lastIndex=0,th.test(e))return i=S1e.test(e),t[1]=Q7(t[1],i),t[0]=Q7(t[0],i,J7(t[1])),!0},Ol=function(){var l,c,u,d,v,E,n=Date.now,t=500,e=33,i=n(),r=i,s=1e3/240,o=s,a=[],I=function A(N){var W,Z,ee,te,k=n()-r,L=!0===N;if(k>t&&(i+=k-e),((W=(ee=(r+=k)-i)-o)>0||L)&&(te=++d.frame,v=ee-1e3*d.time,d.time=ee/=1e3,o+=W+(W>=s?4:s-W),Z=1),L||(l=c(A)),Z)for(E=0;E<a.length;E++)a[E](ee,v,te,N)};return d={time:0,frame:0,tick:function(){I(!0)},deltaRatio:function(N){return v/(1e3/(N||60))},wake:function(){M7&&(!FA&&S7()&&(eu=FA=window,BA=eu.document||{},Ya.gsap=nu,(eu.gsapVersions||(eu.gsapVersions=[])).push(nu.version),O7(IE||eu.GreenSockGlobals||!eu.gsap&&eu||{}),u=eu.requestAnimationFrame),l&&d.sleep(),c=u||function(N){return setTimeout(N,o-1e3*d.time+1|0)},LE=1,I(2))},sleep:function(){(u?eu.cancelAnimationFrame:clearTimeout)(l),LE=0,c=q0},lagSmoothing:function(N,k){t=N||1/$i,e=Math.min(k,t,0)},fps:function(N){o=1e3*d.time+(s=1e3/(N||240))},add:function(N){a.indexOf(N)<0&&a.push(N),Q_()},remove:function(N,k){~(k=a.indexOf(N))&&a.splice(k,1)&&E>=k&&E--},_listeners:a}}(),Q_=function(){return!LE&&Ol.wake()},hi={},E1e=/^[\d.\-M][\d.\-,\s]/,C1e=/["']/g,T1e=function(t){for(var a,l,c,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],s=1,o=i.length;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[r]=isNaN(c)?c.replace(C1e,"").trim():+c,r=l.substr(a+1).trim();return e},eH=function(t){return function(e){return 1-t(1-e)}},tH=function n(t,e){for(var r,i=t._first;i;)i instanceof Sa?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},Jf=function(t,e){return t&&(Ws(t)?t:hi[t]||function(t){var e=(t+"").split("("),i=hi[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[T1e(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(D7)):hi._CE&&E1e.test(t)?hi._CE("",t):i}(t))||e},Qf=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var o,s={easeIn:e,easeOut:i,easeInOut:r};return ya(t,function(a){for(var l in hi[a]=Ya[a]=s,hi[o=a.toLowerCase()]=i,s)hi[o+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=hi[a+"."+l]=s[l]}),s},nH=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},XA=function n(t,e,i){var r=e>=1?e:1,s=(i||(t?.3:.45))/(e<1?e:1),o=s/RA*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*Zbe((u-o)*s)+1},l="out"===t?a:"in"===t?function(c){return 1-a(1-c)}:nH(a);return s=RA/s,l.config=function(c,u){return n(t,c,u)},l},qA=function n(t,e){void 0===e&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},r="out"===t?i:"in"===t?function(s){return 1-i(1-s)}:nH(i);return r.config=function(s){return n(t,s)},r};ya("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Qf(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),hi.Linear.easeNone=hi.none=hi.Linear.easeIn,Qf("Elastic",XA("in"),XA("out"),XA()),function(n,t){var s=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Qf("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),Qf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Qf("Circ",function(n){return-(b7(1-n*n)-1)}),Qf("Sine",function(n){return 1===n?1:1-Qbe(n*Kbe)}),Qf("Back",qA("in"),qA("out"),qA()),hi.SteppedEase=hi.steps=Ya.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),s=e?1:0;return function(a){return((r*Q0(0,.99999999,a)|0)+s)*i}}},Y_.ease=hi["quad.out"],ya("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return HA+=n+","+n+"Params,"});var iH=function(t,e){this.id=Jbe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:A7,this.set=e?e.getSetter:QA},ny=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,K_(this,+e.duration,1,1),this.data=e.data,LE||Ol.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,K_(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(Q_(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(B7(this,i),!s._dp||s.parent||L7(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&tu(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===$i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),R7(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+F7(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+F7(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?q_(this._tTime,s)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-$i?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?FE(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-$i?0:this._rts,s1e(this.totalTime(Q0(-this._delay,this._tDur,r),!0)),BE(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Q_(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==$i&&(this._tTime-=$i)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&tu(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(va(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?FE(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return s},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,j7(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,j7(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(Tl(this,i),va(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,va(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-$i:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-$i,this},t.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-$i))},t.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete o[i],this):o[i]},t.then=function(i){var r=this;return new Promise(function(s){var o=Ws(i)?i:N7,a=function(){var c=r.then;r.then=null,Ws(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){ey(this)},n}();Cl(ny.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$i,_prom:0,_ps:!1,_rts:1});var Sa=function(n){function t(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=va(i.sortChildren),Rr&&tu(i.parent||Rr,Ju(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&U7(Ju(s),i.scrollTrigger),s}y7(t,n);var e=t.prototype;return e.to=function(r,s,o){return J0(0,arguments,this),this},e.from=function(r,s,o){return J0(1,arguments,this),this},e.fromTo=function(r,s,o,a){return J0(2,arguments,this),this},e.set=function(r,s,o){return s.duration=0,s.parent=this,K0(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ys(r,s,Tl(this,o),1),this},e.call=function(r,s,o){return tu(this,Ys.delayedCall(0,r,s),o)},e.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ys(r,o,Tl(this,l)),this},e.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,K0(o).immediateRender=va(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},e.staggerFromTo=function(r,s,o,a,l,c,u,d){return a.startAt=o,K0(a).immediateRender=va(a.immediateRender),this.staggerTo(r,s,a,l,c,u,d)},e.render=function(r,s,o){var v,E,I,A,N,k,L,W,Z,ee,te,ge,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Ro(r),d=this._zTime<0!=r<0&&(this._initted||!c);if(this!==Rr&&u>l&&r>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),v=u,Z=this._start,k=!(W=this._ts),d&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(te=this._yoyo,N=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*N+r,s,o);if(v=Ro(u%N),u===l?(A=this._repeat,v=c):((A=~~(u/N))&&A===u/N&&(v=c,A--),v>c&&(v=c)),ee=q_(this._tTime,N),!a&&this._tTime&&ee!==A&&(ee=A),te&&1&A&&(v=c-v,ge=1),A!==ee&&!this._lock){var pe=te&&1&ee,le=pe===(te&&1&A);if(A<ee&&(pe=!pe),a=pe?0:c,this._lock=1,this.render(a||(ge?0:Ro(A*N)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Ml(this,"onRepeat"),this.vars.repeatRefresh&&!ge&&(this.invalidate()._lock=1),a&&a!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,le&&(this._lock=2,this.render(a=pe?c:-1e-4,!0),this.vars.repeatRefresh&&!ge&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;tH(this,ge)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Ro(a),Ro(v)),L&&(u-=v-(v=L._start))),this._tTime=u,this._time=v,this._act=!W,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&v&&!s&&(Ml(this,"onStart"),this._tTime!==u))return this;if(v>=a&&r>=0)for(E=this._first;E;){if(I=E._next,(E._act||v>=E._start)&&E._ts&&L!==E){if(E.parent!==this)return this.render(r,s,o);if(E.render(E._ts>0?(v-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(v-E._start)*E._ts,s,o),v!==this._time||!this._ts&&!k){L=0,I&&(u+=this._zTime=-$i);break}}E=I}else{E=this._last;for(var he=r<0?r:v;E;){if(I=E._prev,(E._act||he<=E._end)&&E._ts&&L!==E){if(E.parent!==this)return this.render(r,s,o);if(E.render(E._ts>0?(he-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(he-E._start)*E._ts,s,o),v!==this._time||!this._ts&&!k){L=0,I&&(u+=this._zTime=he?-$i:$i);break}}E=I}}if(L&&!s&&(this.pause(),L.render(v>=a?0:-$i)._zTime=v>=a?1:-1,this._ts))return this._start=Z,BE(this),this.render(r,s,o);this._onUpdate&&!s&&Ml(this,"onUpdate",!0),(u===l&&l>=this.totalDuration()||!u&&a)&&(Z===this._start||Math.abs(W)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&ed(this,1),!s&&(!(r<0)||a)&&(u||a||!l)&&(Ml(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,s){var o=this;if(Qu(s)||(s=Tl(this,s,r)),!(r instanceof ny)){if(Ao(r))return r.forEach(function(a){return o.add(a,s)}),this;if(zs(r))return this.addLabel(r,s);if(!Ws(r))return this;r=Ys.delayedCall(0,r)}return this!==r?tu(this,r,s):this},e.getChildren=function(r,s,o,a){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-El);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ys?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},e.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},e.remove=function(r){return zs(r)?this.removeLabel(r):Ws(r)?this.killTweensOf(r):(kE(this,r),r===this._recent&&(this._recent=this._last),Kf(this))},e.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ro(Ol.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},e.addLabel=function(r,s){return this.labels[r]=Tl(this,s),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,s,o){var a=Ys.delayedCall(0,s||q0,o);return a.data="isPause",this._hasPause=1,tu(this,a,Tl(this,r))},e.removePause=function(r){var s=this._first;for(r=Tl(this,r);s;)s._start===r&&"isPause"===s.data&&ed(s),s=s._next},e.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)nh!==a[l]&&a[l].kill(r,s);return this},e.getTweensOf=function(r,s){for(var u,o=[],a=wl(r),l=this._first,c=Qu(s);l;)l instanceof Ys?t1e(l._targets,a)&&(c?(!nh||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},e.tweenTo=function(r,s){s=s||{};var E,o=this,a=Tl(o,r),c=s.startAt,u=s.onStart,d=s.onStartParams,v=s.immediateRender,I=Ys.to(o,Cl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||$i,onStart:function(){if(o.pause(),!E){var N=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());I._dur!==N&&K_(I,N,0,1).render(I._time,!0,!0),E=1}u&&u.apply(I,d||[])}},s));return v?I.render(0):I},e.tweenFromTo=function(r,s,o){return this.tweenTo(s,Cl({startAt:{time:Tl(this,r)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),q7(this,Tl(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),q7(this,Tl(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+$i)},e.shiftChildren=function(r,s,o){void 0===o&&(o=0);for(var c,a=this._first,l=this.labels;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Kf(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Kf(this)},e.totalDuration=function(r){var c,u,d,s=0,o=this,a=o._last,l=El;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,tu(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;K_(o,o===Rr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(r){if(Rr._ts&&(R7(Rr,FE(r,Rr)),x7=Ol.frame),Ol.frame>=I7){I7+=Wa.autoSleep||120;var s=Rr._first;if((!s||!s._ts)&&Wa.autoSleep&&Ol._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ol.sleep()}}},t}(ny);Cl(Sa.prototype,{_lock:0,_hasPause:0,_forcing:0});var nh,O1e=function(t,e,i,r,s,o,a){var d,v,E,I,A,N,k,L,l=new Ea(this._pt,t,e,0,1,cH,null,s),c=0,u=0;for(l.b=i,l.e=r,i+="",(k=~(r+="").indexOf("random("))&&(r=Z0(r)),o&&(o(L=[i,r],t,e),i=L[0],r=L[1]),v=i.match(kA)||[];d=kA.exec(r);)I=d[0],A=r.substring(c,d.index),E?E=(E+1)%5:"rgba("===A.substr(-5)&&(E=1),I!==v[u++]&&(N=parseFloat(v[u-1])||0,l._pt={_next:l._pt,p:A||1===u?A:",",s:N,c:"="===I.charAt(1)?parseFloat(I.substr(2))*("-"===I.charAt(0)?-1:1):parseFloat(I)-N,m:E&&E<4?Math.round:0},c=kA.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(T7.test(r)||k)&&(l.e=0),this._pt=l,l},KA=function(t,e,i,r,s,o,a,l,c){Ws(r)&&(r=r(s||0,t,o));var E,u=t[e],d="get"!==i?i:Ws(u)?c?t[e.indexOf("set")||!Ws(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,v=Ws(u)?c?R1e:aH:JA;if(zs(r)&&(~r.indexOf("random(")&&(r=Z0(r)),"="===r.charAt(1)&&((E=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(ba(d)||0))||0===E)&&(r=E)),d!==r)return isNaN(d*r)||""===r?(!u&&!(e in t)&&LA(e,r),O1e.call(this,t,e,d,r,v,l||Wa.stringFilter,c)):(E=new Ea(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof u?N1e:lH,0,v),c&&(E.fp=c),a&&E.modifier(a,this,t),this._pt=E)},rH=function(t,e,i,r,s,o){var a,l,c,u;if($a[t]&&!1!==(a=new $a[t]).init(s,a.rawVars?e[t]:function(t,e,i,r,s){if(Ws(t)&&(t=iy(t,s,e,i,r)),!Zu(t)||t.style&&t.nodeType||Ao(t)||E7(t))return zs(t)?iy(t,s,e,i,r):t;var a,o={};for(a in t)o[a]=iy(t[a],s,e,i,r);return o}(e[t],r,s,o,i),i,r,o)&&(i._pt=l=new Ea(i._pt,s,t,0,1,a.render,a,0,a.priority),i!==J_))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},x1e=function n(t,e){var te,ge,pe,le,he,Ie,ye,Se,Re,xe,Ce,Te,De,i=t.vars,r=i.ease,s=i.startAt,o=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,u=i.callbackScope,d=i.runBackwards,v=i.yoyoEase,E=i.keyframes,I=i.autoRevert,A=t._dur,N=t._startAt,k=t._targets,L=t.parent,W=L&&"nested"===L.data?L.parent._targets:k,Z="auto"===t._overwrite&&!AA,ee=t.timeline;if(ee&&(!E||!r)&&(r="none"),t._ease=Jf(r,Y_.ease),t._yEase=v?eH(Jf(!0===v?r:v,Y_.ease)):0,v&&t._yoyo&&!t._repeat&&(v=t._yEase,t._yEase=t._ease,t._ease=v),t._from=!ee&&!!i.runBackwards,!ee||E&&!i.stagger){if(Te=(Se=k[0]?qf(k[0]).harness:0)&&i[Se.prop],te=NE(i,UA),N&&ed(N.render(-1,!0)),s)if(ed(t._startAt=Ys.set(k,Cl({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:va(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:u,stagger:0},s))),e<0&&!o&&!I&&t._startAt.render(-1,!0),o){if(e>0&&!I&&(t._startAt=0),A&&e<=0)return void(e&&(t._zTime=e))}else!1===I&&(t._startAt=0);else if(d&&A)if(N)!I&&(t._startAt=0);else if(e&&(o=!1),pe=Cl({overwrite:!1,data:"isFromStart",lazy:o&&va(a),immediateRender:o,stagger:0,parent:L},te),Te&&(pe[Se.prop]=Te),ed(t._startAt=Ys.set(k,pe)),e<0&&t._startAt.render(-1,!0),t._zTime=e,o){if(!e)return}else n(t._startAt,$i);for(t._pt=0,a=A&&va(a)||a&&!A,ge=0;ge<k.length;ge++){if(ye=(he=k[ge])._gsap||VA(k)[ge]._gsap,t._ptLookup[ge]=xe={},GA[ye.id]&&Zd.length&&DE(),Ce=W===k?ge:W.indexOf(he),Se&&!1!==(Re=new Se).init(he,Te||te,t,Ce,W)&&(t._pt=le=new Ea(t._pt,he,Re.name,0,1,Re.render,Re,0,Re.priority),Re._props.forEach(function(tt){xe[tt]=le}),Re.priority&&(Ie=1)),!Se||Te)for(pe in te)$a[pe]&&(Re=rH(pe,te,t,Ce,he,W))?Re.priority&&(Ie=1):xe[pe]=le=KA.call(t,he,pe,"get",te[pe],Ce,W,0,i.stringFilter);t._op&&t._op[ge]&&t.kill(he,t._op[ge]),Z&&t._pt&&(nh=t,Rr.killTweensOf(he,xe,t.globalTime(e)),De=!t.parent,nh=0),t._pt&&a&&(GA[ye.id]=1)}Ie&&uH(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!De,E&&e<=0&&ee.render(El,!0,!0)},A1e=function(t,e,i,r){var o,a,s=e.ease||r||"power1.inOut";if(Ao(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:s})});else for(o in e)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(t),v:e[o],e:s})},iy=function(t,e,i,r,s){return Ws(t)?t.call(e,i,r,s):zs(t)&&~t.indexOf("random(")?Z0(t):t},sH=HA+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",oH={};ya(sH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return oH[n]=1});var Ys=function(n){function t(i,r,s,o){var a;"number"==typeof r&&(s.duration=r,r=s,s=null);var Z,ee,te,ge,pe,le,he,Ie,l=(a=n.call(this,o?r:K0(r))||this).vars,c=l.duration,u=l.delay,d=l.immediateRender,v=l.stagger,E=l.overwrite,I=l.keyframes,A=l.defaults,N=l.scrollTrigger,k=l.yoyoEase,L=r.parent||Rr,W=(Ao(i)||E7(i)?Qu(i[0]):"length"in r)?[i]:wl(i);if(a._targets=W.length?VA(W):AE("GSAP target "+i+" not found. https://greensock.com",!Wa.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=E,I||v||xE(c)||xE(u)){if(r=a.vars,(Z=a.timeline=new Sa({data:"nested",defaults:A||{}})).kill(),Z.parent=Z._dp=Ju(a),Z._start=0,v||xE(c)||xE(u)){if(ge=W.length,he=v&&z7(v),Zu(v))for(pe in v)~sH.indexOf(pe)&&(Ie||(Ie={}),Ie[pe]=v[pe]);for(ee=0;ee<ge;ee++)(te=NE(r,oH)).stagger=0,k&&(te.yoyoEase=k),Ie&&X_(te,Ie),le=W[ee],te.duration=+iy(c,Ju(a),ee,le,W),te.delay=(+iy(u,Ju(a),ee,le,W)||0)-a._delay,!v&&1===ge&&te.delay&&(a._delay=u=te.delay,a._start+=u,te.delay=0),Z.to(le,te,he?he(ee,le,W):0),Z._ease=hi.none;Z.duration()?c=u=0:a.timeline=0}else if(I){K0(Cl(Z.vars.defaults,{ease:"none"})),Z._ease=Jf(I.ease||r.ease||"none");var Se,Re,xe,ye=0;if(Ao(I))I.forEach(function(Ce){return Z.to(W,Ce,">")});else{for(pe in te={},I)"ease"===pe||"easeEach"===pe||A1e(pe,I[pe],te,I.easeEach);for(pe in te)for(Se=te[pe].sort(function(Ce,Te){return Ce.t-Te.t}),ye=0,ee=0;ee<Se.length;ee++)(xe={ease:(Re=Se[ee]).e,duration:(Re.t-(ee?Se[ee-1].t:0))/100*c})[pe]=Re.v,Z.to(W,xe,ye),ye+=xe.duration;Z.duration()<c&&Z.to({},{duration:c-Z.duration()})}}c||a.duration(c=Z.duration())}else a.timeline=0;return!0===E&&!AA&&(nh=Ju(a),Rr.killTweensOf(W),nh=0),tu(L,Ju(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!I&&a._start===Ro(L._time)&&va(d)&&o1e(Ju(a))&&"nested"!==L.data)&&(a._tTime=-$i,a.render(Math.max(0,-u))),N&&U7(Ju(a),N),a}y7(t,n);var e=t.prototype;return e.render=function(r,s,o){var d,v,E,I,A,N,k,L,W,a=this._time,l=this._tDur,c=this._dur,u=r>l-$i&&r>=0?l:r<$i?0:r;if(c){if(u!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(d=u,L=this.timeline,this._repeat){if(I=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*I+r,s,o);if(d=Ro(u%I),u===l?(E=this._repeat,d=c):((E=~~(u/I))&&E===u/I&&(d=c,E--),d>c&&(d=c)),(N=this._yoyo&&1&E)&&(W=this._yEase,d=c-d),A=q_(this._tTime,I),d===a&&!o&&this._initted)return this;E!==A&&(L&&this._yEase&&tH(L,N),this.vars.repeatRefresh&&!N&&!this._lock&&(this._lock=o=1,this.render(Ro(I*E),!0).invalidate()._lock=0))}if(!this._initted){if(G7(this,r<0?r:d,o,s))return this._tTime=0,this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(W||this._ease)(d/c),this._from&&(this.ratio=k=1-k),d&&!a&&!s&&(Ml(this,"onStart"),this._tTime!==u))return this;for(v=this._pt;v;)v.r(k,v.d),v=v._next;L&&L.render(r<0?r:!d&&N?-$i:L._dur*L._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(r<0&&this._startAt&&this._startAt.render(r,!0,o),Ml(this,"onUpdate")),this._repeat&&E!==A&&this.vars.onRepeat&&!s&&this.parent&&Ml(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&ed(this,1),!s&&(!(r<0)||a)&&(u||a)&&(Ml(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var c,u,d,s=t.ratio,o=e<0||!e&&(!t._start&&a1e(t)&&(t._initted||!zA(t))||(t._ts<0||t._dp._ts<0)&&!zA(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=Q0(0,t._tDur,e),u=q_(l,a),t._yoyo&&1&u&&(o=1-o),u!==q_(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||r||t._zTime===$i||!e&&t._zTime){if(!t._initted&&G7(t,e,r,i))return;for(d=t._zTime,t._zTime=e||(i?$i:0),i||(i=e&&!d),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,c=t._pt;c;)c.r(o,c.d),c=c._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&Ml(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Ml(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&ed(t,1),i||(Ml(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,s,o);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?ey(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,nh&&!0!==nh.vars.overwrite)._first||ey(this),this.parent&&o!==this.timeline.totalDuration()&&K_(this,this._dur*this.timeline._tDur/o,0,1),this}var d,v,E,I,A,N,k,a=this._targets,l=r?wl(r):a,c=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===s&&(this._pt=0),ey(this);for(d=this._op=this._op||[],"all"!==s&&(zs(s)&&(A={},ya(s,function(L){return A[L]=1}),s=A),s=function(t,e){var s,o,a,l,i=t[0]?qf(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(o in s=X_({},e),r)if(o in s)for(a=(l=r[o].split(",")).length;a--;)s[l[a]]=s[o];return s}(a,s)),k=a.length;k--;)if(~l.indexOf(a[k]))for(A in v=c[k],"all"===s?(d[k]=s,I=v,E={}):(E=d[k]=d[k]||{},I=s),I)(N=v&&v[A])&&((!("kill"in N.d)||!0===N.d.kill(A))&&kE(this,N,"_pt"),delete v[A]),"all"!==E&&(E[A]=1);return this._initted&&!this._pt&&u&&ey(this),this},t.to=function(r,s){return new t(r,s,arguments[2])},t.from=function(r,s){return J0(1,arguments)},t.delayedCall=function(r,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(r,s,o){return J0(2,arguments)},t.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(r,s)},t.killTweensOf=function(r,s,o){return Rr.killTweensOf(r,s,o)},t}(ny);Cl(Ys.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ya("staggerTo,staggerFrom,staggerFromTo",function(n){Ys[n]=function(){var t=new Sa,e=WA.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var JA=function(t,e,i){return t[e]=i},aH=function(t,e,i){return t[e](i)},R1e=function(t,e,i,r){return t[e](r.fp,i)},D1e=function(t,e,i){return t.setAttribute(e,i)},QA=function(t,e){return Ws(t[e])?aH:DA(t[e])&&t.setAttribute?D1e:JA},lH=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},N1e=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cH=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},ZA=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},k1e=function(t,e,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(t,e,i),s=o},F1e=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?kE(this,e,"_pt"):e.dep||(i=1),e=r;return!i},B1e=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},uH=function(t){for(var i,r,s,o,e=t._pt;e;){for(i=e._next,r=s;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:o)?e._prev._next=e:s=e,(e._next=r)?r._prev=e:o=e,e=i}t._pt=s},Ea=function(){function n(e,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||lH,this.d=l||this,this.set=c||JA,this.pr=u||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=B1e,this.m=i,this.mt=s,this.tween=r},n}();ya(HA+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return UA[n]=1}),Ya.TweenMax=Ya.TweenLite=Ys,Ya.TimelineLite=Ya.TimelineMax=Sa,Rr=new Sa({sortChildren:!1,defaults:Y_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Wa.stringFilter=Z7;var UE={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return b1e(r)})},timeline:function(t){return new Sa(t)},getTweensOf:function(t,e){return Rr.getTweensOf(t,e)},getProperty:function(t,e,i,r){zs(t)&&(t=wl(t)[0]);var s=qf(t||{}).get,o=i?N7:D7;return"native"===i&&(i=""),t&&(e?o(($a[e]&&$a[e].get||s)(t,e,i,r)):function(a,l,c){return o(($a[a]&&$a[a].get||s)(t,a,l,c))})},quickSetter:function(t,e,i){if((t=wl(t)).length>1){var r=t.map(function(u){return nu.quickSetter(u,e,i)}),s=r.length;return function(u){for(var d=s;d--;)r[d](u)}}var o=$a[e],a=qf(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(u){var d=new o;J_._pt=0,d.init(t,i?u+i:u,J_,0,[t]),d.render(1,d),J_._pt&&ZA(1,J_)}:a.set(t,l);return o?c:function(u){return c(t,l,i?u+i:u,a,1)}},isTweening:function(t){return Rr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Jf(t.ease,Y_.ease)),k7(Y_,t||{})},config:function(t){return k7(Wa,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.defaults,o=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!$a[a]&&!Ya[a]&&AE(e+" effect requires "+a+" plugin.")}),jA[e]=function(a,l,c){return i(wl(a),Cl(l||{},s),c)},o&&(Sa.prototype[e]=function(a,l,c){return this.add(jA[e](a,Zu(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){hi[t]=Jf(e)},parseEase:function(t,e){return arguments.length?Jf(t,e):hi},getById:function(t){return Rr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,s,i=new Sa(t);for(i.smoothChildTiming=va(t.smoothChildTiming),Rr.remove(i),i._dp=0,i._time=i._tTime=Rr._time,r=Rr._first;r;)s=r._next,(e||!(!r._dur&&r instanceof Ys&&r.vars.onComplete===r._targets[0]))&&tu(i,r,r._start-r._delay),r=s;return tu(Rr,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return Ao(t)?$7(t,n(0,t.length),e):eh(i,function(s){return(r+(s-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,s=2*r;return Ao(t)?$7(t,n(0,t.length-1),e):eh(i,function(o){return t+((o=(s+(o-t)%s)%s||0)>r?s-o:o)})},distribute:z7,random:Y7,snap:W7,normalize:function(t,e,i){return X7(t,e,0,1,i)},getUnit:ba,clamp:function(t,e,i){return eh(i,function(r){return Q0(t,e,r)})},splitColor:K7,toArray:wl,selector:function(t){return t=wl(t)[0]||AE("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return wl(e,i.querySelectorAll?i:i===t?AE("Invalid scope")||BA.createElement("div"):t)}},mapRange:X7,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(s,o){return o(s)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||ba(i))}},interpolate:function n(t,e,i,r){var s=isNaN(t+e)?0:function(E){return(1-E)*t+E*e};if(!s){var l,c,u,d,v,o=zs(t),a={};if(!0===i&&(r=1)&&(i=null),o)t={p:t},e={p:e};else if(Ao(t)&&!Ao(e)){for(u=[],v=(d=t.length)-2,c=1;c<d;c++)u.push(n(t[c-1],t[c]));d--,s=function(I){I*=d;var A=Math.min(v,~~I);return u[A](I-A)},i=e}else r||(t=X_(Ao(t)?[]:{},t));if(!u){for(l in e)KA.call(a,t,l,"get",e[l]);s=function(I){return ZA(I,a)||(o?t.p:t)}}}return eh(i,s)},shuffle:V7},install:O7,effects:jA,ticker:Ol,updateRoot:Sa.updateRoot,plugins:$a,globalTimeline:Rr,core:{PropTween:Ea,globals:P7,Tween:Ys,Timeline:Sa,Animation:ny,getCache:qf,_removeLinkedListItem:kE,suppressOverwrites:function(t){return AA=t}}};ya("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return UE[n]=Ys[n]}),Ol.add(Sa.updateRoot),J_=UE.to({},{duration:0});var L1e=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},e2=function(t,e){return{name:t,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(zs(s)&&(l={},ya(s,function(u){return l[u]=1}),s=l),e){for(c in l={},s)l[c]=e(s[c]);s=l}!function(t,e){var r,s,o,i=t._targets;for(r in e)for(s=i.length;s--;)(o=t._ptLookup[s][r])&&(o=o.d)&&(o._pt&&(o=L1e(o,r)),o&&o.modifier&&o.modifier(e[r],t,i[s],r))}(a,s)}}}},nu=UE.registerPlugin({name:"attr",init:function(t,e,i,r,s){var o,a;for(o in e)(a=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],r,s,0,0,o))&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},e2("roundProps",YA),e2("modifiers"),e2("snap",W7))||UE;Ys.version=Sa.version=nu.version="3.9.1",M7=1,S7()&&Q_();var dH,ih,Z_,t2,Zf,hH,vH,rh={},ep=180/Math.PI,em=Math.PI/180,tm=Math.atan2,fH=1e8,pH=/([A-Z])/g,H1e=/(?:left|right|width|margin|padding|x)/i,V1e=/[\s,\(]\S/,sh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},gH=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},z1e=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},W1e=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Y1e=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},_H=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},mH=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},$1e=function(t,e,i){return t.style[e]=i},X1e=function(t,e,i){return t.style.setProperty(e,i)},q1e=function(t,e,i){return t._gsap[e]=i},K1e=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},J1e=function(t,e,i,r,s){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Q1e=function(t,e,i,r,s){var o=t._gsap;o[e]=i,o.renderTransform(s,o)},io="transform",oh=io+"Origin",n2=function(t,e){var i=ih.createElementNS?ih.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ih.createElement(t);return i.style?i:ih.createElement(t)},td=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(pH,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,nm(e)||e,1)||""},yH="O,Moz,ms,Ms,Webkit".split(","),nm=function(t,e,i){var s=(e||Zf).style,o=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(yH[o]+t in s););return o<0?null:(3===o?"ms":o>=0?yH[o]:"")+t},r2=function(){"undefined"!=typeof window&&window.document&&(dH=window,Z_=(ih=dH.document).documentElement,Zf=n2("div")||{style:{}},n2("div"),io=nm(io),oh=io+"Origin",Zf.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",vH=!!nm("perspective"),t2=1)},s2=function n(t){var o,e=n2("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Z_.appendChild(e),e.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Z_.removeChild(e),this.style.cssText=s,o},bH=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},SH=function(t){var e;try{e=t.getBBox()}catch(i){e=s2.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===s2||(e=s2.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+bH(t,["x","cx","x1"])||0,y:+bH(t,["y","cy","y1"])||0,width:0,height:0}},EH=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!SH(t))},ry=function(t,e){if(e){var i=t.style;e in rh&&e!==oh&&(e=io),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(pH,"-$1").toLowerCase())):i.removeAttribute(e)}},ah=function(t,e,i,r,s,o){var a=new Ea(t._pt,e,i,0,1,o?mH:_H);return t._pt=a,a.b=r,a.e=s,t._props.push(i),a},CH={deg:1,rad:1,turn:1},lh=function n(t,e,i,r){var I,A,N,k,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Zf.style,l=H1e.test(e),c="svg"===t.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),d=100,v="px"===r,E="%"===r;return r===o||!s||CH[r]||CH[o]?s:("px"!==o&&!v&&(s=n(t,e,i,"px")),k=t.getCTM&&EH(t),!E&&"%"!==o||!rh[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=d+(v?o:r),A=~e.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,k&&(A=(t.ownerSVGElement||{}).parentNode),(!A||A===ih||!A.appendChild)&&(A=ih.body),(N=A._gsap)&&E&&N.width&&l&&N.time===Ol.time?_s(s/N.width*d):((E||"%"===o)&&(a.position=td(t,"position")),A===t&&(a.position="static"),A.appendChild(Zf),I=Zf[u],A.removeChild(Zf),a.position="absolute",l&&E&&((N=qf(A)).time=Ol.time,N.width=A[u]),_s(v?I*s/d:I&&s?d/I*s:0))):(I=k?t.getBBox()[l?"width":"height"]:t[u],_s(E?s/I*d:s/100*I)))},tp=function(t,e,i,r){var s;return t2||r2(),e in sh&&"transform"!==e&&~(e=sh[e]).indexOf(",")&&(e=e.split(",")[0]),rh[e]&&"transform"!==e?(s=oy(t,r),s="transformOrigin"!==e?s[e]:s.svg?s.origin:jE(td(t,oh))+" "+s.zOrigin+"px"):(!(s=t.style[e])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=GE[e]&&GE[e](t,e,i)||td(t,e)||A7(t,e)||("opacity"===e?1:0)),i&&!~(s+"").trim().indexOf(" ")?lh(t,e,s,i)+i:s},Z1e=function(t,e,i,r){if(!i||"none"===i){var s=nm(e,t,1),o=s&&td(t,s,1);o&&o!==i?(e=s,i=o):"borderColor"===e&&(i=td(t,"borderTopColor"))}var u,d,v,E,I,A,N,k,L,W,Z,ee,a=new Ea(this._pt,t.style,e,0,1,cH),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=td(t,e)||r,t.style[e]=i),Z7(u=[i,r]),r=u[1],v=(i=u[0]).match($_)||[],(r.match($_)||[]).length){for(;d=$_.exec(r);)N=d[0],L=r.substring(l,d.index),I?I=(I+1)%5:("rgba("===L.substr(-5)||"hsla("===L.substr(-5))&&(I=1),N!==(A=v[c++]||"")&&(E=parseFloat(A)||0,Z=A.substr((E+"").length),(ee="="===N.charAt(1)?+(N.charAt(0)+"1"):0)&&(N=N.substr(2)),k=parseFloat(N),W=N.substr((k+"").length),l=$_.lastIndex-W.length,W||(W=W||Wa.units[e]||Z,l===r.length&&(r+=W,a.e+=W)),Z!==W&&(E=lh(t,e,A,W)||0),a._pt={_next:a._pt,p:L||1===c?L:",",s:E,c:ee?ee*k:k-E,m:I&&I<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?mH:_H;return T7.test(r)&&(a.e=0),this._pt=a,a},TH={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},eSe=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=TH[i]||i,e[1]=TH[r]||r,e.join(" ")},tSe=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,c,i=e.t,s=e.u,o=i._gsap;if("all"===s||!0===s)i.style.cssText="",l=1;else for(c=(s=s.split(",")).length;--c>-1;)rh[a=s[c]]&&(l=1,a="transformOrigin"===a?oh:io),ry(i,a);l&&(ry(i,io),o&&(o.svg&&i.removeAttribute("transform"),oy(i,1),o.uncache=1))}},GE={clearProps:function(t,e,i,r,s){if("isFromStart"!==s.data){var o=t._pt=new Ea(t._pt,e,i,0,0,tSe);return o.u=r,o.pr=-10,o.tween=s,t._props.push(i),1}}},sy=[1,0,0,1,0,0],wH={},MH=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},OH=function(t){var e=td(t,io);return MH(e)?sy:e.substr(7).match(C7).map(_s)},o2=function(t,e){var o,a,l,c,i=t._gsap||qf(t),r=t.style,s=OH(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?sy:s:(s===sy&&!t.offsetParent&&t!==Z_&&!i.svg&&(l=r.display,r.display="block",(!(o=t.parentNode)||!t.offsetParent)&&(c=1,a=t.nextSibling,Z_.appendChild(t)),s=OH(t),l?r.display=l:ry(t,"display"),c&&(a?o.insertBefore(t,a):o?o.appendChild(t):Z_.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},a2=function(t,e,i,r,s,o){var te,ge,le,a=t._gsap,l=s||o2(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,v=a.yOffset||0,E=l[0],I=l[1],A=l[2],N=l[3],k=l[4],L=l[5],W=e.split(" "),Z=parseFloat(W[0])||0,ee=parseFloat(W[1])||0;i?l!==sy&&(ge=E*N-I*A)&&(le=Z*(-I/ge)+ee*(E/ge)-(E*L-I*k)/ge,Z=Z*(N/ge)+ee*(-A/ge)+(A*L-N*k)/ge,ee=le):(Z=(te=SH(t)).x+(~W[0].indexOf("%")?Z/100*te.width:Z),ee=te.y+(~(W[1]||W[0]).indexOf("%")?ee/100*te.height:ee)),r||!1!==r&&a.smooth?(a.xOffset=d+((k=Z-c)*E+(L=ee-u)*A)-k,a.yOffset=v+(k*I+L*N)-L):a.xOffset=a.yOffset=0,a.xOrigin=Z,a.yOrigin=ee,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[oh]="0px 0px",o&&(ah(o,a,"xOrigin",c,Z),ah(o,a,"yOrigin",u,ee),ah(o,a,"xOffset",d,a.xOffset),ah(o,a,"yOffset",v,a.yOffset)),t.setAttribute("data-svg-origin",Z+" "+ee)},oy=function(t,e){var i=t._gsap||new iH(t);if("x"in i&&!e&&!i.uncache)return i;var c,u,d,v,E,I,A,N,k,L,W,Z,ee,te,ge,pe,le,he,Ie,ye,Se,Re,xe,Ce,Te,De,tt,_e,Ve,et,it,Tt,r=t.style,s=i.scaleX<0,o="px",a="deg",l=td(t,oh)||"0";return c=u=d=I=A=N=k=L=W=0,v=E=1,i.svg=!(!t.getCTM||!EH(t)),te=o2(t,i.svg),i.svg&&(Ce=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),a2(t,Ce||l,!!Ce||i.originIsAbsolute,!1!==i.smooth,te)),Z=i.xOrigin||0,ee=i.yOrigin||0,te!==sy&&(he=te[0],Ie=te[1],ye=te[2],Se=te[3],c=Re=te[4],u=xe=te[5],6===te.length?(v=Math.sqrt(he*he+Ie*Ie),E=Math.sqrt(Se*Se+ye*ye),I=he||Ie?tm(Ie,he)*ep:0,(k=ye||Se?tm(ye,Se)*ep+I:0)&&(E*=Math.abs(Math.cos(k*em))),i.svg&&(c-=Z-(Z*he+ee*ye),u-=ee-(Z*Ie+ee*Se))):(et=te[7],tt=te[8],_e=te[9],it=te[11],c=te[12],u=te[13],d=te[14],A=(ge=tm(Tt=te[6],Ve=te[10]))*ep,ge&&(Ce=Re*(pe=Math.cos(-ge))+tt*(le=Math.sin(-ge)),Te=xe*pe+_e*le,De=Tt*pe+Ve*le,tt=Re*-le+tt*pe,_e=xe*-le+_e*pe,Ve=Tt*-le+Ve*pe,it=et*-le+it*pe,Re=Ce,xe=Te,Tt=De),N=(ge=tm(-ye,Ve))*ep,ge&&(pe=Math.cos(-ge),it=Se*(le=Math.sin(-ge))+it*pe,he=Ce=he*pe-tt*le,Ie=Te=Ie*pe-_e*le,ye=De=ye*pe-Ve*le),I=(ge=tm(Ie,he))*ep,ge&&(Ce=he*(pe=Math.cos(ge))+Ie*(le=Math.sin(ge)),Te=Re*pe+xe*le,Ie=Ie*pe-he*le,xe=xe*pe-Re*le,he=Ce,Re=Te),A&&Math.abs(A)+Math.abs(I)>359.9&&(A=I=0,N=180-N),v=_s(Math.sqrt(he*he+Ie*Ie+ye*ye)),E=_s(Math.sqrt(xe*xe+Tt*Tt)),ge=tm(Re,xe),k=Math.abs(ge)>2e-4?ge*ep:0,W=it?1/(it<0?-it:it):0),i.svg&&(Ce=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!MH(td(t,io)),Ce&&t.setAttribute("transform",Ce))),Math.abs(k)>90&&Math.abs(k)<270&&(s?(v*=-1,k+=I<=0?180:-180,I+=I<=0?180:-180):(E*=-1,k+=k<=0?180:-180)),i.x=c-((i.xPercent=c&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=_s(v),i.scaleY=_s(E),i.rotation=_s(I)+a,i.rotationX=_s(A)+a,i.rotationY=_s(N)+a,i.skewX=k+a,i.skewY=L+a,i.transformPerspective=W+o,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[oh]=jE(l)),i.xOffset=i.yOffset=0,i.force3D=Wa.force3D,i.renderTransform=i.svg?iSe:vH?PH:nSe,i.uncache=0,i},jE=function(t){return(t=t.split(" "))[0]+" "+t[1]},l2=function(t,e,i){var r=ba(e);return _s(parseFloat(e)+parseFloat(lh(t,"x",i+"px",r)))+r},nSe=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,PH(t,e)},np="0deg",ay="0px",ip=") ",PH=function(t,e){var i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,v=i.skewX,E=i.skewY,I=i.scaleX,A=i.scaleY,N=i.transformPerspective,k=i.force3D,L=i.target,W=i.zOrigin,Z="",ee="auto"===k&&t&&1!==t||!0===k;if(W&&(d!==np||u!==np)){var le,te=parseFloat(u)*em,ge=Math.sin(te),pe=Math.cos(te);te=parseFloat(d)*em,le=Math.cos(te),o=l2(L,o,ge*le*-W),a=l2(L,a,-Math.sin(te)*-W),l=l2(L,l,pe*le*-W+W)}N!==ay&&(Z+="perspective("+N+ip),(r||s)&&(Z+="translate("+r+"%, "+s+"%) "),(ee||o!==ay||a!==ay||l!==ay)&&(Z+=l!==ay||ee?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+ip),c!==np&&(Z+="rotate("+c+ip),u!==np&&(Z+="rotateY("+u+ip),d!==np&&(Z+="rotateX("+d+ip),(v!==np||E!==np)&&(Z+="skew("+v+", "+E+ip),(1!==I||1!==A)&&(Z+="scale("+I+", "+A+ip),L.style[io]=Z||"translate(0, 0)"},iSe=function(t,e){var ee,te,ge,pe,le,i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,v=i.scaleY,E=i.target,I=i.xOrigin,A=i.yOrigin,N=i.xOffset,k=i.yOffset,L=i.forceCSS,W=parseFloat(o),Z=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=em,c*=em,ee=Math.cos(l)*d,te=Math.sin(l)*d,ge=Math.sin(l-c)*-v,pe=Math.cos(l-c)*v,c&&(u*=em,le=Math.tan(c-u),ge*=le=Math.sqrt(1+le*le),pe*=le,u&&(le=Math.tan(u),ee*=le=Math.sqrt(1+le*le),te*=le)),ee=_s(ee),te=_s(te),ge=_s(ge),pe=_s(pe)):(ee=d,pe=v,te=ge=0),(W&&!~(o+"").indexOf("px")||Z&&!~(a+"").indexOf("px"))&&(W=lh(E,"x",o,"px"),Z=lh(E,"y",a,"px")),(I||A||N||k)&&(W=_s(W+I-(I*ee+A*ge)+N),Z=_s(Z+A-(I*te+A*pe)+k)),(r||s)&&(le=E.getBBox(),W=_s(W+r/100*le.width),Z=_s(Z+s/100*le.height)),E.setAttribute("transform",le="matrix("+ee+","+te+","+ge+","+pe+","+W+","+Z+")"),L&&(E.style[io]=le)},rSe=function(t,e,i,r,s,o){var v,E,a=360,l=zs(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?ep:1),u=o?c*o:c-r,d=r+u+"deg";return l&&("short"===(v=s.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-a),"cw"===v&&u<0?u=(u+a*fH)%a-~~(u/a)*a:"ccw"===v&&u>0&&(u=(u-a*fH)%a-~~(u/a)*a)),t._pt=E=new Ea(t._pt,e,i,r,u,z1e),E.e=d,E.u="deg",t._props.push(i),E},xH=function(t,e){for(var i in e)t[i]=e[i];return t},sSe=function(t,e,i){var a,l,c,u,d,v,I,r=xH({},i._gsap),o=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[io]=e,a=oy(i,1),ry(i,io),i.setAttribute("transform",c)):(c=getComputedStyle(i)[io],o[io]=e,a=oy(i,1),o[io]=c),rh)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(d=ba(c)!==(I=ba(u))?lh(i,l,c,I):parseFloat(c),v=parseFloat(u),t._pt=new Ea(t._pt,a,l,d,v-d,gH),t._pt.u=I||0,t._props.push(l));xH(a,r)};ya("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",s="Left",o=(t<3?[e,i,r,s]:[e+s,e+i,r+i,r+s]).map(function(a){return t<2?n+a:"border"+a+n});GE[t>1?"border"+n:n]=function(a,l,c,u,d){var v,E;if(arguments.length<4)return v=o.map(function(I){return tp(a,I,c)}),5===(E=v.join(" ")).split(v[0]).length?v[0]:E;v=(u+"").split(" "),E={},o.forEach(function(I,A){return E[I]=v[A]=v[A]||v[(A-1)/2|0]}),a.init(l,E,d)}});var IH={name:"css",register:r2,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,s){var c,u,d,v,E,I,A,N,k,L,W,Z,ee,te,ge,o=this._props,a=t.style,l=i.vars.startAt;for(A in t2||r2(),e)if("autoRound"!==A&&(u=e[A],!$a[A]||!rH(A,e,i,r,t,s)))if(I=GE[A],"function"==(E=typeof u)&&(E=typeof(u=u.call(i,r,t,s))),"string"===E&&~u.indexOf("random(")&&(u=Z0(u)),I)I(this,t,A,u,i)&&(ge=1);else if("--"===A.substr(0,2))c=(getComputedStyle(t).getPropertyValue(A)+"").trim(),u+="",th.lastIndex=0,th.test(c)||(N=ba(c),k=ba(u)),k?N!==k&&(c=lh(t,A,c,k)+k):N&&(u+=N),this.add(a,"setProperty",c,u,r,s,0,0,A),o.push(A);else if("undefined"!==E){if(l&&A in l?(c="function"==typeof l[A]?l[A].call(i,r,t,s):l[A],zs(c)&&~c.indexOf("random(")&&(c=Z0(c)),ba(c+"")||(c+=Wa.units[A]||ba(tp(t,A))||""),"="===(c+"").charAt(1)&&(c=tp(t,A))):c=tp(t,A),v=parseFloat(c),(L="string"===E&&"="===u.charAt(1)?+(u.charAt(0)+"1"):0)&&(u=u.substr(2)),d=parseFloat(u),A in sh&&("autoAlpha"===A&&(1===v&&"hidden"===tp(t,"visibility")&&d&&(v=0),ah(this,a,"visibility",v?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==A&&"transform"!==A&&~(A=sh[A]).indexOf(",")&&(A=A.split(",")[0])),W=A in rh)if(Z||((ee=t._gsap).renderTransform&&!e.parseTransform||oy(t,e.parseTransform),te=!1!==e.smoothOrigin&&ee.smooth,(Z=this._pt=new Ea(this._pt,a,io,0,1,ee.renderTransform,ee,0,-1)).dep=1),"scale"===A)this._pt=new Ea(this._pt,ee,"scaleY",ee.scaleY,(L?L*d:d-ee.scaleY)||0),o.push("scaleY",A),A+="X";else{if("transformOrigin"===A){u=eSe(u),ee.svg?a2(t,u,0,te,0,this):((k=parseFloat(u.split(" ")[2])||0)!==ee.zOrigin&&ah(this,ee,"zOrigin",ee.zOrigin,k),ah(this,a,A,jE(c),jE(u)));continue}if("svgOrigin"===A){a2(t,u,1,te,0,this);continue}if(A in wH){rSe(this,ee,A,v,u,L);continue}if("smoothOrigin"===A){ah(this,ee,"smooth",ee.smooth,u);continue}if("force3D"===A){ee[A]=u;continue}if("transform"===A){sSe(this,u,t);continue}}else A in a||(A=nm(A)||A);if(W||(d||0===d)&&(v||0===v)&&!V1e.test(u)&&A in a)d||(d=0),(N=(c+"").substr((v+"").length))!==(k=ba(u)||(A in Wa.units?Wa.units[A]:N))&&(v=lh(t,A,c,k)),this._pt=new Ea(this._pt,W?ee:a,A,v,L?L*d:d-v,W||"px"!==k&&"zIndex"!==A||!1===e.autoRound?gH:Y1e),this._pt.u=k||0,N!==k&&"%"!==k&&(this._pt.b=c,this._pt.r=W1e);else if(A in a)Z1e.call(this,t,A,c,u);else{if(!(A in t)){LA(A,u);continue}this.add(t,A,c||t[A],u,r,s)}o.push(A)}ge&&uH(this)},get:tp,aliases:sh,getSetter:function(t,e,i){var r=sh[e];return r&&r.indexOf(",")<0&&(e=r),e in rh&&e!==oh&&(t._gsap.x||tp(t,"x"))?i&&hH===i?"scale"===e?K1e:q1e:(hH=i||{})&&("scale"===e?J1e:Q1e):t.style&&!DA(t.style[e])?$1e:~e.indexOf("-")?X1e:QA(t,e)},core:{_removeProperty:ry,_getMatrix:o2}};nu.utils.checkPrefix=nm,function(n,t,e,i){var r=ya(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){rh[s]=1});ya(t,function(s){Wa.units[s]="deg",wH[s]=1}),sh[r[13]]=n+","+t,ya("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");sh[o[1]]=r[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ya("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Wa.units[n]="px"}),nu.registerPlugin(IH);var Nn,im,Er,Do,nd,is,AH,c2,ly,HE,VE,u2,ra,zE,d2,sa,RH,DH,rm,NH,h2,kH,f2,dm,$H,C2,ia=nu.registerPlugin(IH)||nu,cy=1,rp=[],sp=[],ch=Date.now,p2=ch(),mc=0,FH=1,WE=function(t){return t},iu=function(t){return ly(t)[0]||(vc(t)&&!1!==Nn.config().nullTargetWarn?console.warn("Element not found:",t):null)},BH=function(t){return Math.round(1e5*t)/1e5||0},LH=function(){return"undefined"!=typeof window},UH=function(){return Nn||LH()&&(Nn=window.gsap)&&Nn.registerPlugin&&Nn},sm=function(t){return!!~AH.indexOf(t)},op=function(t,e){return~rp.indexOf(t)&&rp[rp.indexOf(t)+1][e]},YE=function(t,e){var i=e.s,r=e.sc,s=sp.indexOf(t),o=r===aa.sc?1:2;return!~s&&(s=sp.push(t)-1),sp[s+o]||(sp[s+o]=op(t,i)||(sm(t)?r:function(a){return arguments.length?t[i]=a:t[i]}))},GH=function(t){return op(t,"getBoundingClientRect")||(sm(t)?function(){return uC.width=Er.innerWidth,uC.height=Er.innerHeight,uC}:function(){return rd(t)})},$E=function(t,e){var i,r=e.d2,s=e.d,o=e.a;return(i="scroll"+r)&&(o=op(t,i))?o()-GH(t)()[s]:sm(t)?(is[i]||nd[i])-(Er["inner"+r]||nd["client"+r]||is["client"+r]):t[i]-t["offset"+r]},g2=function(t,e){for(var i=0;i<rm.length;i+=3)(!e||~e.indexOf(rm[i+1]))&&t(rm[i],rm[i+1],rm[i+2])},vc=function(t){return"string"==typeof t},ru=function(t){return"function"==typeof t},uy=function(t){return"number"==typeof t},_2=function(t){return"object"==typeof t},XE=function(t){return ru(t)&&t()},jH=function(t,e){return function(){var i=XE(t),r=XE(e);return function(){XE(i),XE(r)}}},dy=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},m2=function(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},om=Math.abs,qE="scrollLeft",KE="scrollTop",v2="left",JE="right",QE="bottom",uh="width",dh="height",am="Right",lm="Left",cm="Top",um="Bottom",ms="padding",Pl="margin",ap="Width",oa="px",yc={s:qE,p:v2,p2:lm,os:JE,os2:am,d:uh,d2:ap,a:"x",sc:function(t){return arguments.length?Er.scrollTo(t,aa.sc()):Er.pageXOffset||Do[qE]||nd[qE]||is[qE]||0}},aa={s:KE,p:"top",p2:cm,os:QE,os2:um,d:dh,d2:"Height",a:"y",op:yc,sc:function(t){return arguments.length?Er.scrollTo(yc.sc(),t):Er.pageYOffset||Do[KE]||nd[KE]||is[KE]||0}},id=function(t){return Er.getComputedStyle(t)},HH=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},rd=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==id(t)[d2]&&Nn.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},b2=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},VH=function(t){var s,e=[],i=t.labels,r=t.duration();for(s in i)e.push(i[s]/r);return e},S2=function(t){var e=Nn.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){var a;if(void 0===o&&(o=.001),!s)return e(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){void 0===o&&(o=.001);var a=e(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:e(s<0?r-t:r+t)}},zH=function(t,e,i,r){return i.split(",").forEach(function(s){return t(e,s,r)})},la=function(t,e,i){return t.addEventListener(e,i,{passive:!0})},hy=function(t,e,i){return t.removeEventListener(e,i)},WH={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},eC={toggleActions:"play",anticipatePin:0},tC={top:0,left:0,center:.5,bottom:1,right:1},nC=function(t,e){if(vc(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in tC?tC[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},iC=function(t,e,i,r,s,o,a,l){var c=s.startColor,u=s.endColor,d=s.fontSize,v=s.indent,E=s.fontWeight,I=Do.createElement("div"),A=sm(i)||"fixed"===op(i,"pinType"),N=-1!==t.indexOf("scroller"),k=A?is:i,L=-1!==t.indexOf("start"),W=L?c:u,Z="border-color:"+W+";font-size:"+d+";color:"+W+";font-weight:"+E+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Z+="position:"+((N||l)&&A?"fixed;":"absolute;"),(N||l||!A)&&(Z+=(r===aa?JE:QE)+":"+(o+parseFloat(v))+"px;"),a&&(Z+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),I._isStart=L,I.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),I.style.cssText=Z,I.innerText=e||0===e?t+"-"+e:t,k.children[0]?k.insertBefore(I,k.children[0]):k.appendChild(I),I._offset=I["offset"+r.op.d2],rC(I,0,r,L),I},rC=function(t,e,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+ap]=1,s["border"+a+ap]=0,s[i.p]=e+"px",Nn.set(t,s)},Oi=[],E2={},YH=function(){return ch()-mc>34&&T2()},sC=function(){T2(),mc||hm("scrollStart"),mc=ch()},fy=function(){return!ra&&!kH&&!Do.fullscreenElement&&c2.restart(!0)},py={},dSe=[],Xr=[],XH=function(t){var s,e=Nn.ticker.frame,i=[],r=0;if($H!==e||cy){for(oC();r<Xr.length;r+=4)(s=Er.matchMedia(Xr[r]).matches)!==Xr[r+3]&&(Xr[r+3]=s,s?i.push(r):oC(1,Xr[r])||ru(Xr[r+2])&&Xr[r+2]());for(KH(),r=0;r<i.length;r++)dm=Xr[s=i[r]],Xr[s+2]=Xr[s+1](t);dm=0,im&&fm(0,1),$H=e,hm("matchMedia")}},qH=function n(){return hy(qi,"scrollEnd",n)||fm(!0)},hm=function(t){return py[t]&&py[t].map(function(e){return e()})||dSe},xl=[],KH=function(t){for(var e=0;e<xl.length;e+=5)(!t||xl[e+4]===t)&&(xl[e].style.cssText=xl[e+1],xl[e].getBBox&&xl[e].setAttribute("transform",xl[e+2]||""),xl[e+3].uncache=1)},oC=function(t,e){var i;for(sa=0;sa<Oi.length;sa++)i=Oi[sa],(!e||i.media===e)&&(t?i.kill(1):i.revert());e&&KH(e),e||hm("revert")},JH=function(){return sp.forEach(function(t){return"function"==typeof t&&(t.rec=0)})},fm=function(t,e){if(!mc||t){C2=!0;var i=hm("refreshInit");NH&&qi.sort(),e||oC(),Oi.forEach(function(r){return r.refresh()}),Oi.forEach(function(r){return"max"===r.vars.end&&r.setPositions(r.start,$E(r.scroller,r._dir))}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),JH(),c2.pause(),C2=!1,hm("refresh")}else la(qi,"scrollEnd",qH)},QH=0,aC=1,T2=function(){if(!C2){var t=Oi.length,e=ch(),i=e-p2>=50,r=t&&Oi[0].scroll();if(aC=QH>r?-1:1,QH=r,i&&(mc&&!zE&&e-mc>200&&(mc=0,hm("scrollEnd")),VE=p2,p2=e),aC<0){for(sa=t;sa-- >0;)Oi[sa]&&Oi[sa].update(0,i);aC=1}else for(sa=0;sa<t;sa++)Oi[sa]&&Oi[sa].update(0,i)}},w2=[v2,"top",QE,JE,Pl+um,Pl+am,Pl+cm,Pl+lm,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],lC=w2.concat([uh,dh,"boxSizing","max"+ap,"maxHeight","position",Pl,ms,ms+cm,ms+am,ms+um,ms+lm]),M2=function(t,e,i,r){if(t.parentNode!==e){for(var l,s=w2.length,o=e.style,a=t.style;s--;)o[l=w2[s]]=i[l];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[QE]=a[JE]=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o[uh]=b2(t,yc)+oa,o[dh]=b2(t,aa)+oa,o[ms]=a[Pl]=a.top=a[v2]="0",gy(r),a[uh]=a.maxWidth=i[uh],a[dh]=a.maxHeight=i[dh],a[ms]=i[ms],t.parentNode.insertBefore(e,t),e.appendChild(t)}},fSe=/([A-Z])/g,gy=function(t){if(t){var s,o,e=t.t.style,i=t.length,r=0;for((t.t._gsap||Nn.core.getCache(t.t)).uncache=1;r<i;r+=2)s=t[r],(o=t[r+1])?e[s]=o:e[s]&&e.removeProperty(s.replace(fSe,"-$1").toLowerCase())}},cC=function(t){for(var e=lC.length,i=t.style,r=[],s=0;s<e;s++)r.push(lC[s],i[lC[s]]);return r.t=t,r},uC={left:0,top:0},ZH=function(t,e,i,r,s,o,a,l,c,u,d,v,E){ru(t)&&(t=t(l)),vc(t)&&"max"===t.substr(0,3)&&(t=v+("="===t.charAt(4)?nC("0"+t.substr(3),i):0));var A,N,k,I=E?E.time():0;if(E&&E.seek(0),uy(t))a&&rC(a,i,r,!0);else{ru(e)&&(e=e(l));var W,Z,ee,te,L=t.split(" ");k=iu(e)||is,(!(W=rd(k)||{})||!W.left&&!W.top)&&"none"===id(k).display&&(te=k.style.display,k.style.display="block",W=rd(k),te?k.style.display=te:k.style.removeProperty("display")),Z=nC(L[0],W[r.d]),ee=nC(L[1]||"0",i),t=W[r.p]-c[r.p]-u+Z+s-ee,a&&rC(a,ee,r,i-ee<20||a._isStart&&ee>20),i-=i-ee}if(o){var ge=t+i,pe=o._isStart;A="scroll"+r.d2,rC(o,ge,r,pe&&ge>20||!pe&&(d?Math.max(is[A],nd[A]):o.parentNode[A])<=ge+1),d&&(c=rd(a),d&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+oa))}return E&&k&&(A=rd(k),E.seek(v),N=rd(k),E._caScrollDist=A[r.p]-N[r.p],t=t/E._caScrollDist*v),E&&E.seek(I),E?t:Math.round(t)},gSe=/(?:webkit|moz|length|cssText|inset)/i,eV=function(t,e,i,r){if(t.parentNode!==e){var o,a,s=t.style;if(e===is){for(o in t._stOrig=s.cssText,a=id(t))!+o&&!gSe.test(o)&&a[o]&&"string"==typeof s[o]&&"0"!==o&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=t._stOrig;Nn.core.getCache(t).uncache=1,e.appendChild(t)}},tV=function(t,e){var s,o,i=YE(t,e),r="_scroll"+e.p2,a=function l(c,u,d,v,E){var I=l.tween,A=u.onComplete,N={};return I&&I.kill(),s=Math.round(d),u[r]=c,u.modifiers=N,N[r]=function(k){return(k=BH(i()))!==s&&k!==o&&Math.abs(k-s)>2&&Math.abs(k-o)>2?(I.kill(),l.tween=0):k=d+v*I.ratio+E*I.ratio*I.ratio,o=s,s=BH(k)},u.onComplete=function(){l.tween=0,A&&A.call(I)},I=l.tween=Nn.to(t,u)};return t[r]=i,la(t,"wheel",function(){return a.tween&&a.tween.kill()&&(a.tween=0)}),a};yc.op=aa;var qi=function(){function n(e,i){im||n.register(Nn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(1),FH){var kt,Vt,Mn,ln,Jt,Ft,gn,Zt,ji,An,mn,rs,Ki,tl,Tc,pu,ss,ud,dd,tD,Ky,wh,SW,Jy,EW,nD,iD,_T,rD,ua,mT,Mh,Nm,Qy,Zy,sD,oD,o=(i=HH(vc(i)||uy(i)||i.nodeType?{trigger:i}:i,eC)).onUpdate,a=i.toggleClass,l=i.id,c=i.onToggle,u=i.onRefresh,d=i.scrub,v=i.trigger,E=i.pin,I=i.pinSpacing,A=i.invalidateOnRefresh,N=i.anticipatePin,k=i.onScrubComplete,L=i.onSnapComplete,W=i.once,Z=i.snap,ee=i.pinReparent,te=i.pinSpacer,ge=i.containerAnimation,pe=i.fastScrollEnd,le=i.preventOverlaps,he=i.horizontal||i.containerAnimation&&!1!==i.horizontal?yc:aa,Ie=!d&&0!==d,ye=iu(i.scroller||Er),Se=Nn.core.getCache(ye),Re=sm(ye),xe="fixed"===("pinType"in i?i.pinType:op(ye,"pinType")||Re&&"fixed"),Ce=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],Te=Ie&&i.toggleActions.split(" "),De="markers"in i?i.markers:eC.markers,tt=Re?0:parseFloat(id(ye)["border"+he.p2+ap])||0,_e=this,Ve=i.onRefreshInit&&function(){return i.onRefreshInit(_e)},et=function(t,e,i){var r=i.d,s=i.d2,o=i.a;return(o=op(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?Er["inner"+s]:t["client"+s])||0}}(ye,Re,he),it=(t=ye,!Re||~rp.indexOf(t)?GH(t):function(){return uC}),Tt=0,yt=YE(ye,he);if(_e.media=dm,_e._dir=he,N*=45,_e.scroller=ye,_e.scroll=ge?ge.time.bind(ge):yt,ln=yt(),_e.vars=i,r=r||i.animation,"refreshPriority"in i&&(NH=1),Se.tweenScroll=Se.tweenScroll||{top:tV(ye,aa),left:tV(ye,yc)},_e.tweenTo=kt=Se.tweenScroll[he.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.render(0,!0,!0),_e.animation=r.pause(),r.scrollTrigger=_e,(mT=uy(d)&&d)&&(ua=Nn.to(r,{ease:"power3",duration:mT,onComplete:function(){return k&&k(_e)}})),_T=0,l||(l=r.vars.id)),Oi.push(_e),Z&&((!_2(Z)||Z.push)&&(Z={snapTo:Z}),"scrollBehavior"in is.style&&Nn.set(Re?[is,nd]:ye,{scrollBehavior:"auto"}),Mn=ru(Z.snapTo)?Z.snapTo:"labels"===Z.snapTo?function(t){return function(e){return Nn.utils.snap(VH(t),e)}}(r):"labelsDirectional"===Z.snapTo?function(t){return function(e,i){return S2(VH(t))(e,i.direction)}}(r):!1!==Z.directional?function(li,Pi){return S2(Z.snapTo)(li,Pi.direction)}:Nn.utils.snap(Z.snapTo),Mh=_2(Mh=Z.duration||{min:.1,max:2})?HE(Mh.min,Mh.max):HE(Mh,Mh),Nm=Nn.delayedCall(Z.delay||mT/2||.1,function(){if(Math.abs(_e.getVelocity())<10&&!zE&&Tt!==yt()){var li=r&&!Ie?r.totalProgress():_e.progress,Pi=(li-rD)/(ch()-VE)*1e3||0,Ni=Nn.utils.clamp(-_e.progress,1-_e.progress,om(Pi/2)*Pi/.185),Hi=_e.progress+(!1===Z.inertia?0:Ni),Ll=HE(0,1,Mn(Hi,_e)),Hn=yt(),os=Math.round(Ft+Ll*Ki),hd=Z.onStart,Br=Z.onInterrupt,Ta=Z.onComplete,wc=kt.tween;if(Hn<=gn&&Hn>=Ft&&os!==Hn){if(wc&&!wc._initted&&wc.data<=om(os-Hn))return;!1===Z.inertia&&(Ni=Ll-_e.progress),kt(os,{duration:Mh(om(.185*Math.max(om(Hi-li),om(Ll-li))/Pi/.05||0)),ease:Z.ease||"power3",data:om(os-Hn),onInterrupt:function(){return Nm.restart(!0)&&Br&&Br(_e)},onComplete:function(){_e.update(),Tt=yt(),_T=rD=r&&!Ie?r.totalProgress():_e.progress,L&&L(_e),Ta&&Ta(_e)}},Hn,Ni*Ki,os-Hn-Ni*Ki),hd&&hd(_e,kt.tween)}}else _e.isActive&&Nm.restart(!0)}).pause()),l&&(E2[l]=_e),v=_e.trigger=iu(v||E),E=!0===E?v:iu(E),vc(a)&&(a={targets:v,className:a}),E&&(!1===I||I===Pl||(I=!(!I&&"flex"===id(E.parentNode).display)&&ms),_e.pin=E,!1!==i.force3D&&Nn.set(E,{force3D:!0}),(Vt=Nn.core.getCache(E)).spacer?tl=Vt.pinState:(te&&((te=iu(te))&&!te.nodeType&&(te=te.current||te.nativeElement),Vt.spacerIsNative=!!te,te&&(Vt.spacerState=cC(te))),Vt.spacer=ss=te||Do.createElement("div"),ss.classList.add("pin-spacer"),l&&ss.classList.add("pin-spacer-"+l),Vt.pinState=tl=cC(E)),_e.spacer=ss=Vt.spacer,iD=id(E),SW=iD[I+he.os2],dd=Nn.getProperty(E),tD=Nn.quickSetter(E,he.a,oa),M2(E,ss,iD),pu=cC(E)),De&&(rs=_2(De)?HH(De,WH):WH,An=iC("scroller-start",l,ye,he,rs,0),mn=iC("scroller-end",l,ye,he,rs,0,An),Zt=iC("start",l,ye,he,rs,ud=An["offset"+he.op.d2],0,ge),ji=iC("end",l,ye,he,rs,ud,0,ge),ge&&(oD=Nn.quickSetter([Zt,ji],he.a,oa)),!xe&&!(rp.length&&!0===op(ye,"fixedMarkers"))&&(function(t){var e=id(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(Re?is:ye),Nn.set([An,mn],{force3D:!0}),EW=Nn.quickSetter(An,he.a,oa),nD=Nn.quickSetter(mn,he.a,oa))),ge){var CW=ge.vars.onUpdate,E3e=ge.vars.onUpdateParams;ge.eventCallback("onUpdate",function(){_e.update(0,0,1),CW&&CW.apply(E3e||[])})}_e.previous=function(){return Oi[Oi.indexOf(_e)-1]},_e.next=function(){return Oi[Oi.indexOf(_e)+1]},_e.revert=function(li){var Pi=!1!==li||!_e.enabled,Ni=ra;Pi!==_e.isReverted&&(Pi&&(_e.scroll.rec||(_e.scroll.rec=yt()),Zy=Math.max(yt(),_e.scroll.rec||0),Qy=_e.progress,sD=r&&r.progress()),Zt&&[Zt,ji,An,mn].forEach(function(Hi){return Hi.style.display=Pi?"none":"block"}),Pi&&(ra=1),_e.update(Pi),ra=Ni,E&&(Pi?function(t,e,i){gy(i);var r=t._gsap;if(r.spacerIsNative)gy(r.spacerState);else if(t.parentNode===e){var s=e.parentNode;s&&(s.insertBefore(t,e),s.removeChild(e))}}(E,ss,tl):(!ee||!_e.isActive)&&M2(E,ss,id(E),Jy)),_e.isReverted=Pi)},_e.refresh=function(li,Pi){if(!ra&&_e.enabled||Pi){if(E&&li&&mc)return void la(n,"scrollEnd",qH);ra=1,ua&&ua.pause(),A&&r&&r.time(-.01,!0).invalidate(),_e.isReverted||_e.revert();for(var As,lo,km,Jp,Rs,Xs,fd,aD,TW,eb,Ni=et(),Hi=it(),Ll=ge?ge.duration():$E(ye,he),Hn=0,os=0,Fr=i.end,hd=i.endTrigger||v,Br=i.start||(0!==i.start&&v?E?"0 0":"0 100%":0),Ta=i.pinnedContainer&&iu(i.pinnedContainer),wc=v&&Math.max(0,Oi.indexOf(_e))||0,Is=wc;Is--;)(Xs=Oi[Is]).end||Xs.refresh(0,1)||(ra=1),(fd=Xs.pin)&&(fd===v||fd===E)&&!Xs.isReverted&&(eb||(eb=[]),eb.unshift(Xs),Xs.revert());for(ru(Br)&&(Br=Br(_e)),Ft=ZH(Br,v,Ni,he,yt(),Zt,An,_e,Hi,tt,xe,Ll,ge)||(E?-.001:0),ru(Fr)&&(Fr=Fr(_e)),vc(Fr)&&!Fr.indexOf("+=")&&(~Fr.indexOf(" ")?Fr=(vc(Br)?Br.split(" ")[0]:"")+Fr:(Hn=nC(Fr.substr(2),Ni),Fr=vc(Br)?Br:Ft+Hn,hd=v)),gn=Math.max(Ft,ZH(Fr||(hd?"100% 0":Ll),hd,Ni,he,yt()+Hn,ji,mn,_e,Hi,tt,xe,Ll,ge))||-.001,Ki=gn-Ft||(Ft-=.01)&&.001,Hn=0,Is=wc;Is--;)(fd=(Xs=Oi[Is]).pin)&&Xs.start-Xs._pinPush<Ft&&!ge&&(As=Xs.end-Xs.start,(fd===v||fd===Ta)&&!uy(Br)&&(Hn+=As*(1-Xs.progress)),fd===E&&(os+=As));if(Ft+=Hn,gn+=Hn,_e._pinPush=os,Zt&&Hn&&((As={})[he.a]="+="+Hn,Ta&&(As[he.p]="-="+yt()),Nn.set([Zt,ji],As)),E)As=id(E),Jp=he===aa,km=yt(),Ky=parseFloat(dd(he.a))+os,!Ll&&gn>1&&((Re?is:ye).style["overflow-"+he.a]="scroll"),M2(E,ss,As),pu=cC(E),lo=rd(E,!0),aD=xe&&YE(ye,Jp?yc:aa)(),I&&((Jy=[I+he.os2,Ki+os+oa]).t=ss,(Is=I===ms?b2(E,he)+Ki+os:0)&&Jy.push(he.d,Is+oa),gy(Jy),xe&&yt(Zy)),xe&&((Rs={top:lo.top+(Jp?km-Ft:aD)+oa,left:lo.left+(Jp?aD:km-Ft)+oa,boxSizing:"border-box",position:"fixed"})[uh]=Rs.maxWidth=Math.ceil(lo.width)+oa,Rs[dh]=Rs.maxHeight=Math.ceil(lo.height)+oa,Rs[Pl]=Rs[Pl+cm]=Rs[Pl+am]=Rs[Pl+um]=Rs[Pl+lm]="0",Rs[ms]=As[ms],Rs[ms+cm]=As[ms+cm],Rs[ms+am]=As[ms+am],Rs[ms+um]=As[ms+um],Rs[ms+lm]=As[ms+lm],Tc=function(t,e,i){for(var a,r=[],s=t.length,o=i?8:0;o<s;o+=2)r.push(a=t[o],a in e?e[a]:t[o+1]);return r.t=t.t,r}(tl,Rs,ee)),r?(TW=r._initted,h2(1),r.render(r.duration(),!0,!0),wh=dd(he.a)-Ky+Ki+os,Ki!==wh&&Tc.splice(Tc.length-2,2),r.render(0,!0,!0),TW||r.invalidate(),h2(0)):wh=Ki;else if(v&&yt()&&!ge)for(lo=v.parentNode;lo&&lo!==is;)lo._pinOffset&&(Ft-=lo._pinOffset,gn-=lo._pinOffset),lo=lo.parentNode;eb&&eb.forEach(function(C3e){return C3e.revert(!1)}),_e.start=Ft,_e.end=gn,ln=Jt=yt(),ge||(ln<Zy&&yt(Zy),_e.scroll.rec=0),_e.revert(!1),ra=0,r&&Ie&&r._initted&&r.progress()!==sD&&r.progress(sD,!0).render(r.time(),!0,!0),(Qy!==_e.progress||ge)&&(r&&!Ie&&r.totalProgress(Qy,!0),_e.progress=Qy,_e.update(0,0,1)),E&&I&&(ss._pinOffset=Math.round(_e.progress*wh)),u&&u(_e)}},_e.getVelocity=function(){return(yt()-Jt)/(ch()-VE)*1e3||0},_e.endAnimation=function(){dy(_e.callbackAnimation),r&&(ua?ua.progress(1):r.paused()?Ie||dy(r,_e.direction<0,1):dy(r,r.reversed()))},_e.labelToScroll=function(li){return r&&r.labels&&(Ft||_e.refresh()||Ft)+r.labels[li]/r.duration()*Ki||0},_e.getTrailing=function(li){var Pi=Oi.indexOf(_e),Ni=_e.direction>0?Oi.slice(0,Pi).reverse():Oi.slice(Pi+1);return vc(li)?Ni.filter(function(Hi){return Hi.vars.preventOverlaps===li}):Ni},_e.update=function(li,Pi,Ni){if(!ge||Ni||li){var Fr,Br,Ta,wc,Is,As,lo,Hi=_e.scroll(),Ll=li?0:(Hi-Ft)/Ki,Hn=Ll<0?0:Ll>1?1:Ll||0,os=_e.progress;if(Pi&&(Jt=ln,ln=ge?yt():Hi,Z&&(rD=_T,_T=r&&!Ie?r.totalProgress():Hn)),N&&!Hn&&E&&!ra&&!cy&&mc&&Ft<Hi+(Hi-Jt)/(ch()-VE)*N&&(Hn=1e-4),Hn!==os&&_e.enabled){if(wc=(Is=(Fr=_e.isActive=!!Hn&&Hn<1)!=(!!os&&os<1))||!!Hn!=!!os,_e.direction=Hn>os?1:-1,_e.progress=Hn,wc&&!ra&&(Br=Hn&&!os?0:1===Hn?1:1===os?2:3,Ie&&(Ta=!Is&&"none"!==Te[Br+1]&&Te[Br+1]||Te[Br],lo=r&&("complete"===Ta||"reset"===Ta||Ta in r))),le&&Is&&(lo||d||!r)&&(ru(le)?le(_e):_e.getTrailing(le).forEach(function(Xs){return Xs.endAnimation()})),Ie||(!ua||ra||cy?r&&r.totalProgress(Hn,!!ra):(ua.vars.totalProgress=Hn,ua.invalidate().restart())),E)if(li&&I&&(ss.style[I+he.os2]=SW),xe){if(wc){if(As=!li&&Hn>os&&gn+1>Hi&&Hi+1>=$E(ye,he),ee)if(li||!Fr&&!As)eV(E,ss);else{var km=rd(E,!0),Jp=Hi-Ft;eV(E,is,km.top+(he===aa?Jp:0)+oa,km.left+(he===aa?0:Jp)+oa)}gy(Fr||As?Tc:pu),wh!==Ki&&Hn<1&&Fr||tD(Ky+(1!==Hn||As?0:wh))}}else tD(Ky+wh*Hn);Z&&!kt.tween&&!ra&&!cy&&Nm.restart(!0),a&&(Is||W&&Hn&&(Hn<1||!f2))&&ly(a.targets).forEach(function(Xs){return Xs.classList[Fr||W?"add":"remove"](a.className)}),o&&!Ie&&!li&&o(_e),wc&&!ra?(Ie&&(lo&&("complete"===Ta?r.pause().totalProgress(1):"reset"===Ta?r.restart(!0).pause():"restart"===Ta?r.restart(!0):r[Ta]()),o&&o(_e)),(Is||!f2)&&(c&&Is&&m2(_e,c),Ce[Br]&&m2(_e,Ce[Br]),W&&(1===Hn?_e.kill(!1,1):Ce[Br]=0),Is||Ce[Br=1===Hn?1:3]&&m2(_e,Ce[Br])),pe&&!Fr&&Math.abs(_e.getVelocity())>(uy(pe)?pe:2500)&&(dy(_e.callbackAnimation),ua?ua.progress(1):dy(r,!Hn,1))):Ie&&o&&!ra&&o(_e)}if(nD){var Rs=ge?Hi/ge.duration()*(ge._caScrollDist||0):Hi;EW(Rs+(An._isFlipped?1:0)),nD(Rs)}oD&&oD(-Hi/ge.duration()*(ge._caScrollDist||0))}},_e.enable=function(li,Pi){_e.enabled||(_e.enabled=!0,la(ye,"resize",fy),la(ye,"scroll",sC),Ve&&la(n,"refreshInit",Ve),!1!==li&&(_e.progress=Qy=0,ln=Jt=Tt=yt()),!1!==Pi&&_e.refresh())},_e.getTween=function(li){return li&&kt?kt.tween:ua},_e.setPositions=function(li,Pi){E&&(Ky+=li-Ft,wh+=Pi-li-Ki),_e.start=Ft=li,_e.end=gn=Pi,Ki=Pi-li,_e.update()},_e.disable=function(li,Pi){if(_e.enabled&&(!1!==li&&_e.revert(),_e.enabled=_e.isActive=!1,Pi||ua&&ua.pause(),Zy=0,Vt&&(Vt.uncache=1),Ve&&hy(n,"refreshInit",Ve),Nm&&(Nm.pause(),kt.tween&&kt.tween.kill()&&(kt.tween=0)),!Re)){for(var Ni=Oi.length;Ni--;)if(Oi[Ni].scroller===ye&&Oi[Ni]!==_e)return;hy(ye,"resize",fy),hy(ye,"scroll",sC)}},_e.kill=function(li,Pi){_e.disable(li,Pi),ua&&ua.kill(),l&&delete E2[l];var Ni=Oi.indexOf(_e);Ni>=0&&Oi.splice(Ni,1),Ni===sa&&aC>0&&sa--,Ni=0,Oi.forEach(function(Hi){return Hi.scroller===_e.scroller&&(Ni=1)}),Ni||(_e.scroll.rec=0),r&&(r.scrollTrigger=null,li&&r.render(-1),Pi||r.kill()),Zt&&[Zt,ji,An,mn].forEach(function(Hi){return Hi.parentNode&&Hi.parentNode.removeChild(Hi)}),E&&(Vt&&(Vt.uncache=1),Ni=0,Oi.forEach(function(Hi){return Hi.pin===E&&Ni++}),Ni||(Vt.spacer=0))},_e.enable(!1,!1),r&&r.add&&!Ki?Nn.delayedCall(.01,function(){return Ft||gn||_e.refresh()})&&(Ki=.01)&&(Ft=gn=0):_e.refresh()}else this.update=this.refresh=this.kill=WE;var t},n.register=function(i){if(!im&&(Nn=i||UH(),LH()&&window.document&&(Er=window,Do=document,nd=Do.documentElement,is=Do.body),Nn&&(ly=Nn.utils.toArray,HE=Nn.utils.clamp,h2=Nn.core.suppressOverwrites||WE,Nn.core.globals("ScrollTrigger",n),is))){la(Er,"wheel",sC),AH=[Er,Do,nd,is],la(Do,"scroll",sC);var o,r=is.style,s=r.borderTopStyle;r.borderTopStyle="solid",o=rd(is),aa.m=Math.round(o.top+aa.sc())||0,yc.m=Math.round(o.left+yc.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),u2=setInterval(YH,200),Nn.delayedCall(.5,function(){return cy=0}),la(Do,"touchcancel",WE),la(is,"touchstart",WE),zH(la,Do,"pointerdown,touchstart,mousedown",function(){return zE=1}),zH(la,Do,"pointerup,touchend,mouseup",function(){return zE=0}),d2=Nn.utils.checkPrefix("transform"),lC.push(d2),im=ch(),c2=Nn.delayedCall(.2,fm).pause(),rm=[Do,"visibilitychange",function(){var a=Er.innerWidth,l=Er.innerHeight;Do.hidden?(RH=a,DH=l):(RH!==a||DH!==l)&&fy()},Do,"DOMContentLoaded",fm,Er,"load",function(){return mc||fm()},Er,"resize",fy],g2(la)}return im},n.defaults=function(i){if(i)for(var r in i)eC[r]=i[r];return eC},n.kill=function(){FH=0,Oi.slice(0).forEach(function(i){return i.kill(1)})},n.config=function(i){"limitCallbacks"in i&&(f2=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(u2)||(u2=r)&&setInterval(YH,r),"autoRefreshEvents"in i&&(g2(hy)||g2(la,i.autoRefreshEvents||"none"),kH=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=iu(i),o=sp.indexOf(s),a=sm(s);~o&&sp.splice(o,a?6:2),r&&(a?rp.unshift(Er,r,is,r,nd,r):rp.unshift(s,r))},n.matchMedia=function(i){var r,s,o,a,l;for(s in i)o=Xr.indexOf(s),a=i[s],dm=s,"all"===s?a():(r=Er.matchMedia(s))&&(r.matches&&(l=a()),~o?(Xr[o+1]=jH(Xr[o+1],a),Xr[o+2]=jH(Xr[o+2],l)):(o=Xr.length,Xr.push(s,a,l),r.addListener?r.addListener(XH):r.addEventListener("change",XH)),Xr[o+3]=r.matches),dm=0;return Xr},n.clearMatchMedia=function(i){i||(Xr.length=0),(i=Xr.indexOf(i))>=0&&Xr.splice(i,4)},n.isInViewport=function(i,r,s){var o=(vc(i)?iu(i):i).getBoundingClientRect(),a=o[s?uh:dh]*r||0;return s?o.right-a>0&&o.left+a<Er.innerWidth:o.bottom-a>0&&o.top+a<Er.innerHeight},n.positionInViewport=function(i,r,s){vc(i)&&(i=iu(i));var o=i.getBoundingClientRect(),a=o[s?uh:dh],l=null==r?a/2:r in tC?tC[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/Er.innerWidth:(o.top+l)/Er.innerHeight},n}();qi.version="3.9.1",qi.saveStyles=function(n){return n?ly(n).forEach(function(t){if(t&&t.style){var e=xl.indexOf(t);e>=0&&xl.splice(e,5),xl.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),Nn.core.getCache(t),dm)}}):xl},qi.revert=function(n,t){return oC(!n,t)},qi.create=function(n,t){return new qi(n,t)},qi.refresh=function(n){return n?fy():(im||qi.register())&&fm(!0)},qi.update=T2,qi.clearScrollMemory=JH,qi.maxScroll=function(n,t){return $E(n,t?yc:aa)},qi.getScrollFunc=function(n,t){return YE(iu(n),t?yc:aa)},qi.getById=function(n){return E2[n]},qi.getAll=function(){return Oi.slice(0)},qi.isScrolling=function(){return!!mc},qi.snapDirectional=S2,qi.addEventListener=function(n,t){var e=py[n]||(py[n]=[]);~e.indexOf(t)||e.push(t)},qi.removeEventListener=function(n,t){var e=py[n],i=e&&e.indexOf(t);i>=0&&e.splice(i,1)},qi.batch=function(n,t){var a,e=[],i={},r=t.interval||.016,s=t.batchMax||1e9,o=function(c,u){var d=[],v=[],E=Nn.delayedCall(r,function(){u(d,v),d=[],v=[]}).pause();return function(I){d.length||E.restart(!0),d.push(I.trigger),v.push(I),s<=d.length&&E.progress(1)}};for(a in t)i[a]="on"===a.substr(0,2)&&ru(t[a])&&"onRefreshInit"!==a?o(0,t[a]):t[a];return ru(s)&&(s=s(),la(qi,"refresh",function(){return s=t.batchMax()})),ly(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,e.push(qi.create(c))}),e},qi.sort=function(n){return Oi.sort(n||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},UH()&&Nn.registerPlugin(qi);var bc=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won",n.ChallengePaused="Challenge has been paused",n.ChallengeResumed="Challenge has been resumed",n.PlayerKicked="You have been removed from the Challenge by the Administrator",n.ChallengeWasCanceled="Challenge was canceled"}(bc||(bc={})),bc))(),ar=(()=>(function(n){n.CatchMultipliers="CATCH_MULTIPLIERS",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.BetInTotal="BET_IN_TOTAL",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM"}(ar||(ar={})),ar))();const O2=new Set([ar.WinMoneyInTotal,ar.BetInTotal]);let pm=(()=>{class n{constructor(e){this.challenge=e,this.minIntegerDigits=1}transform(e,i){if("number"!=typeof e&&"string"!=typeof e)return"";const r=null!=i?i:this.challenge.config.currencyPrecision;return Wh(new Ar(e).toDecimalPlaces(this.challenge.config.currencyPrecision,Ar.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(J(Hs,16))},n.\u0275pipe=fr({name:"currencyPrecision",type:n,pure:!0}),n})(),_y=(()=>{class n{constructor(e,i,r){this.translate=e,this.bsMessage=i,this.currencyPrecisionPipe=r}getTranslation(e,i={}){const r=`challenges.toastMessage.${e}`;return this.translate.translate(r)?this.translate.translate(r,i):e}getTranslationTask(e,i){const r=`challenges.tasks.${e}`,s=this.translate.translate(r,{minBet:this.currencyPrecisionPipe.transform(i.minBet),targetMinMultiplier:i.targetMinMultiplier,goal:O2.has(e)?this.currencyPrecisionPipe.transform(i.goal):i.goal,currency:i.currency});return this.translate.translate(r)?s:e}show(e,i,r={},s){const o=s?this.getTranslation(e,r)+" "+this.getTranslationTask(s.taskType,s.params):this.getTranslation(e,r);this.bsMessage.add({value:o,context:i,scope:Gv.Challenges})}}return n.\u0275fac=function(e){return new(e||n)(He(C0),He(Va),He(pm))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),lp=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.update=new jn({challenge:Sr.Announced,player:or.None,finishDate:null}),this.update$=this.update.asObservable(),this.stomp.response(gs.ChallengesInit).pipe(Nt(s=>s.challenges.length>0),Pe(s=>s.challenges[0])).subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.challengeStatus,finishDate:s.config.endDate,player:s.playerStatus}))}),this.stomp.response(gs.PlayerStatus).subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:s.status})),s.status===or.Won&&this.notification.show(bc.ChallengeCompleted,dr.success,{challenge:this.challenge.config.typeUi}),s.status===or.Joined&&this.stomp.request(gc.Leaderboard,{challengeId:this.challenge.config.challengeId}),s.status===or.Rewarded&&this.notification.show(bc.PrizePaid,dr.success,{challenge:this.challenge.config.typeUi}),s.status===or.Kicked&&(this.notification.show(bc.PlayerKicked,dr.danger,{challenge:this.challenge.config.typeUi}),this.stomp.stompClient.deactivate()),s.status===or.OperatorKicked&&(this.notification.show(bc.ChallengeWasCanceled,dr.danger,{challenge:this.challenge.config.typeUi}),this.stomp.stompClient.deactivate())}),this.stomp.response(gs.ChallengeStatus).subscribe(s=>{s.status===Sr.Paused&&this.notification.show(bc.ChallengePaused,dr.danger,{challenge:this.challenge.config.typeUi}),(s.status===Sr.Closed||s.status===Sr.Canceled)&&this.stomp.stompClient.deactivate(),this.update.getValue().challenge===Sr.Paused&&s.status===Sr.Active&&this.notification.show(bc.ChallengeResumed,dr.success,{challenge:this.challenge.config.typeUi}),this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.status,finishDate:s.finishDate||this.update.getValue().finishDate}))})}}return n.\u0275fac=function(e){return new(e||n)(He(za),He(_y),He(Hs))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),cp=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.tasks=new Map,this.updateSubject=new jn(null),this.update$=this.updateSubject.asObservable(),this.stomp.response(gs.ChallengesInit).pipe(Nt(s=>s.challenges.length>0),Pe(s=>s.challenges[0])).subscribe(s=>{this.tasks.clear(),s.progress.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},o),{nameParams:{goal:o.goal,minBet:o.minBet,targetMinMultiplier:o.targetMinMultiplier,currency:this.challenge.config.currency}}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.progress.total})}),this.stomp.response(gs.Progress).subscribe(s=>{s.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},this.tasks.get(o.type)),{progress:o.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.total}),this.tasks.get(o.type).progress===this.tasks.get(o.type).goal&&this.notification.show(bc.TaskCompleted,dr.success,{},{taskType:o.type,params:this.tasks.get(o.type).nameParams})})})}}return n.\u0275fac=function(e){return new(e||n)(He(za),He(_y),He(Hs))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),gm=(()=>{class n{constructor(e,i,r,s){this.stomp=e,this.notification=i,this.challenge=r,this.currencyPrecisionPipe=s,this.updateSubject=new jn({left:null}),this.update$=this.updateSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.tournamentList=[],this.stomp.response(gs.ChallengesInit).pipe(Nt(o=>o.challenges.length>0),Pe(o=>o.challenges[0])).subscribe(o=>{this.items=[...o.prizes],this.challenge.config.typeUi===si.TOURNAMENT&&(this.setTournamentList(o.prizes),this.setTournamentItems(o.prizes))}),this.stomp.response(gs.Prize).subscribe(o=>{console.log("LEFT",o.left),this.updateSubject.next({left:o.left}),0===o.left&&this.notification.show(bc.PrizesEnded,dr.danger,{challenge:this.challenge.config.typeUi})})}setTournamentList(e){this.tournamentList=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).flatMap(i=>{var r,s;let o="";return i.type===_c.FreeBet&&(o=this.currencyPrecisionPipe.transform(i.cost)+(this.challenge.config.isCurrencyNameHidden?"":" "+this.challenge.config.currency)+" Freebet"),i.type===_c.Special&&(o=i.name),(null===(r=i.position)||void 0===r?void 0:r.type)===Ku.Single?o:(null===(s=i.position)||void 0===s?void 0:s.type)===Ku.Range?Array(i.position.end-i.position.start+1).fill(o):void 0})}setTournamentItems(e){this.items=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).flatMap(i=>{var r,s;return(null===(r=i.position)||void 0===r?void 0:r.type)===Ku.Single?i:(null===(s=i.position)||void 0===s?void 0:s.type)===Ku.Range?Array(i.position.end-i.position.start+1).fill(i):void 0})}getPrizePosition(e){var i,r;return(null===(i=e.position)||void 0===i?void 0:i.type)===Ku.Single?e.position.value:(null===(r=e.position)||void 0===r?void 0:r.type)===Ku.Range?e.position.start:void 0}}return n.\u0275fac=function(e){return new(e||n)(He(za),He(_y),He(Hs),He(pm))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),my=(()=>{class n{constructor(e,i){this.challenge=e,this.status=i,this.stakes=new Map([]),this.challengeStatus=Sr.Announced,this.playerStatus=or.None,this.updateSubject=new jn(!1),this.update$=this.updateSubject.asObservable().pipe(Pf()),this.status.update$.subscribe(r=>{this.challengeStatus=r.challenge,this.playerStatus=r.player,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.challenge.config.minBet)&&this.challengeStatus===Sr.Active&&this.playerStatus===or.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(He(Hs),He(lp))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),vy=(()=>{class n{constructor(e,i){this.stomp=e,this.challenge=i,this.loadedSubject=new jn(!1),this.items=[],this.myItem=null,this.myPosition=0,this.loaded$=this.loadedSubject.asObservable(),this.stomp.response(gs.Leaderboard).pipe(Nt(r=>200===r.code)).subscribe(r=>{this.items=[...r.leaders],null!==r.myPosition&&(this.myItem=this.getMyItem(r.myPosition-1),this.myPosition=r.myPosition),this.loadedSubject.next(!0)})}sendRequestLeaderboard(){this.loadedSubject.next(!1),this.stomp.request(gc.Leaderboard,this.challenge.config.challengeId?{challengeId:this.challenge.config.challengeId}:null)}getMyItem(e){return e<this.challenge.config.leaderBoardSize?this.items[e]:this.items.pop()}}return n.\u0275fac=function(e){return new(e||n)(He(za),He(Hs))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();var up=(()=>(function(n){n.Upcoming="Upcoming",n.Waiting="Waiting",n.Live="Live",n.Paused="Paused",n.Finished="Finished",n.Done="Done",n.MinBet="Min. bet"}(up||(up={})),up))();let P2=(()=>{class n{constructor(){this.ChallengeStatusUI=up}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-status-badge"]],inputs:{status:"status"},decls:2,vars:4,template:function(e,i){1&e&&(R(0,"div"),j(1),D()),2&e&&(pv("badge ",i.status===i.ChallengeStatusUI.MinBet?"error":i.status,""),P(1),re(" ",i.status,"\n"))},styles:['.badge[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:32px;padding:4px 12px 4px 32px;gap:10px;border-radius:64px;background:rgba(255,255,255,.05);color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;text-transform:uppercase}.badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:4px;width:24px;height:24px;content:""}.badge.Upcoming[_ngcontent-%COMP%]:before{background:url(icon-calendar.12bccc41819bd1c4.svg) no-repeat center center/contain}.badge.Waiting[_ngcontent-%COMP%]:before{background:url(icon-clock.86b9aad31b70a448.svg) no-repeat center center/contain}.badge.Live[_ngcontent-%COMP%]:before{background:url(icon-live.60cac7b3ac8d21c2.svg) no-repeat center center/contain}.badge.Paused[_ngcontent-%COMP%]:before{background:url(icon-pause.12f2008275ca41b7.svg) no-repeat center center/contain}.badge.Done[_ngcontent-%COMP%]:before{background:url(icon-check.d5a3b64009441dd8.svg) no-repeat center center/contain}.badge.Finished[_ngcontent-%COMP%]:before{background:url(icon-finish.0ee21c90fcf67e59.svg) no-repeat center center/contain}.badge.error[_ngcontent-%COMP%]:before{background:url(icon-error.6f5e522566577a2b.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function _Se(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Upcoming)}function mSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Live)}function vSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Live)}function ySe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Waiting)}function bSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Paused)}function SSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Paused)}function ESe(n,t){if(1&n&&ve(0,"app-challenge-status-badge",4),2&n){const e=se(2);B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done)}}function CSe(n,t){if(1&n&&ve(0,"app-challenge-status-badge",4),2&n){const e=se(2);B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished)}}function TSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Finished)}function wSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se(2).ChallengeStatusUI.Finished)}function MSe(n,t){if(1&n&&(ot(0),ne(1,_Se,1,1,"app-challenge-status-badge",2),ne(2,mSe,1,1,"app-challenge-status-badge",2),ne(3,vSe,1,1,"app-challenge-status-badge",2),ne(4,ySe,1,1,"app-challenge-status-badge",2),ne(5,bSe,1,1,"app-challenge-status-badge",2),ne(6,SSe,1,1,"app-challenge-status-badge",2),ne(7,ESe,1,1,"app-challenge-status-badge",2),ne(8,CSe,1,1,"app-challenge-status-badge",2),ne(9,TSe,1,1,"app-challenge-status-badge",2),ne(10,wSe,1,1,"app-challenge-status-badge",2),at()),2&n){const e=se();P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Won),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function OSe(n,t){1&n&&ve(0,"app-challenge-status-badge",4),2&n&&B("status",se().ChallengeStatusUI.MinBet)}let nV=(()=>{class n{constructor(){this.ChallengeStatusUI=up,this.ChallengeStatus=Sr,this.PlayerStatus=or}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-header-main"]],inputs:{challengeStatus:"challengeStatus",playerStatus:"playerStatus",userCount:"userCount",isMinBetError:"isMinBetError"},decls:6,vars:6,consts:[[1,"challenge-header-main"],[4,"ngIf"],[3,"status",4,"ngIf"],[1,"user-count-badge"],[3,"status"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,MSe,11,10,"ng-container",1),ne(2,OSe,1,1,"app-challenge-status-badge",2),R(3,"div",3),j(4),$(5,"number"),D()()),2&e&&(P(1),B("ngIf",!i.isMinBetError),P(1),B("ngIf",i.isMinBetError),P(2),We(Yt(5,3,i.userCount,"1.0-0")))},directives:[Lt,P2],pipes:[Od],styles:['[_nghost-%COMP%]{width:100%;height:100%}.challenge-header-main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;padding:8px}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;max-width:112px;padding:4px 12px 4px 4px;background-color:#ffffff0d;border-radius:64px;color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;letter-spacing:-.3px;text-transform:uppercase}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]:before{content:"";margin-right:4px;width:24px;height:24px;background:url(icon-user.47ea8246ab247e97.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),iV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-header-scrolled"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,i){1&e&&(R(0,"span"),j(1),D()),2&e&&(P(1),We(i.title))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#1a1a1a;padding:8px 0}"],changeDetection:0}),n})();function x2(n=0,t=t_){return n<0&&(n=0),Iu(n,n,t)}function PSe(n,t){if(1&n&&(R(0,"div",1)(1,"span",2),j(2),$(3,"number"),D(),j(4,":"),R(5,"span",2),j(6),$(7,"number"),D(),j(8,":"),R(9,"span",2),j(10),$(11,"number"),D()()),2&n){const e=t.ngIf;P(2),We(Yt(3,3,e.hours,"2.0")),P(4),We(Yt(7,6,e.minutes,"2.0")),P(4),We(Yt(11,9,e.seconds,"2.0"))}}let dp=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=x2(1e3).pipe(Et(this),Vd(0),Pe(()=>this.calcDateDiff()))}calcDateDiff(){const t=new Ar(this.targetDate-Date.now());return t.toNumber()<=0?{seconds:0,minutes:0,hours:0}:{hours:t.div(this.milSecInSec).div(this.minInH).div(this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:t.div(this.milSecInSec).div(this.minInH).mod(this.secInMin).floor().toNumber(),seconds:t.div(this.milSecInSec).mod(this.secInMin).floor().toNumber()}}};function xSe(n,t){if(1&n&&(function FD(){xn.lFrame.currentNamespace="svg"}(),R(0,"svg",10),ve(1,"circle",11)(2,"circle",12),D()),2&n){const e=se();ti("width",e.progressCircleDimension)("height",e.progressCircleDimension)("viewBox","0 0 "+e.progressCircleDimension+" "+e.progressCircleDimension),P(1),ti("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2),P(1),ti("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2)("stroke-dasharray",6.28*e.progressCircleRadius+"px")("stroke-dashoffset",6.28*e.progressCircleRadius*(100-e.progress)/100+"px")}}function ISe(n,t){if(1&n&&(R(0,"span",13),j(1),$(2,"transloco"),$(3,"date"),$(4,"date"),D()),2&n){const e=se();P(1),Fg(" ",K(2,3,"challenges.Start:")," ",Yt(3,5,e.startDate,"d MMM y")," \u2022 ",Yt(4,8,e.startDate,"HH:mm")," ")}}function ASe(n,t){if(1&n&&(R(0,"span",13),j(1),$(2,"transloco"),$(3,"date"),$(4,"date"),D()),2&n){const e=se();P(1),Fg(" ",K(2,3,"challenges.End:")," ",Yt(3,5,e.endDate,"d MMM y")," \u2022 ",Yt(4,8,e.endDate,"HH:mm")," ")}}function RSe(n,t){1&n&&ve(0,"app-challenge-countdown",14),2&n&&B("targetDate",se().targetDate)}dp.\u0275fac=function(t){return new(t||dp)},dp.\u0275cmp=st({type:dp,selectors:[["app-challenge-countdown"]],inputs:{targetDate:"targetDate"},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"value-part"]],template:function(t,e){1&t&&(ne(0,PSe,12,12,"div",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.timeLeft$))},directives:[Lt],pipes:[bo,Od],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#7a7a7acc;font-size:24px;font-weight:600;line-height:28px;letter-spacing:-.6px}.container[_ngcontent-%COMP%]   .value-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:48px;width:48px;color:#e0e0e0cc;padding:4px;border-radius:8px;background-color:#1f1f1f;margin:0 4px;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),dp=Qe([qn()],dp);let rV=(()=>{class n{constructor(){this.challengeTypeUI=si,this.progressCircleDimension=80,this.progressCircleRadius=36}get bgImageNames(){return{[si.RACE]:["xrace-details-bg.png","xrace-details-bg@2x.png","xrace-details-bg@3x.png"],[si.MISSION]:["xmission-details-bg.png","xmission-details-bg@2x.png","xmission-details-bg@3x.png"],[si.TOURNAMENT]:["xtournament-details-bg.png","xtournament-details-bg@2x.png","xtournament-details-bg@3x.png"]}[this.type]}get typeImageNames(){return{[si.RACE]:["xrace-icon.png","xrace-icon@2x.png","xrace-icon@3x.png"],[si.MISSION]:["xmission-icon.png","xmission-icon@2x.png","xmission-icon@3x.png"],[si.TOURNAMENT]:["xtournament-icon.png","xtournament-icon@2x.png","xtournament-icon@3x.png"]}[this.type]}get targetDate(){return this.isChallengeStarted?this.endDate:this.startDate}get shouldDisplayCountdown(){const e=Date.now();return!this.isChallengePaused&&!this.isChallengeFinished&&e<this.targetDate&&this.targetDate-e<864e5}getFullImgPathBg(e){return"assets/images/engagement-tools/"+e}getSrcSetBg(e,i,r){return`${this.getFullImgPathBg(e)}, ${this.getFullImgPathBg(i)} 2x, ${this.getFullImgPathBg(r)} 3x`}getFullImgPathType(e){return"assets/challenges/images/"+e}getSrcSetType(e,i,r){return`${this.getFullImgPathType(e)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-info-main"]],inputs:{name:"name",type:"type",startDate:"startDate",endDate:"endDate",progress:"progress",isProgressEnabled:"isProgressEnabled",isError:"isError",isChallengeStarted:"isChallengeStarted",isChallengePaused:"isChallengePaused",isChallengeFinished:"isChallengeFinished"},decls:13,vars:18,consts:[[1,"challenge-info-main"],["alt","mission-details-bg",1,"bg-image",3,"srcset","src"],[1,"content"],[1,"challenge-progress"],["class","progress-circle",4,"ngIf"],["alt","challenge-type",3,"srcset","src"],[1,"type"],[1,"name"],["class","schedule",4,"ngIf"],[3,"targetDate",4,"ngIf"],[1,"progress-circle"],["fill","transparent","stroke","var(--progress-bar-bg)","stroke-width","var(--progress-stroke-width)"],["fill","transparent","stroke","var(--progress-color)","stroke-linecap","round","stroke-width","var(--progress-stroke-width)"],[1,"schedule"],[3,"targetDate"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"img",1),R(2,"div",2)(3,"div",3),ne(4,xSe,3,11,"svg",4),ve(5,"img",5),D(),R(6,"span",6),j(7),D(),R(8,"span",7),j(9),D(),ne(10,ISe,5,11,"span",8),ne(11,ASe,5,11,"span",8),ne(12,RSe,1,1,"app-challenge-countdown",9),D()()),2&e&&(Xl("--progress",i.progress),P(1),B("srcset",i.getSrcSetBg(i.bgImageNames[0],i.bgImageNames[1],i.bgImageNames[2]),nn)("src",i.getFullImgPathBg(i.bgImageNames[0]),nn),P(2),Mt("live",i.isProgressEnabled)("success",i.isProgressEnabled&&100===i.progress)("error",i.isError),P(1),B("ngIf",i.type!==i.challengeTypeUI.TOURNAMENT),P(1),B("srcset",i.getSrcSetType(i.typeImageNames[0],i.typeImageNames[1],i.typeImageNames[2]),nn)("src",i.getFullImgPathType(i.typeImageNames[0]),nn),P(2),We(i.type),P(2),We(i.name),P(1),B("ngIf",!i.isChallengeStarted&&!i.isChallengeFinished),P(1),B("ngIf",i.isChallengeStarted||i.isChallengeFinished),P(1),B("ngIf",i.shouldDisplayCountdown))},directives:[Lt,dp],pipes:[Ut,Bc],styles:[".challenge-info-main[_ngcontent-%COMP%]{position:relative}.challenge-info-main[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%);width:344px;height:auto;z-index:0}@media (min-width: 768px){.challenge-info-main[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{width:424px;top:-24px}}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:64px 32px 16px;z-index:1}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]{--progress-stroke-width: 4px;--progress-bar-bg: rgba(255, 255, 255, .05);--progress-color: rgba(255, 255, 255, .1);position:relative;display:flex;justify-content:center;align-items:center;width:72px;height:72px;border-radius:50%;margin-bottom:12px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transform-origin:center;transform:rotate(-90deg)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.live[_ngcontent-%COMP%]{--progress-color: #ffde5c}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.success[_ngcontent-%COMP%]{--progress-color: #79e279}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.error[_ngcontent-%COMP%]{--progress-color: #f35656}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;padding:8px;background-color:#ffffff1a;border-radius:50%}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e0e0e0;text-align:center;font-size:12px;font-weight:400;line-height:16px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-challenge-countdown[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0}),n})(),sV=(()=>{class n{constructor(){this.isError=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-message"]],inputs:{message:"message",isError:"isError"},decls:2,vars:3,consts:[[1,"challenge-message"]],template:function(e,i){1&e&&(R(0,"div",0),j(1),D()),2&e&&(Mt("error",i.isError),P(1),re(" ",i.message,"\n"))},styles:["[_nghost-%COMP%]{z-index:1}.challenge-message[_ngcontent-%COMP%]{width:250px;color:#a3a3a3;background-color:#1f1f1f;padding:8px 16px;border-radius:2px 12px 12px;font-size:12px;font-weight:400;line-height:16px;text-align:center}.challenge-message.error[_ngcontent-%COMP%]{color:#f35656;text-align:left}"],changeDetection:0}),n})();function DSe(n,t){if(1&n&&(R(0,"div",4),ve(1,"img",5),j(2," TOP "),D()),2&n){const e=se();P(1),B("srcset",e.getSrcSet("medal-gold.png","medal-gold@2x.png","medal-gold@3x.png"),nn)("src",e.getFullImgPath("medal-gold.png"),nn)}}function NSe(n,t){if(1&n&&(R(0,"div",4),ve(1,"img",5),j(2," TOP "),D()),2&n){const e=se();P(1),B("srcset",e.getSrcSet("medal-silver.png","medal-silver@2x.png","medal-silver@3x.png"),nn)("src",e.getFullImgPath("join.png"),nn)}}function kSe(n,t){if(1&n&&(R(0,"div",4),ve(1,"img",5),j(2," TOP "),D()),2&n){const e=se();P(1),B("srcset",e.getSrcSet("medal-bronze.png","medal-bronze@2x.png","medal-bronze@3x.png"),nn)("src",e.getFullImgPath("medal-bronze.png"),nn)}}function FSe(n,t){if(1&n&&(R(0,"div",6),j(1),D()),2&n){const e=se();P(1),re(" ",e.placeNumber," ")}}let oV=(()=>{class n{get placeNumber(){return this.leaderIndex+1}getSrcSet(e,i,r){return`${this.getFullImgPath(e)}, ${this.getFullImgPath(i)} 2x, ${this.getFullImgPath(r)} 3x`}getFullImgPath(e){return"assets/challenges/images/"+e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-leaderboard-player-place"]],inputs:{leaderIndex:"leaderIndex"},decls:6,vars:4,consts:[[1,"leaderboard-place-container"],[3,"ngSwitch"],["class","place-number top",4,"ngSwitchCase"],["class","place-number",4,"ngSwitchDefault"],[1,"place-number","top"],["alt","",3,"srcset","src"],[1,"place-number"]],template:function(e,i){1&e&&(R(0,"div",0),ot(1,1),ne(2,DSe,3,2,"div",2),ne(3,NSe,3,2,"div",2),ne(4,kSe,3,2,"div",2),ne(5,FSe,2,1,"div",3),at(),D()),2&e&&(P(1),B("ngSwitch",i.placeNumber),P(1),B("ngSwitchCase",1),P(1),B("ngSwitchCase",2),P(1),B("ngSwitchCase",3))},directives:[Bs,yo,Ou],styles:[".leaderboard-place-container[_ngcontent-%COMP%]{display:flex;min-width:52px;height:24px;padding:4px;justify-content:center;align-items:center;border-radius:32px;background:#242424}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]{width:100%;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:10px;font-weight:500;letter-spacing:-.25px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;-o-object-fit:cover;object-fit:cover;margin-right:4px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%], .leaderboard-place-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{color:#a3a3a3}"],changeDetection:0}),n})();function BSe(n,t){if(1&n&&ve(0,"img",3),2&n){const e=se();B("src",e.getAvatar(e.avatar),nn)}}function LSe(n,t){1&n&&ve(0,"img",4)}let USe=(()=>{class n{getAvatar(e){return Ei_avatarPath+e+`?v=${Ei_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-leaderboard-player-avatar"]],inputs:{avatar:"avatar"},decls:3,vars:2,consts:[[1,"avatar-container"],["class","d-inline-block","alt","",3,"src",4,"ngIf"],["class","d-inline-block","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",4,"ngIf"],["alt","",1,"d-inline-block",3,"src"],["src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",1,"d-inline-block"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,BSe,1,1,"img",1),ne(2,LSe,1,0,"img",2),D()),2&e&&(P(1),B("ngIf",i.avatar),P(1),B("ngIf",!i.avatar))},directives:[Lt],styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:24px}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),n})(),jSe=(()=>{class n{constructor(e){this.challenge=e}transform(e){return this.challenge.config.isUseMaskedUsername?e&&function GSe(n){return"string"==typeof n||n instanceof String}(e)?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(J(Hs,16))},n.\u0275pipe=fr({name:"maskedUsername",type:n,pure:!0}),n})();const No=void 0;!function Iee(n,t,e){(function eJ(n,t,e){"string"!=typeof t&&(e=t,t=n[Ht.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Bg[t]=n,e&&(Bg[t][Ht.ExtraData]=e)})(n,t,e)}(["de",[["AM","PM"],No,No],No,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],No,No],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",No,"{1} 'um' {0}",No],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],CUC:[No,"Cub$"],DEM:["DM"],FKP:[No,"Fl\xa3"],GHS:[No,"\u20b5"],GNF:[No,"F.G."],KMF:[No,"FC"],PHP:[No,"\u20b1"],RON:[No,"L"],RWF:[No,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[No,"K"]},"ltr",function HSe(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}]);let I2=(()=>{class n{transform(e){return"number"!=typeof e?"":Wh(e,"de-DE","1.2-2")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=fr({name:"scorePrecision",type:n,pure:!0}),n})();function VSe(n,t){1&n&&ve(0,"app-leaderboard-player-place",6),2&n&&B("leaderIndex",se().leaderboardIndex)}const zSe=function(n){return{complete:n}};function WSe(n,t){if(1&n&&(R(0,"div",7),j(1),D()),2&n){const e=se();B("ngClass",Bi(2,zSe,100===e.leaderboardItem.progress)),P(1),re(" ",e.leaderboardItem.progress.toFixed(2),"% ")}}function YSe(n,t){1&n&&(ot(0),j(1,"-"),at())}function $Se(n,t){if(1&n&&(ot(0),j(1),$(2,"scorePrecision"),at()),2&n){const e=se(2);P(1),We(K(2,1,e.leaderboardItem.progress))}}function XSe(n,t){if(1&n&&(R(0,"div",8),ne(1,YSe,2,0,"ng-container",9),ne(2,$Se,3,3,"ng-container",9),D()),2&n){const e=se();P(1),B("ngIf",!e.isChallengeActive),P(1),B("ngIf",e.isChallengeActive)}}const qSe=function(n){return{activeUser:n}};let A2=(()=>{class n{constructor(){this.isCurrentUserItem=!1,this.componentVariant=si.RACE,this.ChallengeTypeUI=si}get isChallengeActive(){return this.challengeStatus!==Sr.Announced}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-leaderboard-item"]],inputs:{leaderboardIndex:"leaderboardIndex",leaderboardItem:"leaderboardItem",isCurrentUserItem:"isCurrentUserItem",challengeStatus:"challengeStatus",componentVariant:"componentVariant"},decls:8,vars:10,consts:[[1,"leaderboard-item",3,"ngClass"],[3,"leaderIndex",4,"ngIf"],[1,"leaderboard-avatar",3,"avatar"],[1,"leaderboard-name"],["class","leaderboard-percentage",3,"ngClass",4,"ngIf"],["class","leaderboard-score",4,"ngIf"],[3,"leaderIndex"],[1,"leaderboard-percentage",3,"ngClass"],[1,"leaderboard-score"],[4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,VSe,1,1,"app-leaderboard-player-place",1),ve(2,"app-leaderboard-player-avatar",2),R(3,"div",3),j(4),$(5,"maskedUsername"),D(),ne(6,WSe,2,4,"div",4),ne(7,XSe,3,2,"div",5),D()),2&e&&(B("ngClass",Bi(8,qSe,i.isCurrentUserItem)),P(1),B("ngIf",i.isChallengeActive),P(1),B("avatar",i.leaderboardItem.avatar),P(2),re(" ",K(5,6,i.leaderboardItem.name)," "),P(2),B("ngIf",i.componentVariant!==i.ChallengeTypeUI.TOURNAMENT),P(1),B("ngIf",i.componentVariant===i.ChallengeTypeUI.TOURNAMENT))},directives:[vo,Lt,oV,USe],pipes:[jSe,I2],styles:[".leaderboard-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.leaderboard-item.activeUser[_ngcontent-%COMP%]{color:#ffde5c;border-radius:8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-avatar[_ngcontent-%COMP%]{margin:0 8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage[_ngcontent-%COMP%]{width:64px;text-align:right;margin-left:16px;font-size:14px;font-weight:500}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage.complete[_ngcontent-%COMP%]{color:#79e279}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-score[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-weight:500}"],changeDetection:0}),n})();const KSe=["leaderboardContainer"];function JSe(n,t){if(1&n&&(R(0,"span",6),j(1),D()),2&n){const e=se();P(1),re("(Top-",e.topValue,")")}}function QSe(n,t){1&n&&(R(0,"div",11),ve(1,"app-loader"),D())}function ZSe(n,t){1&n&&(R(0,"div",12)(1,"div",13),j(2),$(3,"transloco"),R(4,"p"),j(5),$(6,"transloco"),D()()()),2&n&&(P(2),re(" ",K(3,2,"challenges.No players yet :(")," "),P(3),re(" ",K(6,4,"challenges.You can be one of the first!")," "))}const eEe=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function tEe(n,t){if(1&n&&ve(0,"app-leaderboard-item",23),2&n){const e=t.$implicit,i=t.index,r=se(2).ngIf,s=se();B("isCurrentUserItem",s.leaderboard.myPosition===i+1)("challengeStatus",r.challenge)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",vM(5,eEe,1===s.leaderboard.items.length,i===s.leaderboard.myPosition,s.leaderboard.myPosition>1&&i+2===s.leaderboard.myPosition,i>=s.maxListLength))}}function nEe(n,t){if(1&n&&(R(0,"div",24),ve(1,"app-leaderboard-item",25),D()),2&n){const e=se(2).ngIf,i=se();P(1),B("leaderboardItem",i.leaderboard.myItem)("leaderboardIndex",i.leaderboard.myPosition-1)("challengeStatus",e.challenge)("isCurrentUserItem",!0)}}const iEe=function(n){return{visible:n}};function rEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",14,15),ne(3,tEe,1,10,"app-leaderboard-item",16),D(),R(4,"div",17),ve(5,"div",18),R(6,"div",19)(7,"button",20),Oe("click",function(){return ct(e),se(2).scrollToTop()}),j(8),$(9,"transloco"),D()(),ne(10,nEe,2,4,"div",21),R(11,"div",22),j(12),$(13,"transloco"),$(14,"async"),D()(),at()}if(2&n){const e=se().ngIf,i=se();P(3),B("ngForOf",i.leaderboard.items),P(3),B("ngClass",Bi(12,iEe,i.isScrollToTopVisible)),P(2),re(" ",K(9,6,"challenges.action.Back to top")," "),P(2),B("ngIf",e.player!==i.playerStatus.None),P(2),ui(" ",K(13,8,"challenges.Total Players")," - ",K(14,10,i.challenge.update$).joinCount," ")}}function sEe(n,t){if(1&n&&(R(0,"div",7),ne(1,QSe,2,0,"div",8),$(2,"async"),ne(3,ZSe,7,6,"div",9),$(4,"async"),ne(5,rEe,15,14,"ng-container",10),$(6,"async"),D()),2&n){const e=se();P(1),B("ngIf",!1===K(2,3,e.leaderboard.loaded$)),P(2),B("ngIf",K(4,5,e.leaderboard.loaded$)&&!e.leaderboard.items.length),P(2),B("ngIf",K(6,7,e.leaderboard.loaded$)&&!!e.leaderboard.items.length)}}let hp=class{constructor(t,e,i,r,s,o,a,l){this.activeModal=t,this.stomp=e,this.cd=i,this.challenge=r,this.prize=s,this.task=o,this.status=a,this.leaderboard=l,this.maxListLength=this.challenge.config.leaderBoardSize,this.topValue=100,this.isScrollToTopVisible=!1,this.playerStatus=or,this.LEADERBOARD_ITEM_HEIGHT=40}ngOnInit(){this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>this.close())}ngAfterViewInit(){this.onLeaderboardLoaded()}close(){this.activeModal.close()}scrollToTop(){this.leaderboardContainer&&this.leaderboardContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaderboard.items.length||vi(this.leaderboardContainer.nativeElement,"scroll").pipe(Et(this),qo(200),Nt(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};hp.\u0275fac=function(t){return new(t||hp)(J(ns),J(za),J(En),J(Hs),J(gm),J(cp),J(lp),J(vy))},hp.\u0275cmp=st({type:hp,selectors:[["app-leaderboard"]],viewQuery:function(t,e){if(1&t&&Ts(KSe,5),2&t){let i;Vn(i=zn())&&(e.leaderboardContainer=i.first)}},decls:10,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",4,"ngIf"],[1,"top-description"],[1,"modal-body"],["class","loader",4,"ngIf"],["class","no-players",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"no-players"],[1,"no-players-text"],[1,"leaderboard-container"],["leaderboardContainer",""],["class","leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"after-list-container"],[1,"blur-block"],[1,"scroll-to-top",3,"ngClass"],[1,"btn",3,"click"],["class","active-user-container",4,"ngIf"],[1,"total-prizes","modal-footer"],[1,"leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"span"),j(3),$(4,"transloco"),D(),ne(5,JSe,2,1,"span",2),R(6,"button",3),Oe("click",function(){return e.close()}),ve(7,"span",4),D()(),ne(8,sEe,7,9,"div",5),$(9,"async"),D()),2&t&&(P(3),We(K(4,3,"challenges.Leaderboard")),P(2),B("ngIf",e.challenge.update.joinCount>e.topValue),P(3),B("ngIf",K(9,5,e.status.update$)))},directives:[Lt,hc,ii,A2,vo],pipes:[Ut,bo],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]{width:100%;margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:764px;overflow-y:auto;flex-grow:1}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.outsideList[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child   .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:not(.afterActiveUser), .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.singleListItem[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child.beforeActiveUser, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]{position:relative}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]{position:absolute;top:-46px;left:0;display:flex;justify-content:center;width:100%;z-index:100;opacity:0;transition:opacity .3s}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top.visible[_ngcontent-%COMP%]{opacity:1}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{position:absolute;display:flex;top:-72px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{padding-top:16px;border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .total-prizes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:inherit;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),hp=Qe([qn()],hp);const aV=function(n){return{active:n}};var Sc=(()=>(function(n){n.Players="PLAYERS",n.Prizes="PRIZES"}(Sc||(Sc={})),Sc))();let oEe=(()=>{class n{constructor(){this.typeChanged=new en,this.activeOption=Sc.Players,this.LeaderboardSwitcherOption=Sc}ngAfterViewInit(){this.onOptionChange(this.activeOption)}onOptionChange(e){this.activeOption=e,this.typeChanged.emit(this.activeOption)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-leaderboard-switcher"]],inputs:{activeOption:"activeOption"},outputs:{typeChanged:"typeChanged"},decls:7,vars:12,consts:[[1,"switcher-container"],[1,"btn",3,"ngClass","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"button",1),Oe("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Players)}),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Prizes)}),j(5),$(6,"transloco"),D()()),2&e&&(P(1),B("ngClass",Bi(8,aV,i.activeOption===i.LeaderboardSwitcherOption.Players)),P(1),re(" ",K(3,4,"challenges.Players")," "),P(2),B("ngClass",Bi(10,aV,i.activeOption===i.LeaderboardSwitcherOption.Prizes)),P(1),re(" ",K(6,6,"challenges.Prizes")," "))},directives:[vo],pipes:[Ut],styles:[".switcher-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;width:100%;height:40px;min-width:192px;padding:4px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:32px;background:#1f1f1f}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;padding:4px 8px;align-items:center;justify-content:center;flex:1 0 0;height:32px;align-self:stretch;border-radius:64px;color:#525252;text-align:center;font-size:12px;font-weight:500;line-height:normal;background:transparent}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:4px}.switcher-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#ccc;background:#292929}"],changeDetection:0}),n})();function aEe(n,t){if(1&n&&(ot(0),R(1,"div",3),ve(2,"div",4),R(3,"div",5)(4,"div",6),j(5),$(6,"transloco"),D(),R(7,"div",7),j(8),$(9,"number"),D()()(),R(10,"div",3),ve(11,"div",8),R(12,"div",5)(13,"div",6),j(14),$(15,"transloco"),D(),R(16,"div",7),j(17),$(18,"number"),D()()(),at()),2&n){const e=se();P(5),re(" ",K(6,4,"challenges.Points scored")," "),P(3),re(" ",Yt(9,6,e.pointsScored,"1.2-2")," "),P(6),re(" ",K(15,9,"challenges.Position")," "),P(3),re(" ",e.playerStatus===e.PlayerStatus.None?"-":Yt(18,11,e.position,"1.0-0")," ")}}function lEe(n,t){1&n&&ve(0,"app-loader",9),2&n&&B("size","small")}const cEe=function(n){return{leaderboard:n}};let lV=(()=>{class n{constructor(){this.isLeaderboardLoaded=!1,this.pointsScored=0,this.playerStatus=or.None,this.position=0,this.componentVariant="DEFAULT",this.PlayerStatus=or}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-tournament-statistics"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",playerStatus:"playerStatus",position:"position",componentVariant:"componentVariant"},decls:4,vars:5,consts:[[1,"statistics",3,"ngClass"],[4,"ngIf","ngIfElse"],["loader",""],[1,"statistics-card"],[1,"card-icon","icon-points-scored","flex-shrink-0"],[1,"card-info"],[1,"card-title"],[1,"card-value"],[1,"card-icon","icon-position","flex-shrink-0"],[1,"loader",3,"size"]],template:function(e,i){if(1&e&&(R(0,"div",0),ne(1,aEe,19,14,"ng-container",1),ne(2,lEe,1,1,"ng-template",null,2,mo),D()),2&e){const r=xi(3);B("ngClass",Bi(3,cEe,"LEADERBOARD"===i.componentVariant)),P(1),B("ngIf",i.isLeaderboardLoaded)("ngIfElse",r)}},directives:[vo,Lt,hc],pipes:[Ut,Od],styles:[".statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #242424}.statistics.leaderboard[_ngcontent-%COMP%]{border-top:none;border-radius:9px;background:#1f1f1f}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]:first-child{border-right:1px solid #242424}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-points-scored[_ngcontent-%COMP%]{background-image:url(icon-points-scored.465af97703dee8c8.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-position[_ngcontent-%COMP%]{background-image:url(icon-position.d68664419e52f5a6.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:13px;font-weight:400;line-height:normal;margin-bottom:4px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:700;line-height:normal;letter-spacing:-.5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.statistics[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})(),uEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-no-players"]],decls:7,vars:6,consts:[[1,"no-players"],[1,"no-players-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),j(2),$(3,"transloco"),R(4,"p"),j(5),$(6,"transloco"),D()()()),2&e&&(P(2),re(" ",K(3,2,"challenges.No players yet :(")," "),P(3),re(" ",K(6,4,"challenges.You can be one of the first!")," "))},pipes:[Ut],styles:[".no-players[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}"],changeDetection:0}),n})();const dEe=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function hEe(n,t){if(1&n&&ve(0,"app-leaderboard-item",4),2&n){const e=t.$implicit,i=t.index,r=se();B("isCurrentUserItem",r.myIndex===i)("componentVariant",r.ChallengeTypeUI.TOURNAMENT)("challengeStatus",r.challengeStatus)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",vM(6,dEe,1===r.leaders.length,i-1===r.myIndex,r.myIndex>0&&i+1===r.myIndex,i>=r.maxListLength))}}const fEe=function(n){return{visible:n}};let fp=class{constructor(t,e){this.cd=t,this.hostElRef=e,this.leaders=[],this.myIndex=null,this.maxListLength=100,this.challengeStatus=Sr.Announced,this.isScrollToTopVisible=!1,this.ChallengeTypeUI=si,this.LEADERBOARD_ITEM_HEIGHT=40}ngAfterViewInit(){this.onLeaderboardLoaded()}scrollToTop(){this.hostElRef.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaders.length||vi(this.hostElRef.nativeElement,"scroll").pipe(Et(this),qo(200),Nt(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};fp.\u0275fac=function(t){return new(t||fp)(J(En),J(Si))},fp.\u0275cmp=st({type:fp,selectors:[["app-leaders-list"]],inputs:{leaders:"leaders",myIndex:"myIndex",maxListLength:"maxListLength",challengeStatus:"challengeStatus"},decls:6,vars:7,consts:[[1,"leaderboard-container"],["class","leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"back-to-top",3,"ngClass"],[1,"btn",3,"click"],[1,"leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,hEe,1,11,"app-leaderboard-item",1),D(),R(2,"div",2)(3,"button",3),Oe("click",function(){return e.scrollToTop()}),j(4),$(5,"transloco"),D()()),2&t&&(P(1),B("ngForOf",e.leaders),P(1),B("ngClass",Bi(5,fEe,e.isScrollToTopVisible)),P(2),re(" ",K(5,3,"challenges.action.Back to top")," "))},directives:[ii,A2,vo],pipes:[Ut],styles:[".leaderboard-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]{width:100%}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.outsideList[_ngcontent-%COMP%]{display:none}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:not(.afterActiveUser), .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.singleListItem[_ngcontent-%COMP%], .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child.beforeActiveUser, .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.back-to-top[_ngcontent-%COMP%]{position:absolute;bottom:16px;left:0;z-index:100;opacity:0;width:100%;transition:opacity .3s}.back-to-top.visible[_ngcontent-%COMP%]{opacity:1}.back-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;margin:0 auto;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}"],changeDetection:0}),fp=Qe([qn()],fp);let pEe=(()=>{class n{constructor(){this.prizeName="",this.prizeIndex=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-prize-item"]],inputs:{prizeName:"prizeName",prizeIndex:"prizeIndex"},decls:4,vars:2,consts:[[1,"prize-item"],[3,"leaderIndex"],[1,"prize-name"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"app-leaderboard-player-place",1),R(2,"div",2),j(3),D()()),2&e&&(P(1),B("leaderIndex",i.prizeIndex),P(2),re(" ",i.prizeName," "))},directives:[oV],styles:[".prize-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.prize-item[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all;margin-left:8px}"],changeDetection:0}),n})();const gEe=function(n){return{singleListItem:n}};function _Ee(n,t){if(1&n&&ve(0,"app-prize-item",2),2&n){const e=t.$implicit,i=t.index,r=se();B("ngClass",Bi(3,gEe,1===r.prizes.length))("prizeIndex",i)("prizeName",e)}}let mEe=(()=>{class n{constructor(){this.prizes=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-prizes-list"]],inputs:{prizes:"prizes"},decls:2,vars:1,consts:[[1,"prizes-container"],[3,"ngClass","prizeIndex","prizeName",4,"ngFor","ngForOf"],[3,"ngClass","prizeIndex","prizeName"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,_Ee,1,5,"app-prize-item",1),D()),2&e&&(P(1),B("ngForOf",i.prizes))},directives:[ii,pEe,vo],styles:[".prizes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child.singleListItem{border-radius:8px}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}"],changeDetection:0}),n})();function vEe(n,t){if(1&n&&(R(0,"div",6),ve(1,"app-leaderboard-item",7),D()),2&n){const e=se(2);P(1),B("leaderboardItem",e.activePlayerItem)("componentVariant",e.ChallengeTypeUI.TOURNAMENT)("leaderboardIndex",e.myIndex)("challengeStatus",e.challengeStatus)("isCurrentUserItem",!0)}}function yEe(n,t){if(1&n&&(ot(0),ne(1,vEe,2,5,"div",4),R(2,"div",5),j(3),$(4,"transloco"),D(),at()),2&n){const e=se();P(1),B("ngIf",!!e.activePlayerItem&&e.playerStatus!==e.PlayerStatus.None),P(2),ui(" ",K(4,3,"challenges.Total Players")," - ",e.totalPlayers," ")}}function bEe(n,t){if(1&n&&(R(0,"div",5),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),ui(" ",K(2,2,"challenges.Total Prizes")," - ",e.totalPrizes," ")}}let SEe=(()=>{class n{constructor(){this.activeSwitcherOption=Sc.Players,this.totalPrizes=0,this.totalPlayers=0,this.playerStatus=or.None,this.myIndex=null,this.challengeStatus=Sr.Announced,this.LeaderboardSwitcherOption=Sc,this.ChallengeTypeUI=si,this.PlayerStatus=or}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-leaderboard-footer"]],inputs:{activeSwitcherOption:"activeSwitcherOption",totalPrizes:"totalPrizes",totalPlayers:"totalPlayers",playerStatus:"playerStatus",activePlayerItem:"activePlayerItem",myIndex:"myIndex",challengeStatus:"challengeStatus"},decls:4,vars:2,consts:[[1,"leaderboard-footer"],[1,"blur-block"],[4,"ngIf"],["class","total-items",4,"ngIf"],["class","active-user-container",4,"ngIf"],[1,"total-items"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","componentVariant","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1),ne(2,yEe,5,5,"ng-container",2),ne(3,bEe,3,4,"div",3),D()),2&e&&(P(2),B("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Players),P(1),B("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Prizes))},directives:[Lt,A2],pipes:[Ut],styles:[".leaderboard-footer[_ngcontent-%COMP%]{position:relative;margin:0 8px}.leaderboard-footer[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{position:absolute;display:flex;top:-80px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]{margin-top:16px}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{border-radius:8px}.leaderboard-footer[_ngcontent-%COMP%]   .total-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;margin:16px 0;background:#1a1a1a;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),n})();function EEe(n,t){if(1&n&&(R(0,"span",8),j(1),D()),2&n){const e=se(2);P(1),re("(Top-",e.topValue,")")}}function CEe(n,t){1&n&&ve(0,"app-loader",9)}function TEe(n,t){if(1&n&&ve(0,"app-tournament-statistics",17),2&n){const e=se(2).ngIf,i=se();B("playerStatus",e.statusUpdate.player)("pointsScored",e.taskUpdate.totalProgress)("isLeaderboardLoaded",e.leaderBoardLoaded)("componentVariant","LEADERBOARD")("position",i.leaderboardService.myPosition)}}function wEe(n,t){1&n&&ve(0,"app-no-players",20)}function MEe(n,t){if(1&n&&ve(0,"app-leaders-list",21),2&n){const e=se(3).ngIf,i=se();B("challengeStatus",e.statusUpdate.challenge)("leaders",i.leaderboardService.items)("maxListLength",i.maxListLength)("myIndex",i.leaderboardService.myPosition-1)}}function OEe(n,t){if(1&n&&(ot(0),ne(1,wEe,1,0,"app-no-players",18),ne(2,MEe,1,4,"app-leaders-list",19),at()),2&n){const e=se(3);P(1),B("ngIf",!e.leaderboardService.items.length),P(1),B("ngIf",e.leaderboardService.items.length)}}function PEe(n,t){1&n&&ve(0,"app-prizes-list",22),2&n&&B("prizes",se(3).prizeService.tournamentList)}function xEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",10)(2,"app-leaderboard-switcher",11),Oe("typeChanged",function(r){return ct(e),se(2).switchTab(r)}),D(),ne(3,TEe,1,5,"app-tournament-statistics",12),ot(4,13),ne(5,OEe,3,2,"ng-container",14),ne(6,PEe,1,1,"app-prizes-list",15),at(),D(),ve(7,"app-leaderboard-footer",16),at()}if(2&n){const e=se().ngIf,i=se();P(2),B("activeOption",i.activeListTab),P(1),B("ngIf",e.statusUpdate.player!==i.PlayerStatus.None),P(1),B("ngSwitch",i.activeListTab),P(1),B("ngSwitchCase",i.LeaderboardSwitcherOption.Players),P(1),B("ngSwitchCase",i.LeaderboardSwitcherOption.Prizes),P(1),B("activeSwitcherOption",i.activeListTab)("myIndex",i.leaderboardService.myPosition-1)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("activePlayerItem",i.leaderboardService.myItem)("totalPrizes",i.prizeService.total)("totalPlayers",e.challengeUpdate.joinCount)}}function IEe(n,t){if(1&n){const e=_t();R(0,"div",1)(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),ne(5,EEe,2,1,"span",3),R(6,"button",4),Oe("click",function(){return ct(e),se().close()}),ve(7,"span",5),D()(),ne(8,CEe,1,0,"app-loader",6),ne(9,xEe,8,12,"ng-container",7),D()}if(2&n){const e=t.ngIf,i=se();P(3),We(K(4,4,"challenges.Leaderboard")),P(2),B("ngIf",i.challenge.update.joinCount>i.topValue),P(3),B("ngIf",!e.leaderBoardLoaded),P(1),B("ngIf",e.leaderBoardLoaded)}}let su=class{constructor(t,e,i,r,s,o,a){this.challenge=t,this.leaderboardService=e,this.prizeService=i,this.task=r,this.status=s,this.activeModal=o,this.stomp=a,this.topValue=100,this.ChallengeTypeUI=si,this.PlayerStatus=or,this.maxListLength=this.challenge.config.leaderBoardSize,this.activeListTab=Sc.Players,this.LeaderboardSwitcherOption=Sc,this.data$=Gd({statusUpdate:this.status.update$,challengeUpdate:this.challenge.update$,taskUpdate:this.task.update$,prizeUpdate:this.prizeService.update$,leaderBoardLoaded:this.leaderboardService.loaded$})}ngOnInit(){this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>this.close())}close(){this.activeModal.close()}switchTab(t){this.activeListTab=t}};su.\u0275fac=function(t){return new(t||su)(J(Hs),J(vy),J(gm),J(cp),J(lp),J(ns),J(za))},su.\u0275cmp=st({type:su,selectors:[["app-leaderboard"]],decls:2,vars:3,consts:[["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","loader",4,"ngIf"],[4,"ngIf"],[1,"top-description"],[1,"loader"],[1,"modal-body"],[1,"leaderboard-switcher",3,"activeOption","typeChanged"],["class","tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","leaderboard-list",3,"prizes",4,"ngSwitchCase"],[3,"activeSwitcherOption","myIndex","challengeStatus","playerStatus","activePlayerItem","totalPrizes","totalPlayers"],[1,"tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position"],["class","h-100",4,"ngIf"],["class","leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex",4,"ngIf"],[1,"h-100"],[1,"leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex"],[1,"leaderboard-list",3,"prizes"]],template:function(t,e){1&t&&(ne(0,IEe,10,6,"div",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.data$))},directives:[Lt,hc,oEe,lV,Bs,yo,uEe,fp,mEe,SEe],pipes:[bo,Ut],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;height:100%;margin:auto 0;justify-content:center;align-items:center;flex:1 0 0;align-self:stretch}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .leaderboard-switcher[_ngcontent-%COMP%]{display:block;margin:8px 0 0}.modal-content[_ngcontent-%COMP%]   .tournament-statistics[_ngcontent-%COMP%]{display:block;margin:10px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;border-radius:8px;margin-top:10px;height:100%}"],changeDetection:0}),su=Qe([qn()],su);let hh=(()=>{class n{constructor(e){this.ngbModal=e,this.defaultOptions={windowClass:"modal-challenge"}}open(e,i){e!==su?this.ngbModal.open(e,Object.assign(Object.assign({},this.defaultOptions),null!=i?i:{})):this.ngbModal.open(su,Object.assign({},this.defaultOptions)).componentInstance.activeListTab=i}}return n.\u0275fac=function(e){return new(e||n)(He(B0))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();var ou=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(ou||(ou={})),ou))();const AEe={[ar.PlayRounds]:ou.PlayRounds,[ar.CatchMultipliers]:ou.CatchX,[ar.WinRounds]:ou.WinRounds,[ar.PlayRoundsMaxReachedMultiplier]:ou.PlayRounds,[ar.WinMoneyInTotal]:ou.WinMoney,[ar.BetInTotal]:ou.MakeBets,[ar.CollectCashOutsMultiplierSum]:ou.CollectCashouts};var Ec=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(Ec||(Ec={})),Ec))();const REe={[ar.PlayRounds]:Ec.OnlyNumbers,[ar.CatchMultipliers]:Ec.OnlyNumbers,[ar.WinRounds]:Ec.OnlyNumbers,[ar.PlayRoundsMaxReachedMultiplier]:Ec.OnlyNumbers,[ar.WinMoneyInTotal]:Ec.Currency,[ar.BetInTotal]:Ec.Currency,[ar.CollectCashOutsMultiplierSum]:Ec.Multiplier};function DEe(n,t){if(1&n&&(ot(0),R(1,"span",7),j(2),$(3,"number"),D(),j(4),$(5,"number"),at()),2&n){const e=se();P(2),We(Yt(3,2,e.task.progress,"1.0-0")),P(2),re(" of ",Yt(5,5,e.task.goal,"1.0-0")," ")}}function NEe(n,t){if(1&n&&(ot(0),R(1,"span",7),j(2),$(3,"currencyPrecision"),D(),j(4),$(5,"currencyPrecision"),at()),2&n){const e=se();P(2),We(K(3,3,e.task.progress)),P(2),ui(" of ",K(5,5,e.task.goal)," ",e.currency," ")}}function kEe(n,t){if(1&n&&(ot(0),R(1,"span",7),j(2),D(),j(3),at()),2&n){const e=se();P(2),We(e.task.progress),P(1),re("x of ",e.task.goal,"x ")}}let FEe=(()=>{class n{constructor(){this.group=Ec}get currentGroupName(){return REe[this.task.type]}get currentProgress(){return this.task.progress/this.task.goal}get percentageCurrentProgress(){return Math.floor(100*this.currentProgress)+"%"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnabled:"isEnabled",isError:"isError"},decls:10,vars:13,consts:[[1,"progress-box","w-100"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"progress-footer"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-percent"],[1,"progress-value"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ve(2,"div",2),D(),R(3,"div",3)(4,"div",4),ne(5,DEe,6,8,"ng-container",5),ne(6,NEe,6,7,"ng-container",5),ne(7,kEe,4,2,"ng-container",5),D(),R(8,"span",6),j(9),D()()()),2&e&&(Mt("live",i.isEnabled)("success",i.isEnabled&&1===i.currentProgress)("error",i.isError),P(2),Xl("width",100*i.currentProgress+"%"),P(2),B("ngSwitch",i.currentGroupName),P(1),B("ngSwitchCase",i.group.OnlyNumbers),P(1),B("ngSwitchCase",i.group.Currency),P(1),B("ngSwitchCase",i.group.Multiplier),P(2),We(i.percentageCurrentProgress))},directives:[Bs,yo],pipes:[Od,br],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#ffffff0d;border-radius:2px;overflow:hidden;margin-bottom:4px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#ffffff1a}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#7a7a7a;font-size:10px;font-weight:500;line-height:normal;letter-spacing:-.25px}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#525252}.progress-box.live[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.progress-box.live[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#ffde5c}.progress-box.success[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.progress-box.success[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#79e279}.progress-box.error[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}.progress-box.error[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#f35656}"],changeDetection:0}),n})();function BEe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(". ",Yt(2,1,"challenges.tasks.Min. bet",e.nameParams),"")}}let LEe=(()=>{class n{constructor(e,i){this.currencyPrecisionPipe=e,this.challenge=i}get groupName(){return AEe[this.task.type]}get nameParams(){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.task.targetMinMultiplier,goal:O2.has(this.task.type)?this.currencyPrecisionPipe.transform(this.task.goal):this.task.goal}}}return n.\u0275fac=function(e){return new(e||n)(J(br),J(Hs))},n.\u0275cmp=st({type:n,selectors:[["app-task"]],inputs:{task:"task",currency:"currency",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:9,vars:10,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"],[3,"task","currency","isEnabled","isError"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1),R(2,"div",2)(3,"div",3)(4,"span"),j(5),$(6,"transloco"),D(),ne(7,BEe,3,4,"span",4),D(),ve(8,"app-task-progress",5),D()()),2&e&&(P(1),B("ngClass",i.groupName),P(4),We(Yt(6,7,"challenges.tasks."+i.task.type,i.nameParams)),P(2),B("ngIf",!!i.nameParams.minBet),P(1),B("task",i.task)("currency",i.currency)("isEnabled",i.isProgressEnabled)("isError",i.isError))},directives:[vo,Lt,FEe],pipes:[Ut],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),n})();function UEe(n,t){if(1&n){const e=_t();R(0,"button",7),Oe("click",function(){return ct(e),se().showLeaderboard()}),R(1,"span",8),j(2),$(3,"transloco"),D()()}2&n&&(P(2),We(K(3,1,"challenges.Leaderboard")))}function GEe(n,t){if(1&n&&(R(0,"li",9),ve(1,"app-task",10),D()),2&n){const e=t.$implicit,i=t.index,r=se();P(1),pv("task-item-",i,""),B("task",e)("currency",r.currency)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}let jEe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.PlayerStatus=or,this.ChallengeStatus=Sr,this.ChallengeTypeUI=si}showLeaderboard(){this.modalService.open(hp)}}return n.\u0275fac=function(e){return new(e||n)(J(hh))},n.\u0275cmp=st({type:n,selectors:[["app-challenge-tasks"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType"},decls:9,vars:5,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button","class","btn-link link-how-it-works d-flex align-items-center",3,"click",4,"ngIf"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"button-text"],[1,"task"],[3,"task","currency","isProgressEnabled","isError"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),j(3),$(4,"transloco"),D(),ne(5,UEe,4,3,"button",3),D(),R(6,"div",4)(7,"ul",5),ne(8,GEe,2,7,"li",6),D()()()),2&e&&(P(3),We(K(4,3,"challenges.Tasks")),P(2),B("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),P(3),B("ngForOf",i.tasks))},directives:[Lt,ii,LEe],pipes:[Ut],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})();function HEe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se().$implicit,i=se(2);P(1),re(" ",Yt(2,1,"challenges.challengeRules.xRace.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function VEe(n,t){if(1&n&&(ot(0),R(1,"div",14),j(2),$(3,"transloco"),D(),R(4,"div",15),j(5),$(6,"transloco"),ne(7,HEe,3,4,"span",16),D(),at()),2&n){const e=t.$implicit,i=se(2);P(2),re(" ",Yt(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),P(3),re(" ",Yt(6,6,"challenges.challengeRules.xRace.tasks."+e.type,i.nameParams(e))," "),P(2),B("ngIf",!!i.nameParams(e).minBet)}}function zEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"section",7)(12,"div",8),j(13),$(14,"transloco"),D(),R(15,"ul",9)(16,"li"),j(17),$(18,"transloco"),D(),R(19,"li"),j(20),$(21,"transloco"),D(),R(22,"li"),j(23),$(24,"transloco"),D(),R(25,"li"),j(26),$(27,"transloco"),D(),R(28,"li"),j(29),$(30,"transloco"),D(),R(31,"li"),j(32),$(33,"transloco"),D(),R(34,"li"),j(35),$(36,"transloco"),D()()(),R(37,"section",10)(38,"div",8),j(39),$(40,"transloco"),D(),R(41,"div"),j(42),$(43,"transloco"),D(),ne(44,VEe,8,9,"ng-container",11),$(45,"async"),R(46,"div",12),j(47),$(48,"transloco"),D()(),R(49,"section",13)(50,"div",8),j(51),$(52,"transloco"),D(),R(53,"ul",9)(54,"li"),j(55),$(56,"transloco"),D(),R(57,"li"),j(58),$(59,"transloco"),D(),R(60,"li"),j(61),$(62,"transloco"),D(),R(63,"li"),j(64),$(65,"transloco"),D(),R(66,"li"),j(67),$(68,"transloco"),D(),R(69,"li"),j(70),$(71,"transloco"),D()()()(),at()}if(2&n){const e=se();P(3),We(K(4,21,"challenges.challengeRules.xRace.title")),P(6),re(" ",K(10,23,"challenges.challengeRules.xRace.stepInto")," "),P(4),re(" ",K(14,25,"challenges.challengeRules.xRace.rules.title")," "),P(4),re(" ",K(18,27,"challenges.challengeRules.xRace.rules.point1")," "),P(3),re(" ",K(21,29,"challenges.challengeRules.xRace.rules.point2")," "),P(3),re(" ",K(24,31,"challenges.challengeRules.xRace.rules.point3")," "),P(3),re(" ",K(27,33,"challenges.challengeRules.xRace.rules.point4")," "),P(3),re(" ",K(30,35,"challenges.challengeRules.xRace.rules.point5")," "),P(3),re(" ",K(33,37,"challenges.challengeRules.xRace.rules.point6")," "),P(3),re(" ",K(36,39,"challenges.challengeRules.xRace.rules.point7")," "),P(4),re(" ",K(40,41,"challenges.challengeRules.xRace.tasks.title")," "),P(3),re(" ",K(43,43,"challenges.challengeRules.xRace.tasks.beforeYouBegin")," "),P(2),B("ngForOf",K(45,45,e.task.update$).tasks),P(3),re(" ",K(48,47,"challenges.challengeRules.xRace.pleaseNote")," "),P(4),re(" ",K(52,49,"challenges.challengeRules.xRace.prizes.title")," "),P(4),re(" ",K(56,51,"challenges.challengeRules.xRace.prizes.point1")," "),P(3),re(" ",K(59,53,"challenges.challengeRules.xRace.prizes.point2")," "),P(3),re(" ",K(62,55,"challenges.challengeRules.xRace.prizes.point3")," "),P(3),re(" ",K(65,57,"challenges.challengeRules.xRace.prizes.point4")," "),P(3),re(" ",K(68,59,"challenges.challengeRules.xRace.prizes.point5")," "),P(3),re(" ",K(71,61,"challenges.challengeRules.xRace.prizes.point6")," ")}}function WEe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se().$implicit,i=se(2);P(1),re(" ",Yt(2,1,"challenges.challengeRules.xMission.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function YEe(n,t){if(1&n&&(ot(0),R(1,"div",14),j(2),$(3,"transloco"),D(),R(4,"div",15),j(5),$(6,"transloco"),ne(7,WEe,3,4,"span",16),D(),at()),2&n){const e=t.$implicit,i=se(2);P(2),re(" ",Yt(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),P(3),re(" ",Yt(6,6,"challenges.challengeRules.xMission.tasks."+e.type,i.nameParams(e))," "),P(2),B("ngIf",!!i.nameParams(e).minBet)}}function $Ee(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"section",7)(12,"div",8),j(13),$(14,"transloco"),D(),R(15,"ul",9)(16,"li"),j(17),$(18,"transloco"),D(),R(19,"li"),j(20),$(21,"transloco"),D(),R(22,"li"),j(23),$(24,"transloco"),D(),R(25,"li"),j(26),$(27,"transloco"),D(),R(28,"li"),j(29),$(30,"transloco"),D(),R(31,"li"),j(32),$(33,"transloco"),D(),R(34,"li"),j(35),$(36,"transloco"),D()()(),R(37,"section",10)(38,"div",8),j(39),$(40,"transloco"),D(),R(41,"div"),j(42),$(43,"transloco"),D(),ne(44,YEe,8,9,"ng-container",11),$(45,"async"),R(46,"div",12),j(47),$(48,"transloco"),D()(),R(49,"section",13)(50,"div",8),j(51),$(52,"transloco"),D(),R(53,"ul",9)(54,"li"),j(55),$(56,"transloco"),D(),R(57,"li"),j(58),$(59,"transloco"),D(),R(60,"li"),j(61),$(62,"transloco"),D(),R(63,"li"),j(64),$(65,"transloco"),D()()()(),at()}if(2&n){const e=se();P(3),We(K(4,19,"challenges.challengeRules.xMission.title")),P(6),re(" ",K(10,21,"challenges.challengeRules.xMission.stepInto")," "),P(4),re(" ",K(14,23,"challenges.challengeRules.xMission.rules.title")," "),P(4),re(" ",K(18,25,"challenges.challengeRules.xMission.rules.point1")," "),P(3),re(" ",K(21,27,"challenges.challengeRules.xMission.rules.point2")," "),P(3),re(" ",K(24,29,"challenges.challengeRules.xMission.rules.point3")," "),P(3),re(" ",K(27,31,"challenges.challengeRules.xMission.rules.point4")," "),P(3),re(" ",K(30,33,"challenges.challengeRules.xMission.rules.point5")," "),P(3),re(" ",K(33,35,"challenges.challengeRules.xMission.rules.point6")," "),P(3),re(" ",K(36,37,"challenges.challengeRules.xMission.rules.point7")," "),P(4),re(" ",K(40,39,"challenges.challengeRules.xMission.tasks.title")," "),P(3),re(" ",K(43,41,"challenges.challengeRules.xMission.tasks.beforeYouBegin")," "),P(2),B("ngForOf",K(45,43,e.task.update$).tasks),P(3),re(" ",K(48,45,"challenges.challengeRules.xMission.pleaseNote")," "),P(4),re(" ",K(52,47,"challenges.challengeRules.xMission.prizes.title")," "),P(4),re(" ",K(56,49,"challenges.challengeRules.xMission.prizes.point1")," "),P(3),re(" ",K(59,51,"challenges.challengeRules.xMission.prizes.point2")," "),P(3),re(" ",K(62,53,"challenges.challengeRules.xMission.prizes.point3")," "),P(3),re(" ",K(65,55,"challenges.challengeRules.xMission.prizes.point4")," ")}}function XEe(n,t){if(1&n&&(ot(0),R(1,"div",14),j(2),$(3,"transloco"),D(),R(4,"div",15),j(5),$(6,"transloco"),D(),at()),2&n){const e=t.$implicit,i=se(2);P(2),re(" ",Yt(3,2,"challenges.tasks.xTournament."+e.type,i.nameParams(e))," "),P(3),re(" ",Yt(6,5,"challenges.challengeRules.xTournament.tasks."+e.type,i.nameParams(e))," ")}}function qEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"section",7)(12,"div",8),j(13),$(14,"transloco"),D(),R(15,"ul",9)(16,"li"),j(17),$(18,"transloco"),D(),R(19,"li"),j(20),$(21,"transloco"),D(),R(22,"li"),j(23),$(24,"transloco"),D(),R(25,"li"),j(26),$(27,"transloco"),D()()(),R(28,"section",10)(29,"div",8),j(30),$(31,"transloco"),D(),R(32,"div"),j(33),$(34,"transloco"),D(),ne(35,XEe,7,8,"ng-container",11),$(36,"async"),R(37,"div",12),j(38),$(39,"transloco"),D()(),R(40,"section",13)(41,"div",8),j(42),$(43,"transloco"),D(),R(44,"ul",9)(45,"li"),j(46),$(47,"transloco"),D(),R(48,"li"),j(49),$(50,"transloco"),D(),R(51,"li"),j(52),$(53,"transloco"),D(),R(54,"li"),j(55),$(56,"transloco"),D()()()(),at()}if(2&n){const e=se();P(3),We(K(4,16,"challenges.challengeRules.xTournament.title")),P(6),re(" ",K(10,18,"challenges.challengeRules.xTournament.stepInto")," "),P(4),re(" ",K(14,20,"challenges.challengeRules.xTournament.rules.title")," "),P(4),re(" ",K(18,22,"challenges.challengeRules.xTournament.rules.point1")," "),P(3),re(" ",K(21,24,"challenges.challengeRules.xTournament.rules.point2")," "),P(3),re(" ",K(24,26,"challenges.challengeRules.xTournament.rules.point3")," "),P(3),re(" ",K(27,28,"challenges.challengeRules.xTournament.rules.point4")," "),P(4),re(" ",K(31,30,"challenges.challengeRules.xTournament.tasks.title")," "),P(3),re(" ",K(34,32,"challenges.challengeRules.xTournament.tasks.beforeYouBegin")," "),P(2),B("ngForOf",K(36,34,e.task.update$).tasks),P(3),re(" ",K(39,36,"challenges.challengeRules.xTournament.pleaseNote")," "),P(4),re(" ",K(43,38,"challenges.challengeRules.xTournament.prizes.title")," "),P(4),re(" ",K(47,40,"challenges.challengeRules.xTournament.prizes.point1")," "),P(3),re(" ",K(50,42,"challenges.challengeRules.xTournament.prizes.point2")," "),P(3),re(" ",K(53,44,"challenges.challengeRules.xTournament.prizes.point3")," "),P(3),re(" ",K(56,46,"challenges.challengeRules.xTournament.prizes.point4")," ")}}let fh=class{constructor(t,e,i,r,s){this.activeModal=t,this.stomp=e,this.task=i,this.currencyPrecisionPipe=r,this.challenge=s,this.ChallengeTypeUI=si}ngOnInit(){this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>{this.close()})}nameParams(t){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(t.minBet),targetMinMultiplier:t.targetMinMultiplier,goal:O2.has(t.type)?this.currencyPrecisionPipe.transform(t.goal):t.goal}}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}};function KEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"div",7),j(12),$(13,"transloco"),D(),R(14,"ol",8),ve(15,"img",9),R(16,"li"),j(17),$(18,"transloco"),D(),R(19,"div",10),j(20),$(21,"transloco"),D(),ve(22,"img",11),R(23,"li"),j(24),$(25,"transloco"),D(),R(26,"div",10),j(27),$(28,"transloco"),D(),ve(29,"img",12),R(30,"li"),j(31),$(32,"transloco"),D(),R(33,"div",10),j(34),$(35,"transloco"),D(),ve(36,"img",13),R(37,"li"),j(38),$(39,"transloco"),D(),R(40,"div",10),j(41),$(42,"transloco"),D()(),R(43,"div",14),j(44),$(45,"transloco"),D(),R(46,"div",15),Oe("click",function(){return ct(e),se().showMissionRules()}),j(47),$(48,"transloco"),D()(),at()}if(2&n){const e=se();P(3),We(K(4,21,"challenges.howToPlay.xRace.title")),P(6),re(" ",K(10,23,"challenges.howToPlay.xRace.Welcome")," "),P(3),re(" ",K(13,25,"challenges.howToPlay.xRace.Here\u2019s how it works:")," "),P(3),B("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),nn)("src",e.getFullImgPath("join.png"),nn),P(2),re(" ",K(18,27,"challenges.howToPlay.xRace.joinTheChallenge.title")," "),P(3),re(" ",K(21,29,"challenges.howToPlay.xRace.joinTheChallenge.text")," "),P(2),B("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),nn)("src",e.getFullImgPath("progress.png"),nn),P(2),re(" ",K(25,31,"challenges.howToPlay.xRace.taskProgress.title")," "),P(3),re(" ",K(28,33,"challenges.howToPlay.xRace.taskProgress.text")," "),P(2),B("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),nn)("src",e.getFullImgPath("big-prize.png"),nn),P(2),re(" ",K(32,35,"challenges.howToPlay.xRace.fightForYourPrize.title")," "),P(3),re(" ",K(35,37,"challenges.howToPlay.xRace.fightForYourPrize.text")," "),P(2),B("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),nn)("src",e.getFullImgPath("mission-completion.png"),nn),P(2),re(" ",K(39,39,"challenges.howToPlay.xRace.challengeCompletion.title")," "),P(3),re(" ",K(42,41,"challenges.howToPlay.xRace.challengeCompletion.text")," "),P(3),re(" ",K(45,43,"challenges.howToPlay.xRace.Join the xRace, play your best, and aim to be one of the winners. Good luck on your xRace!")," "),P(3),re(" ",K(48,45,"challenges.howToPlay.xRace.Detailed rules")," ")}}function JEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"div",7),j(12),$(13,"transloco"),D(),R(14,"ol",8),ve(15,"img",9),R(16,"li"),j(17),$(18,"transloco"),D(),R(19,"div",10),j(20),$(21,"transloco"),D(),ve(22,"img",11),R(23,"li"),j(24),$(25,"transloco"),D(),R(26,"div",10),j(27),$(28,"transloco"),D(),ve(29,"img",12),R(30,"li"),j(31),$(32,"transloco"),D(),R(33,"div",10),j(34),$(35,"transloco"),D(),ve(36,"img",13),R(37,"li"),j(38),$(39,"transloco"),D(),R(40,"div",10),j(41),$(42,"transloco"),D()(),R(43,"div",14),j(44),$(45,"transloco"),D(),R(46,"div",15),Oe("click",function(){return ct(e),se().showMissionRules()}),j(47),$(48,"transloco"),D()(),at()}if(2&n){const e=se();P(3),We(K(4,21,"challenges.howToPlay.xMission.title")),P(6),re(" ",K(10,23,"challenges.howToPlay.xMission.Welcome")," "),P(3),re(" ",K(13,25,"challenges.howToPlay.xMission.Here\u2019s how it works:")," "),P(3),B("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),nn)("src",e.getFullImgPath("join.png"),nn),P(2),re(" ",K(18,27,"challenges.howToPlay.xMission.joinTheChallenge.title")," "),P(3),re(" ",K(21,29,"challenges.howToPlay.xMission.joinTheChallenge.text")," "),P(2),B("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),nn)("src",e.getFullImgPath("progress.png"),nn),P(2),re(" ",K(25,31,"challenges.howToPlay.xMission.taskProgress.title")," "),P(3),re(" ",K(28,33,"challenges.howToPlay.xMission.taskProgress.text")," "),P(2),B("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),nn)("src",e.getFullImgPath("big-prize.png"),nn),P(2),re(" ",K(32,35,"challenges.howToPlay.xMission.fightForYourPrize.title")," "),P(3),re(" ",K(35,37,"challenges.howToPlay.xMission.fightForYourPrize.text")," "),P(2),B("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),nn)("src",e.getFullImgPath("mission-completion.png"),nn),P(2),re(" ",K(39,39,"challenges.howToPlay.xMission.challengeCompletion.title")," "),P(3),re(" ",K(42,41,"challenges.howToPlay.xMission.challengeCompletion.text")," "),P(3),re(" ",K(45,43,"challenges.howToPlay.xMission.Join the xMission, play your best, and aim to be one of the winners. Good luck on your xMission!")," "),P(3),re(" ",K(48,45,"challenges.howToPlay.xMission.Detailed rules")," ")}}function QEe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",2)(2,"span"),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return ct(e),se().close()}),ve(6,"span",4),D()(),R(7,"div",5)(8,"div",6),j(9),$(10,"transloco"),D(),R(11,"div",7),j(12),$(13,"transloco"),D(),R(14,"ol",8),ve(15,"img",9),R(16,"li"),j(17),$(18,"transloco"),D(),R(19,"div",10),j(20),$(21,"transloco"),D(),ve(22,"img",11),R(23,"li"),j(24),$(25,"transloco"),D(),R(26,"div",10),j(27),$(28,"transloco"),D(),ve(29,"img",12),R(30,"li"),j(31),$(32,"transloco"),D(),R(33,"div",10),j(34),$(35,"transloco"),D(),ve(36,"img",13),R(37,"li"),j(38),$(39,"transloco"),D(),R(40,"div",10),j(41),$(42,"transloco"),D()(),R(43,"div",14),j(44),$(45,"transloco"),D(),R(46,"div",15),Oe("click",function(){return ct(e),se().showMissionRules()}),j(47),$(48,"transloco"),D()(),at()}if(2&n){const e=se();P(3),We(K(4,21,"challenges.howToPlay.xTournament.title")),P(6),re(" ",K(10,23,"challenges.howToPlay.xTournament.Welcome")," "),P(3),re(" ",K(13,25,"challenges.howToPlay.xTournament.Here\u2019s how it works:")," "),P(3),B("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),nn)("src",e.getFullImgPath("join.png"),nn),P(2),re(" ",K(18,27,"challenges.howToPlay.xTournament.joinTheChallenge.title")," "),P(3),re(" ",K(21,29,"challenges.howToPlay.xTournament.joinTheChallenge.text")," "),P(2),B("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),nn)("src",e.getFullImgPath("progress.png"),nn),P(2),re(" ",K(25,31,"challenges.howToPlay.xTournament.taskProgress.title")," "),P(3),re(" ",K(28,33,"challenges.howToPlay.xTournament.taskProgress.text")," "),P(2),B("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),nn)("src",e.getFullImgPath("big-prize.png"),nn),P(2),re(" ",K(32,35,"challenges.howToPlay.xTournament.fightForYourPrize.title")," "),P(3),re(" ",K(35,37,"challenges.howToPlay.xTournament.fightForYourPrize.text")," "),P(2),B("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),nn)("src",e.getFullImgPath("mission-completion.png"),nn),P(2),re(" ",K(39,39,"challenges.howToPlay.xTournament.challengeCompletion.title")," "),P(3),re(" ",K(42,41,"challenges.howToPlay.xTournament.challengeCompletion.text")," "),P(3),re(" ",K(45,43,"challenges.howToPlay.xTournament.Join the xTournament, play your best, and aim to be one of the winners. Good luck on your xTournament!")," "),P(3),re(" ",K(48,45,"challenges.howToPlay.xTournament.Detailed rules")," ")}}fh.\u0275fac=function(t){return new(t||fh)(J(ns),J(za),J(cp),J(pm),J(Hs))},fh.\u0275cmp=st({type:fh,selectors:[["app-mission-rules"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"rules"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task-note"],[1,"prizes"],[1,"task-name"],[1,"task-description"],[4,"ngIf"]],template:function(t,e){1&t&&(ot(0,0),ne(1,zEe,72,63,"ng-container",1),ne(2,$Ee,66,57,"ng-container",1),ne(3,qEe,57,48,"ng-container",1),at()),2&t&&(B("ngSwitch",e.challengeConfig.typeUi),P(1),B("ngSwitchCase",e.ChallengeTypeUI.RACE),P(1),B("ngSwitchCase",e.ChallengeTypeUI.MISSION),P(1),B("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Bs,yo,ii,Lt],pipes:[Ut,bo],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:24px 8px 0}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;padding-bottom:16px;font-size:20px;font-weight:500;line-height:24px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ffde5c;font-weight:600;padding-top:16px;padding-bottom:8px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:400}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-note[_ngcontent-%COMP%]{font-weight:400;padding-top:16px}"],changeDetection:0}),fh=Qe([qn()],fh);let pp=class{constructor(t,e,i,r){this.activeModal=t,this.stomp=e,this.modal=i,this.challenge=r,this.ChallengeTypeUI=si}ngOnInit(){this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>{this.close()})}getFullImgPath(t){return"assets/images/engagement-tools/"+t}getSrcSet(t,e,i){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(e)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open(fh)}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}};pp.\u0275fac=function(t){return new(t||pp)(J(ns),J(za),J(hh),J(Hs))},pp.\u0275cmp=st({type:pp,selectors:[["app-how-it-works"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["alt","join",1,"img","img-join",3,"srcset","src"],[1,"step-description"],["alt","progress",1,"img","img-progress",3,"srcset","src"],["alt","big-prize",1,"img","img-prize",3,"srcset","src"],["alt","mission-completion",1,"img","img-mission-completion",3,"srcset","src"],[1,"outro"],[1,"btn-link","text-center",3,"click"]],template:function(t,e){1&t&&(ot(0,0),ne(1,KEe,49,47,"ng-container",1),ne(2,JEe,49,47,"ng-container",1),ne(3,QEe,49,47,"ng-container",1),at()),2&t&&(B("ngSwitch",e.challengeConfig.typeUi),P(1),B("ngSwitchCase",e.ChallengeTypeUI.RACE),P(1),B("ngSwitchCase",e.ChallengeTypeUI.MISSION),P(1),B("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Bs,yo],pipes:[Ut],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   .outro[_ngcontent-%COMP%]{padding:8px 8px 24px}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;padding:24px 8px 16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-weight:400;padding:0 8px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:28px;margin-bottom:8px;color:#ffde5c;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:normal;color:#ffde5c;cursor:pointer}"]}),pp=Qe([qn()],pp);let cV=(()=>{class n{constructor(e){this.modalService=e}openHowToPlayModal(){this.modalService.open(pp)}}return n.\u0275fac=function(e){return new(e||n)(J(hh))},n.\u0275cmp=st({type:n,selectors:[["app-challenge-get-more-info"]],decls:8,vars:6,consts:[[1,"challenge-get-more-info"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.openHowToPlayModal()}),R(5,"span",2),j(6),$(7,"transloco"),D()()()),2&e&&(P(2),re(" ",K(3,2,"challenges.Get more information on participating:")," "),P(4),We(K(7,4,"challenges.How to play")))},pipes:[Ut],styles:["[_nghost-%COMP%]{width:100%}.challenge-get-more-info[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function ZEe(n,t){1&n&&ve(0,"img",13)}function eCe(n,t){1&n&&ve(0,"img",14)}function tCe(n,t){if(1&n&&(R(0,"span",15)(1,"span",16),j(2),$(3,"number"),D(),j(4),$(5,"transloco"),D()),2&n){const e=se().$implicit,i=se();let r;P(2),re("",Yt(3,2,null!==(r=i.left)&&void 0!==r?r:e.left,"1.0-1")," "),P(2),We(K(5,5,"challenges.Left"))}}function nCe(n,t){if(1&n&&(ot(0),j(1),at()),2&n){const e=se().$implicit;P(1),re(" ",e.name," ")}}function iCe(n,t){1&n&&(ot(0),j(1),$(2,"transloco"),at()),2&n&&(P(1),re(" ",K(2,1,"challenges.Freebet")," "))}function rCe(n,t){if(1&n&&(ot(0),j(1),at()),2&n){const e=se().$implicit;P(1),re(" ",e.description," ")}}function sCe(n,t){if(1&n&&(ot(0),j(1),$(2,"currencyPrecision"),at()),2&n){const e=se().$implicit,i=se();P(1),ui(" ",K(2,2,e.cost)," ",i.currency," ")}}function oCe(n,t){if(1&n&&(R(0,"div",5),ne(1,ZEe,1,0,"img",6),ne(2,eCe,1,0,"img",7),R(3,"div",8),ne(4,tCe,6,7,"span",9),R(5,"span",10),ne(6,nCe,2,1,"ng-container",11),ne(7,iCe,3,3,"ng-container",11),D(),R(8,"span",12),ne(9,rCe,2,1,"ng-container",11),ne(10,sCe,3,4,"ng-container",11),D()()()),2&n){const e=t.$implicit,i=se();P(1),B("ngIf",e.type===i.PrizeType.FreeBet),P(1),B("ngIf",e.type===i.PrizeType.Special),P(2),B("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),P(2),B("ngIf",e.type===i.PrizeType.Special),P(1),B("ngIf",e.type===i.PrizeType.FreeBet),P(2),B("ngIf",e.type===i.PrizeType.Special),P(1),B("ngIf",e.type===i.PrizeType.FreeBet)}}let aCe=(()=>{class n{constructor(){this.PrizeType=_c,this.ChallengeTypeUI=si,this.items=[],this.challengeType=si.RACE,this.isNetwork=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-prizes"]],inputs:{items:"items",left:"left",currency:"currency",challengeType:"challengeType",isNetwork:"isNetwork"},decls:7,vars:4,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-card"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-left",4,"ngIf"],[1,"card-title"],[4,"ngIf"],[1,"card-description"],["srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-left"],[1,"amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),j(3),$(4,"transloco"),D()(),R(5,"div",3),ne(6,oCe,11,7,"div",4),D()()),2&e&&(P(3),We(K(4,2,"challenges.Prizes")),P(3),B("ngForOf",i.items))},directives:[ii,Lt],pipes:[Ut,Od,pm],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px;height:160px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;height:32px;padding:4px 12px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:normal;padding:0 4px}"],changeDetection:0}),n})();const uV=function(n){return{challenge:n}};let dV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-info-other"]],inputs:{type:"type",startDate:"startDate",endDate:"endDate",minBet:"minBet",currency:"currency",currencyPrecision:"currencyPrecision"},decls:29,vars:38,consts:[[1,"challenge-info-other"],[1,"info-header"],[1,"title"],[1,"info-body"],[1,"info-row","row-start"],[1,"info-row-title"],[1,"info-row-value"],[1,"info-row","row-end"],[1,"info-row","row-min-bet"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),j(3),$(4,"transloco"),D()(),R(5,"div",3)(6,"div",4)(7,"span",5),j(8),$(9,"transloco"),D(),R(10,"span",6),j(11),$(12,"date"),$(13,"date"),D()(),R(14,"div",7)(15,"span",5),j(16),$(17,"transloco"),D(),R(18,"span",6),j(19),$(20,"date"),$(21,"date"),D()(),R(22,"div",8)(23,"span",5),j(24),$(25,"transloco"),D(),R(26,"span",6),j(27),$(28,"currencyPrecision"),D()()()()),2&e&&(P(3),We(K(4,10,"challenges.Other Information")),P(5),We(Yt(9,12,"challenges.challenge starts:",Bi(34,uV,i.type))),P(3),ui("",Yt(12,15,i.startDate,"HH:mm"),", ",Yt(13,18,i.startDate,"dd.MM.yy"),""),P(5),We(Yt(17,21,"challenges.challenge ends:",Bi(36,uV,i.type))),P(3),ui("",Yt(20,24,i.endDate,"HH:mm"),", ",Yt(21,27,i.endDate,"dd.MM.yy"),""),P(5),We(K(25,30,"challenges.Min. Bet:")),P(3),ui("",K(28,32,i.minBet)," ",i.currency,""))},pipes:[Ut,Bc,pm],styles:['[_nghost-%COMP%]{width:100%}.challenge-info-other[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;height:40px;padding:8px;border-bottom:1px solid #242424}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400;line-height:normal;padding-left:32px;padding-right:10px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{display:block;position:absolute;top:8px;left:8px;width:24px;height:24px;content:""}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:14px;font-weight:500;line-height:normal}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-start[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-calendar-yellow.7f1faa1091045c98.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-end[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-finish-yellow.732b6280285c8694.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-min-bet[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-coin-yellow.b00af567e5f6fc2c.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),hV=(()=>{class n{constructor(e){this.modalService=e}openRulesModal(){this.modalService.open(fh)}}return n.\u0275fac=function(e){return new(e||n)(J(hh))},n.\u0275cmp=st({type:n,selectors:[["app-challenge-disclaimer"]],decls:8,vars:6,consts:[[1,"challenge-disclaimer"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.openRulesModal()}),R(5,"span",2),j(6),$(7,"transloco"),D()()()),2&e&&(P(2),re(" ",K(3,2,"challenges.By joining the event, you are agreeing to the:")," "),P(4),We(K(7,4,"challenges.Detailed rules")))},pipes:[Ut],styles:["[_nghost-%COMP%]{width:100%}.challenge-disclaimer[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function lCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function cCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function uCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function dCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function hCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function fCe(n,t){if(1&n&&(ve(0,"app-challenge-message",17),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError))("isError",!0)}}const pCe=function(n){return{challenge:n}};function gCe(n,t){if(1&n){const e=_t();R(0,"button",18),Oe("click",function(){return ct(e),se(2).joinToMission()}),j(1),$(2,"transloco"),D()}if(2&n){const e=se(2);B("disabled",e.waitingForResponse.join),P(1),re(" ",Yt(2,2,"challenges.action.Join challenge",Bi(5,pCe,e.challengeConfig.typeUi))," ")}}function _Ce(n,t){if(1&n){const e=_t();R(0,"button",19),Oe("click",function(){return ct(e),se(2).takePrize()}),ve(1,"span",20),j(2),$(3,"transloco"),D()}2&n&&(B("disabled",se(2).waitingForResponse.takePrize),P(2),re(" ",K(3,2,"challenges.action.Take my Prize")," "))}function mCe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",1),ve(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),R(4,"button",4),Oe("click",function(){return ct(e),se().close()}),ve(5,"span",5),D()(),R(6,"div",6),ve(7,"app-challenge-info-main",7),ne(8,lCe,2,3,"app-challenge-message",8),ne(9,cCe,2,3,"app-challenge-message",8),ne(10,uCe,2,3,"app-challenge-message",8),ne(11,dCe,2,3,"app-challenge-message",8),ne(12,hCe,2,3,"app-challenge-message",8),ne(13,fCe,2,4,"app-challenge-message",9),R(14,"div",10),ne(15,gCe,3,7,"button",11),ne(16,_Ce,4,4,"button",12),D(),ve(17,"app-challenge-tasks",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),D(),at()}if(2&n){const e=t.ngIf,i=se();P(2),B("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeUpdate.joinCount)("isMinBetError",e.hasMinBetError),P(1),B("title",i.challengeConfig.name),P(4),B("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("progress",e.taskUpdate.totalProgress)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),P(1),B("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),P(1),B("ngIf",e.hasMinBetError),P(2),B("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Won),P(1),B("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isError",e.hasMinBetError),P(2),B("items",i.prizeItems)("left",e.prizeUpdate.left)("currency",i.challengeConfig.currency)("challengeType",i.challengeConfig.typeUi)("isNetwork",i.challengeConfig.isNetwork),P(1),B("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let gp=class{constructor(t,e,i,r,s,o,a,l,c,u){this.app=t,this.stomp=e,this.activeModal=i,this.cd=r,this.status=s,this.task=o,this.prize=a,this.challenge=l,this.minBetError=c,this.leaderboard=u,this.data$=Gd({statusUpdate:this.status.update$,challengeUpdate:this.challenge.update$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$}),this.challengeMessages=v7,this.ChallengeStatus=Sr,this.playerStatus=or,this.PrizeType=_c,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===_c.FreeBet)}get challengeConfig(){return this.challenge.config}get prizeItems(){return this.prize.items}ngOnInit(){this.challenge.config.type===qu.RACE&&this.leaderboard.sendRequestLeaderboard(),this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>{this.close()}),this.stomp.response(gs.TakePrize).pipe(Nt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(gs.Join).pipe(Nt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){ia.registerPlugin(qi),ia.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),ia.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(gc.Join,this.challenge.config.challengeId?{challengeId:this.challenge.config.challengeId}:null)}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(gc.TakePrize,this.challenge.config.challengeId?{challengeId:this.challenge.config.challengeId}:null)}};gp.\u0275fac=function(t){return new(t||gp)(J(on),J(za),J(ns),J(En),J(lp),J(cp),J(gm),J(Hs),J(my),J(vy))},gp.\u0275cmp=st({type:gp,selectors:[["app-mission-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","progress","isChallengeStarted","isChallengePaused","isChallengeFinished","isProgressEnabled","isError"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isError"],[3,"items","left","currency","challengeType","isNetwork"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(ne(0,mCe,22,40,"ng-container",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.data$))},directives:[Lt,nV,iV,rV,sV,jEe,cV,aCe,dV,hV],pipes:[bo,Ut],styles:["[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;width:160px;height:48px;border-radius:64px;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}"],changeDetection:0}),gp=Qe([qn()],gp);var au=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(au||(au={})),au))();const vCe={[ar.PlayRounds]:au.PlayRounds,[ar.CatchMultipliers]:au.CatchX,[ar.WinRounds]:au.WinRounds,[ar.PlayRoundsMaxReachedMultiplier]:au.PlayRounds,[ar.WinMoneyInTotal]:au.WinMoney,[ar.BetInTotal]:au.MakeBets,[ar.CollectCashOutsMultiplierSum]:au.CollectCashouts};function yCe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(". ",Yt(2,1,"challenges.tasks.xTournament.Min. bet",e.nameParams),"")}}let bCe=(()=>{class n{constructor(e,i){this.currencyPrecisionPipe=e,this.challenge=i}get groupName(){return vCe[this.task.type]}get nameParams(){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.task.targetMinMultiplier?this.currencyPrecisionPipe.transform(this.task.targetMinMultiplier):null}}}return n.\u0275fac=function(e){return new(e||n)(J(br),J(Hs))},n.\u0275cmp=st({type:n,selectors:[["app-task-tournament"]],inputs:{task:"task",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:8,vars:6,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1),R(2,"div",2)(3,"div",3)(4,"span"),j(5),$(6,"transloco"),D(),ne(7,yCe,3,4,"span",4),D()()()),2&e&&(P(1),B("ngClass",i.groupName),P(4),re(" ",Yt(6,3,"challenges.tasks.xTournament."+i.task.type,i.nameParams),""),P(2),B("ngIf",!!i.nameParams.minBet))},directives:[vo,Lt],pipes:[Ut],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}"],changeDetection:0}),n})();function SCe(n,t){if(1&n&&(R(0,"li",9),ve(1,"app-task-tournament",10),D()),2&n){const e=t.$implicit,i=t.index,r=se();P(1),pv("task-item-",i,""),B("task",e)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}function ECe(n,t){if(1&n&&ve(0,"app-tournament-statistics",11),2&n){const e=se();B("position",e.position)("isLeaderboardLoaded",e.isLeaderboardLoaded)("playerStatus",e.playerStatus)("pointsScored",e.pointsScored)}}let CCe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.isLeaderboardLoaded=!1,this.PlayerStatus=or,this.ChallengeStatus=Sr,this.ChallengeTypeUI=si}get visiblePosition(){return this.challengeStatus===Sr.Announced?"-":this.position}showLeaderboard(){this.modalService.open(su,Sc.Players)}}return n.\u0275fac=function(e){return new(e||n)(J(hh))},n.\u0275cmp=st({type:n,selectors:[["app-challenge-tasks-tournament"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType",isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",position:"position"},decls:13,vars:9,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"disabled","click"],[1,"button-text"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored",4,"ngIf"],[1,"task"],[3,"task","isProgressEnabled","isError"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),j(3),$(4,"transloco"),D(),R(5,"button",3),Oe("click",function(){return i.showLeaderboard()}),R(6,"span",4),j(7),$(8,"transloco"),D()()(),R(9,"div",5)(10,"ul",6),ne(11,SCe,2,6,"li",7),D(),ne(12,ECe,1,4,"app-tournament-statistics",8),D()()),2&e&&(P(3),We(K(4,5,"challenges.Tasks")),P(2),B("disabled",!i.isLeaderboardLoaded),P(2),We(K(8,7,"challenges.Leaderboard")),P(4),B("ngForOf",i.tasks),P(1),B("ngIf",i.playerStatus===i.PlayerStatus.Joined||i.playerStatus===i.PlayerStatus.Won||i.playerStatus===i.PlayerStatus.Rewarded))},directives:[ii,bCe,Lt,lV],pipes:[Ut],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})(),fV=(()=>{class n{constructor(e){this.el=e,this.config={}}ngAfterViewInit(){Object.assign(this.el.nativeElement,this.config),this.el.nativeElement.initialize()}}return n.\u0275fac=function(e){return new(e||n)(J(Si))},n.\u0275dir=Rt({type:n,selectors:[["","appSwiper",""]],inputs:{config:"config"}}),n})();function TCe(n,t){1&n&&ve(0,"img",15)}function wCe(n,t){1&n&&ve(0,"img",16)}function MCe(n,t){if(1&n&&(R(0,"div",17),ve(1,"span"),R(2,"span"),j(3),$(4,"transloco"),D()()),2&n){const e=se().index;P(1),pv("icon-place icon-place-",e+1,""),P(2),We(K(4,4,"challenges.Place"))}}function OCe(n,t){if(1&n&&(ot(0),j(1),at()),2&n){const e=se().$implicit;P(1),re(" ",e.name," ")}}function PCe(n,t){1&n&&(ot(0),j(1),$(2,"transloco"),at()),2&n&&(P(1),re(" ",K(2,1,"challenges.Freebet")," "))}function xCe(n,t){if(1&n&&(ot(0),j(1),at()),2&n){const e=se().$implicit;P(1),re(" ",e.description," ")}}function ICe(n,t){if(1&n&&(ot(0),j(1),$(2,"currencyPrecision"),at()),2&n){const e=se().$implicit,i=se();P(1),ui(" ",K(2,2,e.cost)," ",i.currency," ")}}function ACe(n,t){if(1&n&&(R(0,"swiper-slide")(1,"div",8),ne(2,TCe,1,0,"img",9),ne(3,wCe,1,0,"img",10),R(4,"div",11),ne(5,MCe,5,6,"div",12),R(6,"span",13),ne(7,OCe,2,1,"ng-container",7),ne(8,PCe,3,3,"ng-container",7),D(),R(9,"span",14),ne(10,xCe,2,1,"ng-container",7),ne(11,ICe,3,4,"ng-container",7),D()()()()),2&n){const e=t.$implicit,i=t.index,r=se();P(2),B("ngIf",e.type===r.PrizeType.FreeBet),P(1),B("ngIf",e.type===r.PrizeType.Special),P(2),B("ngIf",i<3),P(2),B("ngIf",e.type===r.PrizeType.Special),P(1),B("ngIf",e.type===r.PrizeType.FreeBet),P(2),B("ngIf",e.type===r.PrizeType.Special),P(1),B("ngIf",e.type===r.PrizeType.FreeBet)}}function RCe(n,t){if(1&n){const e=_t();R(0,"swiper-slide")(1,"div",18)(2,"span",2),j(3),$(4,"transloco"),D(),R(5,"button",19),Oe("click",function(){return ct(e),se().showAllPrizes()}),j(6),$(7,"transloco"),D()()()}if(2&n){const e=se();P(3),We(K(4,3,"challenges.Prize pool")),P(2),B("disabled",!e.isLeaderboardLoaded),P(1),re(" ",K(7,5,"challenges.Show all")," ")}}let DCe=(()=>{class n{constructor(e){this.modalService=e,this.isLeaderboardLoaded=!1,this.items=[],this.PrizeType=_c}get swiperConfig(){return{slidesPerView:this.visiblePrizeItems.length>1?1.27:1,spaceBetween:8,injectStyles:["\n          :host {\n            --swiper-pagination-color: #FFDE5C;\n            --swiper-pagination-bullet-inactive-color: #242424;\n            --swiper-pagination-bullet-inactive-opacity: 1;\n            --swiper-pagination-bullet-horizontal-gap: 4px;\n          }\n\n          .swiper-pagination {\n            position: static;\n            height: 24px;\n          }\n        "],pagination:!0}}get visiblePrizeItems(){return this.items.slice(0,Math.min(this.items.length,3))}showAllPrizes(){this.modalService.open(su,Sc.Prizes)}}return n.\u0275fac=function(e){return new(e||n)(J(hh))},n.\u0275cmp=st({type:n,selectors:[["app-challenge-prizes-tournament"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",items:"items",currency:"currency"},decls:10,vars:6,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["appSwiper","","init","false",1,"swiper-prizes",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"prize-card"],["class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-place",4,"ngIf"],[1,"card-title"],[1,"card-description"],["srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-place"],[1,"prize-card-pool"],[1,"btn-link",3,"disabled","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),j(3),$(4,"transloco"),D()(),R(5,"div",3)(6,"swiper-container",4,5),ne(8,ACe,12,7,"swiper-slide",6),ne(9,RCe,8,7,"swiper-slide",7),D()()()),2&e&&(P(3),We(K(4,4,"challenges.Prizes")),P(3),B("config",i.swiperConfig),P(2),B("ngForOf",i.visiblePrizeItems),P(1),B("ngIf",i.visiblePrizeItems.length<i.items.length))},directives:[fV,ii,Lt],pipes:[Ut,br],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;height:32px;padding:4px 12px 4px 4px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;min-width:24px;min-height:24px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-1[_ngcontent-%COMP%]{background-image:url(icon-place-1.223a4457cda4aa61.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-2[_ngcontent-%COMP%]{background-image:url(icon-place-2.c0e6c17ec93632e2.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-3[_ngcontent-%COMP%]{background-image:url(icon-place-3.e64054e966403194.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:normal;padding:0 4px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:160px;padding:12px;background:#1f1f1f;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),n})();function NCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function kCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function FCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function BCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function LCe(n,t){if(1&n&&(ve(0,"app-challenge-message",16),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function UCe(n,t){if(1&n&&(ve(0,"app-challenge-message",17),$(1,"transloco")),2&n){const e=se(2);B("message",K(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError))("isError",!0)}}const GCe=function(n){return{challenge:n}};function jCe(n,t){if(1&n){const e=_t();R(0,"button",18),Oe("click",function(){return ct(e),se(2).joinToMission()}),j(1),$(2,"transloco"),D()}if(2&n){const e=se(2);B("disabled",e.waitingForResponse.join),P(1),re(" ",Yt(2,2,"challenges.action.Join challenge",Bi(5,GCe,e.challengeConfig.typeUi))," ")}}function HCe(n,t){if(1&n){const e=_t();R(0,"button",19),Oe("click",function(){return ct(e),se(2).takePrize()}),ve(1,"span",20),j(2),$(3,"transloco"),D()}2&n&&(B("disabled",se(2).waitingForResponse.takePrize),P(2),re(" ",K(3,2,"challenges.Take my Prize")," "))}function VCe(n,t){if(1&n){const e=_t();ot(0),R(1,"div",1),ve(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),R(4,"button",4),Oe("click",function(){return ct(e),se().close()}),ve(5,"span",5),D()(),R(6,"div",6),ve(7,"app-challenge-info-main",7),ne(8,NCe,2,3,"app-challenge-message",8),ne(9,kCe,2,3,"app-challenge-message",8),ne(10,FCe,2,3,"app-challenge-message",8),ne(11,BCe,2,3,"app-challenge-message",8),ne(12,LCe,2,3,"app-challenge-message",8),ne(13,UCe,2,4,"app-challenge-message",9),R(14,"div",10),ne(15,jCe,3,7,"button",11),ne(16,HCe,4,4,"button",12),D(),ve(17,"app-challenge-tasks-tournament",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes-tournament",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),D(),at()}if(2&n){const e=t.ngIf,i=se();let r;P(2),B("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeUpdate.joinCount)("isMinBetError",e.hasMinBetError),P(1),B("title",i.challengeConfig.name),P(4),B("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),P(1),B("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),P(1),B("ngIf",e.hasMinBetError),P(2),B("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),P(1),B("ngIf",e.statusUpdate.player===i.playerStatus.Won),P(1),B("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isLeaderboardLoaded",e.isLeaderboardLoaded)("pointsScored",null!==(r=null==i.leaderboard.myItem?null:i.leaderboard.myItem.progress)&&void 0!==r?r:0)("position",i.leaderboard.myPosition)("isError",e.hasMinBetError),P(2),B("items",i.prizeItems)("currency",i.challengeConfig.currency)("isLeaderboardLoaded",e.isLeaderboardLoaded),P(1),B("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let _p=class{constructor(t,e,i,r,s,o,a,l,c,u){this.app=t,this.stomp=e,this.activeModal=i,this.cd=r,this.status=s,this.task=o,this.prize=a,this.challenge=l,this.minBetError=c,this.leaderboard=u,this.data$=Gd({statusUpdate:this.status.update$,challengeUpdate:this.challenge.update$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$,isLeaderboardLoaded:this.leaderboard.loaded$}),this.challengeMessages=v7,this.ChallengeStatus=Sr,this.playerStatus=or,this.PrizeType=_c,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===_c.FreeBet)}get challengeConfig(){return this.challenge.config}get prizeItems(){return this.prize.items}ngOnInit(){this.leaderboard.sendRequestLeaderboard(),this.stomp.state$.pipe(Et(this),Nt(t=>t.state===js.Disconnected)).subscribe(()=>{this.close()}),this.stomp.response(gs.TakePrize).pipe(Nt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(gs.Join).pipe(Nt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){ia.registerPlugin(qi),ia.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),ia.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(gc.Join,this.challenge.config.challengeId?{challengeId:this.challenge.config.challengeId}:null)}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(gc.TakePrize,this.challenge.config.challengeId?{challengeId:this.challenge.config.challengeId}:null)}};function zCe(n,t){if(1&n&&(ot(0),R(1,"span",2),j(2),$(3,"number"),$(4,"number"),$(5,"number"),D(),at()),2&n){const e=t.ngIf;P(2),Fg(" ",Yt(3,3,e.hours,"2.0"),":",Yt(4,6,e.minutes,"2.0"),":",Yt(5,9,e.seconds,"2.0")," ")}}_p.\u0275fac=function(t){return new(t||_p)(J(on),J(za),J(ns),J(En),J(lp),J(cp),J(gm),J(Hs),J(my),J(vy))},_p.\u0275cmp=st({type:_p,selectors:[["app-mission-details-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","isChallengeStarted","isChallengeFinished","isChallengePaused","isProgressEnabled","isError"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isLeaderboardLoaded","pointsScored","position","isError"],[3,"items","currency","isLeaderboardLoaded"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(ne(0,VCe,22,40,"ng-container",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.data$))},directives:[Lt,nV,iV,rV,sV,CCe,cV,DCe,dV,hV],pipes:[bo,Ut],styles:["[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;height:48px;border-radius:64px;margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks-tournament[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes-tournament[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}"],changeDetection:0}),_p=Qe([qn()],_p);let ph=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=x2(1e3).pipe(Et(this),Vd(0),Pe(()=>this.calcDateDiff()))}calcDateDiff(){const t=this.startDate-Date.now();return t<=0?{seconds:0,minutes:0,hours:0}:{hours:Math.floor(t/(this.milSecInSec*this.minInH*this.secInMin)%this.hInDay),minutes:Math.floor(t/(this.milSecInSec*this.minInH)%this.secInMin),seconds:Math.floor(t/this.milSecInSec)%this.secInMin}}};function WCe(n,t){1&n&&Fs(0)}function YCe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,WCe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(7);P(1),B("status",e.ChallengeStatusUI.Upcoming),P(1),B("ngTemplateOutlet",i)}}function $Ce(n,t){1&n&&Fs(0)}function XCe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,$Ce,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(7);P(1),B("status",e.ChallengeStatusUI.Live),P(1),B("ngTemplateOutlet",i)}}function qCe(n,t){1&n&&Fs(0)}function KCe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,qCe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Live),P(1),B("ngTemplateOutlet",i)}}function JCe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5)(2,"app-upcoming-timer",7),at()),2&n){const e=se(2);P(1),B("status",e.ChallengeStatusUI.Waiting),P(1),B("startDate",e.startDate)}}function QCe(n,t){1&n&&Fs(0)}function ZCe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,QCe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(7);P(1),B("status",e.ChallengeStatusUI.Paused),P(1),B("ngTemplateOutlet",i)}}function eTe(n,t){1&n&&Fs(0)}function tTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,eTe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Paused),P(1),B("ngTemplateOutlet",i)}}function nTe(n,t){1&n&&Fs(0)}function iTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,nTe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),P(1),B("ngTemplateOutlet",i)}}function rTe(n,t){1&n&&Fs(0)}function sTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,rTe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),P(1),B("ngTemplateOutlet",i)}}function oTe(n,t){1&n&&Fs(0)}function aTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,oTe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Finished),P(1),B("ngTemplateOutlet",i)}}function lTe(n,t){1&n&&Fs(0)}function cTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,lTe,1,0,"ng-container",6),at()),2&n){const e=se(2),i=xi(7);P(1),B("status",e.ChallengeStatusUI.Finished),P(1),B("ngTemplateOutlet",i)}}function uTe(n,t){if(1&n&&(ot(0),ne(1,YCe,3,2,"ng-container",1),ne(2,XCe,3,2,"ng-container",1),ne(3,KCe,3,2,"ng-container",1),ne(4,JCe,3,2,"ng-container",1),ne(5,ZCe,3,2,"ng-container",1),ne(6,tTe,3,2,"ng-container",1),ne(7,iTe,3,2,"ng-container",1),ne(8,sTe,3,2,"ng-container",1),ne(9,aTe,3,2,"ng-container",1),ne(10,cTe,3,2,"ng-container",1),at()),2&n){const e=se();P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Won),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function dTe(n,t){1&n&&Fs(0)}function hTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",5),ne(2,dTe,1,0,"ng-container",6),at()),2&n){const e=se(),i=xi(5);P(1),B("status",e.ChallengeStatusUI.MinBet),P(1),B("ngTemplateOutlet",i)}}function fTe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),j(2),$(3,"scorePrecision"),D(),R(4,"span",10),j(5),$(6,"transloco"),D()()),2&n){const e=se();P(2),We(K(3,2,e.totalProgress)),P(3),We(K(6,4,"challenges.Scored"))}}function pTe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),j(2),D(),R(3,"span",10),j(4),D()()),2&n){const e=se();P(2),re("",e.ChallengeTypeUI.TOURNAMENT,":"),P(2),We(e.challengeName)}}ph.\u0275fac=function(t){return new(t||ph)},ph.\u0275cmp=st({type:ph,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],[1,"timer-value"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,zCe,6,12,"ng-container",1),$(2,"async"),D()),2&t&&(P(1),B("ngIf",K(2,1,e.timeLeft$)))},directives:[Lt],pipes:[bo,Od],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{opacity:.8;text-align:center;font-size:14px;font-weight:500;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),ph=Qe([qn()],ph);let gTe=(()=>{class n{constructor(){this.challengeName="",this.challengeStatus=Sr.Announced,this.playerStatus=or.None,this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=or,this.ChallengeTypeUI=si,this.ChallengeStatusUI=up,this.ChallengeStatus=Sr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-tournament-progress"]],inputs:{challengeName:"challengeName",challengeStatus:"challengeStatus",playerStatus:"playerStatus",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:8,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["tournamentProgress",""],["tournamentName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,uTe,11,10,"ng-container",1),ne(2,hTe,3,2,"ng-container",1),ve(3,"div",2),ne(4,fTe,7,6,"ng-template",null,3,mo),ne(6,pTe,5,2,"ng-template",null,4,mo),D()),2&e&&(P(1),B("ngIf",!i.hasMinBetError),P(1),B("ngIf",i.hasMinBetError))},directives:[Lt,P2,Md,ph],pipes:[I2,Ut],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#ffffff0d;width:32px;height:32px;border-radius:50%}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.55c8a0ca8ad8e8ba.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),_Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-progress-bar"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:2,vars:8,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1),D()),2&e&&(P(1),Xl("width",i.currentProgress+"%"),Mt("error",i.isError)("success",i.isSuccess)("live",i.isLive&&!i.isSuccess))},styles:["[_nghost-%COMP%]{width:100%}.bar-holder[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background:rgba(255,255,255,.1);transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}"],changeDetection:0}),n})(),mTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress"},decls:3,vars:1,consts:[[1,"progress-count","d-flex","align-items-center"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),j(2),D()()),2&e&&(P(2),re("",i.currentProgress,"%"))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:normal;letter-spacing:-.35px;color:#e0e0e0;opacity:.8}"],changeDetection:0}),n})(),vTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-progress-indicator"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:3,vars:5,consts:[[1,"progress-indicator","d-flex","align-items-center","justify-content-between"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"currentProgress"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"app-progress-bar",1)(2,"app-progress-counter",2),D()),2&e&&(P(1),B("currentProgress",i.currentProgress)("isSuccess",i.isSuccess)("isError",i.isError)("isLive",i.isLive),P(1),B("currentProgress",i.currentProgress))},directives:[_Te,mTe],styles:["[_nghost-%COMP%]{flex-grow:1}.progress-indicator[_ngcontent-%COMP%]{padding:7px 21px 7px 16px;gap:13px;position:relative}"],changeDetection:0}),n})();function yTe(n,t){1&n&&Fs(0)}function bTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4),ne(2,yTe,1,0,"ng-container",5),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Upcoming),P(1),B("ngTemplateOutlet",i)}}function STe(n,t){1&n&&Fs(0)}function ETe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4),ne(2,STe,1,0,"ng-container",5),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Live),P(1),B("ngTemplateOutlet",i)}}function CTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se(2);P(1),B("status",e.ChallengeStatusUI.Live),P(1),B("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!0)}}function TTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-upcoming-timer",7),at()),2&n){const e=se(2);P(1),B("status",e.ChallengeStatusUI.Waiting),P(1),B("startDate",e.startDate)}}function wTe(n,t){1&n&&Fs(0)}function MTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4),ne(2,wTe,1,0,"ng-container",5),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Paused),P(1),B("ngTemplateOutlet",i)}}function OTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se(2);P(1),B("status",e.ChallengeStatusUI.Paused),P(1),B("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function PTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se(2);P(1),B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),P(1),B("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function xTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se(2);P(1),B("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),P(1),B("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function ITe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se(2);P(1),B("status",e.ChallengeStatusUI.Finished),P(1),B("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function ATe(n,t){1&n&&Fs(0)}function RTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4),ne(2,ATe,1,0,"ng-container",5),at()),2&n){const e=se(2),i=xi(5);P(1),B("status",e.ChallengeStatusUI.Finished),P(1),B("ngTemplateOutlet",i)}}function DTe(n,t){if(1&n&&(ot(0),ne(1,bTe,3,2,"ng-container",1),ne(2,ETe,3,2,"ng-container",1),ne(3,CTe,3,5,"ng-container",1),ne(4,TTe,3,2,"ng-container",1),ne(5,MTe,3,2,"ng-container",1),ne(6,OTe,3,5,"ng-container",1),ne(7,PTe,3,5,"ng-container",1),ne(8,xTe,3,5,"ng-container",1),ne(9,ITe,3,5,"ng-container",1),ne(10,RTe,3,2,"ng-container",1),at()),2&n){const e=se();P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Won),P(1),B("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),P(1),B("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function NTe(n,t){if(1&n&&(ot(0),ve(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),at()),2&n){const e=se();P(1),B("status",e.ChallengeStatusUI.MinBet),P(1),B("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!0)("isLive",!1)}}function kTe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),j(2),D(),R(3,"span",10),j(4),D()()),2&n){const e=se();P(2),re("",e.challengeType,":"),P(2),We(e.challengeName)}}let FTe=(()=>{class n{constructor(){this.challengeStatus=Sr.Announced,this.challengeType=si.RACE,this.playerStatus=or.None,this.challengeName="",this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=or,this.ChallengeTypeUI=si,this.ChallengeStatusUI=up,this.ChallengeStatus=Sr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-challenge-progress"]],inputs:{challengeStatus:"challengeStatus",challengeType:"challengeType",playerStatus:"playerStatus",challengeName:"challengeName",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:6,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["missionName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(R(0,"div",0),ne(1,DTe,11,10,"ng-container",1),ne(2,NTe,3,5,"ng-container",1),ve(3,"div",2),ne(4,kTe,5,2,"ng-template",null,3,mo),D()),2&e&&(P(1),B("ngIf",!i.hasMinBetError),P(1),B("ngIf",i.hasMinBetError))},directives:[Lt,P2,Md,vTe,ph],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#ffffff0d;width:32px;height:32px;border-radius:50%}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.55c8a0ca8ad8e8ba.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function BTe(n,t){if(1&n&&ve(0,"app-tournament-progress",3),2&n){const e=se().ngIf,i=se();B("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function LTe(n,t){if(1&n&&ve(0,"app-challenge-progress",4),2&n){const e=se().ngIf,i=se();B("challengeType",i.challengeConfig.typeUi)("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function UTe(n,t){if(1&n&&(ot(0),ne(1,BTe,1,6,"app-tournament-progress",1),ne(2,LTe,1,7,"app-challenge-progress",2),at()),2&n){const e=se();P(1),B("ngIf",e.challengeConfig.typeUi===e.challengeTypeUI.TOURNAMENT),P(1),B("ngIf",e.challengeConfig.typeUi!==e.challengeTypeUI.TOURNAMENT)}}let GTe=(()=>{class n{constructor(e,i,r,s,o){this.prize=e,this.task=i,this.minBetError=r,this.status=s,this.challenge=o,this.challengeTypeUI=si,this.data$=Gd([this.task.update$,this.minBetError.update$,this.status.update$]).pipe(Pe(([a,l,c])=>({taskUpdate:a,hasMinBetError:l,statusUpdate:c})))}get challengeConfig(){return this.challenge.config}}return n.\u0275fac=function(e){return new(e||n)(J(gm),J(cp),J(my),J(lp),J(Hs))},n.\u0275cmp=st({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"]],template:function(e,i){1&e&&(ne(0,UTe,3,2,"ng-container",0),$(1,"async")),2&e&&B("ngIf",K(1,1,i.data$))},directives:[Lt,gTe,FTe],pipes:[bo],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})(),jTe=(()=>{class n{constructor(e,i,r){this.window=e,this.modalService=i,this.challenge=r}ngOnInit(){this.window.manualEmitResizeEvent()}showMissionDetails(){this.modalService.open(this.challenge.config.typeUi===si.TOURNAMENT?_p:gp)}}return n.\u0275fac=function(e){return new(e||n)(J(O0),J(hh),J(Hs))},n.\u0275cmp=st({type:n,selectors:[["app-mission"]],decls:3,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-mission-progress",2),Oe("click",function(){return i.showMissionDetails()}),D()()())},directives:[GTe],styles:["[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}"],changeDetection:0}),n})();function HTe(n,t){1&n&&ve(0,"app-mission")}let mp=class{constructor(t,e,i,r){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.connectorState=js,this.isChallengeInited=!1}ngOnInit(){this.stomp.response(gs.Init).pipe(Et(this)).subscribe(e=>{this.isChallengeInited=!1,e.isChallengesEnabled&&this.stomp.request(gc.\u0421hallengeInit,null),e.isChallengesEnabled||this.stomp.stompClient.deactivate(),this.cd.detectChanges()}),this.stomp.response(gs.ChallengesInit).pipe(Et(this),Nt(e=>200===e.code)).subscribe(e=>{this.isChallengeInited=e.challenges.length>0,this.cd.detectChanges()});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/api/v1/public/et-player-stomp",t,Object.values(gs))}};mp.\u0275fac=function(t){return new(t||mp)(J(on),J(za),J(qc),J(En))},mp.\u0275cmp=st({type:mp,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(ne(0,HTe,1,0,"app-mission",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.stomp.state$).state!==e.connectorState.Disconnected&&e.isChallengeInited)},directives:[Lt,jTe],pipes:[bo],encapsulation:2,changeDetection:0}),mp=Qe([qn()],mp);class R2{}const sd="*";function D2(n,t){return{type:7,name:n,definitions:t,options:{}}}function _m(n,t=null){return{type:4,styles:t,timings:n}}function pV(n,t=null){return{type:2,steps:n,options:t}}function Cc(n){return{type:6,styles:n,offset:null}}function WTe(n,t,e){return{type:0,name:n,styles:t,options:e}}function yy(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function gV(n){Promise.resolve(null).then(n)}class by{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _V{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?gV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function XTe(n,t){if(1&n){const e=_t();R(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Oe("click",function(){const s=ct(e).$implicit;return se().mainService.checkFairness(s.roundId)}),D()()()}if(2&n){const e=t.$implicit;P(2),B("multiplier",e.maxMultiplier)}}let qTe=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],["ngbDropdownItem","",1,"bubble-multiplier",3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),j(3),$(4,"transloco"),D()(),R(5,"div",3),ne(6,XTe,3,1,"div",4),D()()),2&e&&(P(3),re(" ",K(4,2,"shared.round_history")," "),P(3),B("ngForOf",i.history))},directives:[ii,Qc,hE],pipes:[Ut],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .bubble-multiplier[_ngcontent-%COMP%]{padding:0;color:inherit;background-color:inherit}"],changeDetection:0}),n})();const KTe=["payoutsBlock"];function JTe(n,t){if(1&n){const e=_t();ot(0),R(1,"app-bubble-multiplier",12),Oe("click",function(){const s=ct(e).$implicit;return se().mainService.checkFairness(s.roundId)}),D(),at()}if(2&n){const e=t.$implicit;P(1),B("multiplier",e.maxMultiplier)}}let vp=class{constructor(t,e,i,r,s){this.statsService=t,this.mainService=e,this.connector=i,this.builder=r,this.cd=s}ngOnInit(){this.history=this.statsService.history,this.connector.response(vn.RoundChartInfo,200).pipe(Et(this)).subscribe(t=>{this.history=[t,...this.history.slice(0,59)],this.animate()})}animate(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,r=this.builder.build([Cc({transform:"scale(2)"}),_m("1s ease-in-out",Cc({transform:"scale(1)"}))]),s=this.builder.build([Cc({transform:`translateX(-${i}px)`}),_m("1s ease-in-out",Cc({transform:"translate(0)"}))]);this.playerPayout=r.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy()}};function QTe(n,t){if(1&n&&(R(0,"div",14)(1,"div",6),j(2),$(3,"transloco"),D(),R(4,"div",7)(5,"div",15),j(6),D(),R(7,"div",16)(8,"div"),j(9," ("),R(10,"span"),j(11),$(12,"currencyPrecision"),D(),R(13,"span",17),j(14),D(),j(15,") "),D()()()()),2&n){const e=se(2);P(2),re(" ",K(3,4,"shared.ui-components.free-bet.Free bets available:")," "),P(4),re(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),P(5),We(K(12,6,e.freeBets.activeFreeBet.freeBetsBetAmount)),P(3),We(e.app.config.currency)}}function ZTe(n,t){if(1&n){const e=_t();R(0,"div",18)(1,"div",19),j(2),$(3,"transloco"),D(),R(4,"div",20),Oe("click",function(){return ct(e),se(2).onFinishFreeBets()}),j(5),$(6,"transloco"),D()()}if(2&n){const e=se(2);P(2),re(" ",K(3,4,"shared.ui-components.free-bet.All free bets spent!")," "),P(2),Mt("disabled",e.uiDisabled),P(1),re(" ",K(6,6,"shared.claim")," ")}}function ewe(n,t){if(1&n&&(ot(0),R(1,"span",6),j(2),$(3,"transloco"),D(),R(4,"span",21),j(5),D(),at()),2&n){const e=se(2);P(2),re(" ",K(3,2,"shared.ui-components.free-bet.Minimum cashout multiplier:")," "),P(3),re(" ",e.freeBets.activeFreeBet.freeBetsMinCashOut.toFixed(e.app.config.multiplierPrecision)," X ")}}function twe(n,t){if(1&n){const e=_t();R(0,"div",1)(1,"div",2),ne(2,QTe,16,8,"div",3),ne(3,ZTe,7,8,"div",4),R(4,"div",5)(5,"div",6)(6,"span"),j(7),$(8,"transloco"),D(),R(9,"span"),j(10),D()(),R(11,"div",7)(12,"span"),j(13),$(14,"currencyPrecision"),D()()()(),R(15,"div",8)(16,"div",9)(17,"div",10),ne(18,ewe,6,4,"ng-container",11),D(),R(19,"div",12),Oe("click",function(){return ct(e),se().onManagementClick()}),$(20,"async"),R(21,"span"),j(22),$(23,"transloco"),D(),ve(24,"div",13),D()()()()}if(2&n){const e=se();P(2),B("ngIf",!e.isSpent),P(1),B("ngIf",e.isSpent),P(4),We(K(8,9,"shared.win")),P(3),re(" ",e.app.config.currency,""),P(3),re(" ",K(14,11,e.freeBets.activeFreeBet.freeBetsWinSum)," "),P(5),B("ngIf",e.isShowMinCashOut),P(1),Mt("disabled",K(20,13,e.betControl.betSetted$)||e.uiDisabled),P(3),We(K(23,15,"shared.ui-components.free-bet.Manage"))}}vp.\u0275fac=function(t){return new(t||vp)(J(kG),J(Wi),J(Ui),J(R2),J(En))},vp.\u0275cmp=st({type:vp,selectors:[["app-stats-widget"]],viewQuery:function(t,e){if(1&t&&Ts(KTe,7),2&t){let i;Vn(i=zn())&&(e.payoutsBlock=i.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2,3),ne(4,JTe,2,1,"ng-container",4),D()(),ve(5,"div",5),R(6,"div",6)(7,"div",7)(8,"div",8),ve(9,"div",9)(10,"div",10),D()()(),ve(11,"app-stats-dropdown",11),D()),2&t&&(P(4),B("ngForOf",e.history),P(7),B("history",e.history))},directives:[kf,ii,Qc,_A,qTe,fE],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:56px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),vp=Qe([qn()],vp);let yp=class{constructor(t,e,i,r,s,o,a){this.app=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.connector=s,this.cd=o,this.sound=a,this.uiDisabled=!1,this.connector.response(vn.FreeBetFinish).pipe(Et(this),Nt(l=>200!==l.code)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onActivate$.pipe(Et(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onUpdate$.pipe(Et(this)).subscribe(()=>{this.cd.markForCheck()})}get isSpent(){return 0===this.freeBets.activeFreeBet.freeBetsLeft}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.sound.play(Xo.FreeBet),this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){return this.freeBets.activeFreeBet.freeBetsMinCashOut>1.01}};yp.\u0275fac=function(t){return new(t||yp)(J(on),J(Wi),J(Gu),J(Kc),J(Ui),J(En),J(Mf))},yp.\u0275cmp=st({type:yp,selectors:[["app-free-bet"]],decls:1,vars:1,consts:[["class","free-bet-wrapper",4,"ngIf"],[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],[1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&ne(0,twe,25,17,"div",0),2&t&&B("ngIf",e.freeBets.activeFreeBet)},directives:[Lt],pipes:[Ut,br,bo],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:350px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.99e164c2610ba4ce.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b3ac02b635f537c6.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"],changeDetection:0}),yp=Qe([qn()],yp);var gh,mV,dC,Il,Sy,vV,k2,pC,Ey,yV=function(){return"undefined"!=typeof window},bV=function(){return gh||yV()&&(gh=window.gsap)&&gh.registerPlugin&&gh},SV=function(t){return"function"==typeof t},rwe=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Al=.212671,Rl=.71516,Dl=.072169,hC=function(t,e){var o,a,i=[],r=0;for(o=0;o<4;o++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},EV=function(t,e){var i=1-e,r=i*Al,s=i*Rl,o=i*Dl;return hC([r+e,s,o,0,0,r,s+e,o,0,0,r,s,o+e,0,0,0,0,0,1,0],t)},CV=function(t,e,i){var r=dC(e),s=r[0]/255,o=r[1]/255,a=r[2]/255,l=1-i;return hC([l+i*s*Al,i*s*Rl,i*s*Dl,0,0,i*o*Al,l+i*o*Rl,i*o*Dl,0,0,i*a*Al,i*a*Rl,l+i*a*Dl,0,0,0,0,0,1,0],t)},TV=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return hC([Al+i*(1-Al)+r*-Al,Rl+i*-Rl+r*-Rl,Dl+i*-Dl+r*(1-Dl),0,0,Al+i*-Al+.143*r,Rl+i*(1-Rl)+.14*r,Dl+i*-Dl+-.283*r,0,0,Al+i*-Al+r*-(1-Al),Rl+i*-Rl+r*Rl,Dl+i*(1-Dl)+r*Dl,0,0,0,0,0,1,0,0,0,0,0,1],t)},wV=function(t,e){return hC([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},MV=function(t,e){var o,i=Il.filters[e],r=t.filters||[],s=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(r[s]instanceof i)return r[s];return o=new i,"BlurFilter"===e&&(o.blur=0),r.push(o),t.filters=r,o},$s=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},OV=function(t,e){var i=new Il.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},Xa={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},owe=function(t,e,i){var a,l,c,r=MV(t,"ColorMatrixFilter"),s=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(Xa),o=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((c=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===c.length?(l=e.matrix,1!==s.contrast&&$s("contrast",i,s,Xa),s.hue&&$s("hue",i,s,Xa),1!==s.brightness&&$s("brightness",i,s,Xa),s.colorizeAmount&&($s("colorize",i,s,Xa),$s("colorizeAmount",i,s,Xa)),1!==s.saturation&&$s("saturation",i,s,Xa)):(l=rwe.slice(),null!=e.contrast?(l=wV(l,+e.contrast),$s("contrast",i,s,e)):1!==s.contrast&&(o?l=wV(l,s.contrast):$s("contrast",i,s,Xa)),null!=e.hue?(l=TV(l,+e.hue),$s("hue",i,s,e)):s.hue&&(o?l=TV(l,s.hue):$s("hue",i,s,Xa)),null!=e.brightness?(l=OV(+e.brightness,l),$s("brightness",i,s,e)):1!==s.brightness&&(o?l=OV(s.brightness,l):$s("brightness",i,s,Xa)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=CV(l,e.colorize,e.colorizeAmount),$s("colorize",i,s,e),$s("colorizeAmount",i,s,e)):s.colorizeAmount&&(o?l=CV(l,s.colorize,s.colorizeAmount):($s("colorize",i,s,Xa),$s("colorizeAmount",i,s,Xa))),null!=e.saturation?(l=EV(l,+e.saturation),$s("saturation",i,s,e)):1!==s.saturation&&(o?l=EV(l,s.saturation):$s("saturation",i,s,Xa))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},awe=function(t,e){var s=e.color;(0,e.set)(e.t,e.p,s[0]<<16|s[1]<<8|s[2])},lwe=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},cwe=function(t,e){e.t.visible=!!e.t.alpha},PV=function(t,e,i,r){var s=t[e],o=dC(SV(s)?t[e.indexOf("set")||!SV(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():s),a=dC(i);r._pt=new Sy(r._pt,t,e,0,0,awe,{t,p:e,color:o,set:vV(t,e)}),r.add(o,0,o[0],a[0]),r.add(o,1,o[1],a[1]),r.add(o,2,o[2],a[2])},uwe={tint:1,lineColor:1,fillColor:1},xV="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),F2={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},dwe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},fC=Math.PI/180,IV=function(t){return"string"==typeof t},hwe=function(t){return IV(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*fC:t*fC},fwe=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},pwe=function(t,e,i,r,s,o){var E,I,a=360*(o?fC:1),l=IV(s),c=l&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0,u=parseFloat(c?s.substr(2):s)*(o?fC:1),d=c?u*c:u-r,v=r+d;return l&&("short"===(E=s.split("_")[1])&&(d%=a)!=d%(a/2)&&(d+=d<0?a:-a),"cw"===E&&d<0?d=(d+1e10*a)%a-~~(d/a)*a:"ccw"===E&&d>0&&(d=(d-1e10*a)%a-~~(d/a)*a)),t._pt=I=new Sy(t._pt,e,i,r,d,fwe),I.e=v,I},AV=function(){yV()&&(mV=window,gh=bV(),k2=(Il=Il||mV.PIXI)&&Il.VERSION&&"4"===Il.VERSION.charAt(0),dC=function(e){return gh.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(pC=0;pC<xV.length;pC++)F2[(Ey=xV[pC])+"X"]=Ey,F2[Ey+"Y"]=Ey;var B2={version:"3.9.1",name:"pixi",register:function(t,e,i){gh=t,Sy=i,vV=e.getSetter,AV()},registerPIXI:function(t){Il=t},init:function(t,e,i,r,s){if(Il||AV(),!(Il&&t instanceof Il.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,l,c,u,d,v,E,I;for(d in e){if(l=e[d],o=F2[d])a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[o],a,t[o][a],"skew"===o?hwe(l):l);else if("scale"===d||"anchor"===d||"pivot"===d||"tileScale"===d)this.add(t[d],"x",t[d].x,l),this.add(t[d],"y",t[d].y,l);else if("rotation"===d||"angle"===d)pwe(this,t,d,t[d],l,"rotation"===d);else if(dwe[d])c||(owe(t,e.colorMatrixFilter||e,this),c=!0);else if("blur"===d||"blurX"===d||"blurY"===d||"blurPadding"===d){if(u=MV(t,"BlurFilter"),this.add(u,d,u[d],l),0!==e.blurPadding)for(v=e.blurPadding||2*Math.max(u[d],l),E=t.filters.length;--E>-1;)t.filters[E].padding=Math.max(t.filters[E].padding,v)}else if(uwe[d])if(("lineColor"===d||"fillColor"===d)&&t instanceof Il.Graphics)for(I=(t.geometry||t).graphicsData,this._pt=new Sy(this._pt,t,d,0,0,lwe,{g:t.geometry||t}),E=I.length;--E>-1;)PV(k2?I[E]:I[E][d.substr(0,4)+"Style"],k2?d:"color",l,this);else PV(t,d,l,this);else"autoAlpha"===d?(this._pt=new Sy(this._pt,t,"visible",0,0,cwe),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==d&&this.add(t,d,"get",l);this._props.push(d)}}};bV()&&gh.registerPlugin(B2);var lu=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(lu||(lu={})),lu))();let Dr=(()=>{class n{static init(){ia.registerPlugin(B2),B2.registerPIXI(w)}static isTweening(e){return ia.isTweening(e)}static killTweensOf(e){ia.killTweensOf(e)}}return n.gsap=ia,n})();class gC{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new vr,this.zone.runOutsideAngular(()=>{Dr.gsap.ticker.fps(e),Dr.gsap.ticker.add(this.__render)})}createApp(t,e){Dr.init(),W4();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=Qt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{gC._app=new t0(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),Dr.gsap.ticker.fps(e),Dr.gsap.ticker.add(this.__render)})}get app(){return gC._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){Dr.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class gwe extends vr{constructor(){super(),this.isAnimation=!0,this.circle=new Yo(Qt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=ia.to(this.circle,{duration:36,angle:360,repeat:-1,ease:lu.None}),this.tween.pause()}resize(){this.y=wn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(wn.appWidth,wn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){Dr.killTweensOf(this.circle),super.destroy()}}class _we extends vr{constructor(t){super(),this.axes=t,this.curve=new Ua,this.gradient=new Ua,this.CURVE_WIDTH=4,this.CURVE_COLOR=Wo("#f00b3e"),this.GRADIENT_COLOR=Wo("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=Dr.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=Dr.gsap.timeline();const e=[];for(let i=0;i<4;i++)e.push(Qt.from(`plane-${i}`));this.plane=new ZU(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){Dr.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:wn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:lu.None};ia.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=wn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:lu.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:lu.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:lu.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=wn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(wn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(wn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,Dr.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const RV=(n="#FF0000",t=3,e=1)=>{const i=new Ua;return i.beginFill(Wo(n),e),i.drawCircle(0,0,t),i.endFill(),i};function DV(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Inter",fontSize:12,fill:16777215,align:"center"}),t);return new l0(n,i)}class mwe extends vr{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=Wo("#423033"),this.xAxis=new Ua,this.yAxis=new Ua,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=RV("#ffffff",2);this.addChild(e),this.pointsX.push(e);const i=RV("#1197d6",2);this.addChild(i),this.pointsY.push(i)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=wn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(wn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,wn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(wn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=wn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(wn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),Dr.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),Dr.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*Dr.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(wn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*Dr.gsap.ticker.deltaRatio(),e.y>wn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){Dr.gsap.ticker.remove(this.onTick),super.destroy()}}class vwe extends vr{constructor(t){super(),this.translate=t,this.PROP_SIZE={[mr.sm]:50,[mr.md]:90,[mr.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[mr.sm]:20,[mr.md]:26,[mr.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT={[mr.sm]:4,[mr.md]:6,[mr.lg]:8},this.TIMER_WIDTH={[mr.sm]:100,[mr.md]:150,[mr.lg]:200},this.TIMER_RADIUS=4,this.TIMER_COLOR=Wo("#262830"),this.TIMER_BAR_COLOR=Wo("#e50539"),this.visible=!1,this.prop=new Yo(Qt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=ia.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:lu.None}),this.propTween.pause(),this.textWaiting=DV(this.translate.translate("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[wn.breakpoint],fontFamily:Dd.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new Ua,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[wn.breakpoint],this.TIMER_HEIGHT[wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new Ua,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[wn.breakpoint],this.TIMER_HEIGHT[wn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=ia.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH[wn.breakpoint]}`,ease:lu.None}),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[wn.breakpoint],this.timer.width=this.timerBar.width=this.timerBarMask.width=this.TIMER_WIDTH[wn.breakpoint],this.timer.height=this.timerBar.height=this.timerBarMask.height=this.TIMER_HEIGHT[wn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[wn.breakpoint],this.prop.x=wn.appWidth/2,this.prop.y=wn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=wn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP;const e=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP;this.timer.x=this.timerBar.x=this.timerBarMask.x=wn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=e,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}var od=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(od||(od={})),od))();class ywe extends vr{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=Wo("#ffffff"),this.COEFFICIENT_END_COLOR=Wo("#d0021b"),this.COEFFICIENT_SIZE={[mr.sm]:68,[mr.md]:78,[mr.lg]:100},this.FLEW_AWAY_SIZE={[mr.sm]:20,[mr.md]:26,[mr.lg]:36},this.coefficient=new h0("1.00x",{fontName:od.Multiplier,fontSize:this.COEFFICIENT_SIZE[wn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=DV(this.translate.translate("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[wn.breakpoint],fontFamily:Dd.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=Wh(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=wn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[wn.breakpoint],this.coefficient.x=wn.appWidth/2-this.coefficient.width/2,this.coefficient.y=wn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[wn.breakpoint],this.flewAway.x=wn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class _h extends vr{constructor(){super(),this.interval=100,this.icon=new Yo(Qt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new h0("00:00:00",{fontName:od.General,tint:Wo("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());_h.startTime||(_h.startTime=t,_h.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-_h.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-_h.startTime),_h.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class bwe extends vr{constructor(){super(),this.interval=1e3,this.icon=new Yo(Qt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new h0(this.getTime(new Date),{fontName:od.General,tint:Wo("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),x2(this.interval).pipe(Et(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class Swe extends vr{constructor(t){super(),this.multiplier=t,this.blur=new Yo(Qt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(Hd.Low),Dr.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){Dr.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),Dr.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&Dr.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!Dr.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){Dr.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=wn.appWidth/this.blur.getLocalBounds().width,this.scale.y=wn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),Dr.killTweensOf(this.blur)}}class Ewe extends vr{constructor(t,e){super(),this.netSessionService=t,this.app=e,this.icon=new Yo(Qt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new h0("",{fontName:od.General,tint:Wo("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(Et(this,"destroy")).subscribe(i=>this.onChangeNet(i))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${t.toFixed(this.app.config.betPrecision)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class Cwe extends gC{constructor(t,e,i,r,s,o){super(e,t),this.el=t,this.zone=e,this.appService=i,this.multiplierService=r,this.translateService=s,this.netSessionService=o,wn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new gwe,this.background.y=wn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new Swe(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new vr,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new mwe,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new _we(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=new vwe(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new ywe(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new _h,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new bwe,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new Ewe(this.netSessionService,this.appService),this.stage.addChild(this.netSession))}setupBitmapFonts(){Bu.from(od.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:Dd.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution});try{this.setupMultiplierFont(100)}catch(t){this.setupMultiplierFont(90)}}setupMultiplierFont(t){Bu.from(od.Multiplier,{fontSize:t,fontWeight:"700",fill:16777215,fontFamily:Dd.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),wn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(wn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=wn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}var Cy=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(Cy||(Cy={})),Cy))();let NV=(()=>{class n{constructor(e){this.app=e,this.amount=0,this.changedSubject=new jn(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=Number((this.amount+e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}minus(e){this.amount=Number((this.amount-e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)(He(on))},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Twe=["stageCanvas"];function wwe(n,t){1&n&&(R(0,"div",5),j(1,"FUN MODE"),D())}let bp=class{constructor(t,e,i,r,s,o,a,l,c){this.zone=t,this.app=e,this.user=i,this.mainService=r,this.multiplier=s,this.translate=o,this.netSessionService=a,this.renderer=l,this.window=c,this.webglContextLost=new en}ngOnInit(){this.canvas=new Cwe(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplier,this.translate,this.netSessionService)}ngAfterViewInit(){this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(Et(this),qo(50)).subscribe(()=>this.canvas.resize()),this.mainService.getState().pipe(Et(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(Et(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(Et(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)}),this.subscribeToCanvasWebGlContextLost()}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(Cy.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){this.canvas.destroy()}subscribeToCanvasWebGlContextLost(){vi(this.canvas.view,"webglcontextlost").pipe(Et(this)).subscribe(()=>{this.webglContextLost.emit()})}};bp.\u0275fac=function(t){return new(t||bp)(J(Wn),J(on),J(yl),J(Wi),J(XS),J(C0),J(NV),J(Ho),J(O0))},bp.\u0275cmp=st({type:bp,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&Ts(Twe,7),2&t){let i;Vn(i=zn())&&(e.stageCanvasRef=i.first)}},outputs:{webglContextLost:"webglContextLost"},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(R(0,"div",0),ve(1,"div",1,2),R(3,"div",3),ne(4,wwe,2,0,"div",4),D()()),2&t&&(P(4),B("ngIf",e.app.isFunMode))},directives:[Lt],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),bp=Qe([qn()],bp);var Sp=(()=>(function(n){n.bet="bet",n.auto="auto"}(Sp||(Sp={})),Sp))();const Mwe=["inputfield"],Owe=function(n){return{minus:!0,"ui-state-disabled":n}};function Pwe(n,t){if(1&n){const e=_t();R(0,"button",7),Oe("mousedown",function(){return ct(e),se().startSpinTimer(-1)})("mouseleave",function(){return ct(e),se().clearSpinTimer()})("mouseup",function(){return ct(e),se().clearSpinTimer()}),D()}if(2&n){const e=se();B("ngClass",Bi(3,Owe,e.disabled))("disabled",e.disabled),ti("readonly",e.readonly)}}function xwe(n,t){1&n&&(R(0,"span",8),j(1,"\xd7"),D())}const Iwe=function(n){return{plus:!0,"ui-state-disabled":n}};function Awe(n,t){if(1&n){const e=_t();R(0,"button",7),Oe("mousedown",function(){return ct(e),se().startSpinTimer(1)})("mouseleave",function(){return ct(e),se().clearSpinTimer()})("mouseup",function(){return ct(e),se().clearSpinTimer()}),D()}if(2&n){const e=se();B("ngClass",Bi(3,Iwe,e.disabled))("disabled",e.disabled),ti("readonly",e.readonly)}}const Rwe=function(n){return{"full-width":n}};let _C=(()=>{class n{constructor(e){this.app=e,this.step=1,this.type="text",this.enableButtons=!0,this.showX=!1,this.size="big",this.decimalSeparator=".",this.thousandSeparator=",",this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i){let r=e||500;this.clearTimer(),this.timer$=Iu(r).subscribe(()=>this.repeat(40,i)),this.spin(i)}spin(e){var i,r;let o=this.value||0;this.value=new Ar(o+this.step*e).clamp(null!==(i=this.min)&&void 0!==i?i:0,null!==(r=this.max)&&void 0!==r?r:this.app.config.maxUserWin).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(e){this.disabled||this.repeat(null,e)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(1),e.preventDefault()):40==e.which&&(this.spin(-1),e.preventDefault())}onInput(e){const i=e,r=i.target,s=r.selectionEnd;let o=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===o[s-2]||","===o[s]))return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);if(!/[\d\.]/.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);o=o.split("").map((l,c)=>c===s-1?".":l).join("")}}else o=this.getValidStringInput(o);r.value=o,r.setSelectionRange(s,s),this.valueAsString=o,this.onModelChange(this.value)}getValidStringInput(e){return e=this.removeNonDecimalNumericCharacters(e),e=this.replaceMultipleDotsInARowWithOne(e),e=this.replaceMultipleCommasInARowWithOne(e),e=this.removeExtraDots(e),this.replaceSingleCommaWithDot(e)}removeNonDecimalNumericCharacters(e){const i=/[\d\.,]/;return e.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(e){return e.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(e){return e.replace(/,{2,}/g,",")}removeExtraDots(e){const i=e.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(e){return e.replace(/,/g,".")}replaceSingleCommaWithDot(e){const i=(e.match(/,/g)||[]).length,r=(e.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(e):e}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(e){if(!(e=e.split(this.thousandSeparator).join("").trim()))return null;let i=this.precision?parseFloat(e.replace(",",".")):parseInt(e);return isNaN(i)?null:i}setFormattedValuesFrom(e){var i,r,s,o;if(null==e)return;let a=e;"string"==typeof e&&(a=null!==(r=null!==(i=this.parseNumericValue(e))&&void 0!==i?i:this.min)&&void 0!==r?r:0),this.value=new Ar(a).clamp(null!==(s=this.min)&&void 0!==s?s:0,null!==(o=this.max)&&void 0!==o?o:this.app.config.maxUserWin).toDP(this.precision).toNumber();let l=new Ar(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const c=l.split(this.decimalSeparator);c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),l=c.join(this.decimalSeparator),this.valueAsString=l,this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(J(on))},n.\u0275cmp=st({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&Ts(Mwe,7),2&e){let r;Vn(r=zn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",type:"type",required:"required",name:"name",enableButtons:"enableButtons",showX:"showX",formatPrecision:"formatPrecision",size:"size"},features:[ni([{provide:Ko,useExisting:kn(()=>n),multi:!0}])],decls:9,vars:17,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],["inputmode","decimal",1,"font-weight-bold",3,"value","disabled","input","keydown","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"],[1,"text","text-x"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ne(2,Pwe,1,5,"button",2),D(),R(3,"div",3)(4,"input",4,5),Oe("input",function(s){return i.onInput(s)})("keydown",function(s){return i.onInputKeydown(s)})("blur",function(){return i.onInputBlur()}),D()(),ne(6,xwe,2,0,"span",6),R(7,"div",1),ne(8,Awe,1,5,"button",2),D()()),2&e&&(B("ngClass",i.size),P(2),B("ngIf",i.enableButtons),P(1),B("ngClass",Bi(15,Rwe,!i.enableButtons)),P(1),B("value",i.valueAsString)("disabled",i.disabled),ti("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),P(2),B("ngIf",i.showX),P(2),B("ngIf",i.enableButtons))},directives:[vo,Lt],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;letter-spacing:-.1em;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.34a62358c343d04d.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.1faa7b1dca471781.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function Dwe(n,t){if(1&n){const e=_t();R(0,"div",20),j(1),$(2,"transloco"),R(3,"button",21),Oe("click",function(){return ct(e),se().errorMessage=null}),R(4,"span"),j(5,"\xd7"),D()()()}if(2&n){const e=se();P(1),re(" ",K(2,1,"shared.ui-components.toastr.toastr-message."+e.errorMessage)," ")}}function Nwe(n,t){if(1&n){const e=_t();ot(0),R(1,"button",22),Oe("click",function(){const s=ct(e).$implicit;return se().activeBetsAmount=s}),j(2),D(),at()}if(2&n){const e=t.$implicit,i=se();P(1),Mt("active",i.activeBetsAmount===e),P(1),re(" ",e," ")}}let kwe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0,this.errorMessage=null}closeModal(e=!1){this.showErrorMessage(null);let i=null;if(e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if(this.app.config.autoBetOptions.decreaseOrExceedStopPointReq&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");i={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(i)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}reset(){this.activeBetsAmount=null,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.showErrorMessage(null)}}return n.\u0275fac=function(e){return new(e||n)(J(ns),J(on),J(En))},n.\u0275cmp=st({type:n,selectors:[["app-auto-play"]],decls:49,vars:65,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],[1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],[1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],[1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],[1,"btn","btn-lg","btn-success","start-btn",3,"click"],[1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),j(2),$(3,"transloco"),D(),R(4,"button",1),Oe("click",function(){return i.closeModal()}),R(5,"span",2),j(6,"\xd7"),D()()(),R(7,"div",3),ne(8,Dwe,6,3,"div",4),R(9,"div",5)(10,"div",6)(11,"div",7)(12,"span"),j(13),$(14,"transloco"),D(),R(15,"div",8),ne(16,Nwe,3,3,"ng-container",9),D()(),R(17,"div",10)(18,"app-ui-switcher",11),Oe("ngModelChange",function(s){return i.decreaseStopPoint.active=s})("toggle",function(){return i.decreaseStopPoint.value=0}),D(),R(19,"span",12),j(20),$(21,"transloco"),D(),R(22,"app-spinner",13),Oe("ngModelChange",function(s){return i.decreaseStopPoint.value=s}),D(),R(23,"span",14),j(24),D()(),R(25,"div",10)(26,"app-ui-switcher",11),Oe("ngModelChange",function(s){return i.increaseStopPoint.active=s})("toggle",function(){return i.increaseStopPoint.value=0}),D(),R(27,"span",12),j(28),$(29,"transloco"),D(),R(30,"app-spinner",13),Oe("ngModelChange",function(s){return i.increaseStopPoint.value=s}),D(),R(31,"span",14),j(32),D()(),R(33,"div",10)(34,"app-ui-switcher",11),Oe("ngModelChange",function(s){return i.exceedStopPoint.active=s})("toggle",function(){return i.exceedStopPoint.value=0}),D(),R(35,"span",15),j(36),$(37,"transloco"),D(),R(38,"app-spinner",13),Oe("ngModelChange",function(s){return i.exceedStopPoint.value=s}),D(),R(39,"span",14),j(40),D()()()()(),R(41,"div",16)(42,"div",17)(43,"button",18),Oe("click",function(){return i.reset()}),j(44),$(45,"transloco"),D(),R(46,"button",19),Oe("click",function(){return i.closeModal(!0)}),j(47),$(48,"transloco"),D()()()),2&e&&(P(2),We(K(3,51,"game.bet-controls.auto-play.Auto play options")),P(6),B("ngIf",i.errorMessage),P(5),We(K(14,53,"game.bet-controls.auto-play.Number of Rounds:")),P(3),B("ngForOf",i.app.config.autoBetOptions.numberOfRounds),P(2),B("ngModel",i.decreaseStopPoint.active),P(1),Mt("disabled",!i.decreaseStopPoint.active),P(1),re(" ",K(21,55,"game.bet-controls.auto-play.Stop if cash decreases by")," "),P(2),Mt("long-precision",i.app.isLongPrecision),B("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),P(1),Mt("disabled",!i.decreaseStopPoint.active),P(1),re(" ",i.app.config.currency," "),P(2),B("ngModel",i.increaseStopPoint.active),P(1),Mt("disabled",!i.increaseStopPoint.active),P(1),re(" ",K(29,57,"game.bet-controls.auto-play.Stop if cash increases by")," "),P(2),Mt("long-precision",i.app.isLongPrecision),B("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),P(1),Mt("disabled",!i.increaseStopPoint.active),P(1),re(" ",i.app.config.currency," "),P(2),B("ngModel",i.exceedStopPoint.active),P(1),Mt("disabled",!i.exceedStopPoint.active),P(1),re(" ",K(37,59,"game.bet-controls.auto-play.Stop if single win exceeds")," "),P(2),Mt("long-precision",i.app.isLongPrecision),B("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),P(1),Mt("disabled",!i.exceedStopPoint.active),P(1),re(" ",i.app.config.currency," "),P(4),re(" ",K(45,61,"game.bet-controls.auto-play.Reset")," "),P(3),re(" ",K(48,63,"game.bet-controls.auto-play.Start")," "))},directives:[Lt,ii,H0,Qo,Po,_C],pipes:[Ut],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})();const Fwe=["winAmount"],Bwe=["autoBetSwitcher"];function Lwe(n,t){if(1&n){const e=_t();R(0,"div",20),Oe("click",function(){return ct(e),se().secHandBtn.emit()}),D()}}function Uwe(n,t){if(1&n){const e=_t();R(0,"div",21),Oe("click",function(){return ct(e),se().secHandBtn.emit()}),D()}2&n&&Mt("disabled",se().isSecHandCloseBtnDisabled)}function Gwe(n,t){if(1&n){const e=_t();ot(0),R(1,"app-navigation-switcher",22),Oe("ngModelChange",function(r){return ct(e),se().activeTab=r}),D(),at()}if(2&n){const e=se();P(1),B("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function jwe(n,t){if(1&n){const e=_t();R(0,"button",23),Oe("click",function(){const s=ct(e).$implicit;return se().onSetBetOpt(s)}),R(1,"span"),j(2),$(3,"currencyPrecision"),D()()}if(2&n){const e=t.$implicit,i=se();Mt("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.app.isLongPrecision),B("disabled",i.betSaved||i.freeBetAvailable),P(2),re(" ",K(3,6,e)," ")}}function Hwe(n,t){if(1&n){const e=_t();ot(0),R(1,"button",24),Oe("click",function(){return ct(e),se().bet()}),R(2,"span",25)(3,"label",26),j(4),$(5,"transloco"),D(),R(6,"label",27)(7,"span"),j(8),$(9,"currencyPrecision"),D(),R(10,"span",28),j(11),D()()()(),at()}if(2&n){const e=se();P(1),Mt("disabled",e.waitingForResponse),B("disabled",e.waitingForResponse),P(3),re(" ",K(5,6,"shared.bet")," "),P(4),We(K(9,8,e.betValue)),P(3),re(" ",e.app.config.currency,"")}}function Vwe(n,t){1&n&&(R(0,"div",31),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.waiting_for_next_round")," "))}function zwe(n,t){if(1&n){const e=_t();ot(0),ne(1,Vwe,3,3,"div",29),R(2,"button",30),Oe("click",function(){return ct(e),se().cancel()}),R(3,"label",26),j(4),$(5,"transloco"),D()(),at()}if(2&n){const e=se();P(1),B("ngIf",e.isPreBet),P(1),Mt("disabled",e.waitingForResponse)("height-70",e.isPreBet),B("disabled",e.waitingForResponse),P(2),re(" ",K(5,7,"shared.cancel")," ")}}function Wwe(n,t){if(1&n){const e=_t();ot(0),R(1,"button",32),Oe("click",function(){return ct(e),se().onCashOut()}),R(2,"span",25)(3,"label",33),j(4),$(5,"transloco"),D(),R(6,"label",27)(7,"span",null,34),j(9,"0"),D(),R(10,"span",28),j(11),D()()()(),at()}if(2&n){const e=se();P(1),Mt("disabled",e.waitingForResponse||e.cashOutDisabled),B("disabled",e.waitingForResponse||e.cashOutDisabled),P(3),re(" ",K(5,5,"shared.cash_out")," "),P(7),re(" ",e.app.config.currency,"")}}function Ywe(n,t){if(1&n){const e=_t();ot(0),R(1,"label"),j(2),$(3,"transloco"),D(),R(4,"app-ui-switcher",35,36),Oe("ngModelChange",function(r){return ct(e),se().endlessAutoBetEnabled=r})("toggle",function(){return ct(e),se().onAutoBetSwitch()}),D(),at()}if(2&n){const e=se();P(2),We(K(3,5,"game.bet-controls.bet-control.auto bet")),P(2),Mt("disabled",e.waitingForResponse||e.freeBetAvailable),B("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function $we(n,t){if(1&n){const e=_t();R(0,"button",39),Oe("click",function(){return ct(e),se(2).onSetAutoPlayOptions(!0)}),j(1),$(2,"transloco"),D()}if(2&n){const e=se(2);Mt("disabled",e.waitingForResponse||e.freeBetAvailable),B("disabled",e.waitingForResponse||e.freeBetAvailable),P(1),re(" ",K(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function Xwe(n,t){if(1&n&&(R(0,"span"),j(1),D()),2&n){const e=se(3);P(1),re(" (",e.autoBetOpt.autoBetsAmount,") ")}}function qwe(n,t){if(1&n){const e=_t();R(0,"button",40),Oe("click",function(){return ct(e),se(2).onSetAutoPlayOptions(!1)}),j(1),$(2,"transloco"),ne(3,Xwe,2,1,"span",3),D()}if(2&n){const e=se(2);Mt("disabled",e.waitingForResponse||e.freeBetAvailable),B("disabled",e.waitingForResponse||e.freeBetAvailable),P(1),re(" ",K(2,5,"shared.stop")," "),P(2),B("ngIf",e.autoBetOpt.autoBetsAmount)}}function Kwe(n,t){if(1&n&&(ot(0),ne(1,$we,3,6,"button",37),ne(2,qwe,4,7,"button",38),at()),2&n){const e=se();P(1),B("ngIf",null===e.autoBetOpt.autoBetsAmount),P(1),B("ngIf",null!==e.autoBetOpt.autoBetsAmount)}}let Ep=class{constructor(t,e,i,r,s,o,a,l,c,u,d,v,E,I,A,N,k){this.mainService=t,this.app=e,this.connector=i,this.betService=r,this.sound=s,this.message=o,this.user=a,this.modal=l,this.freeBets=c,this.frontEndProxyService=u,this.ifc=d,this.cd=v,this.ngbModal=E,this.netSession=I,this.multiplier=A,this.minBetError=N,this.currencyPrecisionPipe=k,this.secHandBtn=new en,this.activeTab=Sp.bet,this.betControlNavigationList=Object.values(Sp),this.betValue=0,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.autoCashOutEnabled=!1,this.settedBetOpt=null,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:null,increaseBalanceStopPoint:null,decreaseBalanceStopPoint:null,exceedStopPoint:null},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.emitEvent(Ii.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}get maxMultiplier(){return this.app.config.maxUserMultiplier?this.app.config.maxUserMultiplier:this.app.config.autoCashOut.maxValue}ngOnInit(){this.mainService.getState(zi.Bet).pipe(Et(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(zi.End).pipe(Et(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(zi.Run).pipe(Et(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(vn.CashOut).pipe(Et(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(vn.CancelBet).pipe(Et(this),Nt(e=>this.isMyAction(e))).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(vn.Bet).pipe(Et(this),Nt(e=>this.isMyAction(e))).subscribe(e=>this.betResponse(e)),this.connector.response(vn.CancelFreeBet,200).pipe(Et(this)).subscribe(e=>this.onCancelFreeBet(e)),this.multiplier.data$.pipe(Et(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(Et(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(Et(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.command(gr.StopAutoplay).pipe(Et(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:null),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=Sp.auto),this.cd.detectChanges()),this.ifc.command(gr.LockUI).pipe(Et(this),nr(e=>this.isLockUI=e.value),Nt(e=>e.value)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(Et(this)).subscribe(()=>this.onCancelBets())}onCancelFreeBet(t){if(!this.betService.getBet(this.betId))return;const e=this.betService.getBet(this.betId).data;let i=null;"freeBetsId"in e&&(i=e.freeBetsId),"freeBetId"in e&&(i=e.freeBetId),i&&t.freeBets.includes(i)&&(this.betService.removeBet(this.betId),this.ifc.emitEvent(Ii.CancelBetComplete,{id:this.betId,code:t.code}),this.cd.detectChanges())}onLockUI(){this.app.onLockUIActions===u_.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){this.cashOutDisabled=!1,this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet&&this.betService.removeBet(this.betId),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!1===this.waitingForResponse){let e=this.betValue*t;!1===this.isBetIncluded&&(e-=this.betValue),this.winAmountRef.nativeElement.textContent=this.currencyPrecisionPipe.transform(e)}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(Xo.Bet),this.waitingForResponse=!0,this.connector.request(Gi.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.emitEvent(Ii.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),null!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:n_.win,params:{winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency,isMaxWinAutoCashOut:e.isMaxWinAutoCashOut}}),this.ifc.emitEvent(Ii.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(Xo.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.emitEvent(Ii.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.sound.play(Xo.Bet);const t={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},e=this.freeBets.activeFreeBet;e&&(t.freeBet=!0,t.freeBetsId=e.freeBetsId),this.autoCashOutEnabled&&(t.autoCashOut=this.autoCashOutValue),this.isBalanceValid(t)?(this.betService.setBet({betId:this.betId,preBet:!0,data:t}),this.mainService.state===zi.Bet&&this.sendBet(t)):this.handleInvalidBalance()}isBalanceValid(t){var e;return!(this.app.config.isBalanceValidationEnabled&&!t.freeBet)||((null===(e=this.betService.getBets()[0])||void 0===e?void 0:e.preBet)?new Ar(this.user.balance).minus(this.betService.getBets()[0].data.bet).toNumber():this.user.balance)>=t.bet}handleInvalidBalance(){null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&this.autoBetSwitcher.onClick(),this.message.add({value:Ad.NotEnoughBalance,context:dr.danger})}sendBet(t){this.isLockUI&&this.app.onLockUIActions===u_.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(Gi.Bet,t),this.ifc.emitEvent(Ii.MakeBet,{id:this.betId,amount:t.bet}))}betResponse(t){this.waitingForResponse=!1,t.code===Kh.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.emitEvent(Ii.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(Gi.CancelBet,{betId:this.betId}),this.ifc.emitEvent(Ii.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(Xo.Bet)}cancelBetResponse(t){this.waitingForResponse=!1,200===t.code&&(this.freeBets.activeFreeBet||this.netSession.plus(this.betService.getBet(this.betId).data.bet),this.betService.removeBet(this.betId)),this.ifc.emitEvent(Ii.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.emitUpdateStakeEvent(this.betId,t)}onSetAutoPlayOptions(t){t?this.ngbModal.open(kwe).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:null,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:null,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:null,this.ifc.emitEvent(Ii.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=null,this.autoBetOpt.decreaseBalanceStopPoint=null,this.autoBetOpt.increaseBalanceStopPoint=null,this.autoBetOpt.exceedStopPoint=null,this.endlessAutoBetEnabled=!1,this.ifc.emitEvent(Ii.Autoplay,{id:this.betId,value:!1})}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){return this.betService.getBet(2)&&!1===this.betService.getBet(2).preBet}get isAutoShown(){return this.activeTab===Sp.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){return this.mainService.state===zi.Run&&this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||null!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||null!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){return this.betService.getBet(this.betId)&&this.betService.getBet(this.betId).preBet}get betOptions(){return this.app.config.betOptions.slice(0,this.app.isLongPrecision?3:6)}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.emitUpdateStakeEvent(this.betId,0),this.minBetError.updateStake(0,this.betId)}};Ep.\u0275fac=function(t){return new(t||Ep)(J(Wi),J(on),J(Ui),J(Kc),J(Mf),J(Va),J(yl),J($o),J(Gu),J($S),J(lc),J(En),J(B0),J(NV),J(XS),J(my),J(br))},Ep.\u0275cmp=st({type:Ep,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&(Ts(Fwe,5),Ts(Bwe,5,H0)),2&t){let i;Vn(i=zn())&&(e.winAmountRef=i.first),Vn(i=zn())&&(e.autoBetSwitcher=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},features:[ni([br])],decls:28,vars:50,consts:[[1,"controls"],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","formatPrecision","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],[1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip",4,"ngIf"],[1,"btn","btn-danger","bet",3,"disabled","click"],[1,"btn-tooltip"],[1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["autoBetSwitcher",""],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,Lwe,1,0,"div",1),ne(2,Uwe,1,2,"div",2),ne(3,Gwe,2,4,"ng-container",3),R(4,"div",4)(5,"div",5)(6,"app-spinner",6),Oe("ngModelChange",function(r){return e.onBetValueChange(r)}),D(),R(7,"div",7),ne(8,jwe,4,8,"button",8),D()(),R(9,"div",9),ne(10,Hwe,12,10,"ng-container",3),ne(11,zwe,6,9,"ng-container",3),ne(12,Wwe,12,7,"ng-container",3),D()(),ve(13,"div",10),R(14,"div",11)(15,"div",12)(16,"div",13),ne(17,Ywe,6,7,"ng-container",3),ne(18,Kwe,3,2,"ng-container",3),D()(),R(19,"div",14)(20,"div",15)(21,"label"),j(22),$(23,"transloco"),D(),R(24,"app-ui-switcher",16),Oe("ngModelChange",function(r){return e.autoCashOutEnabled=r}),D()(),R(25,"div",17)(26,"div",18)(27,"app-spinner",19),Oe("ngModelChange",function(r){return e.autoCashOutValue=r}),D()()()()()()),2&t&&(Mt("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),P(1),B("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),P(1),B("ngIf",e.secondBet&&2===e.betId),P(1),B("ngIf",e.app.isAutoBetFeatureEnabled),P(1),Mt("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),P(2),Mt("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),B("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("formatPrecision",e.app.config.betPrecision),P(2),B("ngForOf",e.betOptions),P(2),B("ngIf",e.displayBetBtn),P(1),B("ngIf",e.displayCancelBtn),P(1),B("ngIf",e.displayCashOutBtn),P(1),Mt("d-none",!e.isAutoShown),P(1),Mt("d-none",!e.isAutoShown),P(3),B("ngIf",!e.app.config.autoBetOptions),P(1),B("ngIf",e.app.config.autoBetOptions),P(3),Mt("disabled",e.betSaved),P(1),re(" ",K(23,48,"game.bet-controls.bet-control.auto cashout")," "),P(2),B("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),P(2),Mt("disabled",!e.autoCashOutEnabled),P(1),B("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.maxMultiplier)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[Lt,OA,Qo,Po,_C,ii,H0],pipes:[br,Ut],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c1d;height:100%;margin:0 auto;border:solid 1px transparent}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.c1334cb81ee6e480.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:url(remove.77a387f030ee9544.svg) no-repeat}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;margin-bottom:auto;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(even){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),Ep=Qe([qn()],Ep);const Jwe=["controls"];function Qwe(n,t){if(1&n){const e=_t();R(0,"app-bet-control",4),Oe("secHandBtn",function(){return ct(e),se().setSecondBet()}),D()}if(2&n){const e=se();Mt("locked",e.lockBets),B("secondBet",e.user.settings.secondBet)("betId",2)}}let Cp=class{constructor(t,e,i,r,s,o,a){this.mainService=t,this.cd=e,this.user=i,this.betService=r,this.app=s,this.ifc=o,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(zi.Run).pipe(Et(this)).subscribe(()=>{this.onLockBets(!1),this.ifc.emitEventStartRound(this.betService.getBets())}),this.mainService.event(Cy.onLockBets).pipe(Et(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(Et(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}};Cp.\u0275fac=function(t){return new(t||Cp)(J(Wi),J(En),J(yl),J(Kc),J(on),J(lc),J(O0))},Cp.\u0275cmp=st({type:Cp,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&Ts(Jwe,7),2&t){let i;Vn(i=zn())&&(e.controlsRef=i.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(R(0,"div",0,1)(2,"app-bet-control",2),Oe("secHandBtn",function(){return e.setSecondBet()}),D(),ne(3,Qwe,1,4,"app-bet-control",3),D()),2&t&&(Mt("controls-wrap",e.controlsWrap),P(2),Mt("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),B("betId",1)("secondBet",e.user.settings.secondBet),P(1),B("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[Ep,Lt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),Cp=Qe([qn()],Cp);let Ty=(()=>{class n{constructor(e){this.zone=e,this._scrollNativeElement=null,this.newMessagesAddedSubject=new jn(!1),this.newMessagesAdded$=this.newMessagesAddedSubject.asObservable()}set scrollNativeElement(e){this._scrollNativeElement=e,vi(this._scrollNativeElement,"scroll").pipe(qo(500)).subscribe(()=>{this.newMessagesAddedSubject.getValue()&&this.newMessagesAddedSubject.next(!this.isScrollAtBottom)})}onScrollToBottom(){this.newMessagesAddedSubject.next(!1),this.scrollToBottom()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAddedSubject.next(!1),this.scrollToBottom()):this.newMessagesAddedSubject.next(!0)}scrollToBottom(e=0){this._scrollNativeElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this._scrollNativeElement.scrollTop=this._scrollNativeElement.scrollHeight},e)})}get isScrollAtBottom(){var e,i,r;return Math.abs((null===(e=this._scrollNativeElement)||void 0===e?void 0:e.scrollHeight)-(null===(i=this._scrollNativeElement)||void 0===i?void 0:i.clientHeight)-(null===(r=this._scrollNativeElement)||void 0===r?void 0:r.scrollTop))<=1}}return n.\u0275fac=function(e){return new(e||n)(He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),Zwe=(()=>{class n{constructor(e,i){this.chatService=e,this.oldChat=i}}return n.\u0275fac=function(e){return new(e||n)(J(Xu),J(ga))},n.\u0275cmp=st({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ve(2,"div",2),R(3,"span"),j(4),$(5,"async"),D()(),R(6,"div",3)(7,"button",4),Oe("click",function(){return i.oldChat.isOpen=!1}),R(8,"span",5),j(9,"\xd7"),D()()()()),2&e&&(P(4),We(K(5,1,i.chatService.onlinePlayers$)))},pipes:[bo],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var mm=(()=>(function(n){n.Moderator="MODERATOR",n.Bot="BOT",n.User="USER",n.Server="SERVER"}(mm||(mm={})),mm))(),Tp=(()=>(function(n){n.Ban="BAN",n.BetInfo="BET_INFO",n.Rain="RAIN",n.Gif="GIF",n.Text="TEXT"}(Tp||(Tp={})),Tp))();let vm=(()=>{class n{constructor(e){this.stomp=e,this.stomp.response(ta.Init).pipe().subscribe(i=>{this.setConfig(i.config)})}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}}return n.\u0275fac=function(e){return new(e||n)(He($u))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),kV=(()=>{class n{constructor(e,i,r,s,o){this.oldChat=e,this.stomp=i,this.bsMessage=r,this.chatConfig=s,this.scrollService=o,this._messagesSubject=new jn([]),this.messages$=this._messagesSubject.asObservable(),this.stomp.response(ta.Init).subscribe(a=>this.onInit(a)),this.stomp.response(ta.MessageAdd).subscribe(a=>this.onMessageAdd(a)),this.stomp.response(ta.MessageDelete).subscribe(a=>this.onMessageDelete(a.deletedMessageIds))}get messages(){return this._messagesSubject.getValue()}onInit(e){this._messagesSubject.next(function W0e(n,t){return n.slice(Math.max(n.length-t,0))}(e.messages,this.chatConfig.config.maxMessages))}onMessageAdd(e){const i=e.message.some(r=>r.type===Tp.Rain);this._messagesSubject.next([...this.messages,...e.message]),this._messagesSubject.next(this.messages.slice(-this.chatConfig.config.maxMessages)),this.scrollService.keepUpScroll(),!1===this.oldChat.isOpen&&i&&this.notifyAboutRain()}onMessageDelete(e){this._messagesSubject.next(this.messages.filter(i=>!e.includes(i.id)))}notifyAboutRain(){this.bsMessage.add({value:"rain-has-been-dropped",lifeTime:5e3,context:dr.success,callback:()=>{setTimeout(()=>{this.oldChat.isOpen=!0},300)}})}}return n.\u0275fac=function(e){return new(e||n)(He(ga),He($u),He(Va),He(vm),He(Ty))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();var mC=(()=>(function(n){n.Reply="reply",n.Translate="translate"}(mC||(mC={})),mC))(),wy=(()=>(function(n){n.Header="header"}(wy||(wy={})),wy))();let My=(()=>{class n{constructor(e){this.chatConfig=e}transform(e){return this.chatConfig.config.isUseMaskedUsername?e&&f4(e)?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(J(vm,16))},n.\u0275pipe=fr({name:"maskedUsername",type:n,pure:!0}),n})();function eMe(n,t){if(1&n&&(R(0,"span",5),j(1),$(2,"maskedUsername"),D()),2&n){const e=se();P(1),re(" ",K(2,1,e.banInfo.playerName)," ")}}function tMe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function nMe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function iMe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function rMe(n,t){1&n&&(R(0,"span",6),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function sMe(n,t){1&n&&(R(0,"span",6),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function oMe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.day),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.day"))}}function aMe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.hour),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.hour"))}}function lMe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.min),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.min"))}}function cMe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.sec),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.sec"))}}function uMe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function dMe(n,t){if(1&n&&(R(0,"span"),j(1),D()),2&n){const e=se();P(1),We(e.banInfo.reason)}}let hMe=(()=>{class n{constructor(){this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.banEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),s=Math.floor(e%3600/60),o=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!s,this.isShownSec=!!o,this.day=i,this.hour=r,this.min=s,this.sec=o}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:20,vars:18,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ne(2,eMe,3,3,"span",2),ne(3,tMe,3,3,"span",3),ne(4,nMe,3,3,"span",3),ne(5,iMe,3,3,"span",3),ne(6,rMe,3,3,"span",4),ne(7,sMe,3,3,"span",4),R(8,"span"),j(9),$(10,"transloco"),D(),ne(11,oMe,6,4,"span",3),ne(12,aMe,6,4,"span",3),ne(13,lMe,6,4,"span",3),ne(14,cMe,6,4,"span",3),R(15,"span"),j(16),$(17,"transloco"),D(),ne(18,uMe,3,3,"span",3),ne(19,dMe,2,1,"span",3),D()()),2&e&&(P(2),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(1),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(1),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(2),re(" ",K(10,14,"game.chat-widget.chat-message.chat-message-ban.from chat for")," "),P(2),B("ngIf",i.isShownDay),P(1),B("ngIf",i.isShownHour),P(1),B("ngIf",i.isShownMin),P(1),B("ngIf",i.isShownSec),P(2),We(K(17,16,"game.chat-widget.chat-message.chat-message-ban.reason")),P(2),B("ngIf",!i.isReasonOther),P(1),B("ngIf",i.isReasonOther))},directives:[Lt],pipes:[My,Ut],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})();const fMe=["(\\[b\\]@\\w+\\[\\/b\\])"],pMe=["(\\[b\\])","(\\[\\/b\\])"],_Me={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function FV(n){return new RegExp(n.join("|"),"g")}function mMe(n,t){1&n&&(R(0,"span",4),j(1," Mod "),D())}function vMe(n,t){1&n&&(R(0,"span",5),j(1," Bot "),D())}let yMe=(()=>{class n{constructor(e,i){this.chat=e,this.maskedUsernamePipe=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===mm.Moderator}get isBotMessageType(){return this.senderType===mm.Bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(J(Xu),J(My))},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[ni([My])],decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Oe("click",function(){return i.tagUser()}),j(2),D(),ne(3,mMe,2,0,"span",2),ne(4,vMe,2,0,"span",3),D()),2&e&&(P(2),We(i.username),P(1),B("ngIf",i.isModeratorMessageType),P(1),B("ngIf",i.isBotMessageType))},directives:[Lt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function bMe(n,t){if(1&n&&(R(0,"span",7),j(1),D()),2&n){const e=se().$implicit;Mt("reply-me",e.isReplyForMe),P(1),re(" ",e.str," ")}}function SMe(n,t){1&n&&ve(0,"span",8),2&n&&B("translate","game.chat-widget.chat-message."+se().$implicit.str)}function EMe(n,t){if(1&n&&(R(0,"span"),j(1),D()),2&n){const e=se().$implicit;P(1),We(e.str)}}function CMe(n,t){if(1&n&&(ot(0)(1,3),ne(2,bMe,2,3,"span",4),ne(3,SMe,1,1,"span",5),ne(4,EMe,2,1,"span",6),at()()),2&n){const e=t.$implicit,i=se();P(1),B("ngSwitch",e.type),P(1),B("ngSwitchCase",i.messageChunkTypes.Reply),P(1),B("ngSwitchCase",i.messageChunkTypes.Translate)}}let TMe=(()=>{class n{constructor(){this.messageChunkTypes=mC,this.messageSenderTypes=mm,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(FV(fMe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),s={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(s)})}getChunkMessage(e,i){return i===this.messageChunkTypes.Reply?e.replace(FV(pMe),""):e}getChunkTypeMessage(e){return function gMe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.messageChunkTypes.Reply:this.isShouldBeTranslated&&_Me.hasOwnProperty(e)?this.messageChunkTypes.Translate:""}get isShouldBeTranslated(){return this.senderType===this.messageSenderTypes.Bot||this.messageType===Tp.Rain||this.messageType===Tp.BetInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName",messageType:"messageType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(R(0,"span",0),ve(1,"app-chat-message-name",1),ne(2,CMe,5,3,"ng-container",2),D()),2&e&&(P(1),B("senderType",i.senderType)("playerName",i.playerName),P(1),B("ngForOf",i.messageChunks))},directives:[yMe,ii,Bs,yo,Ou],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function wMe(n,t){if(1&n&&(R(0,"div",3),j(1),D()),2&n){const e=se();P(1),re(" ",e.usersLikesNumber," ")}}let wp=class{constructor(t,e){this.cd=t,this.stomp=e,this.loading=!1}ngOnInit(){this.stomp.response(ta.MessageLikeAdd).pipe(Nt(t=>this.messageId===t.messageId),Et(this),nr(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber})).subscribe(()=>this.cd.detectChanges()),this.stomp.response(ta.MessageLikeDelete).pipe(Nt(t=>this.messageId===t.messageId),Et(this),nr(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked?(this.stomp.request(Yu.MessageLikeDelete,{messageId:this.messageId}),this.usersLikesNumber-=1):(this.stomp.request(Yu.MessageLikeAdd,{messageId:this.messageId}),this.usersLikesNumber+=1),this.isMeLiked=!this.isMeLiked,this.cd.detectChanges())}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function MMe(n,t){if(1&n&&(ot(0),R(1,"div",3)(2,"div",4),ve(3,"img",5),D(),R(4,"div",6)(5,"div",7),ve(6,"app-chat-message-text",8),D()(),R(7,"div",9),ve(8,"app-chat-message-likes",10),D()(),at()),2&n){const e=se();P(3),B("src",e.getAvatar(e.message),nn)("alt",e.getAvatar(e.message)),P(3),B("messageType",e.message.type)("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),P(2),B("messageId",e.message.id)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function OMe(n,t){if(1&n&&(ot(0),R(1,"div",3)(2,"div",4),ve(3,"img",5),D(),R(4,"div",11)(5,"div",7),ve(6,"app-chat-message-text",8),D()(),R(7,"div",9),ve(8,"app-chat-message-likes",10),D()(),at()),2&n){const e=se();P(3),B("src",e.getAvatar(e.message),nn)("alt",e.getAvatar(e.message)),P(3),B("messageType",e.message.type)("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),P(2),B("messageId",e.message.id)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}wp.\u0275fac=function(t){return new(t||wp)(J(En),J($u))},wp.\u0275cmp=st({type:wp,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,wMe,2,1,"div",1),R(2,"div",2),Oe("click",function(){return e.onLike()}),D()()),2&t&&(P(1),B("ngIf",e.hasLikes),P(1),Mt("active",e.isActiveMeLike))},directives:[Lt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),wp=Qe([qn()],wp);let PMe=(()=>{class n{constructor(){this.messageRegularTypes=wy}getAvatar(e){return Ei_avatarPath+e.profileImage+`?v=${Ei_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"messageType","playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(ot(0,0),ne(1,MMe,9,9,"ng-container",1),ne(2,OMe,9,9,"ng-container",2),at()),2&e&&(B("ngSwitch",i.type),P(1),B("ngSwitchCase",i.messageRegularTypes.Header))},directives:[Bs,yo,TMe,wp,Ou],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),xMe=(()=>{class n{constructor(e){this.app=e,this.minIntegerDigits=1}transform(e){return"number"!=typeof e?"":Wh(new Ar(e).toDecimalPlaces(this.app.config.multiplierPrecision,Ar.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${this.app.config.multiplierPrecision}-${this.app.config.multiplierPrecision}`)}}return n.\u0275fac=function(e){return new(e||n)(J(on,16))},n.\u0275pipe=fr({name:"decimalMultiplier",type:n,pure:!0}),n})(),L2=(()=>{class n{constructor(e){this.configService=e}transform(e){return this.configService.config.isCurrencyNameHidden?"":e}}return n.\u0275fac=function(e){return new(e||n)(J(vm,16))},n.\u0275pipe=fr({name:"hideCurrency",type:n,pure:!0}),n})(),vC=(()=>{class n{constructor(e){this.app=e,this.minIntegerDigits=1}transform(e,i){if("number"!=typeof e&&"string"!=typeof e)return"";const r=null!=i?i:this.app.config.betPrecision;return Wh(new Ar(e).toDecimalPlaces(r,Ar.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(J(on,16))},n.\u0275pipe=fr({name:"decimalCurrency",type:n,pure:!0}),n})(),IMe=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-chat-share-bet"]],inputs:{betInfo:"betInfo"},decls:38,vars:35,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Oe("click",function(){return i.main.checkFairness(i.betInfo.roundId)}),D()(),R(3,"div",3),ve(4,"img",4),R(5,"div"),j(6),$(7,"maskedUsername"),D()(),R(8,"div",5)(9,"div",6)(10,"div",7),j(11),$(12,"transloco"),D(),R(13,"div",8),j(14),$(15,"decimalMultiplier"),D()(),R(16,"div",6)(17,"div",7),j(18),$(19,"transloco"),$(20,"hideCurrency"),D(),R(21,"div",9),j(22),$(23,"decimalCurrency"),D()()(),R(24,"div",5)(25,"div",6)(26,"div",7),j(27),$(28,"transloco"),D(),R(29,"div",9),j(30),$(31,"decimalMultiplier"),D()(),R(32,"div",6)(33,"div",7),j(34),$(35,"transloco"),$(36,"hideCurrency"),D(),ve(37,"app-bet-amount",10),D()()()),2&e&&(P(4),B("src",i.app.getAvatarUrl(i.betInfo.profileImage),nn)("alt",i.app.getAvatarUrl(i.betInfo.profileImage)),P(2),re(" ",K(7,14,i.betInfo.playerName)," "),P(5),re("",K(12,16,"shared.cashed_out"),":"),P(3),re(" ",K(15,18,i.betInfo.multiplier),"x "),P(4),ui(" ",K(19,20,"shared.win")," ",K(20,22,i.betInfo.currency),": "),P(4),re(" ",Yt(23,24,i.betInfo.winAmount,i.betInfo.currencyPrecision)," "),P(5),re("",K(28,27,"shared.round"),":"),P(3),re(" ",K(31,29,i.betInfo.roundMaxMultiplier),"x "),P(4),ui(" ",K(35,31,"shared.bet")," ",K(36,33,i.betInfo.currency),": "),P(3),B("isFreeBet",i.betInfo.isFreeBet)("amount",i.betInfo.bet))},directives:[bA,j0],pipes:[My,Ut,xMe,L2,vC],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var yC=(()=>(function(n){n.Claimed="CLAIMED",n.Free="FREE",n.Canceled="CANCELED"}(yC||(yC={})),yC))();function AMe(n,t){if(1&n&&(ot(0),R(1,"div",11),ve(2,"img",12),R(3,"div",13),j(4),$(5,"maskedUsername"),D()(),at()),2&n){const e=se().$implicit,i=se();P(2),B("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),nn)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),P(1),Mt("me",i.rainInfo.rainWinnerInfo[e].isMe),P(1),re(" ",K(5,5,i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function RMe(n,t){if(1&n){const e=_t();ot(0),R(1,"button",14),Oe("click",function(){ct(e);const r=se().$implicit,s=se();return s.onClaimRain({rainWinnerId:s.rainInfo.rainWinnerInfo[r].rainWinnerId,rainId:s.rainInfo.rainId})}),j(2),$(3,"transloco"),D(),at()}if(2&n){const e=se(2);P(1),B("disabled",!e.rainInfo.isCanClaim),P(1),re(" ",K(3,2,"shared.claim")," ")}}function DMe(n,t){1&n&&(ot(0),R(1,"button",15),j(2),$(3,"transloco"),D(),at()),2&n&&(P(1),B("disabled",!0),P(1),re(" ",K(3,2,"shared.claim")," "))}function NMe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),j(3),$(4,"decimalCurrency"),$(5,"hideCurrency"),D()(),ot(6,9),ne(7,AMe,6,7,"ng-container",10),ne(8,RMe,4,4,"ng-container",10),ne(9,DMe,4,4,"ng-container",10),at(),D()),2&n){const e=t.$implicit,i=se();P(3),ui(" ",Yt(4,6,i.rainInfo.rainAmountPerUser,i.rainInfo.currencyPrecision)," ",K(5,9,i.rainInfo.currency)," "),P(3),B("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),P(1),B("ngSwitchCase",i.rainNodeStatus.Claimed),P(1),B("ngSwitchCase",i.rainNodeStatus.Free),P(1),B("ngSwitchCase",i.rainNodeStatus.Canceled)}}let Mp=class{constructor(t,e,i){this.app=t,this.stomp=e,this.cd=i,this.objectKeys=Object.keys,this.rainNodeStatus=yC}ngOnInit(){this.stomp.response(ta.RainClaim).pipe(Nt(t=>{var e;return t.rainId===this.rainInfo.rainId||(null===(e=t.errorMessageParams)||void 0===e?void 0:e.rainId)===this.rainInfo.rainId}),Et(this)).subscribe(t=>this.onRainClaimResponse(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.stomp.request(Yu.RainClaim,t))}onRainClaimResponse(t){200!==t.code?this.rainInfo.isCanClaim=910!==t.code:this.rainInfo.rainWinnerInfo[t.rainWinnerId-1]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId-1]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),this.cd.detectChanges()}};function kMe(n,t){if(1&n&&(ot(0),R(1,"div",3),ve(2,"app-chat-message-ban",4),D(),at()),2&n){const e=se();P(2),B("banInfo",e.message.banInfo)}}Mp.\u0275fac=function(t){return new(t||Mp)(J(on),J($u),J(En))},Mp.\u0275cmp=st({type:Mp,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),ne(3,NMe,10,11,"div",3),D()(),R(4,"div",4)(5,"div",5)(6,"span"),j(7),$(8,"transloco"),$(9,"transloco"),D(),R(10,"span",6),j(11),$(12,"decimalCurrency"),$(13,"hideCurrency"),D()()()()),2&t&&(P(3),B("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),P(4),ui(" ",K(8,5,"shared.rain")," \u{1f327} | ",K(9,7,"shared.total")," "),P(4),ui(" ",Yt(12,9,e.rainInfo.rainFullAmount,e.rainInfo.currencyPrecision)," ",K(13,12,e.rainInfo.currency)," "))},directives:[ii,Bs,yo],pipes:[vC,L2,My,Ut],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),Mp=Qe([qn()],Mp);const FMe=function(n,t,e){return{low:n,medium:t,high:e}};function BMe(n,t){if(1&n&&(ot(0),R(1,"div",5)(2,"div",6),ve(3,"app-chat-message-regular",7),D(),ve(4,"app-chat-share-bet",8),D(),at()),2&n){const e=se();P(1),B("ngClass",Sv(4,FMe,e.message.betInfo.multiplier<e.multiplierLevel.Medium,e.message.betInfo.multiplier>=e.multiplierLevel.Medium&&e.message.betInfo.multiplier<e.multiplierLevel.High,e.message.betInfo.multiplier>=e.multiplierLevel.High)),P(2),B("type",e.messageRegularTypes.Header)("message",e.message),P(1),B("betInfo",e.message.betInfo)}}function LMe(n,t){if(1&n&&(ot(0),R(1,"div",9)(2,"div",6),ve(3,"app-chat-message-regular",7),D(),ve(4,"app-chat-rain",10),D(),at()),2&n){const e=se();P(3),B("type",e.messageRegularTypes.Header)("message",e.message),P(1),B("rainInfo",e.message.rainInfo)}}const UMe=function(n,t){return{width:n,height:t}};function GMe(n,t){if(1&n&&(ot(0),R(1,"div",11)(2,"div"),ve(3,"app-chat-message-regular",7),D(),R(4,"div",12)(5,"div",13),ve(6,"img",14),D()()(),at()),2&n){const e=se();P(3),B("type",e.messageRegularTypes.Header)("message",e.message),P(2),B("ngStyle",ka(4,UMe,e.gifWidth+"px",e.gifHeight+"px")),P(1),B("src",e.gifInfo.url,nn)}}function jMe(n,t){if(1&n&&(ot(0),R(1,"div",3),ve(2,"app-chat-message-regular",15),D(),at()),2&n){const e=se();P(2),B("message",e.message)}}let HMe=(()=>{class n{constructor(){this.gifMaxLength=180,this.messageType=Tp,this.messageRegularTypes=wy,this.multiplierLevel=Hd}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.type===this.messageType.Gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"betInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(ot(0,0),ne(1,kMe,3,1,"ng-container",1),ne(2,BMe,5,8,"ng-container",1),ne(3,LMe,5,3,"ng-container",1),ne(4,GMe,7,7,"ng-container",1),ne(5,jMe,3,1,"ng-container",2),at()),2&e&&(B("ngSwitch",i.message.type),P(1),B("ngSwitchCase",i.messageType.Ban),P(1),B("ngSwitchCase",i.messageType.BetInfo),P(1),B("ngSwitchCase",i.messageType.Rain),P(1),B("ngSwitchCase",i.messageType.Gif))},directives:[Bs,yo,hMe,vo,PMe,IMe,Mp,Yh,Ou],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();const VMe=["container"];function zMe(n,t){1&n&&ve(0,"app-chat-message",3),2&n&&B("message",t.$implicit)}let WMe=(()=>{class n{constructor(e,i){this.messageService=e,this.scrollService=i,this.trackByMessageId=(r,s)=>s.id}ngAfterViewInit(){this.scrollService.scrollNativeElement=this.containerRef.nativeElement,this.scrollService.scrollToBottom(300)}}return n.\u0275fac=function(e){return new(e||n)(J(kV),J(Ty))},n.\u0275cmp=st({type:n,selectors:[["app-chat-messages-list"]],viewQuery:function(e,i){if(1&e&&Ts(VMe,5),2&e){let r;Vn(r=zn())&&(i.containerRef=r.first)}},decls:4,vars:4,consts:[[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],[3,"message"]],template:function(e,i){1&e&&(R(0,"div",0,1),ne(2,zMe,1,1,"app-chat-message",2),$(3,"async"),D()),2&e&&(P(2),B("ngForOf",K(3,2,i.messageService.messages$))("ngForTrackBy",i.trackByMessageId))},directives:[ii,HMe],pipes:[bo],styles:[".messages-container[_ngcontent-%COMP%]{height:calc(100% - 67px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}"],changeDetection:0}),n})();var mh=(()=>(function(n){n.Emoji="Emoji",n.Gif="Gif",n.Rain="Rain"}(mh||(mh={})),mh))();const Ca=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var ym=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(ym||(ym={})),ym))();const YMe=["*"];let U2=(()=>{class n{constructor(){this.chatInputTools=mh,this.closeTool=new en}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:YMe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(dv(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),j(5),$(6,"transloco"),D(),R(7,"button",5),Oe("click",function(){return i.onCloseTool()}),R(8,"span",6),j(9,"\xd7"),D()()(),R(10,"div",7),hv(11),D()()()()),2&e&&(P(1),Mt("rain",i.title===i.chatInputTools.Rain),P(4),re(" ",K(6,3,"shared."+i.title)," "))},pipes:[Ut],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0}),n})();function $Me(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function XMe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function qMe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function KMe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function JMe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function QMe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function ZMe(n,t){if(1&n&&(ot(0),R(1,"div"),j(2),$(3,"transloco"),D(),R(4,"div",6),ne(5,$Me,2,2,"span",7),D(),R(6,"div",8),j(7),$(8,"transloco"),D(),R(9,"div",6),ne(10,XMe,2,2,"span",7),D(),R(11,"div",8),j(12),$(13,"transloco"),D(),R(14,"div",6),ne(15,qMe,2,2,"span",7),D(),R(16,"div",8),j(17),$(18,"transloco"),D(),R(19,"div",6),ne(20,KMe,2,2,"span",7),D(),R(21,"div",8),j(22),$(23,"transloco"),D(),R(24,"div",6),ne(25,JMe,2,2,"span",7),D(),R(26,"div",8),j(27),$(28,"transloco"),D(),R(29,"div",6),ne(30,QMe,2,2,"span",7),D(),at()),2&n){const e=se();P(2),re(" ",K(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),P(3),B("ngForOf",e.emojiFriquentlyUsed),P(2),re(" ",K(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),P(3),B("ngForOf",e.emojiPeople),P(2),re(" ",K(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),P(3),B("ngForOf",e.emojiNature),P(2),re(" ",K(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),P(3),B("ngForOf",e.emojiObjects),P(2),re(" ",K(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),P(3),B("ngForOf",e.emojiPlaces),P(2),re(" ",K(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),P(3),B("ngForOf",e.emojiSymbols)}}function eOe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function tOe(n,t){if(1&n&&(ot(0),R(1,"div",6),ne(2,eOe,2,2,"span",7),D(),at()),2&n){const e=se();P(2),B("ngForOf",e.searchList)}}let nOe=(()=>{class n{constructor(){this.finish=new en,this.chatInputToolWrapperTitles=ym,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=Ca.slice(9),this.emojiFriquentlyUsed=Ca.slice(0,9),this.emojiPeople=Ca.slice(9,150),this.emojiNature=Ca.slice(150,226),this.emojiObjects=Ca.slice(226,309),this.emojiPlaces=Ca.slice(309,335),this.emojiSymbols=Ca.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const s of this.emojiForSearch)s.title.includes(e)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Oe("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onModelChange(s)})("keydown.enter",function(s){return i.preventDefault(s)}),$(4,"transloco"),D()()(),R(5,"div",4),ne(6,ZMe,31,24,"ng-container",5),ne(7,tOe,3,1,"ng-container",5),D()()),2&e&&(B("title",i.chatInputToolWrapperTitles.emoji),P(3),Cu("placeholder",K(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),B("ngModel",i.searchText)("maxlength",20),P(3),B("ngIf",!i.isShownSearchList),P(1),B("ngIf",i.isShownSearchList))},directives:[U2,Hu,N_,Qo,Po,k_,Lt,ii],pipes:[Ut],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),iOe=(()=>{class n{constructor(e,i){this.chatConfigService=e,this.app=i,this.chatInputToolWrapperTitles=ym,this.amountPerUser=.5,this.finish=new en}ngOnInit(){this.numberOfUsers=this.chatConfigService.config.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.chatConfigService.config.rain.minNumOfUsers}get maxNumberOfUsers(){return this.chatConfigService.config.rain.maxNumOfUsers}get minAmountPerUser(){return this.chatConfigService.config.rain.rainMinBet}get maxAmountPerUser(){return this.chatConfigService.config.rain.rainMaxBet}get totalAmount(){return Ar.mul(this.amountPerUser,this.numberOfUsers).toDP(this.app.config.betPrecision,Ar.ROUND_DOWN).toString()}onRain(){const i=`/rain:${new Ar(this.amountPerUser).toDP(this.app.config.betPrecision,Ar.ROUND_DOWN).toString()}:${this.numberOfUsers} `;this.finish.emit({str:i})}}return n.\u0275fac=function(e){return new(e||n)(J(vm),J(on))},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:42,vars:41,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),j(3),$(4,"transloco"),D(),R(5,"div",3)(6,"div",4)(7,"span"),j(8),$(9,"transloco"),D(),R(10,"span",5),j(11),$(12,"hideCurrency"),D()(),R(13,"div",6)(14,"app-spinner",7),Oe("ngModelChange",function(s){return i.amountPerUser=s}),D()(),R(15,"div",8),j(16),$(17,"transloco"),D(),R(18,"div",6)(19,"app-spinner",9),Oe("ngModelChange",function(s){return i.numberOfUsers=s}),D()()(),R(20,"div",10)(21,"div")(22,"span"),j(23),$(24,"transloco"),D(),R(25,"span",5),j(26),$(27,"hideCurrency"),D()()(),R(28,"div",11),j(29),$(30,"decimalCurrency"),D(),R(31,"div",12)(32,"button",13),Oe("click",function(){return i.onRain()}),R(33,"span",14),j(34),$(35,"transloco"),D(),R(36,"span"),j(37),$(38,"decimalCurrency"),D(),R(39,"span"),j(40),$(41,"hideCurrency"),D()()()()()),2&e&&(B("title",i.chatInputToolWrapperTitles.rain),P(3),re(" ",K(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),P(5),re(" ",K(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),P(3),We(K(12,25,i.chatConfigService.config.currency)),P(3),B("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),P(2),re(" ",K(17,27,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),P(3),B("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),P(4),re("",K(24,29,"shared.total"),","),P(3),We(K(27,31,i.chatConfigService.config.currency)),P(3),re(" ",K(30,33,i.totalAmount)," "),P(5),We(K(35,35,"shared.rain")),P(3),re(" ",K(38,37,i.totalAmount),""),P(3),re(" ",K(41,39,i.chatConfigService.config.currency),""))},directives:[U2,_C,Qo,Po],pipes:[Ut,L2,vC],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();function G2(n,t=t_){return Je((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(de(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const BV=function(n){return{background:n}};function rOe(n,t){if(1&n){const e=_t();R(0,"div",8)(1,"div",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;P(1),B("ngStyle",Bi(1,BV,"url("+e.url+") center center/cover"))}}function sOe(n,t){if(1&n&&(ot(0),ne(1,rOe,2,3,"div",7),at()),2&n){const e=se();P(1),B("ngForOf",e.chatService.top10Gifs)}}function oOe(n,t){if(1&n){const e=_t();R(0,"div",8)(1,"div",9),Oe("click",function(){const s=ct(e).$implicit;return se(3).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;P(1),B("ngStyle",Bi(1,BV,"url("+e.url+") center center/cover"))}}function aOe(n,t){if(1&n&&(ot(0),ne(1,oOe,2,3,"div",7),at()),2&n){const e=se(2);P(1),B("ngForOf",e.searchList)}}function lOe(n,t){1&n&&(R(0,"div",11),ve(1,"app-loader"),D())}function cOe(n,t){if(1&n&&(ot(0),ne(1,aOe,2,1,"ng-container",6),ne(2,lOe,2,0,"div",10),at()),2&n){const e=se();P(1),B("ngIf",e.searchList&&e.searchList.length),P(1),B("ngIf",!(e.searchList&&e.searchList.length))}}let Op=class{constructor(t,e,i){this.stomp=t,this.cd=e,this.chatService=i,this.finish=new en,this.searchInput=new $e,this.chatInputToolWrapperTitles=ym,this.searchText="",this.searchList=[]}ngOnInit(){this.stomp.response(ta.GifsSearch).pipe(Et(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=kO(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(G2(1e3),Pf(),Et(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.stomp.request(Yu.GifsSearch,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};Op.\u0275fac=function(t){return new(t||Op)(J($u),J(En),J(Xu))},Op.\u0275cmp=st({type:Op,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),ve(3,"div",3),R(4,"textarea",4),Oe("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),$(5,"transloco"),D()()(),R(6,"div",5),ne(7,sOe,2,1,"ng-container",6),ne(8,cOe,3,2,"ng-container",6),D()()),2&t&&(B("title",e.chatInputToolWrapperTitles.gif),P(4),Cu("placeholder",K(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),B("ngModel",e.searchText)("maxlength",20),P(3),B("ngIf",!e.isShownSearchList),P(1),B("ngIf",e.isShownSearchList))},directives:[U2,Hu,N_,Qo,Po,k_,Lt,ii,Yh,hc],pipes:[Ut],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),Op=Qe([qn()],Op);const uOe=["input"];function dOe(n,t){if(1&n){const e=_t();R(0,"div",11),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.Emoji)}),D()}}function hOe(n,t){if(1&n){const e=_t();R(0,"div",12),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.Gif)}),D()}}function fOe(n,t){if(1&n){const e=_t();R(0,"div",13),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.Rain)}),ve(1,"div",14),R(2,"div",15),j(3),$(4,"transloco"),D()()}2&n&&(P(3),We(K(4,1,"shared.rain")))}function pOe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-emoji",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"emoji")}),D()}}function gOe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-rain",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"rain")}),D()}}function _Oe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-gif",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"gif")}),D()}}function mOe(n,t){if(1&n){const e=_t();R(0,"div",17)(1,"div",18)(2,"div",19),Oe("animationend",function(){return ct(e),se().onWaitEnd()}),D()(),R(3,"p"),j(4),$(5,"transloco"),D()()}if(2&n){const e=se();P(2),Xl("animation-duration",e.chatConfigService.config.sendMessageDelay,"ms"),P(2),We(K(5,3,"game.chat-widget.chat-input.please wait"))}}let Pp=class{constructor(t,e,i,r,s,o){this.app=t,this.chatConfigService=e,this.mainService=i,this.chatService=r,this.cd=s,this.stomp=o,this.message="",this.wait=!1,this.chatInputTools=mh,this.toolModal=null}ngOnInit(){this.value="",vi(this.inputRef.nativeElement,"input").pipe(qo(50),Et(this)).subscribe(()=>{this.cd.detectChanges()}),vi(this.inputRef.nativeElement,"keydown").pipe(Nt(t=>13===t.which),Et(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Et(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.chatConfigService.config.maxMessageLength}sendMessage(){const t=function vOe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.stomp.request(Yu.MessageSend,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===mh.Emoji}get isRainShown(){return this.toolModal===mh.Rain}get isGifShown(){return this.toolModal===mh.Gif}get leftLength(){return this.chatConfigService.config.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};function yOe(n,t){if(1&n){const e=_t();R(0,"div",1),Oe("click",function(){return ct(e),se().scrollService.onScrollToBottom()}),j(1),$(2,"transloco"),ve(3,"span",2),D()}2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.New messages")," "))}Pp.\u0275fac=function(t){return new(t||Pp)(J(on),J(vm),J(Wi),J(Xu),J(En),J($u))},Pp.\u0275cmp=st({type:Pp,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Ts(uOe,7),2&t){let i;Vn(i=zn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(R(0,"div",0),ve(1,"textarea",1,2),$(3,"transloco"),R(4,"div",3),ne(5,dOe,1,0,"div",4),ne(6,hOe,1,0,"div",5),ne(7,fOe,5,3,"div",6),R(8,"div",7),j(9),D()(),R(10,"button",8),Oe("click",function(){return e.onClickSend()}),D(),ne(11,pOe,1,0,"app-chat-input-tool-emoji",9),ne(12,gOe,1,0,"app-chat-input-tool-rain",9),ne(13,_Oe,1,0,"app-chat-input-tool-gif",9),ne(14,mOe,6,5,"div",10),D()),2&t&&(P(1),Cu("placeholder",K(3,11,"shared.reply")),ti("maxlength",e.chatConfigService.config.maxMessageLength),P(4),B("ngIf",e.app.isDesktop),P(1),B("ngIf",e.chatConfigService.config.isGifsEnabled),P(1),B("ngIf",e.chatConfigService.config.rain),P(2),We(e.leftLength),P(1),B("disabled",!e.isValid),P(1),B("ngIf",e.isEmojiShown),P(1),B("ngIf",e.isRainShown),P(1),B("ngIf",e.isGifShown),P(1),B("ngIf",e.wait))},directives:[Lt,nOe,iOe,Op],pipes:[Ut],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),Pp=Qe([qn()],Pp);let bOe=(()=>{class n{constructor(e){this.scrollService=e}}return n.\u0275fac=function(e){return new(e||n)(J(Ty))},n.\u0275cmp=st({type:n,selectors:[["app-chat-body"]],decls:4,vars:3,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(e,i){1&e&&(ve(0,"app-chat-messages-list")(1,"app-chat-input"),ne(2,yOe,4,3,"div",0),$(3,"async")),2&e&&(P(2),B("ngIf",K(3,1,i.scrollService.newMessagesAdded$)))},directives:[WMe,Pp,Lt],pipes:[bo,Ut],styles:[".chat-input[_ngcontent-%COMP%]{height:67px}.notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}"],changeDetection:0}),n})();function SOe(n,t){1&n&&ve(0,"app-chat-body",4)}function EOe(n,t){1&n&&(R(0,"div",5)(1,"span"),j(2),$(3,"transloco"),D()()),2&n&&(P(2),re(" ",K(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function COe(n,t){1&n&&(R(0,"div",5)(1,"span"),j(2),$(3,"transloco"),D()()),2&n&&(P(2),re(" ",K(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function TOe(n,t){1&n&&(R(0,"div",5)(1,"span"),j(2),$(3,"transloco"),D()()),2&n&&(P(2),re(" ",K(3,1,"game.chat-widget.chat-connector-message.Chat has been disconnected.")," "))}function wOe(n,t){if(1&n&&(R(0,"div",1),ve(1,"app-chat-header"),ne(2,SOe,1,0,"app-chat-body",2),ne(3,EOe,4,3,"div",3),ne(4,COe,4,3,"div",3),ne(5,TOe,4,3,"div",3),D()),2&n){const e=t.ngIf,i=se();P(2),B("ngIf",i.chat.inited&&e===i.connectorState.Connected),P(1),B("ngIf",!i.chat.inited&&e===(i.connectorState.None||i.connectorState.Connected)),P(1),B("ngIf",e===i.connectorState.Reconnecting),P(1),B("ngIf",e===i.connectorState.Disconnected)}}let xp=class{constructor(t,e,i,r,s,o,a){this.stomp=t,this.chat=e,this.scrollService=i,this.oldChat=r,this.app=s,this.cd=o,this.urlParams=a,this.connectorState=Sl}ngOnInit(){this.initChat(),this.oldChat.isOpen$.pipe(Nt(t=>!0===t),Et(this)).subscribe(()=>this.scrollService.scrollToBottom()),vi(document.fonts,"loadingdone").pipe(Et(this)).subscribe(()=>this.scrollService.scrollToBottom())}initChat(){this.stomp.response(ta.Init).pipe(Et(this)).subscribe(()=>{this.cd.detectChanges()});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier,gameZone:this.app.clientConfig.ws.zone};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.chatHost+"/api/v1/public/chat/player-stomp",t,Object.values(ta))}};xp.\u0275fac=function(t){return new(t||xp)(J($u),J(Xu),J(Ty),J(ga),J(on),J(En),J(qc))},xp.\u0275cmp=st({type:xp,selectors:[["app-new-chat"]],inputs:{chatHost:"chatHost",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[["class","chat-wrapper",4,"ngIf"],[1,"chat-wrapper"],["class","chat-body",4,"ngIf"],["class","state-message-wrapper",4,"ngIf"],[1,"chat-body"],[1,"state-message-wrapper"]],template:function(t,e){1&t&&(ne(0,wOe,6,4,"div",0),$(1,"async")),2&t&&B("ngIf",K(1,1,e.stomp.state$).state)},directives:[Lt,Zwe,bOe],pipes:[bo,Ut],styles:['.chat-wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.chat-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.chat-wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.chat-wrapper[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{height:calc(100% - var(--headerHeight));width:100%;max-width:360px}.chat-wrapper[_ngcontent-%COMP%]   .state-message-wrapper[_ngcontent-%COMP%]{position:absolute;top:var(--headerHeight);left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#000000;z-index:120}'],changeDetection:0}),xp=Qe([qn()],xp);let OOe=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)(J(ga),J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ve(2,"div",2),R(3,"span"),j(4),$(5,"async"),D()(),R(6,"div",3)(7,"button",4),Oe("click",function(){return i.chatService.isOpen=!1}),R(8,"span",5),j(9,"\xd7"),D()()()()),2&e&&(P(4),We(K(5,1,i.mainService.onlinePlayers$)))},pipes:[bo],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"]}),n})();var bC=(()=>(function(n){n.reply="reply",n.translate="translate"}(bC||(bC={})),bC))(),Oy=(()=>(function(n){n.header="header"}(Oy||(Oy={})),Oy))(),bm=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(bm||(bm={})),bm))(),Ip=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(Ip||(Ip={})),Ip))();function POe(n,t){if(1&n&&(R(0,"span",5),j(1),D()),2&n){const e=se();P(1),re(" ",e.app.getFormattedUsername(e.banInfo.playerName)," ")}}function xOe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function IOe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function AOe(n,t){1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function ROe(n,t){1&n&&(R(0,"span",6),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function DOe(n,t){1&n&&(R(0,"span",6),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function NOe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.day),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.day"))}}function kOe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.hour),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.hour"))}}function FOe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.min),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.min"))}}function BOe(n,t){if(1&n&&(R(0,"span")(1,"span"),j(2),D(),R(3,"span"),j(4),$(5,"transloco"),D()()),2&n){const e=se();P(2),We(e.sec),P(2),We(K(5,2,"game.chat-widget.chat-message.chat-message-ban.sec"))}}function LOe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se();P(1),re(" ",K(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function UOe(n,t){if(1&n&&(R(0,"span"),j(1),D()),2&n){const e=se();P(1),We(e.banInfo.reason)}}let GOe=(()=>{class n{constructor(e){this.app=e,this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.chatBanEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),s=Math.floor(e%3600/60),o=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!s,this.isShownSec=!!o,this.day=i,this.hour=r,this.min=s,this.sec=o}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)(J(on))},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:20,vars:18,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ne(2,POe,2,1,"span",2),ne(3,xOe,3,3,"span",3),ne(4,IOe,3,3,"span",3),ne(5,AOe,3,3,"span",3),ne(6,ROe,3,3,"span",4),ne(7,DOe,3,3,"span",4),R(8,"span"),j(9),$(10,"transloco"),D(),ne(11,NOe,6,4,"span",3),ne(12,kOe,6,4,"span",3),ne(13,FOe,6,4,"span",3),ne(14,BOe,6,4,"span",3),R(15,"span"),j(16),$(17,"transloco"),D(),ne(18,LOe,3,3,"span",3),ne(19,UOe,2,1,"span",3),D()()),2&e&&(P(2),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(1),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(1),B("ngIf",i.banInfo.playerName),P(1),B("ngIf",i.banInfo.isMyResponse),P(2),re(" ",K(10,14,"game.chat-widget.chat-message.chat-message-ban.from chat for")," "),P(2),B("ngIf",i.isShownDay),P(1),B("ngIf",i.isShownHour),P(1),B("ngIf",i.isShownMin),P(1),B("ngIf",i.isShownSec),P(2),We(K(17,16,"game.chat-widget.chat-message.chat-message-ban.reason")),P(2),B("ngIf",!i.isReasonOther),P(1),B("ngIf",i.isReasonOther))},directives:[Lt],pipes:[Ut],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"]}),n})();const jOe=["(\\[b\\]@\\w+\\[\\/b\\])"],HOe=["(\\[b\\])","(\\[\\/b\\])"],zOe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function LV(n){return new RegExp(n.join("|"),"g")}function WOe(n,t){1&n&&(R(0,"span",4),j(1," Mod "),D())}function YOe(n,t){1&n&&(R(0,"span",5),j(1," Bot "),D())}let $Oe=(()=>{class n{constructor(e,i){this.chat=e,this.app=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===Ip.moderator}get isBotMessageType(){return this.senderType===Ip.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.app.getFormattedUsername(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(J(ga),J(on))},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Oe("click",function(){return i.tagUser()}),j(2),D(),ne(3,WOe,2,0,"span",2),ne(4,YOe,2,0,"span",3),D()),2&e&&(P(2),We(i.username),P(1),B("ngIf",i.isModeratorMessageType),P(1),B("ngIf",i.isBotMessageType))},directives:[Lt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"]}),n})();function XOe(n,t){if(1&n&&(R(0,"span",7),j(1),D()),2&n){const e=se().$implicit;Mt("reply-me",e.isReplyForMe),P(1),re(" ",e.str," ")}}function qOe(n,t){if(1&n&&(R(0,"span"),j(1),$(2,"transloco"),D()),2&n){const e=se().$implicit;P(1),We(K(2,1,"game.chat-widget.chat-message."+e.str))}}function KOe(n,t){if(1&n&&(R(0,"span"),j(1),D()),2&n){const e=se().$implicit;P(1),We(e.str)}}function JOe(n,t){if(1&n&&(ot(0)(1,3),ne(2,XOe,2,3,"span",4),ne(3,qOe,3,3,"span",5),ne(4,KOe,2,1,"span",6),at()()),2&n){const e=t.$implicit,i=se();P(1),B("ngSwitch",e.type),P(1),B("ngSwitchCase",i.chatMessageChunkTypes.reply),P(1),B("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let QOe=(()=>{class n{constructor(){this.chatMessageChunkTypes=bC,this.chatMessageSenderTypes=Ip,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(LV(jOe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),s={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(s)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(LV(HOe),""):e}getChunkTypeMessage(e){return function VOe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isShouldBeTranslated&&zOe.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isShouldBeTranslated(){return this.senderType===this.chatMessageSenderTypes.bot||this.messageType===bm.rain||this.messageType===bm.winInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName",messageType:"messageType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"]],template:function(e,i){1&e&&(R(0,"span",0),ve(1,"app-chat-message-name",1),ne(2,JOe,5,3,"ng-container",2),D()),2&e&&(P(1),B("senderType",i.senderType)("playerName",i.playerName),P(1),B("ngForOf",i.messageChunks))},directives:[$Oe,ii,Bs,yo,Ou],pipes:[Ut],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"]}),n})();const ZOe=["likeButton"];function ePe(n,t){if(1&n&&(R(0,"div",3),j(1),D()),2&n){const e=se();P(1),re(" ",e.usersLikesNumber," ")}}let Ap=class{constructor(t,e){this.cd=t,this.connector=e,this.loading=!1}ngOnInit(){this.connector.response(vn.Like,200).pipe(Nt(t=>this.messageId===t.messageId),Et(this),nr(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(Gi.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function tPe(n,t){if(1&n&&(ot(0),R(1,"div",3)(2,"div",4),ve(3,"img",5),D(),R(4,"div",6)(5,"div",7),ve(6,"app-chat-message-text",8),D()(),R(7,"div",9),ve(8,"app-chat-message-likes",10),D()(),at()),2&n){const e=se();P(3),B("src",e.getAvatar(e.message),nn)("alt",e.getAvatar(e.message)),P(3),B("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),P(2),B("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function nPe(n,t){if(1&n&&(ot(0),R(1,"div",3)(2,"div",4),ve(3,"img",5),D(),R(4,"div",11)(5,"div",7),ve(6,"app-chat-message-text",8),D()(),R(7,"div",9),ve(8,"app-chat-message-likes",10),D()(),at()),2&n){const e=se();P(3),B("src",e.getAvatar(e.message),nn)("alt",e.getAvatar(e.message)),P(3),B("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),P(2),B("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}Ap.\u0275fac=function(t){return new(t||Ap)(J(En),J(Ui))},Ap.\u0275cmp=st({type:Ap,selectors:[["app-chat-message-likes"]],viewQuery:function(t,e){if(1&t&&Ts(ZOe,7),2&t){let i;Vn(i=zn())&&(e.likeButtonRef=i.first)}},inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,ePe,2,1,"div",1),R(2,"div",2),Oe("click",function(){return e.onLike()}),D()()),2&t&&(P(1),B("ngIf",e.hasLikes),P(1),Mt("active",e.isActiveMeLike))},directives:[Lt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"]}),Ap=Qe([qn()],Ap);let iPe=(()=>{class n{constructor(){this.chatMessageRegularTypes=Oy}getAvatar(e){return Ei_avatarPath+e.profileImage+`?v=${Ei_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(ot(0,0),ne(1,tPe,9,9,"ng-container",1),ne(2,nPe,9,9,"ng-container",2),at()),2&e&&(B("ngSwitch",i.type),P(1),B("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[Bs,yo,QOe,Ap,Ou],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"]}),n})(),UV=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=fr({name:"hideCurrency",type:n,pure:!0}),n})(),rPe=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(J(on),J(Wi))},n.\u0275cmp=st({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:35,vars:30,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Oe("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),D()(),R(3,"div",3),ve(4,"img",4),R(5,"div"),j(6),D()(),R(7,"div",5)(8,"div",6)(9,"div",7),j(10),$(11,"transloco"),D(),R(12,"div",8),j(13),D()(),R(14,"div",6)(15,"div",7),j(16),$(17,"transloco"),$(18,"hideCurrency"),D(),R(19,"div",9),j(20),$(21,"currencyPrecision"),D()()(),R(22,"div",5)(23,"div",6)(24,"div",7),j(25),$(26,"transloco"),D(),R(27,"div",9),j(28),D()(),R(29,"div",6)(30,"div",7),j(31),$(32,"transloco"),$(33,"hideCurrency"),D(),ve(34,"app-bet-amount",10),D()()()),2&e&&(P(4),B("src",i.app.getAvatarUrl(i.winInfo.profileImage),nn)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),P(2),re(" ",i.app.getFormattedUsername(i.winInfo.playerName)," "),P(4),re("",K(11,14,"shared.cashed_out"),":"),P(3),re(" ",i.winInfo.multiplier.toFixed(2),"x "),P(3),ui(" ",K(17,16,"shared.win"),", ",Yt(18,18,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),P(4),re(" ",K(21,21,i.winInfo.winAmount)," "),P(5),re("",K(26,23,"shared.round"),":"),P(3),re("",i.winInfo.roundMaxMultiplier.toFixed(2),"x"),P(3),ui(" ",K(32,25,"shared.bet"),", ",Yt(33,27,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),P(3),B("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[bA,j0],pipes:[Ut,UV,br],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"]}),n})();var SC=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(SC||(SC={})),SC))();function sPe(n,t){if(1&n&&(ot(0),R(1,"div",11),ve(2,"img",12),R(3,"div",13),j(4),D()(),at()),2&n){const e=se().$implicit,i=se();P(2),B("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),nn)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),P(1),Mt("me",i.rainInfo.rainWinnerInfo[e].isMe),P(1),re(" ",i.app.getFormattedUsername(i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function oPe(n,t){if(1&n){const e=_t();ot(0),R(1,"button",14),Oe("click",function(){ct(e);const r=se().$implicit,s=se();return s.onClaimRain({rainWinnerId:s.rainInfo.rainWinnerInfo[r].rainWinnerId,rainId:s.rainInfo.rainId})}),j(2),$(3,"transloco"),D(),at()}if(2&n){const e=se(2);P(1),B("disabled",!e.rainInfo.isCanClaim),P(1),re(" ",K(3,2,"shared.claim")," ")}}function aPe(n,t){1&n&&(ot(0),R(1,"button",15),j(2),$(3,"transloco"),D(),at()),2&n&&(P(1),B("disabled",!0),P(1),re(" ",K(3,2,"shared.claim")," "))}function lPe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),j(3),$(4,"currencyPrecision"),$(5,"hideCurrency"),D()(),ot(6,9),ne(7,sPe,5,5,"ng-container",10),ne(8,oPe,4,4,"ng-container",10),ne(9,aPe,4,4,"ng-container",10),at(),D()),2&n){const e=t.$implicit,i=se();P(3),ui(" ",K(4,6,i.rainInfo.rainAmountPerUser)," ",Yt(5,8,i.rainInfo.currency,i.app.config.isCurrencyNameHidden)," "),P(3),B("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),P(1),B("ngSwitchCase",i.rainNodeStatus.Claimed),P(1),B("ngSwitchCase",i.rainNodeStatus.Free),P(1),B("ngSwitchCase",i.rainNodeStatus.Canceled)}}let Rp=class{constructor(t,e,i,r,s){this.connector=t,this.captcha=e,this.cd=i,this.freeBets=r,this.app=s,this.objectKeys=Object.keys,this.rainNodeStatus=SC}ngOnInit(){this.connector.response(vn.ClaimRainWin).pipe(Nt(t=>t.rainId===this.rainInfo.rainId),Et(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(Gi.ClaimRainWin,t)}):this.connector.request(Gi.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}};function cPe(n,t){if(1&n&&(ot(0),R(1,"div",3),ve(2,"app-chat-message-ban",4),D(),at()),2&n){const e=se();P(2),B("banInfo",e.message.banInfo)}}Rp.\u0275fac=function(t){return new(t||Rp)(J(Ui),J(FG),J(En),J(Gu),J(on))},Rp.\u0275cmp=st({type:Rp,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),ne(3,lPe,10,11,"div",3),D()(),R(4,"div",4)(5,"div",5)(6,"span"),j(7),$(8,"transloco"),$(9,"transloco"),D(),R(10,"span",6),j(11),$(12,"currencyPrecision"),$(13,"hideCurrency"),D()()()()),2&t&&(P(3),B("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),P(4),ui(" ",K(8,5,"shared.rain")," \u{1f327} | ",K(9,7,"shared.total")," "),P(4),ui(" ",K(12,9,e.rainInfo.rainFullAmount)," ",Yt(13,11,e.rainInfo.currency,e.app.config.isCurrencyNameHidden)," "))},directives:[ii,Bs,yo],pipes:[br,UV,Ut],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"]}),Rp=Qe([qn()],Rp);const uPe=function(n,t,e){return{low:n,medium:t,high:e}};function dPe(n,t){if(1&n&&(ot(0),R(1,"div",5)(2,"div",6),ve(3,"app-chat-message-regular",7),D(),ve(4,"app-chat-share-bet",8),D(),at()),2&n){const e=se();P(1),B("ngClass",Sv(4,uPe,e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),P(2),B("type",e.chatMessageRegularTypes.header)("message",e.message),P(1),B("winInfo",e.message.winInfo)}}function hPe(n,t){if(1&n&&(ot(0),R(1,"div",9)(2,"div",6),ve(3,"app-chat-message-regular",7),D(),ve(4,"app-chat-rain",10),D(),at()),2&n){const e=se();P(3),B("type",e.chatMessageRegularTypes.header)("message",e.message),P(1),B("rainInfo",e.message.rainInfo)}}const fPe=function(n,t){return{width:n,height:t}};function pPe(n,t){if(1&n&&(ot(0),R(1,"div",12)(2,"div"),ve(3,"app-chat-message-regular",7),D(),R(4,"div",13)(5,"div",14),ve(6,"img",15),D()()(),at()),2&n){const e=se(2);P(3),B("type",e.chatMessageRegularTypes.header)("message",e.message),P(2),B("ngStyle",ka(4,fPe,e.gifWidth+"px",e.gifHeight+"px")),P(1),B("src",e.gifInfo.url,nn)}}function gPe(n,t){if(1&n&&(ot(0),ne(1,pPe,7,7,"ng-container",11),at()),2&n){const e=se();P(1),B("ngIf",e.gifInfo)}}function _Pe(n,t){if(1&n&&(ot(0),R(1,"div",3),ve(2,"app-chat-message-regular",16),D(),at()),2&n){const e=se();P(2),B("message",e.message)}}let mPe=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=bm,this.chatMessageRegularTypes=Oy,this.chatMessageSenderTypes=Ip,this.multiplierLevel=Hd}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[4,"ngIf"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(ot(0,0),ne(1,cPe,3,1,"ng-container",1),ne(2,dPe,5,8,"ng-container",1),ne(3,hPe,5,3,"ng-container",1),ne(4,gPe,2,1,"ng-container",1),ne(5,_Pe,3,1,"ng-container",2),at()),2&e&&(B("ngSwitch",i.message.messageType),P(1),B("ngSwitchCase",i.chatMessageTypes.ban),P(1),B("ngSwitchCase",i.chatMessageTypes.winInfo),P(1),B("ngSwitchCase",i.chatMessageTypes.rain),P(1),B("ngSwitchCase",i.chatMessageTypes.gif))},directives:[Bs,yo,GOe,vo,iPe,rPe,Rp,Lt,Yh,Ou],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var vh=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(vh||(vh={})),vh))(),Sm=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(Sm||(Sm={})),Sm))();const vPe=["*"];let j2=(()=>{class n{constructor(){this.chatInputTools=vh,this.closeTool=new en}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:vPe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(dv(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),j(5),$(6,"transloco"),D(),R(7,"button",5),Oe("click",function(){return i.onCloseTool()}),R(8,"span",6),j(9,"\xd7"),D()()(),R(10,"div",7),hv(11),D()()()()),2&e&&(P(1),Mt("rain",i.title===i.chatInputTools.rain),P(4),re(" ",K(6,3,"shared."+i.title)," "))},pipes:[Ut],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),n})();function yPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function bPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function SPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function EPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function CPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function TPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function wPe(n,t){if(1&n&&(ot(0),R(1,"div"),j(2),$(3,"transloco"),D(),R(4,"div",6),ne(5,yPe,2,2,"span",7),D(),R(6,"div",8),j(7),$(8,"transloco"),D(),R(9,"div",6),ne(10,bPe,2,2,"span",7),D(),R(11,"div",8),j(12),$(13,"transloco"),D(),R(14,"div",6),ne(15,SPe,2,2,"span",7),D(),R(16,"div",8),j(17),$(18,"transloco"),D(),R(19,"div",6),ne(20,EPe,2,2,"span",7),D(),R(21,"div",8),j(22),$(23,"transloco"),D(),R(24,"div",6),ne(25,CPe,2,2,"span",7),D(),R(26,"div",8),j(27),$(28,"transloco"),D(),R(29,"div",6),ne(30,TPe,2,2,"span",7),D(),at()),2&n){const e=se();P(2),re(" ",K(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),P(3),B("ngForOf",e.emojiFriquentlyUsed),P(2),re(" ",K(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),P(3),B("ngForOf",e.emojiPeople),P(2),re(" ",K(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),P(3),B("ngForOf",e.emojiNature),P(2),re(" ",K(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),P(3),B("ngForOf",e.emojiObjects),P(2),re(" ",K(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),P(3),B("ngForOf",e.emojiPlaces),P(2),re(" ",K(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),P(3),B("ngForOf",e.emojiSymbols)}}function MPe(n,t){if(1&n){const e=_t();R(0,"span",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).onClickEmoji(s.pic)}),j(1),D()}if(2&n){const e=t.$implicit;B("title",e.title),P(1),re(" ",e.pic," ")}}function OPe(n,t){if(1&n&&(ot(0),R(1,"div",6),ne(2,MPe,2,2,"span",7),D(),at()),2&n){const e=se();P(2),B("ngForOf",e.searchList)}}let PPe=(()=>{class n{constructor(){this.finish=new en,this.chatInputToolWrapperTitles=Sm,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=Ca.slice(9),this.emojiFriquentlyUsed=Ca.slice(0,9),this.emojiPeople=Ca.slice(9,150),this.emojiNature=Ca.slice(150,226),this.emojiObjects=Ca.slice(226,309),this.emojiPlaces=Ca.slice(309,335),this.emojiSymbols=Ca.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const s of this.emojiForSearch)s.title.includes(e)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Oe("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onModelChange(s)})("keydown.enter",function(s){return i.preventDefault(s)}),$(4,"transloco"),D()()(),R(5,"div",4),ne(6,wPe,31,24,"ng-container",5),ne(7,OPe,3,1,"ng-container",5),D()()),2&e&&(B("title",i.chatInputToolWrapperTitles.emoji),P(3),Cu("placeholder",K(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),B("ngModel",i.searchText)("maxlength",20),P(3),B("ngIf",!i.isShownSearchList),P(1),B("ngIf",i.isShownSearchList))},directives:[j2,Hu,N_,Qo,Po,k_,Lt,ii],pipes:[Ut],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"]}),n})(),xPe=(()=>{class n{constructor(e){this.app=e,this.chatInputToolWrapperTitles=Sm,this.amountPerUser=.5,this.finish=new en}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return Ar.mul(this.amountPerUser,this.numberOfUsers).toNumber()}onRain(){const e=`/rain:${this.amountPerUser.toFixed(this.app.config.betPrecision)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(J(on))},n.\u0275cmp=st({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:39,vars:35,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),j(3),$(4,"transloco"),D(),R(5,"div",3)(6,"div",4)(7,"span"),j(8),$(9,"transloco"),D(),R(10,"span",5),j(11),D()(),R(12,"div",6)(13,"app-spinner",7),Oe("ngModelChange",function(s){return i.amountPerUser=s}),D()(),R(14,"div",8),j(15),$(16,"transloco"),D(),R(17,"div",6)(18,"app-spinner",9),Oe("ngModelChange",function(s){return i.numberOfUsers=s}),D()()(),R(19,"div",10)(20,"div")(21,"span"),j(22),$(23,"transloco"),D(),R(24,"span",5),j(25),D()()(),R(26,"div",11),j(27),$(28,"currencyPrecision"),D(),R(29,"div",12)(30,"button",13),Oe("click",function(){return i.onRain()}),R(31,"span",14),j(32),$(33,"transloco"),D(),R(34,"span"),j(35),$(36,"currencyPrecision"),D(),R(37,"span"),j(38),D()()()()()),2&e&&(B("title",i.chatInputToolWrapperTitles.rain),P(3),re(" ",K(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),P(5),re(" ",K(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),P(3),We(i.app.config.currency),P(2),B("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),P(2),re(" ",K(16,25,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),P(3),B("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),P(4),re("",K(23,27,"shared.total"),","),P(3),re(" ",i.app.config.currency,""),P(2),re(" ",K(28,29,i.totalAmount)," "),P(5),We(K(33,31,"shared.rain")),P(3),re(" ",K(36,33,i.totalAmount),""),P(3),re(" ",i.app.config.currency,""))},directives:[j2,_C,Qo,Po],pipes:[Ut,br],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"]}),n})();const GV=function(n){return{background:n}};function IPe(n,t){if(1&n){const e=_t();R(0,"div",8)(1,"div",9),Oe("click",function(){const s=ct(e).$implicit;return se(2).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;P(1),B("ngStyle",Bi(1,GV,"url("+e.url+") center center/cover"))}}function APe(n,t){if(1&n&&(ot(0),ne(1,IPe,2,3,"div",7),at()),2&n){const e=se();P(1),B("ngForOf",e.chatService.top10Gifs)}}function RPe(n,t){if(1&n){const e=_t();R(0,"div",8)(1,"div",9),Oe("click",function(){const s=ct(e).$implicit;return se(3).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;P(1),B("ngStyle",Bi(1,GV,"url("+e.url+") center center/cover"))}}function DPe(n,t){if(1&n&&(ot(0),ne(1,RPe,2,3,"div",7),at()),2&n){const e=se(2);P(1),B("ngForOf",e.searchList)}}function NPe(n,t){1&n&&(R(0,"div",11),ve(1,"app-loader"),D())}function kPe(n,t){if(1&n&&(ot(0),ne(1,DPe,2,1,"ng-container",6),ne(2,NPe,2,0,"div",10),at()),2&n){const e=se();P(1),B("ngIf",e.searchList&&e.searchList.length),P(1),B("ngIf",!(e.searchList&&e.searchList.length))}}let Dp=class{constructor(t,e,i){this.connector=t,this.cd=e,this.chatService=i,this.finish=new en,this.searchInput=new $e,this.chatInputToolWrapperTitles=Sm,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(vn.SearchGifs).pipe(Et(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=kO(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(G2(1e3),Pf(),Et(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(Gi.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};Dp.\u0275fac=function(t){return new(t||Dp)(J(Ui),J(En),J(ga))},Dp.\u0275cmp=st({type:Dp,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),ve(3,"div",3),R(4,"textarea",4),Oe("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),$(5,"transloco"),D()()(),R(6,"div",5),ne(7,APe,2,1,"ng-container",6),ne(8,kPe,3,2,"ng-container",6),D()()),2&t&&(B("title",e.chatInputToolWrapperTitles.gif),P(4),Cu("placeholder",K(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),B("ngModel",e.searchText)("maxlength",20),P(3),B("ngIf",!e.isShownSearchList),P(1),B("ngIf",e.isShownSearchList))},directives:[j2,Hu,N_,Qo,Po,k_,Lt,ii,Yh,hc],pipes:[Ut],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"]}),Dp=Qe([qn()],Dp);const FPe=["input"];function BPe(n,t){if(1&n){const e=_t();R(0,"div",11),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.emoji)}),D()}}function LPe(n,t){if(1&n){const e=_t();R(0,"div",12),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.gif)}),D()}}function UPe(n,t){if(1&n){const e=_t();R(0,"div",13),Oe("click",function(){ct(e);const r=se();return r.showToolModal(r.chatInputTools.rain)}),ve(1,"div",14),R(2,"div",15),j(3),$(4,"transloco"),D()()}2&n&&(P(3),We(K(4,1,"shared.rain")))}function GPe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-emoji",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"emoji")}),D()}}function jPe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-rain",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"rain")}),D()}}function HPe(n,t){if(1&n){const e=_t();R(0,"app-chat-input-tool-gif",16),Oe("finish",function(r){return ct(e),se().onCloseToolModal(r,"gif")}),D()}}function VPe(n,t){if(1&n){const e=_t();R(0,"div",17)(1,"div",18)(2,"div",19),Oe("animationend",function(){return ct(e),se().onWaitEnd()}),D()(),R(3,"p"),j(4),$(5,"transloco"),D()()}if(2&n){const e=se();P(2),Xl("animation-duration",e.app.config.chat.sendMessageDelay,"ms"),P(2),We(K(5,3,"game.chat-widget.chat-input.please wait"))}}let Np=class{constructor(t,e,i,r,s){this.chatService=t,this.app=e,this.mainService=i,this.cd=r,this.connector=s,this.message="",this.wait=!1,this.chatInputTools=vh,this.toolModal=null}ngOnInit(){this.value="",vi(this.inputRef.nativeElement,"input").pipe(qo(50),Et(this)).subscribe(()=>{this.cd.detectChanges()}),vi(this.inputRef.nativeElement,"keydown").pipe(Nt(t=>13===t.which),Et(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Et(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function zPe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(Gi.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===vh.emoji}get isRainShown(){return this.toolModal===vh.rain}get isGifShown(){return this.toolModal===vh.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};Np.\u0275fac=function(t){return new(t||Np)(J(ga),J(on),J(Wi),J(En),J(Ui))},Np.\u0275cmp=st({type:Np,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Ts(FPe,7),2&t){let i;Vn(i=zn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(R(0,"div",0),ve(1,"textarea",1,2),$(3,"transloco"),R(4,"div",3),ne(5,BPe,1,0,"div",4),ne(6,LPe,1,0,"div",5),ne(7,UPe,5,3,"div",6),R(8,"div",7),j(9),D()(),R(10,"button",8),Oe("click",function(){return e.onClickSend()}),D(),ne(11,GPe,1,0,"app-chat-input-tool-emoji",9),ne(12,jPe,1,0,"app-chat-input-tool-rain",9),ne(13,HPe,1,0,"app-chat-input-tool-gif",9),ne(14,VPe,6,5,"div",10),D()),2&t&&(P(1),Cu("placeholder",K(3,11,"shared.reply")),ti("maxlength",e.app.config.chat.maxMessageLength),P(4),B("ngIf",e.app.isDesktop),P(1),B("ngIf",e.app.config.chat.isGifsEnabled),P(1),B("ngIf",e.app.config.chat.rain.isEnabled),P(2),We(e.leftLength),P(1),B("disabled",!e.isValid),P(1),B("ngIf",e.isEmojiShown),P(1),B("ngIf",e.isRainShown),P(1),B("ngIf",e.isGifShown),P(1),B("ngIf",e.wait))},directives:[Lt,PPe,xPe,Dp],pipes:[Ut],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),Np=Qe([qn()],Np);const WPe=["container"];function YPe(n,t){1&n&&ve(0,"app-chat-message",5),2&n&&B("message",t.$implicit)}function $Pe(n,t){if(1&n){const e=_t();R(0,"div",6),Oe("click",function(){return ct(e),se().onScrollToBottom()}),j(1),$(2,"transloco"),ve(3,"span",7),D()}2&n&&(P(1),re(" ",K(2,1,"game.chat-widget.New messages")," "))}let kp=class{constructor(t,e,i,r,s,o){this.connector=t,this.app=e,this.zone=i,this.chat=r,this.messageService=s,this.cd=o,this.newMessagesAdded=!1}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(vn.AddChatMessage,200).pipe(Et(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(vn.AddChatMessages,200).pipe(Et(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(vn.DeleteChatMessage,200).pipe(Et(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chat.isOpen$.pipe(Nt(t=>!0===t),Et(this)).subscribe(()=>this.scrollToBottom()),vi(document.fonts,"loadingdone").pipe(Et(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100),vi(this.scrollNativeElement,"scroll").pipe(G2(300),Nt(()=>this.isScrollAtBottom&&this.newMessagesAdded),Et(this)).subscribe(()=>{this.newMessagesAdded=!1,this.cd.detectChanges()})}onReceiveMessage(t){this.chat.messages.push(t.message),this.chat.messages.length>this.app.config.chat.maxMessages&&this.chat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:5e3,context:dr.success,callback:()=>{setTimeout(()=>{this.chat.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.chat.messages.push(...t.messages),this.chat.messages=this.chat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.chat.messages=this.chat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return Math.abs(this.scrollNativeElement.scrollHeight-this.scrollNativeElement.clientHeight-this.scrollNativeElement.scrollTop)<=1}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function XPe(n,t){if(1&n&&(R(0,"div",15),ve(1,"app-engagement-tool",16),D()),2&n){const e=se();P(1),B("engagementTools",e.app.config.engagementTools)("gameIdentifier",e.gameIdentifier)}}function qPe(n,t){if(1&n){const e=_t();R(0,"app-play-board",17),Oe("webglContextLost",function(){return ct(e),se().handleWebglContextLost()}),D()}}function KPe(n,t){if(1&n&&ve(0,"app-new-chat",18),2&n){const e=se();B("chatHost",null==e.app.config.newChat?null:e.app.config.newChat.host)("gameIdentifier",e.gameIdentifier)}}function JPe(n,t){1&n&&ve(0,"app-chat-widget")}function QPe(n,t){1&n&&ne(0,JPe,1,0,"app-chat-widget",19),2&n&&B("ngIf",se().app.config.chat.isEnabled)}kp.\u0275fac=function(t){return new(t||kp)(J(Ui),J(on),J(Wn),J(ga),J(Va),J(En))},kp.\u0275cmp=st({type:kp,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&Ts(WPe,7),2&t){let i;Vn(i=zn())&&(e.containerRef=i.first)}},decls:7,vars:2,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf"],["class","notification",3,"click",4,"ngIf"],[3,"message"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(R(0,"div",0),ve(1,"app-chat-header"),R(2,"div",1,2),ne(4,YPe,1,1,"app-chat-message",3),D(),ve(5,"app-chat-input"),ne(6,$Pe,4,3,"div",4),D()),2&t&&(P(4),B("ngForOf",e.chat.messages),P(2),B("ngIf",e.newMessagesAdded))},directives:[OOe,ii,mPe,Np,Lt],pipes:[Ut],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),kp=Qe([qn()],kp);let Fp=class{constructor(t,e,i,r,s,o,a,l,c,u,d){this.chat=t,this.freeBets=e,this.app=i,this.window=r,this.renderer=s,this.ifc=o,this.connector=a,this.modal=l,this.betControls=c,this.main=u,this.cd=d,this.gameIdentifier="AVIATOR",this.isOpenChat=!1,this.shouldRenderPlayBoard=!0}ngOnInit(){this.chat.isOpen$.pipe(Et(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(Et(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.command(gr.UpdateBalance).pipe(Et(this)).subscribe(()=>this.connector.request(Gi.UpdateBalance,null)),this.ifc.command(gr.ContinueInternalRealityCheck).pipe(Et(this)).subscribe(()=>this.sendNotificationCallback(Gf.Continue)),this.ifc.command(gr.StopInternalRealityCheck).pipe(Et(this)).subscribe(()=>this.sendNotificationCallback(Gf.Stop)),this.connector.response(vn.InternalRealityCheck).pipe(Et(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted$.pipe(Et(this),Nt(()=>this.app.config.isActiveGameFocused)).subscribe(t=>this.onBetSetted(t)),this.main.getState(zi.Bet).pipe(Et(this)).subscribe(()=>this.ifc.emitEvent(Ii.StartBetTimer)),this.main.getState(zi.End).pipe(Et(this)).subscribe(()=>this.ifc.emitEvent(Ii.EndRound)),this.showInitModals(),this.app.setGameInited()}sendNotificationCallback(t){this.connector.request(Gi.NotificationCallback,{notificationType:U0.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<ju.lg||this.window.getSize().width>=ju.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.emitEvent(Ii.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(ri.notification,{type:Au.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){!this.app.isGameInited&&this.app.config.isAlderneyModalShownOnInit&&this.modal.open(ri.notification,{type:Au.Alderney})}handleWebglContextLost(){this.shouldRenderPlayBoard=!1,this.cd.detectChanges(),this.shouldRenderPlayBoard=!0,this.cd.detectChanges()}};function ZPe(n,t){if(1&n&&(ot(0),R(1,"h4",5),j(2),$(3,"transloco"),D(),R(4,"p"),j(5),$(6,"transloco"),D(),at()),2&n){const e=se(2);P(2),We(K(3,2,e.message.heading)),P(3),re(" ",K(6,4,"shared.ui-components.toastr.toastr-message."+e.message.value)," ")}}function exe(n,t){if(1&n&&(R(0,"p",8),j(1),D()),2&n){const e=se(3);P(1),re(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function txe(n,t){if(1&n){const e=_t();R(0,"p",9),Oe("click",function(r){return ct(e),se(3).onMessageClick(r)}),j(1),D()}if(2&n){const e=se(3);P(1),re(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function nxe(n,t){if(1&n&&(ot(0),ne(1,exe,2,1,"p",6),ne(2,txe,2,1,"p",7),at()),2&n){const e=se(2);P(1),B("ngIf",!e.message.callback),P(1),B("ngIf",e.message.callback)}}function ixe(n,t){if(1&n){const e=_t();R(0,"button",10),Oe("click",function(r){return ct(e),se(2).onCloseIconClick(r)}),R(1,"span"),j(2,"\xd7"),D()()}}function rxe(n,t){if(1&n){const e=_t();R(0,"div",2),Oe("mouseenter",function(){return ct(e),se().onMouseEnter()})("mouseleave",function(){return ct(e),se().onMouseLeave()}),ne(1,ZPe,7,6,"ng-container",3),ne(2,nxe,3,2,"ng-container",3),ne(3,ixe,3,0,"button",4),D()}if(2&n){const e=se();Mt("alert-dismissible",e.isClosable),B("@messageState",void 0)("ngClass",e.context),P(1),B("ngIf",e.message.heading),P(1),B("ngIf",!e.message.heading),P(1),B("ngIf",e.isClosable)}}function sxe(n,t){if(1&n&&(ot(0),R(1,"div",17),j(2),$(3,"transloco"),D(),R(4,"div",16),j(5),$(6,"number"),D(),at()),2&n){const e=se(2);P(2),re(" ",K(3,2,"shared.ui-components.toastr.toastr-message.You have cashed out!")," "),P(3),re(" ",Yt(6,4,e.message.params.multiplier,"1.2-2"),"x ")}}function oxe(n,t){1&n&&(ot(0),R(1,"div",17),j(2),$(3,"transloco"),D(),at()),2&n&&(P(2),re(" ",K(3,1,"shared.ui-components.toastr.toastr-message.You have reached the Maximum Win amount!")," "))}function axe(n,t){if(1&n){const e=_t();R(0,"div",11),Oe("mouseenter",function(){return ct(e),se().onMouseEnter()})("mouseleave",function(){return ct(e),se().onMouseLeave()}),R(1,"div",12),ne(2,sxe,7,7,"ng-container",3),ne(3,oxe,4,3,"ng-container",3),D(),R(4,"div",13)(5,"div",14)(6,"span"),j(7),$(8,"transloco"),D(),R(9,"span",15),j(10),D()(),R(11,"div",16)(12,"span"),j(13),$(14,"currencyPrecision"),D()()(),R(15,"button",10),Oe("click",function(r){return ct(e),se().onCloseIconClick(r)}),R(16,"span"),j(17,"\xd7"),D()()()}if(2&n){const e=se();Mt("celebrated",e.isWinCelebrated),B("@messageState",void 0),P(2),B("ngIf",!e.message.params.isMaxWinAutoCashOut),P(1),B("ngIf",e.message.params.isMaxWinAutoCashOut),P(1),Mt("celebrated",e.isWinCelebrated),P(3),We(K(8,10,"shared.win")),P(3),re(" ",e.message.params.currency,""),P(3),We(K(14,12,e.message.params.winAmount))}}function lxe(n,t){}Fp.\u0275fac=function(t){return new(t||Fp)(J(ga),J(Gu),J(on),J(O0),J(Ho),J(lc),J(Ui),J($o),J(Kc),J(Wi),J(En))},Fp.\u0275cmp=st({type:Fp,selectors:[["app-game"]],decls:22,vars:16,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],["class","missions-holder my-1",4,"ngIf"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[3,"webglContextLost",4,"ngIf"],[1,"bet-controls"],[1,"chat-bar"],[3,"chatHost","gameIdentifier",4,"ngIf","ngIfElse"],["oldChat",""],[1,"missions-holder","my-1"],[3,"engagementTools","gameIdentifier"],[3,"webglContextLost"],[3,"chatHost","gameIdentifier"],[4,"ngIf"]],template:function(t,e){if(1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),ve(3,"app-header"),D(),R(4,"div",3)(5,"div",4)(6,"div",5),ve(7,"app-bets-widget")(8,"app-spribe-footer"),D(),R(9,"div",6),ne(10,XPe,2,2,"div",7),R(11,"div",8),ve(12,"app-stats-widget"),D(),R(13,"div",9),ve(14,"app-free-bet"),ne(15,qPe,1,0,"app-play-board",10),D(),R(16,"div",11),ve(17,"app-bet-controls"),D()()()()(),R(18,"div",12),ne(19,KPe,1,2,"app-new-chat",13),ne(20,QPe,1,1,"ng-template",null,14,mo),D()()),2&t){const i=xi(21);Xl("--headerHeight","38px"),Mt("hide-chat-bar",!e.isOpenChat),P(1),Xl("--headerHeightDynamic",e.app.config.hideHeader?0:"var(--headerHeight)"),Mt("h-100",e.app.useInnerScroll),P(3),Mt("--scrollable",e.app.useInnerScroll),P(1),Mt("game-wrap",e.isGameWrap),P(5),B("ngIf",null==e.app.config.engagementTools?null:e.app.config.engagementTools.host),P(5),B("ngIf",e.shouldRenderPlayBoard),P(4),B("ngIf",null==e.app.config.newChat?null:e.app.config.newChat.host)("ngIfElse",i)}},directives:[zf,Xbe,qbe,Lt,mp,vp,yp,bp,Cp,xp,kp],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:var(--headerHeightDynamic);background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:var(--headerHeightDynamic);position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:center}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;height:auto!important}.info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}"],changeDetection:0}),Fp=Qe([qn()],Fp);let cxe=(()=>{class n{constructor(e,i){this.translate=e,this.betControls=i,this.closeMessage=new en,this.BsMessageTemplate=n_}getTranslation(e,i,r){return r===Gv.Challenges?e:this.translate.translate(`shared.ui-components.toastr.toastr-message.${e}`,{amount:null==i?void 0:i.amount,duration:null==i?void 0:i.duration,minBalance:null==i?void 0:i.minBalance,currency:null==i?void 0:i.currency})||e}ngAfterViewInit(){this.initTimeout()}get template(){return this.message.template?this.message.template:n_.alert}get context(){return this.message.context?this.message.context:dr.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},this.message.lifeTime||3e3)}clearTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=null}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){this.message.callback(),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(J(C0),J(Kc))},n.\u0275cmp=st({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",index:"index"},outputs:{closeMessage:"closeMessage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],[1,"alert-heading"],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],[1,"win"],[1,"label","no-wrap"],[1,"currency"],[1,"value"],[1,"label"]],template:function(e,i){1&e&&(ot(0,0),ne(1,rxe,4,7,"ng-template",1),ne(2,axe,18,14,"ng-template",1),ne(3,lxe,0,0,"ng-template",1),at()),2&e&&(B("ngSwitch",i.template),P(1),B("ngSwitchCase",i.BsMessageTemplate.alert),P(1),B("ngSwitchCase",i.BsMessageTemplate.win),P(1),B("ngSwitchCase",i.BsMessageTemplate.toast))},directives:[Bs,yo,vo,Lt],pipes:[Ut,Od,br],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11;width:100%;padding:0 26px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.2e1ac1503318fc63.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5f7c6a70530963.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],data:{animation:[D2("messageState",[WTe("visible",Cc({transform:"translateY(0)",opacity:1})),yy("void => *",[Cc({transform:"translateY(100%)",opacity:0}),_m("300ms ease-out")]),yy("* => void",[_m("250ms ease-in",Cc({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function uxe(n,t){if(1&n){const e=_t();R(0,"app-bs-message-item",2),Oe("closeMessage",function(r){return ct(e),se().onMessageClose(r)}),D()}if(2&n){const i=t.index;B("message",t.$implicit)("index",i)("@messageAnimation",void 0)}}let Bp=class{constructor(t,e,i){this.message=t,this.app=e,this.cd=i}ngOnInit(){this.message.message$.pipe(Et(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clear$.pipe(Et(this)).subscribe(t=>{t?this.key===t&&(this.messages=null,this.cd.detectChanges()):(this.messages=null,this.cd.detectChanges())})}onMessageClose(t){this.messages.splice(t,1)}};function dxe(n,t){1&n&&(R(0,"div",3),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.components.connector.reconnect")," "))}function hxe(n,t){1&n&&(R(0,"div",3),j(1),$(2,"transloco"),D()),2&n&&(P(1),re(" ",K(2,1,"shared.components.connector.slow connection")," "))}function fxe(n,t){if(1&n&&(R(0,"div",1),ne(1,dxe,3,3,"div",2),ne(2,hxe,3,3,"div",2),D()),2&n){const e=se();B("@messageState",void 0),P(1),B("ngIf",e.reconnect),P(1),B("ngIf",e.connectionSlow)}}Bp.\u0275fac=function(t){return new(t||Bp)(J(Va),J(on),J(En))},Bp.\u0275cmp=st({type:Bp,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","index","closeMessage"]],template:function(t,e){1&t&&(R(0,"div",0),ne(1,uxe,1,3,"app-bs-message-item",1),D()),2&t&&(P(1),B("ngForOf",e.messages))},directives:[ii,cxe],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:300px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[D2("messageAnimation",[yy(":enter, :leave",[function $Te(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function YTe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),Bp=Qe([qn()],Bp);let Lp=class{constructor(t,e){this.connector=t,this.cd=e,this.state=null}ngOnInit(){this.connector.display.pipe(Et(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return null!==this.state&&this.state===mi.reconnect}get connectionSlow(){return null!==this.state&&this.state===mi.connectionSlow}};Lp.\u0275fac=function(t){return new(t||Lp)(J(Ui),J(En))},Lp.\u0275cmp=st({type:Lp,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(t,e){1&t&&ne(0,fxe,3,3,"div",0),2&t&&B("ngIf",e.state)},directives:[Lt],pipes:[Ut],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[D2("messageState",[yy("void => *",[Cc({transform:"translate(-50%,-100%)",opacity:0}),_m("300ms ease-out")]),yy("* => void",[_m("250ms ease-in",Cc({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),Lp=Qe([qn()],Lp);var Py=(()=>(function(n){n.Inactivity="inactivity",n.Ban="ban"}(Py||(Py={})),Py))();function pxe(n,t){if(1&n){const e=_t();R(0,"a",6),Oe("click",function(){return ct(e),se(2).onBackToHome()}),j(1),$(2,"transloco"),D()}2&n&&(P(1),re(" ",K(2,1,"shared.home")," "))}function gxe(n,t){if(1&n&&(ot(0),R(1,"div",4),j(2),$(3,"transloco"),D(),ne(4,pxe,3,3,"a",5),at()),2&n){const e=se();P(2),re(" ",K(3,2,"shared.components.disconnect-message.text")," "),P(2),B("ngIf",e.urlParams.returnUrl)}}function _xe(n,t){1&n&&(ot(0),R(1,"div",4),j(2),$(3,"transloco"),D(),at()),2&n&&(P(2),re("",K(3,1,"shared.thank_you_for_playing"),"."))}let mxe=(()=>{class n{constructor(e,i,r,s){this.sound=e,this.app=i,this.ifc=r,this.urlParams=s}ngOnInit(){this.sound.stopAll(),this.ifc.emitCloseEvent(Object.assign(this.state===mi.inactivity?{reason:Py.Inactivity}:this.state===mi.ban?{reason:Py.Ban}:{},this.data))}get isShutdown(){return this.state===mi.shutdown}onBackToHome(){this.app.config&&this.app.config.backToHomeActionType===c_.IfcEvent?this.ifc.emitEvent(Ii.BackToHome,{returnUrl:this.urlParams.returnUrl}):window.open(this.urlParams.returnUrl,"_top")}}return n.\u0275fac=function(e){return new(e||n)(J(Mf),J(on),J(lc),J(qc))},n.\u0275cmp=st({type:n,selectors:[["app-disconnect-message"]],inputs:{state:"state",data:"data"},decls:5,vars:2,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[4,"ngIf"],[1,"text"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0),ve(1,"div",1),R(2,"div",2),ne(3,gxe,5,4,"ng-container",3),ne(4,_xe,4,3,"ng-container",3),D()()),2&e&&(P(3),B("ngIf",!1===i.isShutdown),P(1),B("ngIf",!0===i.isShutdown))},directives:[Lt],pipes:[Ut],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.90b760a72b279788.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const vxe=["lockUI"];function yxe(n,t){1&n&&(ot(0),ve(1,"app-game")(2,"app-bs-message")(3,"app-connector"),at())}function bxe(n,t){1&n&&(ot(0),R(1,"span",3),j(2),$(3,"transloco"),D(),at()),2&n&&(P(2),We(K(3,1,"shared.Connection...")))}function Sxe(n,t){if(1&n&&(ot(0),ve(1,"app-disconnect-message",4),at()),2&n){const e=se();P(1),B("data",e.disconnectData)("state",e.disconnectState)}}let Exe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,v,E,I,A,N,k,L,W){this.connector=e,this.app=i,this.mainService=r,this.user=s,this.cd=o,this.sound=a,this.freeBets=l,this.statsService=c,this.chatService=u,this.frontEndProxyService=d,this.ifc=v,this.renderer=E,this.scriptService=I,this.betControls=A,this.multiplierService=N,this.modalManagerService=k,this.inactivityTimer=L,this.ngbModal=W,this.loaded=!1,this.cantConnect=!1,this.disconnectState=null,this.disconnectData=null}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.command(gr.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.display.subscribe(({state:e,data:i})=>{null!==e&&(this.ngbModal.dismissAll(),this.cantConnect=e===mi.kicked||e===mi.loginError,this.disconnectState=e===mi.kicked?mi.kicked:e===mi.loginError?mi.loginError:e===mi.shutdown?mi.shutdown:e===mi.connectionLost?mi.connectionLost:e===mi.inactivity?mi.inactivity:e===mi.ban?mi.ban:null,this.disconnectData=i||null,this.cd.detectChanges())}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)}),FO()&&(this.frontEndProxyService.setup(),this.ifc.setup())}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),this.connector.startPingMonitor(e.config.pingIntervalMs),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.app.config.inactivityTimeForDisconnect&&this.inactivityTimer.init(),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.chatService.init(e),this.mainService.init(e),this.multiplierService.init(e),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.emitInitEvent(e)}}return n.\u0275fac=function(e){return new(e||n)(J(Ui),J(on),J(Wi),J(yl),J(En),J(Mf),J(Gu),J(kG),J(ga),J($S),J(lc),J(Ho),J(BI),J(Kc),J(XS),J(uye),J(dye),J(B0))},n.\u0275cmp=st({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&Ts(vxe,7),2&e){let r;Vn(r=zn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data","state"]],template:function(e,i){1&e&&(ne(0,yxe,4,0,"ng-container",0),ne(1,bxe,4,3,"ng-container",0),ne(2,Sxe,2,2,"ng-container",0),ve(3,"div",1,2)),2&e&&(B("ngIf",i.loaded&&null===i.disconnectState),P(1),B("ngIf",!i.loaded&&null===i.disconnectState),P(1),B("ngIf",null!==i.disconnectState))},directives:[Lt,Fp,Bp,Lp,mxe],pipes:[Ut],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[pm,_y]}),n})(),Cxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),Txe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),wxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Mxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Txe,wxe]]}),n})(),HV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[I2]}),n})(),Oxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,H2,tn,Cxe,jV,Mxe,HV]]}),n})(),Pxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Oxe]]}),n})(),xxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),Ixe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),VV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),Axe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),zV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,Axe]]}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,jV]]}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),$V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc]]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,H2]]}),n})(),ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[br]}),n})(),Rxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,ro]]}),n})(),Dxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,Rxe,ro]]}),n})(),Nxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc,Dxe]]}),n})(),kxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,H2]]}),n})(),qV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc]]}),n})(),Fxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc,zV,VV,WV,YV,$V,XV,Nxe,kxe,qV]]}),n})(),Bxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),KV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Bxe,HV]]}),n})(),ca=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Lxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,KV,ca]]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ca]]}),n})(),Uxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ro]]}),n})(),Gxe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc,Uxe,ca,JV]]}),n})();function QV(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function V2(n,t){void 0===n&&(n={}),void 0===t&&(t={}),Object.keys(t).forEach(e=>{void 0===n[e]?n[e]=t[e]:QV(t[e])&&QV(n[e])&&Object.keys(t[e]).length>0&&V2(n[e],t[e])})}const ZV={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function so(){const n="undefined"!=typeof document?document:{};return V2(n,ZV),n}const jxe={document:ZV,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>"undefined"==typeof setTimeout?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){"undefined"!=typeof setTimeout&&clearTimeout(n)}};function qr(){const n="undefined"!=typeof window?window:{};return V2(n,jxe),n}function yh(n){return void 0===n&&(n=""),n.trim().split(" ").filter(t=>!!t.trim())}function Up(n,t){return void 0===t&&(t=0),setTimeout(n,t)}function Nl(){return Date.now()}function z2(n,t){void 0===t&&(t="x");const e=qr();let i,r,s;const o=function Vxe(n){const t=qr();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}(n);return e.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new e.WebKitCSSMatrix("none"===r?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(r=e.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=e.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function xy(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function zxe(n){return"undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function qa(){const n=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const i=e<0||arguments.length<=e?void 0:arguments[e];if(null!=i&&!zxe(i)){const r=Object.keys(Object(i)).filter(s=>t.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(xy(n[a])&&xy(i[a])?i[a].__swiper__?n[a]=i[a]:qa(n[a],i[a]):!xy(n[a])&&xy(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:qa(n[a],i[a])):n[a]=i[a])}}}return n}function Iy(n,t,e){n.style.setProperty(t,e)}function e9(n){let{swiper:t,targetPosition:e,side:i}=n;const r=qr(),s=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(v,E)=>"next"===c&&v>=E||"prev"===c&&v<=E,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const v=Math.max(Math.min((a-o)/l,1),0),E=.5-Math.cos(v*Math.PI)/2;let I=s+E*(e-s);if(u(I,e)&&(I=e),t.wrapperEl.scrollTo({[i]:I}),u(I,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:I})}),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Gp(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function oo(n,t){return void 0===t&&(t=""),[...n.children].filter(e=>e.matches(t))}function EC(n){try{return void console.warn(n)}catch(t){}}function Ka(n,t){void 0===t&&(t=[]);const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:yh(t)),e}function CC(n){const t=qr(),e=so(),i=n.getBoundingClientRect(),r=e.body;return{top:i.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}function bh(n,t){return qr().getComputedStyle(n,null).getPropertyValue(t)}function Ay(n){let e,t=n;if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function jp(n,t){const e=[];let i=n.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function Ry(n,t){t&&n.addEventListener("transitionend",function e(i){i.target===n&&(t.call(n,i),n.removeEventListener("transitionend",e))})}function W2(n,t,e){const i=qr();return e?n["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):n.offsetWidth}function Zn(n){return(Array.isArray(n)?n:[n]).filter(t=>!!t)}let Y2,$2,X2;function t9(){return Y2||(Y2=function $xe(){const n=qr(),t=so();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}()),Y2}function n9(n){return void 0===n&&(n={}),$2||($2=function Xxe(n){let{userAgent:t}=void 0===n?{}:n;const e=t9(),i=qr(),r=i.navigator.platform,s=t||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),v=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),E="Win32"===r;let I="MacIntel"===r;return!u&&I&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),I=!1),c&&!E&&(o.os="android",o.android=!0),(u||v||d)&&(o.os="ios",o.ios=!0),o}(n)),$2}var Zxe={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;const r=e?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];t.apply(i,o)}return r.__emitterProxy=t,i.on(n,r,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||"function"!=typeof n)return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{void 0===t?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[i].splice(s,1)})}),e},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let t,e,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],e=s.slice(1,s.length),i=n):(t=s[0].events,e=s[0].data,i=s[0].context||n),e.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...e])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,e)})}),n}};const i9=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},q2=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},TC=(n,t)=>{if(!n||n.destroyed||!n.params)return;const i=t.closest(n.isElement?"swiper-slide":`.${n.params.slideClass}`);if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},K2=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},J2=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-t];return a.push(...Array.from({length:t}).map((l,c)=>o+i+c)),void n.slides.forEach((l,c)=>{a.includes(l.column)&&K2(n,c)})}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-t;o<=s+t;o+=1){const a=(o%e+e)%e;(a<r||a>s)&&K2(n,a)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,e-1);o+=1)o!==r&&(o>s||o<r)&&K2(n,o)};var uIe={updateSize:function eIe(){const n=this;let t,e;const i=n.el;t=null!=n.params.width?n.params.width:i.clientWidth,e=null!=n.params.height?n.params.height:i.clientHeight,!(0===t&&n.isHorizontal()||0===e&&n.isVertical())&&(t=t-parseInt(bh(i,"padding-left")||0,10)-parseInt(bh(i,"padding-right")||0,10),e=e-parseInt(bh(i,"padding-top")||0,10)-parseInt(bh(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))},updateSlides:function tIe(){const n=this;function t(he,Ie){return parseFloat(he.getPropertyValue(n.getDirectionLabel(Ie))||0)}const e=n.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&e.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=oo(r,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let v=[];const E=[],I=[];let A=e.slidesOffsetBefore;"function"==typeof A&&(A=e.slidesOffsetBefore.call(n));let N=e.slidesOffsetAfter;"function"==typeof N&&(N=e.slidesOffsetAfter.call(n));const k=n.snapGrid.length,L=n.slidesGrid.length;let W=e.spaceBetween,Z=-A,ee=0,te=0;if(void 0===s)return;"string"==typeof W&&W.indexOf("%")>=0?W=parseFloat(W.replace("%",""))/100*s:"string"==typeof W&&(W=parseFloat(W)),n.virtualSize=-W,u.forEach(he=>{o?he.style.marginLeft="":he.style.marginRight="",he.style.marginBottom="",he.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(Iy(i,"--swiper-centered-offset-before",""),Iy(i,"--swiper-centered-offset-after",""));const ge=e.grid&&e.grid.rows>1&&n.grid;let pe;ge?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();const le="auto"===e.slidesPerView&&e.breakpoints&&Object.keys(e.breakpoints).filter(he=>void 0!==e.breakpoints[he].slidesPerView).length>0;for(let he=0;he<d;he+=1){let Ie;if(pe=0,u[he]&&(Ie=u[he]),ge&&n.grid.updateSlide(he,Ie,u),!u[he]||"none"!==bh(Ie,"display")){if("auto"===e.slidesPerView){le&&(u[he].style[n.getDirectionLabel("width")]="");const ye=getComputedStyle(Ie),Se=Ie.style.transform,Re=Ie.style.webkitTransform;if(Se&&(Ie.style.transform="none"),Re&&(Ie.style.webkitTransform="none"),e.roundLengths)pe=n.isHorizontal()?W2(Ie,"width",!0):W2(Ie,"height",!0);else{const xe=t(ye,"width"),Ce=t(ye,"padding-left"),Te=t(ye,"padding-right"),De=t(ye,"margin-left"),tt=t(ye,"margin-right"),_e=ye.getPropertyValue("box-sizing");if(_e&&"border-box"===_e)pe=xe+De+tt;else{const{clientWidth:Ve,offsetWidth:et}=Ie;pe=xe+Ce+Te+De+tt+(et-Ve)}}Se&&(Ie.style.transform=Se),Re&&(Ie.style.webkitTransform=Re),e.roundLengths&&(pe=Math.floor(pe))}else pe=(s-(e.slidesPerView-1)*W)/e.slidesPerView,e.roundLengths&&(pe=Math.floor(pe)),u[he]&&(u[he].style[n.getDirectionLabel("width")]=`${pe}px`);u[he]&&(u[he].swiperSlideSize=pe),I.push(pe),e.centeredSlides?(Z=Z+pe/2+ee/2+W,0===ee&&0!==he&&(Z=Z-s/2-W),0===he&&(Z=Z-s/2-W),Math.abs(Z)<.001&&(Z=0),e.roundLengths&&(Z=Math.floor(Z)),te%e.slidesPerGroup==0&&v.push(Z),E.push(Z)):(e.roundLengths&&(Z=Math.floor(Z)),(te-Math.min(n.params.slidesPerGroupSkip,te))%n.params.slidesPerGroup==0&&v.push(Z),E.push(Z),Z=Z+pe+W),n.virtualSize+=pe+W,ee=pe,te+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+N,o&&a&&("slide"===e.effect||"coverflow"===e.effect)&&(i.style.width=`${n.virtualSize+W}px`),e.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+W}px`),ge&&n.grid.updateWrapperSize(pe,v),!e.centeredSlides){const he=[];for(let Ie=0;Ie<v.length;Ie+=1){let ye=v[Ie];e.roundLengths&&(ye=Math.floor(ye)),v[Ie]<=n.virtualSize-s&&he.push(ye)}v=he,Math.floor(n.virtualSize-s)-Math.floor(v[v.length-1])>1&&v.push(n.virtualSize-s)}if(l&&e.loop){const he=I[0]+W;if(e.slidesPerGroup>1){const Ie=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/e.slidesPerGroup),ye=he*e.slidesPerGroup;for(let Se=0;Se<Ie;Se+=1)v.push(v[v.length-1]+ye)}for(let Ie=0;Ie<n.virtual.slidesBefore+n.virtual.slidesAfter;Ie+=1)1===e.slidesPerGroup&&v.push(v[v.length-1]+he),E.push(E[E.length-1]+he),n.virtualSize+=he}if(0===v.length&&(v=[0]),0!==W){const he=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((Ie,ye)=>!(e.cssMode&&!e.loop)||ye!==u.length-1).forEach(Ie=>{Ie.style[he]=`${W}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let he=0;I.forEach(ye=>{he+=ye+(W||0)}),he-=W;const Ie=he-s;v=v.map(ye=>ye<=0?-A:ye>Ie?Ie+N:ye)}if(e.centerInsufficientSlides){let he=0;I.forEach(ye=>{he+=ye+(W||0)}),he-=W;const Ie=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(he+Ie<s){const ye=(s-he-Ie)/2;v.forEach((Se,Re)=>{v[Re]=Se-ye}),E.forEach((Se,Re)=>{E[Re]=Se+ye})}}if(Object.assign(n,{slides:u,snapGrid:v,slidesGrid:E,slidesSizesGrid:I}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){Iy(i,"--swiper-centered-offset-before",-v[0]+"px"),Iy(i,"--swiper-centered-offset-after",n.size/2-I[I.length-1]/2+"px");const he=-n.snapGrid[0],Ie=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ye=>ye+he),n.slidesGrid=n.slidesGrid.map(ye=>ye+Ie)}if(d!==c&&n.emit("slidesLengthChange"),v.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),E.length!==L&&n.emit("slidesGridLengthChange"),e.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!(l||e.cssMode||"slide"!==e.effect&&"fade"!==e.effect)){const he=`${e.containerModifierClass}backface-hidden`,Ie=n.el.classList.contains(he);d<=e.maxBackfaceHiddenSlides?Ie||n.el.classList.add(he):Ie&&n.el.classList.remove(he)}},updateAutoHeight:function nIe(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let s,r=0;"number"==typeof n?t.setTransition(n):!0===n&&t.setTransition(t.params.speed);const o=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{e.push(a)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const a=t.activeIndex+s;if(a>t.slides.length&&!i)break;e.push(o(a))}else e.push(o(t.activeIndex));for(s=0;s<e.length;s+=1)if(void 0!==e[s]){const a=e[s].offsetHeight;r=a>r?a:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function iIe(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()},updateSlidesProgress:function rIe(n){void 0===n&&(n=this&&this.translate||0);const t=this,e=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-n;r&&(o=n),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=e.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),v=(o-s[0]+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),E=-(o-u),I=E+t.slidesSizesGrid[l],A=E>=0&&E<=t.size-t.slidesSizesGrid[l],N=E>=0&&E<t.size-1||I>1&&I<=t.size||E<=0&&I>=t.size;N&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l)),i9(c,N,e.slideVisibleClass),i9(c,A,e.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-v:v}},updateProgress:function sIe(n){const t=this;if(void 0===n){const u=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*u||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,c=o;if(0===i)r=0,s=!0,o=!0;else{r=(n-t.minTranslate())/i;const u=Math.abs(n-t.minTranslate())<1,d=Math.abs(n-t.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(e.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),v=t.slidesGrid[u],E=t.slidesGrid[d],I=t.slidesGrid[t.slidesGrid.length-1],A=Math.abs(n);a=A>=v?(A-v)/I:(A+I-E)/I,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function oIe(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:r}=n,o=n.grid&&e.grid&&e.grid.rows>1,a=d=>oo(i,`.${e.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(n.virtual&&e.virtual.enabled)if(e.loop){let d=r-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=t.filter(d=>d.column===r)[0],u=t.filter(d=>d.column===r+1)[0],c=t.filter(d=>d.column===r-1)[0]):l=t[r];l&&(o||(u=function Yxe(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!u&&(u=t[0]),c=function Wxe(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(d=>{q2(d,d===l,e.slideActiveClass),q2(d,d===u,e.slideNextClass),q2(d,d===c,e.slidePrevClass)}),n.emitSlidesClasses()},updateActiveIndex:function lIe(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=t;let c,l=n;const u=E=>{let I=E-t.virtual.slidesBefore;return I<0&&(I=t.virtual.slides.length+I),I>=t.virtual.slides.length&&(I-=t.virtual.slides.length),I};if(void 0===l&&(l=function aIe(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<t.length;s+=1)void 0!==t[s+1]?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return e.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),i.indexOf(e)>=0)c=i.indexOf(e);else{const E=Math.min(r.slidesPerGroupSkip,l);c=E+Math.floor((l-E)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!t.params.loop)return void(c!==a&&(t.snapIndex=c,t.emit("snapIndexChange")));if(l===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(l));const d=t.grid&&r.grid&&r.grid.rows>1;let v;if(t.virtual&&r.virtual.enabled&&r.loop)v=u(l);else if(d){const E=t.slides.filter(A=>A.column===l)[0];let I=parseInt(E.getAttribute("data-swiper-slide-index"),10);Number.isNaN(I)&&(I=Math.max(t.slides.indexOf(E),0)),v=Math.floor(I/r.grid.rows)}else if(t.slides[l]){const E=t.slides[l].getAttribute("data-swiper-slide-index");v=E?parseInt(E,10):l}else v=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:v,previousIndex:s,activeIndex:l}),t.initialized&&J2(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==v&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function cIe(n,t){const e=this,i=e.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&e.isElement&&t&&t.length>1&&t.includes(n)&&[...t.slice(t.indexOf(n)+1,t.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let o,s=!1;if(r)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===r){s=!0,o=a;break}if(!r||!s)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):o,i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},_Ie={getTranslate:function dIe(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:i,translate:r,wrapperEl:s}=this;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let o=z2(s,n);return o+=this.cssOverflowAdjustment(),i&&(o=-o),o||0},setTranslate:function hIe(n,t){const e=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=e;let u,a=0,l=0;e.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?a:l,r.cssMode?s[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-a:-l:r.virtualTranslate||(e.isHorizontal()?a-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, 0px)`);const d=e.maxTranslate()-e.minTranslate();u=0===d?0:(n-e.minTranslate())/d,u!==o&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)},minTranslate:function fIe(){return-this.snapGrid[0]},maxTranslate:function pIe(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function gIe(n,t,e,i,r){void 0===n&&(n=0),void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=i&&n>l?l:i&&n<c?c:n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(0===t)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return e9({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(v){!s||s.destroyed||v.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,e&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function r9(n){let{swiper:t,runCallbacks:e,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=t;let a=i;if(a||(a=s>o?"next":s<o?"prev":"reset"),t.emit(`transition${r}`),e&&s!==o){if("reset"===a)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),t.emit("next"===a?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}var bIe={setTransition:function mIe(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`,e.wrapperEl.style.transitionDelay=0===n?"0ms":""),e.emit("setTransition",n,t)},transitionStart:function vIe(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),r9({swiper:e,runCallbacks:n,direction:t,step:"Start"}))},transitionEnd:function yIe(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),r9({swiper:e,runCallbacks:n,direction:t,step:"End"}))}},PIe={slideTo:function SIe(n,t,e,i,r){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:v,wrapperEl:E,enabled:I}=s;if(!I&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=s.params.speed);const A=Math.min(s.params.slidesPerGroupSkip,o);let N=A+Math.floor((o-A)/s.params.slidesPerGroup);N>=l.length&&(N=l.length-1);const k=-l[N];if(a.normalizeSlideIndex)for(let W=0;W<c.length;W+=1){const Z=-Math.floor(100*k),ee=Math.floor(100*c[W]),te=Math.floor(100*c[W+1]);void 0!==c[W+1]?Z>=ee&&Z<te-(te-ee)/2?o=W:Z>=ee&&Z<te&&(o=W+1):Z>=ee&&(o=W)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(v?k>s.translate&&k>s.minTranslate():k<s.translate&&k<s.minTranslate())||!s.allowSlidePrev&&k>s.translate&&k>s.maxTranslate()&&(d||0)!==o))return!1;let L;if(o!==(u||0)&&e&&s.emit("beforeSlideChangeStart"),s.updateProgress(k),L=o>d?"next":o<d?"prev":"reset",v&&-k===s.translate||!v&&k===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(k),"reset"!==L&&(s.transitionStart(e,L),s.transitionEnd(e,L)),!1;if(a.cssMode){const W=s.isHorizontal(),Z=v?k:-k;if(0===t){const ee=s.virtual&&s.params.virtual.enabled;ee&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),ee&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{E[W?"scrollLeft":"scrollTop"]=Z})):E[W?"scrollLeft":"scrollTop"]=Z,ee&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return e9({swiper:s,targetPosition:Z,side:W?"left":"top"}),!0;E.scrollTo({[W?"left":"top"]:Z,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(k),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(e,L),0===t?s.transitionEnd(e,L):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(Z){!s||s.destroyed||Z.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(e,L))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function EIe(n,t,e,i){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o+=r.virtual.slidesBefore;else{let a;if(s){const v=o*r.params.grid.rows;a=r.slides.filter(E=>1*E.getAttribute("data-swiper-slide-index")===v)[0].column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;"auto"===u?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2==0&&(u+=1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&"auto"!==r.params.slidesPerView&&!s&&(d=!1),d){const v=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:v,slideTo:!0,activeSlideIndex:"next"===v?a+1:a-l+1,slideRealIndex:"next"===v?r.realIndex:void 0})}if(s){const v=o*r.params.grid.rows;o=r.slides.filter(E=>1*E.getAttribute("data-swiper-slide-index")===v)[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,t,e,i)}),r},slideNext:function CIe(n,t,e){void 0===t&&(t=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;void 0===n&&(n=i.params.speed);let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&(!i.virtual||!s.virtual.enabled)&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,t,e)}),!0}return i.slideTo(s.rewind&&i.isEnd?0:i.activeIndex+l,n,t,e)},slidePrev:function TIe(n,t,e){void 0===t&&(t=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;if(void 0===n&&(n=i.params.speed),r.loop){if(c&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function v(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const E=v(a?i.translate:-i.translate),I=s.map(k=>v(k));let A=s[I.indexOf(E)-1];if(void 0===A&&r.cssMode){let k;s.forEach((L,W)=>{E>=L&&(k=W)}),void 0!==k&&(A=s[k>0?k-1:k])}let N=0;return void 0!==A&&(N=o.indexOf(A),N<0&&(N=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(N=N-i.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,n,t,e):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo(N,n,t,e)}),!0):i.slideTo(N,n,t,e)},slideReset:function wIe(n,t,e){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===n&&(n=i.params.speed),i.slideTo(i.activeIndex,n,t,e)},slideToClosest:function MIe(n,t,e,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;if(r.destroyed)return;void 0===n&&(n=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1];l-c<=(r.snapGrid[a]-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,t,e)},slideToClickedSlide:function OIe(){const n=this;if(n.destroyed)return;const{params:t,slidesEl:e}=n,i="auto"===t.slidesPerView?n.slidesPerViewDynamic():t.slidesPerView;let s,r=n.clickedIndex;const o=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(oo(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),Up(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(oo(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),Up(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},RIe={loopCreate:function xIe(n){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{oo(i,`.${e.slideClass}, swiper-slide`).forEach((d,v)=>{d.setAttribute("data-swiper-slide-index",v)})},s=t.grid&&e.grid&&e.grid.rows>1,o=e.slidesPerGroup*(s?e.grid.rows:1),l=s&&t.slides.length%e.grid.rows!=0,c=u=>{for(let d=0;d<u;d+=1){const v=t.isElement?Ka("swiper-slide",[e.slideBlankClass]):Ka("div",[e.slideClass,e.slideBlankClass]);t.slidesEl.append(v)}};t.slides.length%o!=0?(e.loopAddBlankSlides?(c(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()):EC("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):l?(e.loopAddBlankSlides?(c(e.grid.rows-t.slides.length%e.grid.rows),t.recalcSlides(),t.updateSlides()):EC("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):r(),t.loopFix({slideRealIndex:n,direction:e.centeredSlides?void 0:"next"})},loopFix:function IIe(n){let{slideRealIndex:t,slideTo:e=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=void 0===n?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:v,params:E}=l,{centeredSlides:I}=E;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&E.virtual.enabled)return e&&(E.centeredSlides||0!==l.snapIndex?E.centeredSlides&&l.snapIndex<E.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");let A=E.slidesPerView;"auto"===A?A=l.slidesPerViewDynamic():(A=Math.ceil(parseFloat(E.slidesPerView,10)),I&&A%2==0&&(A+=1));const N=E.slidesPerGroupAuto?A:E.slidesPerGroup;let k=N;k%N!=0&&(k+=N-k%N),k+=E.loopAdditionalSlides,l.loopedSlides=k;const L=l.grid&&E.grid&&E.grid.rows>1;c.length<A+k?EC("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&"row"===E.grid.fill&&EC("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const W=[],Z=[];let ee=l.activeIndex;void 0===s?s=l.getSlideIndex(c.filter(Se=>Se.classList.contains(E.slideActiveClass))[0]):ee=s;const te="next"===i||!i,ge="prev"===i||!i;let pe=0,le=0;const he=L?Math.ceil(c.length/E.grid.rows):c.length,ye=(L?c[s].column:s)+(I&&void 0===r?-A/2+.5:0);if(ye<k){pe=Math.max(k-ye,N);for(let Se=0;Se<k-ye;Se+=1){const Re=Se-Math.floor(Se/he)*he;if(L){const xe=he-Re-1;for(let Ce=c.length-1;Ce>=0;Ce-=1)c[Ce].column===xe&&W.push(Ce)}else W.push(he-Re-1)}}else if(ye+A>he-k){le=Math.max(ye-(he-2*k),N);for(let Se=0;Se<le;Se+=1){const Re=Se-Math.floor(Se/he)*he;L?c.forEach((xe,Ce)=>{xe.column===Re&&Z.push(Ce)}):Z.push(Re)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),ge&&W.forEach(Se=>{c[Se].swiperLoopMoveDOM=!0,v.prepend(c[Se]),c[Se].swiperLoopMoveDOM=!1}),te&&Z.forEach(Se=>{c[Se].swiperLoopMoveDOM=!0,v.append(c[Se]),c[Se].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===E.slidesPerView?l.updateSlides():L&&(W.length>0&&ge||Z.length>0&&te)&&l.slides.forEach((Se,Re)=>{l.grid.updateSlide(Re,Se,l.slides)}),E.watchSlidesProgress&&l.updateSlidesOffset(),e)if(W.length>0&&ge)if(void 0===t){const xe=l.slidesGrid[ee+pe]-l.slidesGrid[ee];a?l.setTranslate(l.translate-xe):(l.slideTo(ee+Math.ceil(pe),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-xe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-xe))}else r&&(l.slideTo(l.activeIndex+(L?W.length/E.grid.rows:W.length),0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(Z.length>0&&te)if(void 0===t){const xe=l.slidesGrid[ee-le]-l.slidesGrid[ee];a?l.setTranslate(l.translate-xe):(l.slideTo(ee-le,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-xe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-xe))}else l.slideTo(l.activeIndex-(L?Z.length/E.grid.rows:Z.length),0,!1,!0);if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const Se={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(Re=>{!Re.destroyed&&Re.params.loop&&Re.loopFix(ci(rt({},Se),{slideTo:Re.params.slidesPerView===E.slidesPerView&&e}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(ci(rt({},Se),{slideTo:l.controller.control.params.slidesPerView===E.slidesPerView&&e}))}l.emit("loopFix")},loopDestroy:function AIe(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=void 0===r.swiperSlideIndex?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}},kIe={setGrabCursor:function DIe(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function NIe(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}};function s9(n,t,e){const i=qr(),{params:r}=n,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return!s||!(e<=o||e>=i.innerWidth-o)||"prevent"===s&&(t.preventDefault(),!0)}function BIe(n){const t=this,e=so();let i=n;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void s9(t,i,i.targetTouches[0].pageX);const{params:s,touches:o,enabled:a}=t;if(!a||!s.simulateTouch&&"mouse"===i.pointerType||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=i.target;if("wrapper"===s.touchEventsTarget&&!t.wrapperEl.contains(l)||"which"in i&&3===i.which||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(i.target&&i.target.shadowRoot?function FIe(n,t){return void 0===t&&(t=this),function e(i){if(!i||i===so()||i===qr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||e(i.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const E=o.currentX,I=o.currentY;if(!s9(t,i,E))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=E,o.startY=I,r.touchStartTime=Nl(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let A=!0;l.matches(r.focusableElements)&&(A=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l&&e.activeElement.blur(),(s.touchStartForcePreventDefault||A&&t.allowTouchMove&&s.touchStartPreventDefault)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function LIe(n){const t=so(),e=this,i=e.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=e;if(!a||!r.simulateTouch&&"mouse"===n.pointerType)return;let c,l=n;if(l.originalEvent&&(l=l.originalEvent),"pointermove"===l.type&&(null!==i.touchId||l.pointerId!==i.pointerId))return;if("touchmove"===l.type){if(c=[...l.changedTouches].filter(te=>te.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",l));const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!e.allowTouchMove)return l.target.matches(i.focusableElements)||(e.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Nl()));if(r.touchReleaseOnEdges&&!r.loop)if(e.isVertical()){if(d<s.startY&&e.translate<=e.maxTranslate()||d>s.startY&&e.translate>=e.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&e.translate<=e.maxTranslate()||u>s.startX&&e.translate>=e.minTranslate())return;if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements))return i.isMoved=!0,void(e.allowClick=!1);i.allowTouchCallbacks&&e.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const v=s.currentX-s.startX,E=s.currentY-s.startY;if(e.params.threshold&&Math.sqrt(ko(v,2)+ko(E,2))<e.params.threshold)return;if(void 0===i.isScrolling){let te;e.isHorizontal()&&s.currentY===s.startY||e.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:v*v+E*E>=25&&(te=180*Math.atan2(Math.abs(E),Math.abs(v))/Math.PI,i.isScrolling=e.isHorizontal()?te>r.touchAngle:90-te>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",l),void 0===i.startMoving&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||"touchmove"===l.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let I=e.isHorizontal()?v:E,A=e.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(I=Math.abs(I)*(o?1:-1),A=Math.abs(A)*(o?1:-1)),s.diff=I,I*=r.touchRatio,o&&(I=-I,A=-A);const N=e.touchesDirection;e.swipeDirection=I>0?"prev":"next",e.touchesDirection=A>0?"prev":"next";const k=e.params.loop&&!r.cssMode,L="next"===e.touchesDirection&&e.allowSlideNext||"prev"===e.touchesDirection&&e.allowSlidePrev;if(!i.isMoved){if(k&&L&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(te)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&N!==e.touchesDirection&&k&&L&&Math.abs(I)>=1)return Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);e.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=I+i.startTranslate;let Z=!0,ee=r.resistanceRatio;if(r.touchReleaseOnEdges&&(ee=0),I>0?(k&&L&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(Z=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+ko(-e.minTranslate()+i.startTranslate+I,ee)))):I<0&&(k&&L&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-("auto"===r.slidesPerView?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(Z=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-ko(e.maxTranslate()-i.startTranslate-I,ee)))),Z&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(I)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=e.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function UIe(n){const t=this,e=t.touchEventsData;let r,i=n;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].filter(ee=>ee.identifier===e.touchId)[0],!r||r.identifier!==e.touchId)return}else{if(null!==e.touchId||i.pointerId!==e.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!t.browser.isSafari&&!t.browser.isWebView))return;e.pointerId=null,e.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!o.simulateTouch&&"mouse"===i.pointerType)return;if(e.allowTouchCallbacks&&t.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched)return e.isMoved&&o.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,void(e.startMoving=!1);o.grabCursor&&e.isMoved&&e.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=Nl(),v=d-e.touchStartTime;if(t.allowClick){const ee=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(ee&&ee[0]||i.target,ee),t.emit("tap click",i),v<300&&d-e.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(e.lastClickTime=Nl(),Up(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||0===a.diff&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset)return e.isTouched=!1,e.isMoved=!1,void(e.startMoving=!1);let E;if(e.isTouched=!1,e.isMoved=!1,e.startMoving=!1,E=o.followFinger?l?t.translate:-t.translate:-e.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:E});const I=E>=-t.maxTranslate()&&!t.params.loop;let A=0,N=t.slidesSizesGrid[0];for(let ee=0;ee<c.length;ee+=ee<o.slidesPerGroupSkip?1:o.slidesPerGroup){const te=ee<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==c[ee+te]?(I||E>=c[ee]&&E<c[ee+te])&&(A=ee,N=c[ee+te]-c[ee]):(I||E>=c[ee])&&(A=ee,N=c[c.length-1]-c[c.length-2])}let k=null,L=null;o.rewind&&(t.isBeginning?L=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(k=0));const W=(E-c[A])/N,Z=A<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(v>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(W>=o.longSwipesRatio?o.rewind&&t.isEnd?k:A+Z:A),"prev"===t.swipeDirection&&(W>1-o.longSwipesRatio?t.slideTo(A+Z):null!==L&&W<0&&Math.abs(W)>o.longSwipesRatio?t.slideTo(L):t.slideTo(A))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||i.target!==t.navigation.nextEl&&i.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==k?k:A+Z),"prev"===t.swipeDirection&&t.slideTo(null!==L?L:A)):t.slideTo(i.target===t.navigation.nextEl?A+Z:A)}}function o9(){const n=this,{params:t,el:e}=n;if(e&&0===e.offsetWidth)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),!("auto"===t.slidesPerView||t.slidesPerView>1)||!n.isEnd||n.isBeginning||n.params.centeredSlides||o&&t.loop?n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0):n.slideTo(n.slides.length-1,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function GIe(n){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function jIe(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function HIe(n){const t=this;TC(t,n.target),!t.params.cssMode&&("auto"===t.params.slidesPerView||t.params.autoHeight)&&t.update()}function VIe(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const a9=(n,t)=>{const e=so(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;!r||"string"==typeof r||(e[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",n.onTouchStart,{passive:!1}),r[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),e[l]("touchend",n.onTouchEnd,{passive:!0}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("touchcancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),e[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),n[c](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",o9,!0),r[l]("load",n.onLoad,{capture:!0}))};var YIe={attachEvents:function zIe(){const n=this,{params:t}=n;n.onTouchStart=BIe.bind(n),n.onTouchMove=LIe.bind(n),n.onTouchEnd=UIe.bind(n),n.onDocumentTouchStart=VIe.bind(n),t.cssMode&&(n.onScroll=jIe.bind(n)),n.onClick=GIe.bind(n),n.onLoad=HIe.bind(n),a9(n,"on")},detachEvents:function WIe(){a9(this,"off")}};const l9=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;var qIe={setBreakpoint:function $Ie(){const n=this,{realIndex:t,initialized:e,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=l9(n,i),u=l9(n,l),d=n.params.grabCursor,v=l.grabCursor,E=i.enabled;c&&!u?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),d&&!v?n.unsetGrabCursor():!d&&v&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(W=>{if(void 0===l[W])return;const Z=i[W]&&i[W].enabled,ee=l[W]&&l[W].enabled;Z&&!ee&&n[W].disable(),!Z&&ee&&n[W].enable()});const I=l.direction&&l.direction!==i.direction,A=i.loop&&(l.slidesPerView!==i.slidesPerView||I),N=i.loop;I&&e&&n.changeDirection(),qa(n.params,l);const k=n.params.enabled,L=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),E&&!k?n.disable():!E&&k&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),e&&(A?(n.loopDestroy(),n.loopCreate(t),n.updateSlides()):!N&&L?(n.loopCreate(t),n.updateSlides()):N&&!L&&n.loopDestroy()),n.emit("breakpoint",l)},getBreakpoint:function XIe(n,t,e){if(void 0===t&&(t="window"),!n||"container"===t&&!e)return;let i=!1;const r=qr(),s="window"===t?r.innerHeight:e.clientHeight,o=Object.keys(n).map(a=>{if("string"==typeof a&&0===a.indexOf("@")){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];"window"===t?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=e.clientWidth&&(i=l)}return i||"max"}},ZIe={addClasses:function JIe(){const n=this,{classNames:t,params:e,rtl:i,el:r,device:s}=n,o=function KIe(n,t){const e=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&e.push(t+r)}):"string"==typeof i&&e.push(t+i)}),e}(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...o),r.classList.add(...t),n.emitContainerClasses()},removeClasses:function QIe(){const{el:t,classNames:e}=this;!t||"string"==typeof t||(t.classList.remove(...e),this.emitContainerClasses())}},Q2={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function nAe(n,t){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(!0===n[r]&&(n[r]={enabled:!0}),"navigation"===r&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),r in n&&"enabled"in s?("object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),qa(t,i)):qa(t,i)):qa(t,i)}}const Z2={eventsEmitter:Zxe,update:uIe,translate:_Ie,transition:bIe,slide:PIe,loop:RIe,grabCursor:kIe,events:YIe,breakpoints:qIe,checkOverflow:{checkOverflow:function eAe(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===e.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===e.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:ZIe},eR={};class Ja{constructor(){let t,e;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=qa({},e),t&&!e.el&&(e.el=t);const o=so();if(e.el&&"string"==typeof e.el&&o.querySelectorAll(e.el).length>1){const u=[];return o.querySelectorAll(e.el).forEach(d=>{const v=qa({},e,{el:d});u.push(new Ja(v))}),u}const a=this;a.__swiper__=!0,a.support=t9(),a.device=n9({userAgent:e.userAgent}),a.browser=function Kxe(){return X2||(X2=function qxe(){const n=qr(),t=n9();let e=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=l<16||16===l&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=i();return{isSafari:e||s,needPerspectiveFix:e,need3dFix:s||r&&t.ios,isWebView:r}}()),X2}(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],e.modules&&Array.isArray(e.modules)&&a.modules.push(...e.modules);const l={};a.modules.forEach(u=>{u({params:e,swiper:a,extendParams:nAe(e,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=qa({},Q2,l);return a.params=qa({},c,eR,e),a.originalParams=qa({},a.params),a.passedParams=qa({},e),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/ko(2,23))*ko(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,s=Ay(oo(e,`.${i.slideClass}, swiper-slide`)[0]);return Ay(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>1*e.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){const{slidesEl:e,params:i}=this;this.slides=oo(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*t+r;i.translateTo(o,void 0===e?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);e.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=this;let u=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let v,d=s[c]?Math.ceil(s[c].swiperSlideSize):0;for(let E=c+1;E<s.length;E+=1)s[E]&&!v&&(d+=Math.ceil(s[E].swiperSlideSize),u+=1,d>l&&(v=!0));for(let E=c-1;E>=0;E-=1)s[E]&&!v&&(d+=s[E].swiperSlideSize,u+=1,d>l&&(v=!0))}else if("current"===t)for(let d=c+1;d<s.length;d+=1)(e?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function r(){const a=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let s;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&TC(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&t.updateAutoHeight()):(s=t.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides?(t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides).length-1:t.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const i=this,r=i.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(s=>{"vertical"===t?s.style.width="":s.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):oo(i,r())[0];return!o&&e.params.createElements&&(o=Ka("div",e.params.wrapperClass),i.append(o),oo(i,`.${e.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(e,{el:i,wrapperEl:o,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===bh(i,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===bh(i,"direction")),wrongRTL:"-webkit-box"===bh(o,"display")}),!0}init(t){const e=this;if(e.initialized||!1===e.mount(t))return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.slideTo(e.params.loop&&e.virtual&&e.params.virtual.enabled?e.params.initialSlide+e.virtual.slidesBefore:e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const r=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&r.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?TC(e,s):s.addEventListener("load",o=>{TC(e,o.target)})}),J2(e),e.initialized=!0,J2(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),!1!==t&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function Hxe(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch(i){}try{delete t[e]}catch(i){}})}(i)),i.destroyed=!0),null}static extendDefaults(t){qa(eR,t)}static get extendedDefaults(){return eR}static get defaults(){return Q2}static installModule(t){Ja.prototype.__modules__||(Ja.prototype.__modules__=[]);const e=Ja.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>Ja.installModule(e)),Ja):(Ja.installModule(t),Ja)}}function tR(n,t,e,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!e[r]&&!0===e.auto){let s=oo(n.el,`.${i[r]}`)[0];s||(s=Ka("div",i[r]),s.className=i[r],n.el.append(s)),e[r]=s,t[r]=s}}),e}function ad(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function yAe(n){const t=this,{params:e,slidesEl:i}=t;e.loop&&t.loopDestroy();const r=s=>{if("string"==typeof s){const o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if("object"==typeof n&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&r(n[s]);else r(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update()}function bAe(n){const t=this,{params:e,activeIndex:i,slidesEl:r}=t;e.loop&&t.loopDestroy();let s=i+1;const o=a=>{if("string"==typeof a){const l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=i+n.length}else o(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(s,0,!1)}function SAe(n,t){const e=this,{params:i,activeIndex:r,slidesEl:s}=e;let o=r;i.loop&&(o-=e.loopedSlides,e.loopDestroy(),e.recalcSlides());const a=e.slides.length;if(n<=0)return void e.prependSlide(t);if(n>=a)return void e.appendSlide(t);let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=e.slides[u];d.remove(),c.unshift(d)}if("object"==typeof t&&"length"in t){for(let u=0;u<t.length;u+=1)t[u]&&s.append(t[u]);l=o>n?o+t.length:o}else s.append(t);for(let u=0;u<c.length;u+=1)s.append(c[u]);e.recalcSlides(),i.loop&&e.loopCreate(),(!i.observer||e.isElement)&&e.update(),e.slideTo(i.loop?l+e.loopedSlides:l,0,!1)}function EAe(n){const t=this,{params:e,activeIndex:i}=t;let r=i;e.loop&&(r-=t.loopedSlides,t.loopDestroy());let o,s=r;if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],t.slides[o]&&t.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,t.slides[o]&&t.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(e.loop?s+t.loopedSlides:s,0,!1)}function CAe(){const n=this,t=[];for(let e=0;e<n.slides.length;e+=1)t.push(e);n.removeSlide(t)}function Em(n){const{effect:t,swiper:e,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;let u;i("beforeInit",()=>{if(e.params.effect!==t)return;e.classNames.push(`${e.params.containerModifierClass}${t}`),a&&a()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(e.params,d),Object.assign(e.originalParams,d)}),i("setTranslate",()=>{e.params.effect===t&&r()}),i("setTransition",(d,v)=>{e.params.effect===t&&s(v)}),i("transitionEnd",()=>{if(e.params.effect===t&&l){if(!c||!c().slideShadows)return;e.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>v.remove())}),l()}}),i("virtualUpdate",()=>{e.params.effect===t&&(e.slides.length||(u=!0),requestAnimationFrame(()=>{u&&e.slides&&e.slides.length&&(r(),u=!1)}))})}function Dy(n,t){const e=Gp(t);return e!==t&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function wC(n){let{swiper:t,duration:e,transformElements:i,allSlides:r}=n;const{activeIndex:s}=t;if(t.params.virtualTranslate&&0!==e){let l,a=!1;l=r?i:i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?(a=>a.parentElement?a.parentElement:t.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0])(c):c;return t.getSlideIndex(u)===s}),l.forEach(c=>{Ry(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(u)})})}}function Cm(n,t,e){const i=`swiper-slide-shadow${e?`-${e}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=Gp(t);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=Ka("div",i.split(" ")),r.append(s)),s}Object.keys(Z2).forEach(n=>{Object.keys(Z2[n]).forEach(t=>{Ja.prototype[t]=Z2[n][t]})}),Ja.use([function Jxe(n){let{swiper:t,on:e,emit:i}=n;const r=qr();let s=null,o=null;const a=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},u=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};e("init",()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:v,height:E}=t;let I=v,A=E;d.forEach(N=>{let{contentBoxSize:k,contentRect:L,target:W}=N;W&&W!==t.el||(I=L?L.width:(k[0]||k).inlineSize,A=L?L.height:(k[0]||k).blockSize)}),(I!==v||A!==E)&&a()})}),s.observe(t.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",u))}),e("destroy",()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})},function Qxe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=[],o=qr(),a=function(u,d){void 0===d&&(d={});const E=new(o.MutationObserver||o.WebkitMutationObserver)(I=>{if(t.__preventObserver__)return;if(1===I.length)return void r("observerUpdate",I[0]);const A=function(){r("observerUpdate",I[0])};o.requestAnimationFrame?o.requestAnimationFrame(A):o.setTimeout(A,0)});E.observe(u,{attributes:void 0===d.attributes||d.attributes,childList:void 0===d.childList||d.childList,characterData:void 0===d.characterData||d.characterData}),s.push(E)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){const u=jp(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}}),i("destroy",()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)})}]);const AAe=[function iAe(n){let s,{swiper:t,extendParams:e,on:i,emit:r}=n;e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=so();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(I,A){const N=t.params.virtual;if(N.cache&&t.virtual.cache[A])return t.virtual.cache[A];let k;return N.renderSlide?(k=N.renderSlide.call(t,I,A),"string"==typeof k&&(a.innerHTML=k,k=a.children[0])):k=t.isElement?Ka("swiper-slide"):Ka("div",t.params.slideClass),k.setAttribute("data-swiper-slide-index",A),N.renderSlide||(k.innerHTML=I),N.cache&&(t.virtual.cache[A]=k),k}function c(I,A){const{slidesPerView:N,slidesPerGroup:k,centeredSlides:L,loop:W,initialSlide:Z}=t.params;if(A&&!W&&Z>0)return;const{addSlidesBefore:ee,addSlidesAfter:te}=t.params.virtual,{from:ge,to:pe,slides:le,slidesGrid:he,offset:Ie}=t.virtual;t.params.cssMode||t.updateActiveIndex();const ye=t.activeIndex||0;let Se,Re,xe;Se=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",L?(Re=Math.floor(N/2)+k+te,xe=Math.floor(N/2)+k+ee):(Re=N+(k-1)+te,xe=(W?N:k)+ee);let Ce=ye-xe,Te=ye+Re;W||(Ce=Math.max(Ce,0),Te=Math.min(Te,le.length-1));let De=(t.slidesGrid[Ce]||0)-(t.slidesGrid[0]||0);function tt(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),r("virtualUpdate")}if(W&&ye>=xe?(Ce-=xe,L||(De+=t.slidesGrid[0])):W&&ye<xe&&(Ce=-xe,L&&(De+=t.slidesGrid[0])),Object.assign(t.virtual,{from:Ce,to:Te,offset:De,slidesGrid:t.slidesGrid,slidesBefore:xe,slidesAfter:Re}),ge===Ce&&pe===Te&&!I)return t.slidesGrid!==he&&De!==Ie&&t.slides.forEach(yt=>{yt.style[Se]=De-Math.abs(t.cssOverflowAdjustment())+"px"}),t.updateProgress(),void r("virtualUpdate");if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:De,from:Ce,to:Te,slides:function(){const kt=[];for(let Vt=Ce;Vt<=Te;Vt+=1)kt.push(le[Vt]);return kt}()}),void(t.params.virtual.renderExternalUpdate?tt():r("virtualUpdate"));const _e=[],Ve=[],et=yt=>{let kt=yt;return yt<0?kt=le.length+yt:kt>=le.length&&(kt-=le.length),kt};if(I)t.slides.filter(yt=>yt.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(yt=>{yt.remove()});else for(let yt=ge;yt<=pe;yt+=1)if(yt<Ce||yt>Te){const kt=et(yt);t.slides.filter(Vt=>Vt.matches(`.${t.params.slideClass}[data-swiper-slide-index="${kt}"], swiper-slide[data-swiper-slide-index="${kt}"]`)).forEach(Vt=>{Vt.remove()})}const Tt=W?2*le.length:le.length;for(let yt=W?-le.length:0;yt<Tt;yt+=1)if(yt>=Ce&&yt<=Te){const kt=et(yt);void 0===pe||I?Ve.push(kt):(yt>pe&&Ve.push(kt),yt<ge&&_e.push(kt))}if(Ve.forEach(yt=>{t.slidesEl.append(l(le[yt],yt))}),W)for(let yt=_e.length-1;yt>=0;yt-=1){const kt=_e[yt];t.slidesEl.prepend(l(le[kt],kt))}else _e.sort((yt,kt)=>kt-yt),_e.forEach(yt=>{t.slidesEl.prepend(l(le[yt],yt))});oo(t.slidesEl,".swiper-slide, swiper-slide").forEach(yt=>{yt.style[Se]=De-Math.abs(t.cssOverflowAdjustment())+"px"}),tt()}i("beforeInit",()=>{if(!t.params.virtual.enabled)return;let I;if(void 0===t.passedParams.virtual.slides){const A=[...t.slidesEl.children].filter(N=>N.matches(`.${t.params.slideClass}, swiper-slide`));A&&A.length&&(t.virtual.slides=[...A],I=!0,A.forEach((N,k)=>{N.setAttribute("data-swiper-slide-index",k),t.virtual.cache[k]=N,N.remove()}))}I||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{!t.params.virtual.enabled||(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{!t.params.virtual.enabled||t.params.cssMode&&Iy(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:function u(I){if("object"==typeof I&&"length"in I)for(let A=0;A<I.length;A+=1)I[A]&&t.virtual.slides.push(I[A]);else t.virtual.slides.push(I);c(!0)},prependSlide:function d(I){const A=t.activeIndex;let N=A+1,k=1;if(Array.isArray(I)){for(let L=0;L<I.length;L+=1)I[L]&&t.virtual.slides.unshift(I[L]);N=A+I.length,k=I.length}else t.virtual.slides.unshift(I);if(t.params.virtual.cache){const L=t.virtual.cache,W={};Object.keys(L).forEach(Z=>{const ee=L[Z],te=ee.getAttribute("data-swiper-slide-index");te&&ee.setAttribute("data-swiper-slide-index",parseInt(te,10)+k),W[parseInt(Z,10)+k]=ee}),t.virtual.cache=W}c(!0),t.slideTo(N,0)},removeSlide:function v(I){if(null==I)return;let A=t.activeIndex;if(Array.isArray(I))for(let N=I.length-1;N>=0;N-=1)t.params.virtual.cache&&(delete t.virtual.cache[I[N]],Object.keys(t.virtual.cache).forEach(k=>{k>I&&(t.virtual.cache[k-1]=t.virtual.cache[k],t.virtual.cache[k-1].setAttribute("data-swiper-slide-index",k-1),delete t.virtual.cache[k])})),t.virtual.slides.splice(I[N],1),I[N]<A&&(A-=1),A=Math.max(A,0);else t.params.virtual.cache&&(delete t.virtual.cache[I],Object.keys(t.virtual.cache).forEach(N=>{N>I&&(t.virtual.cache[N-1]=t.virtual.cache[N],t.virtual.cache[N-1].setAttribute("data-swiper-slide-index",N-1),delete t.virtual.cache[N])})),t.virtual.slides.splice(I,1),I<A&&(A-=1),A=Math.max(A,0);c(!0),t.slideTo(A,0)},removeAllSlides:function E(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),c(!0),t.slideTo(0,0)},update:c})},function rAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=so(),o=qr();function a(u){if(!t.enabled)return;const{rtlTranslate:d}=t;let v=u;v.originalEvent&&(v=v.originalEvent);const E=v.keyCode||v.charCode,I=t.params.keyboard.pageUpDown,A=I&&33===E,N=I&&34===E,k=37===E,L=39===E,W=38===E,Z=40===E;if(!t.allowSlideNext&&(t.isHorizontal()&&L||t.isVertical()&&Z||N)||!t.allowSlidePrev&&(t.isHorizontal()&&k||t.isVertical()&&W||A))return!1;if(!(v.shiftKey||v.altKey||v.ctrlKey||v.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(A||N||k||L||W||Z)){let ee=!1;if(jp(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===jp(t.el,`.${t.params.slideActiveClass}`).length)return;const te=t.el,ge=te.clientWidth,pe=te.clientHeight,le=o.innerWidth,he=o.innerHeight,Ie=CC(te);d&&(Ie.left-=te.scrollLeft);const ye=[[Ie.left,Ie.top],[Ie.left+ge,Ie.top],[Ie.left,Ie.top+pe],[Ie.left+ge,Ie.top+pe]];for(let Se=0;Se<ye.length;Se+=1){const Re=ye[Se];if(Re[0]>=0&&Re[0]<=le&&Re[1]>=0&&Re[1]<=he){if(0===Re[0]&&0===Re[1])continue;ee=!0}}if(!ee)return}t.isHorizontal()?((A||N||k||L)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),((N||L)&&!d||(A||k)&&d)&&t.slideNext(),((A||k)&&!d||(N||L)&&d)&&t.slidePrev()):((A||N||W||Z)&&(v.preventDefault?v.preventDefault():v.returnValue=!1),(N||Z)&&t.slideNext(),(A||W)&&t.slidePrev()),r("keyPress",E)}}function l(){t.keyboard.enabled||(s.addEventListener("keydown",a),t.keyboard.enabled=!0)}function c(){!t.keyboard.enabled||(s.removeEventListener("keydown",a),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{t.params.keyboard.enabled&&l()}),i("destroy",()=>{t.keyboard.enabled&&c()}),Object.assign(t.keyboard,{enable:l,disable:c})},function sAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=qr();e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let o,l,a=Nl();const c=[];function d(){!t.enabled||(t.mouseEntered=!0)}function v(){!t.enabled||(t.mouseEntered=!1)}function E(W){return!(t.params.mousewheel.thresholdDelta&&W.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&Nl()-a<t.params.mousewheel.thresholdTime)&&(W.delta>=6&&Nl()-a<60||(W.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),r("scroll",W.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),r("scroll",W.raw)),a=(new s.Date).getTime(),!1))}function A(W){let Z=W,ee=!0;if(!t.enabled||W.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const te=t.params.mousewheel;t.params.cssMode&&Z.preventDefault();let ge=t.el;"container"!==t.params.mousewheel.eventsTarget&&(ge=document.querySelector(t.params.mousewheel.eventsTarget));const pe=ge&&ge.contains(Z.target);if(!t.mouseEntered&&!pe&&!te.releaseOnEdges)return!0;Z.originalEvent&&(Z=Z.originalEvent);let le=0;const he=t.rtlTranslate?-1:1,Ie=function u(W){let ge=0,pe=0,le=0,he=0;return"detail"in W&&(pe=W.detail),"wheelDelta"in W&&(pe=-W.wheelDelta/120),"wheelDeltaY"in W&&(pe=-W.wheelDeltaY/120),"wheelDeltaX"in W&&(ge=-W.wheelDeltaX/120),"axis"in W&&W.axis===W.HORIZONTAL_AXIS&&(ge=pe,pe=0),le=10*ge,he=10*pe,"deltaY"in W&&(he=W.deltaY),"deltaX"in W&&(le=W.deltaX),W.shiftKey&&!le&&(le=he,he=0),(le||he)&&W.deltaMode&&(1===W.deltaMode?(le*=40,he*=40):(le*=800,he*=800)),le&&!ge&&(ge=le<1?-1:1),he&&!pe&&(pe=he<1?-1:1),{spinX:ge,spinY:pe,pixelX:le,pixelY:he}}(Z);if(te.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(Ie.pixelX)>Math.abs(Ie.pixelY)))return!0;le=-Ie.pixelX*he}else{if(!(Math.abs(Ie.pixelY)>Math.abs(Ie.pixelX)))return!0;le=-Ie.pixelY}else le=Math.abs(Ie.pixelX)>Math.abs(Ie.pixelY)?-Ie.pixelX*he:-Ie.pixelY;if(0===le)return!0;te.invert&&(le=-le);let ye=t.getTranslate()+le*te.sensitivity;if(ye>=t.minTranslate()&&(ye=t.minTranslate()),ye<=t.maxTranslate()&&(ye=t.maxTranslate()),ee=!!t.params.loop||!(ye===t.minTranslate()||ye===t.maxTranslate()),ee&&t.params.nested&&Z.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const Se={time:Nl(),delta:Math.abs(le),direction:Math.sign(le)},Re=l&&Se.time<l.time+500&&Se.delta<=l.delta&&Se.direction===l.direction;if(!Re){l=void 0;let xe=t.getTranslate()+le*te.sensitivity;const Ce=t.isBeginning,Te=t.isEnd;if(xe>=t.minTranslate()&&(xe=t.minTranslate()),xe<=t.maxTranslate()&&(xe=t.maxTranslate()),t.setTransition(0),t.setTranslate(xe),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!Ce&&t.isBeginning||!Te&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:Se.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const De=c.length?c[c.length-1]:void 0,tt=c[0];if(c.push(Se),De&&(Se.delta>De.delta||Se.direction!==De.direction))c.splice(0);else if(c.length>=15&&Se.time-tt.time<500&&tt.delta-Se.delta>=1&&Se.delta<=6){const _e=le>0?.8:.2;l=Se,c.splice(0),o=Up(()=>{t.slideToClosest(t.params.speed,!0,void 0,_e)},0)}o||(o=Up(()=>{l=Se,c.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(Re||r("scroll",Z),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),te.releaseOnEdges&&(xe===t.minTranslate()||xe===t.maxTranslate()))return!0}}else{const Se={time:Nl(),delta:Math.abs(le),direction:Math.sign(le),raw:W};c.length>=2&&c.shift();const Re=c.length?c[c.length-1]:void 0;if(c.push(Se),Re?(Se.direction!==Re.direction||Se.delta>Re.delta||Se.time>Re.time+150)&&E(Se):E(Se),function I(W){const Z=t.params.mousewheel;if(W.direction<0){if(t.isEnd&&!t.params.loop&&Z.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&Z.releaseOnEdges)return!0;return!1}(Se))return!0}return Z.preventDefault?Z.preventDefault():Z.returnValue=!1,!1}function N(W){let Z=t.el;"container"!==t.params.mousewheel.eventsTarget&&(Z=document.querySelector(t.params.mousewheel.eventsTarget)),Z[W]("mouseenter",d),Z[W]("mouseleave",v),Z[W]("wheel",A)}function k(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",A),!0):!t.mousewheel.enabled&&(N("addEventListener"),t.mousewheel.enabled=!0,!0)}function L(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,A),!0):!!t.mousewheel.enabled&&(N("removeEventListener"),t.mousewheel.enabled=!1,!0)}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&L(),t.params.mousewheel.enabled&&k()}),i("destroy",()=>{t.params.cssMode&&k(),t.mousewheel.enabled&&L()}),Object.assign(t.mousewheel,{enable:k,disable:L})},function oAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;function s(I){let A;return I&&"string"==typeof I&&t.isElement&&(A=t.el.querySelector(I),A)?A:(I&&("string"==typeof I&&(A=[...document.querySelectorAll(I)]),t.params.uniqueNavElements&&"string"==typeof I&&A&&A.length>1&&1===t.el.querySelectorAll(I).length?A=t.el.querySelector(I):A&&1===A.length&&(A=A[0])),I&&!A?I:A)}function o(I,A){const N=t.params.navigation;(I=Zn(I)).forEach(k=>{k&&(k.classList[A?"add":"remove"](...N.disabledClass.split(" ")),"BUTTON"===k.tagName&&(k.disabled=A),t.params.watchOverflow&&t.enabled&&k.classList[t.isLocked?"add":"remove"](N.lockClass))})}function a(){const{nextEl:I,prevEl:A}=t.navigation;if(t.params.loop)return o(A,!1),void o(I,!1);o(A,t.isBeginning&&!t.params.rewind),o(I,t.isEnd&&!t.params.rewind)}function l(I){I.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(I){I.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const I=t.params.navigation;if(t.params.navigation=tR(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!I.nextEl&&!I.prevEl)return;let A=s(I.nextEl),N=s(I.prevEl);Object.assign(t.navigation,{nextEl:A,prevEl:N}),A=Zn(A),N=Zn(N);const k=(L,W)=>{L&&L.addEventListener("click","next"===W?c:l),!t.enabled&&L&&L.classList.add(...I.lockClass.split(" "))};A.forEach(L=>k(L,"next")),N.forEach(L=>k(L,"prev"))}function d(){let{nextEl:I,prevEl:A}=t.navigation;I=Zn(I),A=Zn(A);const N=(k,L)=>{k.removeEventListener("click","next"===L?c:l),k.classList.remove(...t.params.navigation.disabledClass.split(" "))};I.forEach(k=>N(k,"next")),A.forEach(k=>N(k,"prev"))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===t.params.navigation.enabled?E():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:I,prevEl:A}=t.navigation;I=Zn(I),A=Zn(A),t.enabled?a():[...I,...A].filter(N=>!!N).forEach(N=>N.classList.add(t.params.navigation.lockClass))}),i("click",(I,A)=>{let{nextEl:N,prevEl:k}=t.navigation;N=Zn(N),k=Zn(k);const L=A.target;let W=k.includes(L)||N.includes(L);if(t.isElement&&!W){const Z=A.path||A.composedPath&&A.composedPath();Z&&(W=Z.find(ee=>N.includes(ee)||k.includes(ee)))}if(t.params.navigation.hideOnClick&&!W){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===L||t.pagination.el.contains(L)))return;let Z;N.length?Z=N[0].classList.contains(t.params.navigation.hiddenClass):k.length&&(Z=k[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===Z?"navigationShow":"navigationHide"),[...N,...k].filter(ee=>!!ee).forEach(ee=>ee.classList.toggle(t.params.navigation.hiddenClass))}});const E=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:E,update:a,init:u,destroy:d})},function aAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:k=>k,formatFractionTotal:k=>k,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(k,L){const{bulletActiveClass:W}=t.params.pagination;!k||(k=k[("prev"===L?"previous":"next")+"ElementSibling"])&&(k.classList.add(`${W}-${L}`),(k=k[("prev"===L?"previous":"next")+"ElementSibling"])&&k.classList.add(`${W}-${L}-${L}`))}function u(k){const L=k.target.closest(ad(t.params.pagination.bulletClass));if(!L)return;k.preventDefault();const W=Ay(L)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===W)return;t.slideToLoop(W)}else t.slideTo(W)}function d(){const k=t.rtl,L=t.params.pagination;if(l())return;let Z,ee,W=t.pagination.el;W=Zn(W);const ge=t.params.loop?Math.ceil((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(ee=t.previousRealIndex||0,Z=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(Z=t.snapIndex,ee=t.previousSnapIndex):(ee=t.previousIndex||0,Z=t.activeIndex||0),"bullets"===L.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const pe=t.pagination.bullets;let le,he,Ie;if(L.dynamicBullets&&(o=W2(pe[0],t.isHorizontal()?"width":"height",!0),W.forEach(ye=>{ye.style[t.isHorizontal()?"width":"height"]=o*(L.dynamicMainBullets+4)+"px"}),L.dynamicMainBullets>1&&void 0!==ee&&(a+=Z-(ee||0),a>L.dynamicMainBullets-1?a=L.dynamicMainBullets-1:a<0&&(a=0)),le=Math.max(Z-a,0),he=le+(Math.min(pe.length,L.dynamicMainBullets)-1),Ie=(he+le)/2),pe.forEach(ye=>{const Se=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Re=>`${L.bulletActiveClass}${Re}`)].map(Re=>"string"==typeof Re&&Re.includes(" ")?Re.split(" "):Re).flat();ye.classList.remove(...Se)}),W.length>1)pe.forEach(ye=>{const Se=Ay(ye);Se===Z?ye.classList.add(...L.bulletActiveClass.split(" ")):t.isElement&&ye.setAttribute("part","bullet"),L.dynamicBullets&&(Se>=le&&Se<=he&&ye.classList.add(...`${L.bulletActiveClass}-main`.split(" ")),Se===le&&c(ye,"prev"),Se===he&&c(ye,"next"))});else{const ye=pe[Z];if(ye&&ye.classList.add(...L.bulletActiveClass.split(" ")),t.isElement&&pe.forEach((Se,Re)=>{Se.setAttribute("part",Re===Z?"bullet-active":"bullet")}),L.dynamicBullets){const Se=pe[le],Re=pe[he];for(let xe=le;xe<=he;xe+=1)pe[xe]&&pe[xe].classList.add(...`${L.bulletActiveClass}-main`.split(" "));c(Se,"prev"),c(Re,"next")}}if(L.dynamicBullets){const ye=Math.min(pe.length,L.dynamicMainBullets+4),Se=(o*ye-o)/2-Ie*o,Re=k?"right":"left";pe.forEach(xe=>{xe.style[t.isHorizontal()?Re:"top"]=`${Se}px`})}}W.forEach((pe,le)=>{if("fraction"===L.type&&(pe.querySelectorAll(ad(L.currentClass)).forEach(he=>{he.textContent=L.formatFractionCurrent(Z+1)}),pe.querySelectorAll(ad(L.totalClass)).forEach(he=>{he.textContent=L.formatFractionTotal(ge)})),"progressbar"===L.type){let he;he=L.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const Ie=(Z+1)/ge;let ye=1,Se=1;"horizontal"===he?ye=Ie:Se=Ie,pe.querySelectorAll(ad(L.progressbarFillClass)).forEach(Re=>{Re.style.transform=`translate3d(0,0,0) scaleX(${ye}) scaleY(${Se})`,Re.style.transitionDuration=`${t.params.speed}ms`})}"custom"===L.type&&L.renderCustom?(pe.innerHTML=L.renderCustom(t,Z+1,ge),0===le&&r("paginationRender",pe)):(0===le&&r("paginationRender",pe),r("paginationUpdate",pe)),t.params.watchOverflow&&t.enabled&&pe.classList[t.isLocked?"add":"remove"](L.lockClass)})}function v(){const k=t.params.pagination;if(l())return;const L=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let W=t.pagination.el;W=Zn(W);let Z="";if("bullets"===k.type){let ee=t.params.loop?Math.ceil(L/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&ee>L&&(ee=L);for(let te=0;te<ee;te+=1)Z+=k.renderBullet?k.renderBullet.call(t,te,k.bulletClass):`<${k.bulletElement} ${t.isElement?'part="bullet"':""} class="${k.bulletClass}"></${k.bulletElement}>`}"fraction"===k.type&&(Z=k.renderFraction?k.renderFraction.call(t,k.currentClass,k.totalClass):`<span class="${k.currentClass}"></span> / <span class="${k.totalClass}"></span>`),"progressbar"===k.type&&(Z=k.renderProgressbar?k.renderProgressbar.call(t,k.progressbarFillClass):`<span class="${k.progressbarFillClass}"></span>`),t.pagination.bullets=[],W.forEach(ee=>{"custom"!==k.type&&(ee.innerHTML=Z||""),"bullets"===k.type&&t.pagination.bullets.push(...ee.querySelectorAll(ad(k.bulletClass)))}),"custom"!==k.type&&r("paginationRender",W[0])}function E(){t.params.pagination=tR(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const k=t.params.pagination;if(!k.el)return;let L;"string"==typeof k.el&&t.isElement&&(L=t.el.querySelector(k.el)),!L&&"string"==typeof k.el&&(L=[...document.querySelectorAll(k.el)]),L||(L=k.el),L&&0!==L.length&&(t.params.uniqueNavElements&&"string"==typeof k.el&&Array.isArray(L)&&L.length>1&&(L=[...t.el.querySelectorAll(k.el)],L.length>1&&(L=L.filter(W=>jp(W,".swiper")[0]===t.el)[0])),Array.isArray(L)&&1===L.length&&(L=L[0]),Object.assign(t.pagination,{el:L}),L=Zn(L),L.forEach(W=>{"bullets"===k.type&&k.clickable&&W.classList.add(...(k.clickableClass||"").split(" ")),W.classList.add(k.modifierClass+k.type),W.classList.add(t.isHorizontal()?k.horizontalClass:k.verticalClass),"bullets"===k.type&&k.dynamicBullets&&(W.classList.add(`${k.modifierClass}${k.type}-dynamic`),a=0,k.dynamicMainBullets<1&&(k.dynamicMainBullets=1)),"progressbar"===k.type&&k.progressbarOpposite&&W.classList.add(k.progressbarOppositeClass),k.clickable&&W.addEventListener("click",u),t.enabled||W.classList.add(k.lockClass)}))}function I(){const k=t.params.pagination;if(l())return;let L=t.pagination.el;L&&(L=Zn(L),L.forEach(W=>{W.classList.remove(k.hiddenClass),W.classList.remove(k.modifierClass+k.type),W.classList.remove(t.isHorizontal()?k.horizontalClass:k.verticalClass),k.clickable&&(W.classList.remove(...(k.clickableClass||"").split(" ")),W.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(W=>W.classList.remove(...k.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const k=t.params.pagination;let{el:L}=t.pagination;L=Zn(L),L.forEach(W=>{W.classList.remove(k.horizontalClass,k.verticalClass),W.classList.add(t.isHorizontal()?k.horizontalClass:k.verticalClass)})}),i("init",()=>{!1===t.params.pagination.enabled?N():(E(),v(),d())}),i("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),i("snapIndexChange",()=>{d()}),i("snapGridLengthChange",()=>{v(),d()}),i("destroy",()=>{I()}),i("enable disable",()=>{let{el:k}=t.pagination;k&&(k=Zn(k),k.forEach(L=>L.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{d()}),i("click",(k,L)=>{const W=L.target,Z=Zn(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&Z&&Z.length>0&&!W.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&W===t.navigation.nextEl||t.navigation.prevEl&&W===t.navigation.prevEl))return;const ee=Z[0].classList.contains(t.params.pagination.hiddenClass);r(!0===ee?"paginationShow":"paginationHide"),Z.forEach(te=>te.classList.toggle(t.params.pagination.hiddenClass))}});const N=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:k}=t.pagination;k&&(k=Zn(k),k.forEach(L=>L.classList.add(t.params.pagination.paginationDisabledClass))),I()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:k}=t.pagination;k&&(k=Zn(k),k.forEach(L=>L.classList.remove(t.params.pagination.paginationDisabledClass))),E(),v(),d()},disable:N,render:v,update:d,init:E,destroy:I})},function lAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=so();let c,u,d,v,o=!1,a=null,l=null;function E(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ye,rtlTranslate:Se}=t,{dragEl:Re,el:xe}=ye,Ce=t.params.scrollbar;let De=u,tt=(d-u)*(t.params.loop?t.progressLoop:t.progress);Se?(tt=-tt,tt>0?(De=u-tt,tt=0):-tt+u>d&&(De=d+tt)):tt<0?(De=u+tt,tt=0):tt+u>d&&(De=d-tt),t.isHorizontal()?(Re.style.transform=`translate3d(${tt}px, 0, 0)`,Re.style.width=`${De}px`):(Re.style.transform=`translate3d(0px, ${tt}px, 0)`,Re.style.height=`${De}px`),Ce.hide&&(clearTimeout(a),xe.style.opacity=1,a=setTimeout(()=>{xe.style.opacity=0,xe.style.transitionDuration="400ms"},1e3))}function A(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ye}=t,{dragEl:Se,el:Re}=ye;Se.style.width="",Se.style.height="",d=t.isHorizontal()?Re.offsetWidth:Re.offsetHeight,v=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),u="auto"===t.params.scrollbar.dragSize?d*v:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?Se.style.width=`${u}px`:Se.style.height=`${u}px`,Re.style.display=v>=1?"none":"",t.params.scrollbar.hide&&(Re.style.opacity=0),t.params.watchOverflow&&t.enabled&&ye.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function N(ye){return t.isHorizontal()?ye.clientX:ye.clientY}function k(ye){const{scrollbar:Se,rtlTranslate:Re}=t,{el:xe}=Se;let Ce;Ce=(N(ye)-CC(xe)[t.isHorizontal()?"left":"top"]-(null!==c?c:u/2))/(d-u),Ce=Math.max(Math.min(Ce,1),0),Re&&(Ce=1-Ce);const Te=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*Ce;t.updateProgress(Te),t.setTranslate(Te),t.updateActiveIndex(),t.updateSlidesClasses()}function L(ye){const Se=t.params.scrollbar,{scrollbar:Re,wrapperEl:xe}=t,{el:Ce,dragEl:Te}=Re;o=!0,c=ye.target===Te?N(ye)-ye.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,ye.preventDefault(),ye.stopPropagation(),xe.style.transitionDuration="100ms",Te.style.transitionDuration="100ms",k(ye),clearTimeout(l),Ce.style.transitionDuration="0ms",Se.hide&&(Ce.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",ye)}function W(ye){const{scrollbar:Se,wrapperEl:Re}=t,{el:xe,dragEl:Ce}=Se;!o||(ye.preventDefault&&ye.cancelable?ye.preventDefault():ye.returnValue=!1,k(ye),Re.style.transitionDuration="0ms",xe.style.transitionDuration="0ms",Ce.style.transitionDuration="0ms",r("scrollbarDragMove",ye))}function Z(ye){const Se=t.params.scrollbar,{scrollbar:Re,wrapperEl:xe}=t,{el:Ce}=Re;!o||(o=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",xe.style.transitionDuration=""),Se.hide&&(clearTimeout(l),l=Up(()=>{Ce.style.opacity=0,Ce.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",ye),Se.snapOnRelease&&t.slideToClosest())}function ee(ye){const{scrollbar:Se,params:Re}=t,xe=Se.el;if(!xe)return;const Te=!!Re.passiveListeners&&{passive:!1,capture:!1},De=!!Re.passiveListeners&&{passive:!0,capture:!1};if(!xe)return;const tt="on"===ye?"addEventListener":"removeEventListener";xe[tt]("pointerdown",L,Te),s[tt]("pointermove",W,Te),s[tt]("pointerup",Z,De)}function pe(){const{scrollbar:ye,el:Se}=t;t.params.scrollbar=tR(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const Re=t.params.scrollbar;if(!Re.el)return;let xe,Ce;if("string"==typeof Re.el&&t.isElement&&(xe=t.el.querySelector(Re.el)),xe||"string"!=typeof Re.el)xe||(xe=Re.el);else if(xe=s.querySelectorAll(Re.el),!xe.length)return;t.params.uniqueNavElements&&"string"==typeof Re.el&&xe.length>1&&1===Se.querySelectorAll(Re.el).length&&(xe=Se.querySelector(Re.el)),xe.length>0&&(xe=xe[0]),xe.classList.add(t.isHorizontal()?Re.horizontalClass:Re.verticalClass),xe&&(Ce=xe.querySelector(ad(t.params.scrollbar.dragClass)),Ce||(Ce=Ka("div",t.params.scrollbar.dragClass),xe.append(Ce))),Object.assign(ye,{el:xe,dragEl:Ce}),Re.draggable&&function te(){!t.params.scrollbar.el||!t.scrollbar.el||ee("on")}(),xe&&xe.classList[t.enabled?"remove":"add"](...yh(t.params.scrollbar.lockClass))}function le(){const ye=t.params.scrollbar,Se=t.scrollbar.el;Se&&Se.classList.remove(...yh(t.isHorizontal()?ye.horizontalClass:ye.verticalClass)),function ge(){!t.params.scrollbar.el||!t.scrollbar.el||ee("off")}()}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(!t.scrollbar||!t.scrollbar.el)return;const ye=t.params.scrollbar;let{el:Se}=t.scrollbar;Se=Zn(Se),Se.forEach(Re=>{Re.classList.remove(ye.horizontalClass,ye.verticalClass),Re.classList.add(t.isHorizontal()?ye.horizontalClass:ye.verticalClass)})}),i("init",()=>{!1===t.params.scrollbar.enabled?Ie():(pe(),A(),E())}),i("update resize observerUpdate lock unlock changeDirection",()=>{A()}),i("setTranslate",()=>{E()}),i("setTransition",(ye,Se)=>{!function I(ye){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${ye}ms`)}(Se)}),i("enable disable",()=>{const{el:ye}=t.scrollbar;ye&&ye.classList[t.enabled?"remove":"add"](...yh(t.params.scrollbar.lockClass))}),i("destroy",()=>{le()});const Ie=()=>{t.el.classList.add(...yh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...yh(t.params.scrollbar.scrollbarDisabledClass)),le()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...yh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...yh(t.params.scrollbar.scrollbarDisabledClass)),pe(),A(),E()},disable:Ie,updateSize:A,setTranslate:E,init:pe,destroy:le})},function cAe(n){let{swiper:t,extendParams:e,on:i}=n;e({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{const{rtl:u}=t,d=u?-1:1,v=l.getAttribute("data-swiper-parallax")||"0";let E=l.getAttribute("data-swiper-parallax-x"),I=l.getAttribute("data-swiper-parallax-y");const A=l.getAttribute("data-swiper-parallax-scale"),N=l.getAttribute("data-swiper-parallax-opacity"),k=l.getAttribute("data-swiper-parallax-rotate");if(E||I?(E=E||"0",I=I||"0"):t.isHorizontal()?(E=v,I="0"):(I=v,E="0"),E=E.indexOf("%")>=0?parseInt(E,10)*c*d+"%":E*c*d+"px",I=I.indexOf("%")>=0?parseInt(I,10)*c+"%":I*c+"px",null!=N){const W=N-(N-1)*(1-Math.abs(c));l.style.opacity=W}let L=`translate3d(${E}, ${I}, 0px)`;null!=A&&(L+=` scale(${A-(A-1)*(1-Math.abs(c))})`),k&&null!=k&&(L+=` rotate(${k*c*-1}deg)`),l.style.transform=L},o=()=>{const{el:l,slides:c,progress:u,snapGrid:d}=t,E=oo(l,r);t.isElement&&E.push(...oo(t.hostEl,r)),E.forEach(I=>{s(I,u)}),c.forEach((I,A)=>{let N=I.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(N+=Math.ceil(A/2)-u*(d.length-1)),N=Math.min(Math.max(N,-1),1),I.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(k=>{s(k,N)})})};i("beforeInit",()=>{!t.params.parallax.enabled||(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{!t.params.parallax.enabled||o()}),i("setTranslate",()=>{!t.params.parallax.enabled||o()}),i("setTransition",(l,c)=>{!t.params.parallax.enabled||function(l){void 0===l&&(l=t.params.speed);const{el:c,hostEl:u}=t,d=[...c.querySelectorAll(r)];t.isElement&&d.push(...u.querySelectorAll(r)),d.forEach(v=>{let E=parseInt(v.getAttribute("data-swiper-parallax-duration"),10)||l;0===l&&(E=0),v.style.transitionDuration=`${E}ms`})}(c)})},function uAe(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=qr();e({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let l,c,o=1,a=!1;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},v={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},E={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let pe,I=1;function A(){if(u.length<2)return 1;const et=u[0].pageY,Tt=u[1].pageY;return Math.sqrt(ko(u[1].pageX-u[0].pageX,2)+ko(Tt-et,2))}function N(){const Ve=t.params.zoom,et=d.imageWrapEl.getAttribute("data-swiper-zoom")||Ve.maxRatio;return Ve.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth?Math.min(d.imageEl.naturalWidth/d.imageEl.offsetWidth,et):et}function W(Ve){const et=function L(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}();return!!(Ve.target.matches(et)||t.slides.filter(it=>it.contains(Ve.target)).length>0)}function ee(Ve){if("mouse"===Ve.pointerType&&u.splice(0,u.length),!W(Ve))return;const et=t.params.zoom;if(l=!1,c=!1,u.push(Ve),!(u.length<2)){if(l=!0,d.scaleStart=A(),!d.slideEl){d.slideEl=Ve.target.closest(`.${t.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=t.slides[t.activeIndex]);let it=d.slideEl.querySelector(`.${et.containerClass}`);if(it&&(it=it.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=it,d.imageWrapEl=it?jp(d.imageEl,`.${et.containerClass}`)[0]:void 0,!d.imageWrapEl)return void(d.imageEl=void 0);d.maxRatio=N()}if(d.imageEl){const[it,Tt]=function k(){if(u.length<2)return{x:null,y:null};const Ve=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-Ve.x-s.scrollX)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-Ve.y-s.scrollY)/o]}();d.originX=it,d.originY=Tt,d.imageEl.style.transitionDuration="0ms"}a=!0}}function te(Ve){if(!W(Ve))return;const et=t.params.zoom,it=t.zoom,Tt=u.findIndex(yt=>yt.pointerId===Ve.pointerId);Tt>=0&&(u[Tt]=Ve),!(u.length<2)&&(c=!0,d.scaleMove=A(),d.imageEl&&(it.scale=d.scaleMove/d.scaleStart*o,it.scale>d.maxRatio&&(it.scale=d.maxRatio-1+ko(it.scale-d.maxRatio+1,.5)),it.scale<et.minRatio&&(it.scale=et.minRatio+1-ko(et.minRatio-it.scale+1,.5)),d.imageEl.style.transform=`translate3d(0,0,0) scale(${it.scale})`))}function ge(Ve){if(!W(Ve)||"mouse"===Ve.pointerType&&"pointerout"===Ve.type)return;const et=t.params.zoom,it=t.zoom,Tt=u.findIndex(yt=>yt.pointerId===Ve.pointerId);Tt>=0&&u.splice(Tt,1),l&&c&&(l=!1,c=!1,d.imageEl&&(it.scale=Math.max(Math.min(it.scale,d.maxRatio),et.minRatio),d.imageEl.style.transitionDuration=`${t.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${it.scale})`,o=it.scale,a=!1,it.scale>1&&d.slideEl?d.slideEl.classList.add(`${et.zoomedSlideClass}`):it.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${et.zoomedSlideClass}`),1===it.scale&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function le(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function ye(Ve){if(!W(Ve)||!function Z(Ve){const et=`.${t.params.zoom.containerClass}`;return!!(Ve.target.matches(et)||[...t.hostEl.querySelectorAll(et)].filter(it=>it.contains(Ve.target)).length>0)}(Ve))return;const et=t.zoom;if(!d.imageEl||!v.isTouched||!d.slideEl)return;v.isMoved||(v.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,v.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,v.startX=z2(d.imageWrapEl,"x")||0,v.startY=z2(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const Tt=v.height*et.scale;if(v.minX=Math.min(d.slideWidth/2-v.width*et.scale/2,0),v.maxX=-v.minX,v.minY=Math.min(d.slideHeight/2-Tt/2,0),v.maxY=-v.minY,v.touchesCurrent.x=u.length>0?u[0].pageX:Ve.pageX,v.touchesCurrent.y=u.length>0?u[0].pageY:Ve.pageY,Math.max(Math.abs(v.touchesCurrent.x-v.touchesStart.x),Math.abs(v.touchesCurrent.y-v.touchesStart.y))>5&&(t.allowClick=!1),!v.isMoved&&!a){if(t.isHorizontal()&&(Math.floor(v.minX)===Math.floor(v.startX)&&v.touchesCurrent.x<v.touchesStart.x||Math.floor(v.maxX)===Math.floor(v.startX)&&v.touchesCurrent.x>v.touchesStart.x))return v.isTouched=!1,void le();if(!t.isHorizontal()&&(Math.floor(v.minY)===Math.floor(v.startY)&&v.touchesCurrent.y<v.touchesStart.y||Math.floor(v.maxY)===Math.floor(v.startY)&&v.touchesCurrent.y>v.touchesStart.y))return v.isTouched=!1,void le()}Ve.cancelable&&Ve.preventDefault(),Ve.stopPropagation(),function he(){clearTimeout(pe),t.touchEventsData.preventTouchMoveFromPointerMove=!0,pe=setTimeout(()=>{le()})}(),v.isMoved=!0;const kt=(et.scale-o)/(d.maxRatio-t.params.zoom.minRatio),{originX:Vt,originY:Mn}=d;v.currentX=v.touchesCurrent.x-v.touchesStart.x+v.startX+kt*(v.width-2*Vt),v.currentY=v.touchesCurrent.y-v.touchesStart.y+v.startY+kt*(v.height-2*Mn),v.currentX<v.minX&&(v.currentX=v.minX+1-ko(v.minX-v.currentX+1,.8)),v.currentX>v.maxX&&(v.currentX=v.maxX-1+ko(v.currentX-v.maxX+1,.8)),v.currentY<v.minY&&(v.currentY=v.minY+1-ko(v.minY-v.currentY+1,.8)),v.currentY>v.maxY&&(v.currentY=v.maxY-1+ko(v.currentY-v.maxY+1,.8)),E.prevPositionX||(E.prevPositionX=v.touchesCurrent.x),E.prevPositionY||(E.prevPositionY=v.touchesCurrent.y),E.prevTime||(E.prevTime=Date.now()),E.x=(v.touchesCurrent.x-E.prevPositionX)/(Date.now()-E.prevTime)/2,E.y=(v.touchesCurrent.y-E.prevPositionY)/(Date.now()-E.prevTime)/2,Math.abs(v.touchesCurrent.x-E.prevPositionX)<2&&(E.x=0),Math.abs(v.touchesCurrent.y-E.prevPositionY)<2&&(E.y=0),E.prevPositionX=v.touchesCurrent.x,E.prevPositionY=v.touchesCurrent.y,E.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}function Re(){const Ve=t.zoom;d.slideEl&&t.activeIndex!==t.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),Ve.scale=1,o=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function xe(Ve){const et=t.zoom,it=t.params.zoom;if(!d.slideEl){Ve&&Ve.target&&(d.slideEl=Ve.target.closest(`.${t.params.slideClass}, swiper-slide`)),d.slideEl||(d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?oo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex]);let dd=d.slideEl.querySelector(`.${it.containerClass}`);dd&&(dd=dd.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=dd,d.imageWrapEl=dd?jp(d.imageEl,`.${it.containerClass}`)[0]:void 0}if(!d.imageEl||!d.imageWrapEl)return;let Tt,yt,kt,Vt,Mn,ln,Jt,Ft,gn,Zt,ji,An,mn,rs,Ki,tl,Tc,pu;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${it.zoomedSlideClass}`),void 0===v.touchesStart.x&&Ve?(Tt=Ve.pageX,yt=Ve.pageY):(Tt=v.touchesStart.x,yt=v.touchesStart.y);const ss="number"==typeof Ve?Ve:null;1===o&&ss&&(Tt=void 0,yt=void 0);const ud=N();et.scale=ss||ud,o=ss||ud,!Ve||1===o&&ss?(Jt=0,Ft=0):(Tc=d.slideEl.offsetWidth,pu=d.slideEl.offsetHeight,kt=CC(d.slideEl).left+s.scrollX,Vt=CC(d.slideEl).top+s.scrollY,Mn=kt+Tc/2-Tt,ln=Vt+pu/2-yt,gn=d.imageEl.offsetWidth||d.imageEl.clientWidth,Zt=d.imageEl.offsetHeight||d.imageEl.clientHeight,ji=gn*et.scale,An=Zt*et.scale,mn=Math.min(Tc/2-ji/2,0),rs=Math.min(pu/2-An/2,0),Ki=-mn,tl=-rs,Jt=Mn*et.scale,Ft=ln*et.scale,Jt<mn&&(Jt=mn),Jt>Ki&&(Jt=Ki),Ft<rs&&(Ft=rs),Ft>tl&&(Ft=tl)),ss&&1===et.scale&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Jt}px, ${Ft}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${et.scale})`}function Ce(){const Ve=t.zoom,et=t.params.zoom;if(!d.slideEl){d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?oo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex];let it=d.slideEl.querySelector(`.${et.containerClass}`);it&&(it=it.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=it,d.imageWrapEl=it?jp(d.imageEl,`.${et.containerClass}`)[0]:void 0}!d.imageEl||!d.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),Ve.scale=1,o=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${et.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function Te(Ve){const et=t.zoom;et.scale&&1!==et.scale?Ce():xe(Ve)}function De(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function tt(){const Ve=t.zoom;if(Ve.enabled)return;Ve.enabled=!0;const{passiveListener:et,activeListenerWithCapture:it}=De();t.wrapperEl.addEventListener("pointerdown",ee,et),t.wrapperEl.addEventListener("pointermove",te,it),["pointerup","pointercancel","pointerout"].forEach(Tt=>{t.wrapperEl.addEventListener(Tt,ge,et)}),t.wrapperEl.addEventListener("pointermove",ye,it)}function _e(){const Ve=t.zoom;if(!Ve.enabled)return;Ve.enabled=!1;const{passiveListener:et,activeListenerWithCapture:it}=De();t.wrapperEl.removeEventListener("pointerdown",ee,et),t.wrapperEl.removeEventListener("pointermove",te,it),["pointerup","pointercancel","pointerout"].forEach(Tt=>{t.wrapperEl.removeEventListener(Tt,ge,et)}),t.wrapperEl.removeEventListener("pointermove",ye,it)}Object.defineProperty(t.zoom,"scale",{get:()=>I,set(Ve){I!==Ve&&r("zoomChange",Ve,d.imageEl,d.slideEl),I=Ve}}),i("init",()=>{t.params.zoom.enabled&&tt()}),i("destroy",()=>{_e()}),i("touchStart",(Ve,et)=>{!t.zoom.enabled||function Ie(Ve){if(!d.imageEl||v.isTouched)return;t.device.android&&Ve.cancelable&&Ve.preventDefault(),v.isTouched=!0;const it=u.length>0?u[0]:Ve;v.touchesStart.x=it.pageX,v.touchesStart.y=it.pageY}(et)}),i("touchEnd",(Ve,et)=>{!t.zoom.enabled||function Se(){const Ve=t.zoom;if(!d.imageEl)return;if(!v.isTouched||!v.isMoved)return v.isTouched=!1,void(v.isMoved=!1);v.isTouched=!1,v.isMoved=!1;let et=300,it=300;const yt=v.currentX+E.x*et,Vt=v.currentY+E.y*it;0!==E.x&&(et=Math.abs((yt-v.currentX)/E.x)),0!==E.y&&(it=Math.abs((Vt-v.currentY)/E.y));const Mn=Math.max(et,it);v.currentX=yt,v.currentY=Vt;const Jt=v.height*Ve.scale;v.minX=Math.min(d.slideWidth/2-v.width*Ve.scale/2,0),v.maxX=-v.minX,v.minY=Math.min(d.slideHeight/2-Jt/2,0),v.maxY=-v.minY,v.currentX=Math.max(Math.min(v.currentX,v.maxX),v.minX),v.currentY=Math.max(Math.min(v.currentY,v.maxY),v.minY),d.imageWrapEl.style.transitionDuration=`${Mn}ms`,d.imageWrapEl.style.transform=`translate3d(${v.currentX}px, ${v.currentY}px,0)`}()}),i("doubleTap",(Ve,et)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&Te(et)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&Re()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&Re()}),Object.assign(t.zoom,{enable:tt,disable:_e,in:xe,out:Ce,toggle:Te})},function dAe(n){let{swiper:t,extendParams:e,on:i}=n;function r(c,u){const d=function(){let A,N,k;return(L,W)=>{for(N=-1,A=L.length;A-N>1;)k=A+N>>1,L[k]<=W?N=k:A=k;return A}}();let v,E;return this.x=c,this.y=u,this.lastIndex=c.length-1,this.interpolate=function(A){return A?(E=d(this.x,A),v=E-1,(A-this.x[v])*(this.y[E]-this.y[v])/(this.x[E]-this.x[v])+this.y[v]):0},this}function l(){!t.controller.control||t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},i("beforeInit",()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const c=document.querySelector(t.params.controller.control);if(c&&c.swiper)t.controller.control=c.swiper;else if(c){const u=d=>{t.controller.control=d.detail[0],t.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}}else t.controller.control=t.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(u,d)}),Object.assign(t.controller,{setTranslate:function o(c,u){const d=t.controller.control;let v,E;const I=t.constructor;function A(N){if(N.destroyed)return;const k=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function s(c){t.controller.spline=t.params.loop?new r(t.slidesGrid,c.slidesGrid):new r(t.snapGrid,c.snapGrid)}(N),E=-t.controller.spline.interpolate(-k)),(!E||"container"===t.params.controller.by)&&(v=(N.maxTranslate()-N.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(v)||!Number.isFinite(v))&&(v=1),E=(k-t.minTranslate())*v+N.minTranslate()),t.params.controller.inverse&&(E=N.maxTranslate()-E),N.updateProgress(E),N.setTranslate(E,t),N.updateActiveIndex(),N.updateSlidesClasses()}if(Array.isArray(d))for(let N=0;N<d.length;N+=1)d[N]!==u&&d[N]instanceof I&&A(d[N]);else d instanceof I&&u!==d&&A(d)},setTransition:function a(c,u){const d=t.constructor,v=t.controller.control;let E;function I(A){A.destroyed||(A.setTransition(c,t),0!==c&&(A.transitionStart(),A.params.autoHeight&&Up(()=>{A.updateAutoHeight()}),Ry(A.wrapperEl,()=>{!v||A.transitionEnd()})))}if(Array.isArray(v))for(E=0;E<v.length;E+=1)v[E]!==u&&v[E]instanceof d&&I(v[E]);else v instanceof d&&u!==v&&I(v)}})},function hAe(n){let{swiper:t,extendParams:e,on:i}=n;e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let s,o,r=null,a=(new Date).getTime();function l(Te){const De=r;0!==De.length&&(De.innerHTML="",De.innerHTML=Te)}function u(Te){(Te=Zn(Te)).forEach(De=>{De.setAttribute("tabIndex","0")})}function d(Te){(Te=Zn(Te)).forEach(De=>{De.setAttribute("tabIndex","-1")})}function v(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("role",De)})}function E(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("aria-roledescription",De)})}function A(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("aria-label",De)})}function L(Te){(Te=Zn(Te)).forEach(De=>{De.setAttribute("aria-disabled",!0)})}function W(Te){(Te=Zn(Te)).forEach(De=>{De.setAttribute("aria-disabled",!1)})}function Z(Te){if(13!==Te.keyCode&&32!==Te.keyCode)return;const De=t.params.a11y,tt=Te.target;if(!t.pagination||!t.pagination.el||tt!==t.pagination.el&&!t.pagination.el.contains(Te.target)||Te.target.matches(ad(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const _e=Zn(t.navigation.prevEl);Zn(t.navigation.nextEl).includes(tt)&&(t.isEnd&&!t.params.loop||t.slideNext(),l(t.isEnd?De.lastSlideMessage:De.nextSlideMessage)),_e.includes(tt)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),l(t.isBeginning?De.firstSlideMessage:De.prevSlideMessage))}t.pagination&&tt.matches(ad(t.params.pagination.bulletClass))&&tt.click()}}function te(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function ge(){return te()&&t.params.pagination.clickable}const le=(Te,De,tt)=>{u(Te),"BUTTON"!==Te.tagName&&(v(Te,"button"),Te.addEventListener("keydown",Z)),A(Te,tt),function I(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("aria-controls",De)})}(Te,De)},he=Te=>{o&&o!==Te.target&&!o.contains(Te.target)&&(s=!0),t.a11y.clicked=!0},Ie=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},ye=Te=>{a=(new Date).getTime()},Se=Te=>{if(t.a11y.clicked||(new Date).getTime()-a<100)return;const De=Te.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!De||!t.slides.includes(De))return;o=De;const tt=t.slides.indexOf(De)===t.activeIndex,_e=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(De);tt||_e||Te.sourceCapabilities&&Te.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{s||(t.params.loop?t.slideToLoop(parseInt(De.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(De),0),s=!1)}))},Re=()=>{const Te=t.params.a11y;Te.itemRoleDescriptionMessage&&E(t.slides,Te.itemRoleDescriptionMessage),Te.slideRole&&v(t.slides,Te.slideRole);const De=t.slides.length;Te.slideLabelMessage&&t.slides.forEach((tt,_e)=>{const Ve=t.params.loop?parseInt(tt.getAttribute("data-swiper-slide-index"),10):_e;A(tt,Te.slideLabelMessage.replace(/\{\{index\}\}/,Ve+1).replace(/\{\{slidesLength\}\}/,De))})};i("beforeInit",()=>{r=Ka("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{!t.params.a11y.enabled||(()=>{const Te=t.params.a11y;t.el.append(r);const De=t.el;Te.containerRoleDescriptionMessage&&E(De,Te.containerRoleDescriptionMessage),Te.containerMessage&&A(De,Te.containerMessage);const tt=t.wrapperEl,_e=Te.id||tt.getAttribute("id")||`swiper-wrapper-${function c(Te){return void 0===Te&&(Te=16),"x".repeat(Te).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Ve=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";(function N(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("id",De)})})(tt,_e),function k(Te,De){(Te=Zn(Te)).forEach(tt=>{tt.setAttribute("aria-live",De)})}(tt,Ve),Re();let{nextEl:et,prevEl:it}=t.navigation?t.navigation:{};et=Zn(et),it=Zn(it),et&&et.forEach(yt=>le(yt,_e,Te.nextSlideMessage)),it&&it.forEach(yt=>le(yt,_e,Te.prevSlideMessage)),ge()&&Zn(t.pagination.el).forEach(kt=>{kt.addEventListener("keydown",Z)}),so().addEventListener("visibilitychange",ye),t.el.addEventListener("focus",Se,!0),t.el.addEventListener("focus",Se,!0),t.el.addEventListener("pointerdown",he,!0),t.el.addEventListener("pointerup",Ie,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!t.params.a11y.enabled||Re()}),i("fromEdge toEdge afterInit lock unlock",()=>{!t.params.a11y.enabled||function ee(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:Te,prevEl:De}=t.navigation;De&&(t.isBeginning?(L(De),d(De)):(W(De),u(De))),Te&&(t.isEnd?(L(Te),d(Te)):(W(Te),u(Te)))}()}),i("paginationUpdate",()=>{!t.params.a11y.enabled||function pe(){const Te=t.params.a11y;!te()||t.pagination.bullets.forEach(De=>{t.params.pagination.clickable&&(u(De),t.params.pagination.renderBullet||(v(De,"button"),A(De,Te.paginationBulletMessage.replace(/\{\{index\}\}/,Ay(De)+1)))),De.matches(ad(t.params.pagination.bulletActiveClass))?De.setAttribute("aria-current","true"):De.removeAttribute("aria-current")})}()}),i("destroy",()=>{!t.params.a11y.enabled||function Ce(){r&&r.remove();let{nextEl:Te,prevEl:De}=t.navigation?t.navigation:{};Te=Zn(Te),De=Zn(De),Te&&Te.forEach(_e=>_e.removeEventListener("keydown",Z)),De&&De.forEach(_e=>_e.removeEventListener("keydown",Z)),ge()&&Zn(t.pagination.el).forEach(Ve=>{Ve.removeEventListener("keydown",Z)}),so().removeEventListener("visibilitychange",ye),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",Se,!0),t.el.removeEventListener("pointerdown",he,!0),t.el.removeEventListener("pointerup",Ie,!0))}()})},function fAe(n){let{swiper:t,extendParams:e,on:i}=n;e({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=E=>E.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=E=>{const I=qr();let A;A=E?new URL(E):I.location;const N=A.pathname.slice(1).split("/").filter(Z=>""!==Z),k=N.length;return{key:N[k-2],value:N[k-1]}},l=(E,I)=>{const A=qr();if(!r||!t.params.history.enabled)return;let N;N=t.params.url?new URL(t.params.url):A.location;const k=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${I}"]`):t.slides[I];let L=o(k.getAttribute("data-history"));if(t.params.history.root.length>0){let Z=t.params.history.root;"/"===Z[Z.length-1]&&(Z=Z.slice(0,Z.length-1)),L=`${Z}/${E?`${E}/`:""}${L}`}else N.pathname.includes(E)||(L=`${E?`${E}/`:""}${L}`);t.params.history.keepQuery&&(L+=N.search);const W=A.history.state;W&&W.value===L||(t.params.history.replaceState?A.history.replaceState({value:L},null,L):A.history.pushState({value:L},null,L))},c=(E,I,A)=>{if(I)for(let N=0,k=t.slides.length;N<k;N+=1){const L=t.slides[N];if(o(L.getAttribute("data-history"))===I){const Z=t.getSlideIndex(L);t.slideTo(Z,E,A)}}else t.slideTo(0,E,A)},u=()=>{s=a(t.params.url),c(t.params.speed,s.value,!1)};i("init",()=>{t.params.history.enabled&&(()=>{const E=qr();if(t.params.history){if(!E.history||!E.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);if(r=!0,s=a(t.params.url),!s.key&&!s.value)return void(t.params.history.replaceState||E.addEventListener("popstate",u));c(0,s.value,t.params.runCallbacksOnInit),t.params.history.replaceState||E.addEventListener("popstate",u)}})()}),i("destroy",()=>{t.params.history.enabled&&(()=>{const E=qr();t.params.history.replaceState||E.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{r&&t.params.cssMode&&l(t.params.history.key,t.activeIndex)})},function pAe(n){let{swiper:t,extendParams:e,emit:i,on:r}=n,s=!1;const o=so(),a=qr();e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(v,E){if(t.virtual&&t.params.virtual.enabled){const I=t.slides.filter(N=>N.getAttribute("data-hash")===E)[0];return I?parseInt(I.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(oo(t.slidesEl,`.${t.params.slideClass}[data-hash="${E}"], swiper-slide[data-hash="${E}"]`)[0])}}});const l=()=>{i("hashChange");const v=o.location.hash.replace("#",""),E=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(v!==(E?E.getAttribute("data-hash"):"")){const A=t.params.hashNavigation.getSlideIndex(t,v);if(void 0===A||Number.isNaN(A))return;t.slideTo(A)}},c=()=>{if(!s||!t.params.hashNavigation.enabled)return;const v=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],E=v?v.getAttribute("data-hash")||v.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${E}`||""),i("hashSet")):(o.location.hash=E||"",i("hashSet"))};r("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;s=!0;const v=o.location.hash.replace("#","");if(v){const I=t.params.hashNavigation.getSlideIndex(t,v);t.slideTo(I||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)})()}),r("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),r("slideChange",()=>{s&&t.params.cssMode&&c()})},function gAe(n){let{swiper:t,extendParams:e,on:i,emit:r,params:s}=n;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,u,v,E,I,A,N,k,L,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d=(new Date).getTime();function W(De){!t||t.destroyed||!t.wrapperEl||De.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",W),!(L||De.detail&&De.detail.bySwiperTouchMove)&&he())}const Z=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?v=!0:v&&(c=u,v=!1);const De=t.autoplay.paused?u:d+c-(new Date).getTime();t.autoplay.timeLeft=De,r("autoplayTimeLeft",De,De/l),a=requestAnimationFrame(()=>{Z()})},te=De=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),Z();let tt=void 0===De?t.params.autoplay.delay:De;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const _e=(()=>{let De;return De=t.virtual&&t.params.virtual.enabled?t.slides.filter(_e=>_e.classList.contains("swiper-slide-active"))[0]:t.slides[t.activeIndex],De?parseInt(De.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(_e)&&_e>0&&void 0===De&&(tt=_e,l=_e,c=_e),u=tt;const Ve=t.params.speed,et=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Ve,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Ve,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Ve,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Ve,!0,!0),r("autoplay")),t.params.cssMode&&(d=(new Date).getTime(),requestAnimationFrame(()=>{te()})))};return tt>0?(clearTimeout(o),o=setTimeout(()=>{et()},tt)):requestAnimationFrame(()=>{et()}),tt},ge=()=>{d=(new Date).getTime(),t.autoplay.running=!0,te(),r("autoplayStart")},pe=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},le=(De,tt)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),De||(k=!0);const _e=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",W):he()};if(t.autoplay.paused=!0,tt)return N&&(u=t.params.autoplay.delay),N=!1,void _e();u=(u||t.params.autoplay.delay)-((new Date).getTime()-d),(!(t.isEnd&&u<0)||t.params.loop)&&(u<0&&(u=0),_e())},he=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=(new Date).getTime(),k?(k=!1,te(u)):te(),t.autoplay.paused=!1,r("autoplayResume"))},Ie=()=>{if(t.destroyed||!t.autoplay.running)return;const De=so();"hidden"===De.visibilityState&&(k=!0,le(!0)),"visible"===De.visibilityState&&he()},ye=De=>{"mouse"===De.pointerType&&(k=!0,L=!0,!t.animating&&!t.autoplay.paused&&le(!0))},Se=De=>{"mouse"===De.pointerType&&(L=!1,t.autoplay.paused&&he())};i("init",()=>{t.params.autoplay.enabled&&(t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",ye),t.el.addEventListener("pointerleave",Se)),so().addEventListener("visibilitychange",Ie),ge())}),i("destroy",()=>{t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("pointerenter",ye),t.el.removeEventListener("pointerleave",Se)),so().removeEventListener("visibilitychange",Ie),t.autoplay.running&&pe()}),i("_freeModeStaticRelease",()=>{(I||k)&&he()}),i("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?pe():le(!0,!0)}),i("beforeTransitionStart",(De,tt,_e)=>{t.destroyed||!t.autoplay.running||(_e||!t.params.autoplay.disableOnInteraction?le(!0,!0):pe())}),i("sliderFirstMove",()=>{if(!t.destroyed&&t.autoplay.running){if(t.params.autoplay.disableOnInteraction)return void pe();E=!0,I=!1,k=!1,A=setTimeout(()=>{k=!0,I=!0,le(!0)},200)}}),i("touchEnd",()=>{if(!t.destroyed&&t.autoplay.running&&E){if(clearTimeout(A),clearTimeout(o),t.params.autoplay.disableOnInteraction)return I=!1,void(E=!1);I&&t.params.cssMode&&he(),I=!1,E=!1}}),i("slideChange",()=>{t.destroyed||!t.autoplay.running||(N=!0)}),Object.assign(t.autoplay,{start:ge,stop:pe,pause:le,resume:he})},function _Ae(n){let{swiper:t,extendParams:e,on:i}=n;e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;function o(){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(t.params.thumbs.slideThumbActiveClass)||null==u)return;let v;v=c.params.loop?parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):u,t.params.loop?t.slideToLoop(v):t.slideTo(v)}function a(){const{thumbs:c}=t.params;if(r)return!1;r=!0;const u=t.constructor;if(c.swiper instanceof u)t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(xy(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new u(d),s=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function l(c){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const d="auto"===u.params.slidesPerView?u.slidesPerViewDynamic():u.params.slidesPerView;let v=1;const E=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(v=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(v=1),v=Math.floor(v),u.slides.forEach(N=>N.classList.remove(E)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let N=0;N<v;N+=1)oo(u.slidesEl,`[data-swiper-slide-index="${t.realIndex+N}"]`).forEach(k=>{k.classList.add(E)});else for(let N=0;N<v;N+=1)u.slides[t.realIndex+N]&&u.slides[t.realIndex+N].classList.add(E);const I=t.params.thumbs.autoScrollOffset,A=I&&!u.params.loop;if(t.realIndex!==u.realIndex||A){const N=u.activeIndex;let k,L;if(u.params.loop){const W=u.slides.filter(Z=>Z.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];k=u.slides.indexOf(W),L=t.activeIndex>t.previousIndex?"next":"prev"}else k=t.realIndex,L=k>t.previousIndex?"next":"prev";A&&(k+="next"===L?I:-1*I),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(k)<0&&(u.params.centeredSlides&&(k=k>N?k-Math.floor(d/2)+1:k+Math.floor(d/2)-1),u.slideTo(k,c?0:void 0))}}t.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:c}=t.params;if(c&&c.swiper)if("string"==typeof c.swiper||c.swiper instanceof HTMLElement){const u=so(),d=()=>{const E="string"==typeof c.swiper?u.querySelector(c.swiper):c.swiper;if(E&&E.swiper)c.swiper=E.swiper,a(),l(!0);else if(E){const I=A=>{c.swiper=A.detail[0],E.removeEventListener("init",I),a(),l(!0),c.swiper.update(),t.update()};E.addEventListener("init",I)}return E},v=()=>{t.destroyed||d()||requestAnimationFrame(v)};requestAnimationFrame(v)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=t.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=t.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(t.thumbs,{init:a,update:l})},function mAe(n){let{swiper:t,extendParams:e,emit:i,once:r}=n;e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function s(){if(t.params.cssMode)return;const l=t.getTranslate();t.setTranslate(l),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function o(){if(t.params.cssMode)return;const{touchEventsData:l,touches:c}=t;0===l.velocities.length&&l.velocities.push({position:c[t.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[t.isHorizontal()?"currentX":"currentY"],time:Nl()})},onTouchEnd:function a(l){let{currentPos:c}=l;if(t.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:v,snapGrid:E,touchEventsData:I}=t,N=Nl()-I.touchStartTime;if(c<-t.minTranslate())t.slideTo(t.activeIndex);else if(c>-t.maxTranslate())t.slideTo(t.slides.length<E.length?E.length-1:t.slides.length-1);else{if(u.freeMode.momentum){if(I.velocities.length>1){const pe=I.velocities.pop(),le=I.velocities.pop(),Ie=pe.time-le.time;t.velocity=(pe.position-le.position)/Ie,t.velocity/=2,Math.abs(t.velocity)<u.freeMode.minimumVelocity&&(t.velocity=0),(Ie>150||Nl()-pe.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=u.freeMode.momentumVelocityRatio,I.velocities.length=0;let k=1e3*u.freeMode.momentumRatio,W=t.translate+t.velocity*k;v&&(W=-W);let ee,Z=!1;const te=20*Math.abs(t.velocity)*u.freeMode.momentumBounceRatio;let ge;if(W<t.maxTranslate())u.freeMode.momentumBounce?(W+t.maxTranslate()<-te&&(W=t.maxTranslate()-te),ee=t.maxTranslate(),Z=!0,I.allowMomentumBounce=!0):W=t.maxTranslate(),u.loop&&u.centeredSlides&&(ge=!0);else if(W>t.minTranslate())u.freeMode.momentumBounce?(W-t.minTranslate()>te&&(W=t.minTranslate()+te),ee=t.minTranslate(),Z=!0,I.allowMomentumBounce=!0):W=t.minTranslate(),u.loop&&u.centeredSlides&&(ge=!0);else if(u.freeMode.sticky){let pe;for(let le=0;le<E.length;le+=1)if(E[le]>-W){pe=le;break}W=Math.abs(E[pe]-W)<Math.abs(E[pe-1]-W)||"next"===t.swipeDirection?E[pe]:E[pe-1],W=-W}if(ge&&r("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(k=v?Math.abs((-W-t.translate)/t.velocity):Math.abs((W-t.translate)/t.velocity),u.freeMode.sticky){const pe=Math.abs((v?-W:W)-t.translate),le=t.slidesSizesGrid[t.activeIndex];k=pe<le?u.speed:pe<2*le?1.5*u.speed:2.5*u.speed}}else if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode.momentumBounce&&Z?(t.updateProgress(ee),t.setTransition(k),t.setTranslate(W),t.transitionStart(!0,t.swipeDirection),t.animating=!0,Ry(d,()=>{!t||t.destroyed||!I.allowMomentumBounce||(i("momentumBounce"),t.setTransition(u.speed),setTimeout(()=>{t.setTranslate(ee),Ry(d,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(W),t.setTransition(k),t.setTranslate(W),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,Ry(d,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(W),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode&&i("_freeModeNoMomentumRelease")}(!u.freeMode.momentum||N>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function vAe(n){let r,s,o,a,{swiper:t,extendParams:e,on:i}=n;e({grid:{rows:1,fill:"column"}});const l=()=>{let A=t.params.spaceBetween;return"string"==typeof A&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*t.size:"string"==typeof A&&(A=parseFloat(A)),A};i("init",()=>{a=t.params.grid&&t.params.grid.rows>1}),i("update",()=>{const{params:A,el:N}=t,k=A.grid&&A.grid.rows>1;a&&!k?(N.classList.remove(`${A.containerModifierClass}grid`,`${A.containerModifierClass}grid-column`),o=1,t.emitContainerClasses()):!a&&k&&(N.classList.add(`${A.containerModifierClass}grid`),"column"===A.grid.fill&&N.classList.add(`${A.containerModifierClass}grid-column`),t.emitContainerClasses()),a=k}),t.grid={initSlides:A=>{const{slidesPerView:N}=t.params,{rows:k,fill:L}=t.params.grid,W=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:A.length;o=Math.floor(W/k),r=Math.floor(W/k)===W/k?W:Math.ceil(W/k)*k,"auto"!==N&&"row"===L&&(r=Math.max(r,N*k)),s=r/k},unsetSlides:()=>{t.slides&&t.slides.forEach(A=>{A.swiperSlideGridSet&&(A.style.height="",A.style[t.getDirectionLabel("margin-top")]="")})},updateSlide:(A,N,k)=>{const{slidesPerGroup:L}=t.params,W=l(),{rows:Z,fill:ee}=t.params.grid,te=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:k.length;let ge,pe,le;if("row"===ee&&L>1){const he=Math.floor(A/(L*Z)),Ie=A-Z*L*he,ye=0===he?L:Math.min(Math.ceil((te-he*Z*L)/Z),L);le=Math.floor(Ie/ye),pe=Ie-le*ye+he*L,ge=pe+le*r/Z,N.style.order=ge}else"column"===ee?(pe=Math.floor(A/Z),le=A-pe*Z,(pe>o||pe===o&&le===Z-1)&&(le+=1,le>=Z&&(le=0,pe+=1))):(le=Math.floor(A/s),pe=A-le*s);N.row=le,N.column=pe,N.style.height=`calc((100% - ${(Z-1)*W}px) / ${Z})`,N.style[t.getDirectionLabel("margin-top")]=0!==le?W&&`${W}px`:"",N.swiperSlideGridSet=!0},updateWrapperSize:(A,N)=>{const{centeredSlides:k,roundLengths:L}=t.params,W=l(),{rows:Z}=t.params.grid;if(t.virtualSize=(A+W)*r,t.virtualSize=Math.ceil(t.virtualSize/Z)-W,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+W}px`),k){const ee=[];for(let te=0;te<N.length;te+=1){let ge=N[te];L&&(ge=Math.floor(ge)),N[te]<t.virtualSize+N[0]&&ee.push(ge)}N.splice(0,N.length),N.push(...ee)}}}},function TAe(n){let{swiper:t}=n;Object.assign(t,{appendSlide:yAe.bind(t),prependSlide:bAe.bind(t),addSlide:SAe.bind(t),removeSlide:EAe.bind(t),removeAllSlides:CAe.bind(t)})},function wAe(n){let{swiper:t,extendParams:e,on:i}=n;e({fadeEffect:{crossFade:!1}}),Em({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:o}=t;for(let l=0;l<o.length;l+=1){const c=t.slides[l];let d=-c.swiperSlideOffset;t.params.virtualTranslate||(d-=t.translate);let v=0;t.isHorizontal()||(v=d,d=0);const E=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),I=Dy(0,c);I.style.opacity=E,I.style.transform=`translate3d(${d}px, ${v}px, 0px)`}},setTransition:o=>{const a=t.slides.map(l=>Gp(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),wC({swiper:t,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function MAe(n){let{swiper:t,extendParams:e,on:i}=n;e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=l.querySelector(u?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),v=l.querySelector(u?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");d||(d=Ka("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"left":"top")).split(" ")),l.append(d)),v||(v=Ka("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"right":"bottom")).split(" ")),l.append(v)),d&&(d.style.opacity=Math.max(-c,0)),v&&(v.style.opacity=Math.max(c,0))};Em({effect:"cube",swiper:t,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:v,rtlTranslate:E,size:I,browser:A}=t,N=t.params.cubeEffect,k=t.isHorizontal(),L=t.virtual&&t.params.virtual.enabled;let Z,W=0;N.shadow&&(k?(Z=t.wrapperEl.querySelector(".swiper-cube-shadow"),Z||(Z=Ka("div","swiper-cube-shadow"),t.wrapperEl.append(Z)),Z.style.height=`${d}px`):(Z=l.querySelector(".swiper-cube-shadow"),Z||(Z=Ka("div","swiper-cube-shadow"),l.append(Z))));for(let te=0;te<u.length;te+=1){const ge=u[te];let pe=te;L&&(pe=parseInt(ge.getAttribute("data-swiper-slide-index"),10));let le=90*pe,he=Math.floor(le/360);E&&(le=-le,he=Math.floor(-le/360));const Ie=Math.max(Math.min(ge.progress,1),-1);let ye=0,Se=0,Re=0;pe%4==0?(ye=4*-he*I,Re=0):(pe-1)%4==0?(ye=0,Re=4*-he*I):(pe-2)%4==0?(ye=I+4*he*I,Re=I):(pe-3)%4==0&&(ye=-I,Re=3*I+4*I*he),E&&(ye=-ye),k||(Se=ye,ye=0);const xe=`rotateX(${k?0:-le}deg) rotateY(${k?le:0}deg) translate3d(${ye}px, ${Se}px, ${Re}px)`;Ie<=1&&Ie>-1&&(W=90*pe+90*Ie,E&&(W=90*-pe-90*Ie),t.browser&&t.browser.need3dFix&&Math.abs(W)/90%2==1&&(W+=.001)),ge.style.transform=xe,N.slideShadows&&r(ge,Ie,k)}if(c.style.transformOrigin=`50% 50% -${I/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${I/2}px`,N.shadow)if(k)Z.style.transform=`translate3d(0px, ${d/2+N.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${N.shadowScale})`;else{const te=Math.abs(W)-90*Math.floor(Math.abs(W)/90),ge=1.5-(Math.sin(2*te*Math.PI/360)/2+Math.cos(2*te*Math.PI/360)/2),le=N.shadowScale/ge;Z.style.transform=`scale3d(${N.shadowScale}, 1, ${le}) translate3d(0px, ${v/2+N.shadowOffset}px, ${-v/2/le}px) rotateX(-89.99deg)`}const ee=(A.isSafari||A.isWebView)&&A.needPerspectiveFix?-I/2:0;c.style.transform=`translate3d(0px,0,${ee}px) rotateX(${t.isHorizontal()?0:W}deg) rotateY(${t.isHorizontal()?-W:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${ee}px`)},setTransition:l=>{const{el:c,slides:u}=t;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(v=>{v.style.transitionDuration=`${l}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=t.isHorizontal();t.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function OAe(n){let{swiper:t,extendParams:e,on:i}=n;e({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,c)=>{let u=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=Cm("flip",l,t.isHorizontal()?"left":"top")),d||(d=Cm("flip",l,t.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};Em({effect:"flip",swiper:t,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=t,u=t.params.flipEffect;for(let d=0;d<l.length;d+=1){const v=l[d];let E=v.progress;t.params.flipEffect.limitRotation&&(E=Math.max(Math.min(v.progress,1),-1));const I=v.swiperSlideOffset;let N=-180*E,k=0,L=t.params.cssMode?-I-t.translate:-I,W=0;t.isHorizontal()?c&&(N=-N):(W=L,L=0,k=-N,N=0),t.browser&&t.browser.need3dFix&&(Math.abs(N)/90%2==1&&(N+=.001),Math.abs(k)/90%2==1&&(k+=.001)),v.style.zIndex=-Math.abs(Math.round(E))+l.length,u.slideShadows&&r(v,E);const Z=`translate3d(${L}px, ${W}px, 0px) rotateX(${k}deg) rotateY(${N}deg)`;Dy(0,v).style.transform=Z}},setTransition:l=>{const c=t.slides.map(u=>Gp(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),wC({swiper:t,duration:l,transformElements:c})},recreateShadows:()=>{t.slides.forEach(l=>{let c=l.progress;t.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function PAe(n){let{swiper:t,extendParams:e,on:i}=n;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Em({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=t,u=t.params.coverflowEffect,d=t.isHorizontal(),v=t.translate,E=d?o/2-v:a/2-v,I=d?u.rotate:-u.rotate,A=u.depth;for(let N=0,k=l.length;N<k;N+=1){const L=l[N],W=c[N],ee=(E-L.swiperSlideOffset-W/2)/W,te="function"==typeof u.modifier?u.modifier(ee):ee*u.modifier;let ge=d?I*te:0,pe=d?0:I*te,le=-A*Math.abs(te),he=u.stretch;"string"==typeof he&&-1!==he.indexOf("%")&&(he=parseFloat(u.stretch)/100*W);let Ie=d?0:he*te,ye=d?he*te:0,Se=1-(1-u.scale)*Math.abs(te);Math.abs(ye)<.001&&(ye=0),Math.abs(Ie)<.001&&(Ie=0),Math.abs(le)<.001&&(le=0),Math.abs(ge)<.001&&(ge=0),Math.abs(pe)<.001&&(pe=0),Math.abs(Se)<.001&&(Se=0),t.browser&&t.browser.need3dFix&&(Math.abs(ge)/90%2==1&&(ge+=.001),Math.abs(pe)/90%2==1&&(pe+=.001));const Re=`translate3d(${ye}px,${Ie}px,${le}px)  rotateX(${pe}deg) rotateY(${ge}deg) scale(${Se})`;if(Dy(0,L).style.transform=Re,L.style.zIndex=1-Math.abs(Math.round(te)),u.slideShadows){let Ce=L.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Te=L.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");Ce||(Ce=Cm("coverflow",L,d?"left":"top")),Te||(Te=Cm("coverflow",L,d?"right":"bottom")),Ce&&(Ce.style.opacity=te>0?te:0),Te&&(Te.style.opacity=-te>0?-te:0)}}},setTransition:o=>{t.slides.map(l=>Gp(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function xAe(n){let{swiper:t,extendParams:e,on:i}=n;e({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>"string"==typeof a?a:`${a}px`;Em({effect:"creative",swiper:t,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=t,u=t.params.creativeEffect,{progressMultiplier:d}=u,v=t.params.centeredSlides;v&&(l.style.transform=`translateX(calc(50% - ${c[0]/2-t.params.slidesOffsetBefore||0}px))`);for(let E=0;E<a.length;E+=1){const I=a[E],A=I.progress,N=Math.min(Math.max(I.progress,-u.limitProgress),u.limitProgress);let k=N;v||(k=Math.min(Math.max(I.originalProgress,-u.limitProgress),u.limitProgress));const L=I.swiperSlideOffset,W=[t.params.cssMode?-L-t.translate:-L,0,0],Z=[0,0,0];let ee=!1;t.isHorizontal()||(W[1]=W[0],W[0]=0);let te={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};N<0?(te=u.next,ee=!0):N>0&&(te=u.prev,ee=!0),W.forEach((Se,Re)=>{W[Re]=`calc(${Se}px + (${r(te.translate[Re])} * ${Math.abs(N*d)}))`}),Z.forEach((Se,Re)=>{let xe=te.rotate[Re]*Math.abs(N*d);t.browser&&t.browser.need3dFix&&Math.abs(xe)/90%2==1&&(xe+=.001),Z[Re]=xe}),I.style.zIndex=-Math.abs(Math.round(A))+a.length;const ge=W.join(", "),he=k<0?1+(1-te.opacity)*k*d:1-(1-te.opacity)*k*d,Ie=`translate3d(${ge}) rotateX(${Z[0]}deg) rotateY(${Z[1]}deg) rotateZ(${Z[2]}deg) ${k<0?`scale(${1+(1-te.scale)*k*d})`:`scale(${1-(1-te.scale)*k*d})`}`;if(ee&&te.shadow||!ee){let Se=I.querySelector(".swiper-slide-shadow");!Se&&te.shadow&&(Se=Cm("creative",I)),Se&&(Se.style.opacity=Math.min(Math.max(Math.abs(u.shadowPerProgress?N*(1/u.limitProgress):N),0),1))}const ye=Dy(0,I);ye.style.transform=Ie,ye.style.opacity=he,te.origin&&(ye.style.transformOrigin=te.origin)}},setTransition:a=>{const l=t.slides.map(c=>Gp(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),wC({swiper:t,duration:a,transformElements:l,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function IAe(n){let{swiper:t,extendParams:e,on:i}=n;e({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Em({effect:"cards",swiper:t,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=t,c=t.params.cardsEffect,{startTranslate:u,isTouched:d}=t.touchEventsData,v=l?-t.translate:t.translate;for(let E=0;E<o.length;E+=1){const I=o[E],A=I.progress,N=Math.min(Math.max(A,-4),4);let k=I.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(k-=o[0].swiperSlideOffset);let L=t.params.cssMode?-k-t.translate:-k,W=0;const Z=-100*Math.abs(N);let ee=1,te=-c.perSlideRotate*N,ge=c.perSlideOffset-.75*Math.abs(N);const pe=t.virtual&&t.params.virtual.enabled?t.virtual.from+E:E,he=(pe===a||pe===a+1)&&N<0&&N>-1&&(d||t.params.cssMode)&&v>u;if((pe===a||pe===a-1)&&N>0&&N<1&&(d||t.params.cssMode)&&v<u||he){const Re=ko(1-Math.abs((Math.abs(N)-.5)/.5),.5);te+=-28*N*Re,ee+=-.5*Re,ge+=96*Re,W=-25*Re*Math.abs(N)+"%"}if(L=N<0?`calc(${L}px ${l?"-":"+"} (${ge*Math.abs(N)}%))`:N>0?`calc(${L}px ${l?"-":"+"} (-${ge*Math.abs(N)}%))`:`${L}px`,!t.isHorizontal()){const Re=W;W=L,L=Re}const ye=`\n        translate3d(${L}, ${W}, ${Z}px)\n        rotateZ(${c.rotate?l?-te:te:0}deg)\n        scale(${N<0?""+(1+(1-ee)*N):""+(1-(1-ee)*N)})\n      `;if(c.slideShadows){let Re=I.querySelector(".swiper-slide-shadow");Re||(Re=Cm("cards",I)),Re&&(Re.style.opacity=Math.min(Math.max((Math.abs(N)-.5)/.5,0),1))}I.style.zIndex=-Math.abs(Math.round(A))+o.length,Dy(0,I).style.transform=ye}},setTransition:o=>{const a=t.slides.map(l=>Gp(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),wC({swiper:t,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];Ja.use(AAe);const MC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Tm(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)&&!n.__swiper__}function nR(n,t){const e=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>e.indexOf(i)<0).forEach(i=>{void 0===n[i]?n[i]=t[i]:Tm(t[i])&&Tm(n[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?n[i]=t[i]:nR(n[i],t[i]):n[i]=t[i]})}function OC(n){return void 0===n&&(n=""),n.replace(/-[a-z]/g,t=>t.toUpperCase().replace("-",""))}const c9=n=>{if(parseFloat(n)===Number(n))return Number(n);if("true"===n||""===n)return!0;if("false"===n)return!1;if("null"===n)return null;if("undefined"!==n){if("string"==typeof n&&n.includes("{")&&n.includes("}")&&n.includes('"')){let t;try{t=JSON.parse(n)}catch(e){t=n}return t}return n}},u9=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function d9(n,t,e){const i={},r={};nR(i,Q2);const s=[...MC,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),void 0!==n[l]&&(r[l]=n[l])});const a=[...n.attributes];return"string"==typeof t&&void 0!==e&&a.push({name:t,value:Tm(e)?rt({},e):e}),a.forEach(l=>{const c=u9.filter(u=>0===l.name.indexOf(`${u}-`))[0];if(c){const u=OC(c),d=OC(l.name.split(`${c}-`)[1]);void 0===r[u]&&(r[u]={}),!0===r[u]&&(r[u]={enabled:!0}),r[u][d]=c9(l.value)}else{const u=OC(l.name);if(!o.includes(u))return;const d=c9(l.value);r[u]&&u9.includes(l.name)&&!Tm(d)?(r[u].constructor!==Object&&(r[u]={}),r[u].enabled=!!d):r[u]=d}}),nR(i,r),i.navigation?i.navigation=rt({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},!0!==i.navigation?i.navigation:{}):!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar=rt({el:".swiper-scrollbar"},!0!==i.scrollbar?i.scrollbar:{}):!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination=rt({el:".swiper-pagination"},!0!==i.pagination?i.pagination:{}):!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const FAe=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",h9="undefined"==typeof window||"undefined"==typeof HTMLElement?class LAe{}:HTMLElement,f9='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',p9=(n,t)=>{if("undefined"!=typeof CSSStyleSheet&&n.adoptedStyleSheets){const e=new CSSStyleSheet;e.replaceSync(t),n.adoptedStyleSheets=[e]}else{const e=document.createElement("style");e.rel="stylesheet",e.textContent=t,n.appendChild(e)}};class g9 extends h9{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return f9}static get prevButtonSvg(){return f9.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[FAe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const t=this.slideSlots||0,e=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=e.length?Math.max(...e)+1:0,this.rendered)if(this.slideSlots>t)for(let i=t;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<t){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let t=this.cssStyles();this.slideSlots>0&&(t=t.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),t.length&&p9(this.shadowRoot,t),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});const e=document.createElement("div");e.classList.add("swiper"),e.part="container",e.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function RAe(n){return void 0===n&&(n={}),n.navigation&&void 0===n.navigation.nextEl&&void 0===n.navigation.prevEl}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function DAe(n){return void 0===n&&(n={}),n.pagination&&void 0===n.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function NAe(n){return void 0===n&&(n={}),n.scrollbar&&void 0===n.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(e),this.rendered=!0}initialize(){var t=this;if(this.initialized)return;this.initialized=!0;const{params:e,passedParams:i}=d9(this);this.swiperParams=e,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Ja(this.shadowRoot.querySelector(".swiper"),ci(rt(rt({},e.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0}),e),{touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&t.calcSlideSlots();const s=e.eventsPrefix?`${e.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=new CustomEvent(s,{detail:a,bubbles:"hashChange"!==r,cancelable:!0});t.dispatchEvent(c)}}))}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(t,e){const{params:i,passedParams:r}=d9(this,t,e);this.passedParams=r,this.swiperParams=i,(!this.swiper||this.swiper.params[t]!==e)&&function kAe(n){let{swiper:t,slides:e,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(le=>"children"!==le&&"direction"!==le&&"wrapperClass"!==le),{params:u,pagination:d,navigation:v,scrollbar:E,virtual:I,thumbs:A}=t;let N,k,L,W,Z,ee,te,ge;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(N=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(k=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(L=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&E&&!E.el&&(W=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&v&&!v.prevEl&&!v.nextEl&&(Z=!0);const pe=le=>{!t[le]||(t[le].destroy(),"navigation"===le?(t.isElement&&(t[le].prevEl.remove(),t[le].nextEl.remove()),u[le].prevEl=void 0,u[le].nextEl=void 0,t[le].prevEl=void 0,t[le].nextEl=void 0):(t.isElement&&t[le].el.remove(),u[le].el=void 0,t[le].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!i.loop?ee=!0:!u.loop&&i.loop?te=!0:ge=!0),c.forEach(le=>{if(Tm(u[le])&&Tm(i[le]))Object.assign(u[le],i[le]),("navigation"===le||"pagination"===le||"scrollbar"===le)&&"enabled"in i[le]&&!i[le].enabled&&pe(le);else{const he=i[le];!0!==he&&!1!==he||"navigation"!==le&&"pagination"!==le&&"scrollbar"!==le?u[le]=i[le]:!1===he&&pe(le)}}),c.includes("controller")&&!k&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&I&&u.virtual.enabled?(I.slides=e,I.update(!0)):r.includes("virtual")&&I&&u.virtual.enabled&&(e&&(I.slides=e),I.update(!0)),r.includes("children")&&e&&u.loop&&(ge=!0),N&&A.init()&&A.update(!0),k&&(t.controller.control=u.controller.control),L&&(t.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),W&&(t.isElement&&(!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),E.init(),E.updateSize(),E.setTranslate()),Z&&(t.isElement&&((!s||"string"==typeof s)&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=t.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),t.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),v.init(),v.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(ee||ge)&&t.loopDestroy(),(te||ge)&&t.loopCreate(),t.update()}(rt(rt(rt({swiper:this.swiper,passedParams:this.passedParams,changedParams:[OC(t)]},"navigation"===t&&r[t]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),"pagination"===t&&r[t]?{paginationEl:".swiper-pagination"}:{}),"scrollbar"===t&&r[t]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(t,e,i){!this.initialized||("true"===e&&null===i&&(i=!1),this.updateSwiperOnPropChange(t,i))}static get observedAttributes(){return MC.filter(e=>e.includes("_")).map(e=>e.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}MC.forEach(n=>{"init"!==n&&(n=n.replace("_",""),Object.defineProperty(g9.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[n]=t,this.initialized&&this.updateSwiperOnPropChange(n,t)}}))});"undefined"!=typeof window&&(window.SwiperElementRegisterParams=n=>{MC.push(...n)}),"undefined"!=typeof window&&(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",g9),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class UAe extends h9{constructor(){super(),this.attachShadow({mode:"open"})}render(){const t=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(p9(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),t){const e=document.createElement("div");e.classList.add("swiper-lazy-preloader"),e.part.add("preloader"),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let jAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[fV]}),n})(),HAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,jAe,ro]]}),n})(),VAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,dc,zV,VV,WV,YV,$V,XV,HAe,qV,Gxe]]}),n})(),zAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,KV,tn,ca,JV]]}),n})(),WAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[hh,cp,gm,Hs,za,my,_y,lp,vy,lpe("challenges")],imports:[[Pt,tn,dc,Pxe,xxe,Ixe,Fxe,VAe,Lxe,zAe]]}),n})(),Ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),iR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),Sh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,ro]]}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,V6,tn,_a,Ny,ca,iR,Sh,ro]]}),n})(),rR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),cu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,iR]]}),n})(),YAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,cu]]}),n})(),$Ae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Sh,cu,ro]]}),n})(),XAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,fbe,YAe,ca,cu,Sh,$Ae]]}),n})(),qAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Sh,cu,ro]]}),n})(),KAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ca,qAe]]}),n})(),JAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,cu,tn]]}),n})(),QAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,cu,tn]]}),n})(),ZAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,cu,Sh,ro]]}),n})(),e2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,ca,JAe,QAe,ZAe]]}),n})(),t2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,e2e,tn,rR,_a]]}),n})(),n2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,rR,_a,XAe,KAe,t2e,tn]]}),n})(),i2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,cu,ca,tn,dc]]}),n})(),r2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),PC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_a]]}),n})();const oi=!1;function m9(n){return new Wt(3e3,oi)}function L2e(){return"undefined"!=typeof window&&void 0!==window.document}function sR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Eh(n){switch(n.length){case 0:return new by;case 1:return n[0];default:return new _V(n)}}function v9(n,t,e,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,v=d==l,E=v&&c||{};Object.keys(u).forEach(I=>{let A=I,N=u[I];if("offset"!==I)switch(A=t.normalizePropertyName(A,o),N){case"!":N=r[I];break;case sd:N=s[I];break;default:N=t.normalizeStyleValue(I,A,N,o)}E[A]=N}),v||a.push(E),c=E,l=d}),o.length)throw function O2e(n){return new Wt(3502,oi)}();return a}function oR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&aR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&aR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&aR(e,"destroy",n)))}}function aR(n,t,e){const i=e.totalTime,s=lR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function lR(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Qa(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function y9(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let cR=(n,t)=>!1,b9=(n,t,e)=>[],S9=null;function uR(n){const t=n.parentNode||n.host;return t===S9?null:t}(sR()||"undefined"!=typeof Element)&&(L2e()?(S9=(()=>document.documentElement)(),cR=(n,t)=>{for(;t;){if(t===n)return!0;t=uR(t)}return!1}):cR=(n,t)=>n.contains(t),b9=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Hp=null,E9=!1;function C9(n){Hp||(Hp=function G2e(){return"undefined"!=typeof document?document.body:null}()||{},E9=!!Hp.style&&"WebkitAppearance"in Hp.style);let t=!0;return Hp.style&&!function U2e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Hp.style,!t&&E9&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hp.style)),t}const T9=cR,w9=b9;let M9=(()=>{class n{validateStyleProperty(e){return C9(e)}matchesElement(e,i){return!1}containsElement(e,i){return T9(e,i)}getParentElement(e){return uR(e)}query(e,i,r){return w9(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new by(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),dR=(()=>{class n{}return n.NOOP=new M9,n})();const hR="ng-enter",IC="ng-leave",AC="ng-trigger",RC=".ng-trigger",P9="ng-animating",fR=".ng-animating";function Vp(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pR(parseFloat(t[1]),t[2])}function pR(n,t){return"s"===t?1e3*n:n}function DC(n,t,e){return n.hasOwnProperty("duration")?n:function V2e(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(m9()),{duration:0,delay:0,easing:""};r=pR(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=pR(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function s2e(){return new Wt(3100,oi)}()),a=!0),s<0&&(t.push(function o2e(){return new Wt(3101,oi)}()),a=!0),a&&t.splice(l,0,m9())}return{duration:r,delay:s,easing:o}}(n,t,e)}function wm(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ch(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else wm(n,e);return e}function I9(n,t,e){return e?t+":"+e+";":""}function A9(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=I9(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=I9(0,Y2e(e),n.style[e]));n.setAttribute("style",t)}function uu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=_R(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),sR()&&A9(n))}function zp(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=_R(e);n.style[i]=""}),sR()&&A9(n))}function ky(n){return Array.isArray(n)?1==n.length?n[0]:pV(n):n}const gR=new RegExp("{{\\s*(.+?)\\s*}}","g");function R9(n){let t=[];if("string"==typeof n){let e;for(;e=gR.exec(n);)t.push(e[1]);gR.lastIndex=0}return t}function NC(n,t,e){const i=n.toString(),r=i.replace(gR,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(function l2e(n){return new Wt(3003,oi)}()),a=""),a.toString()});return r==i?n:r}function kC(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const W2e=/-+([a-z0-9])/g;function _R(n){return n.replace(W2e,(...t)=>t[1].toUpperCase())}function Y2e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Za(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function c2e(n){return new Wt(3004,oi)}()}}function D9(n,t){return window.getComputedStyle(n)[t]}function Q2e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Z2e(n,t,e){if(":"==n[0]){const l=function eRe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function C2e(n){return new Wt(3016,oi)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function E2e(n){return new Wt(3015,oi)}()),t;const r=i[1],s=i[2],o=i[3];t.push(N9(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(N9(o,r))}(i,e,t)):e.push(n),e}const UC=new Set(["true","1"]),GC=new Set(["false","0"]);function N9(n,t){const e=UC.has(n)||GC.has(n),i=UC.has(t)||GC.has(t);return(r,s)=>{let o="*"==n||n==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?UC.has(n):GC.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?UC.has(t):GC.has(t)),o&&a}}const tRe=new RegExp("s*:selfs*,?","g");function mR(n,t,e,i){return new nRe(n).build(t,e,i)}class nRe{constructor(t){this._driver=t}build(t,e,i){const r=new sRe(e);this._resetContextStyleTimingState(r);const s=Za(this,ky(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function d2e(){return new Wt(3006,oi)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function h2e(){return new Wt(3007,oi)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(jC(a)){const l=a;Object.keys(l).forEach(c=>{R9(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(kC(s.values()),e.errors.push(function f2e(n,t){return new Wt(3008,oi)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Za(this,ky(t.animation),e);return{type:1,matchers:Q2e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Za(this,i,e)),options:Wp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Za(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Wp(t.options)}}visitAnimate(t,e){const i=function aRe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vR(DC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=vR(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=DC(e,t);return vR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Cc({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Cc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==sd?i.push(o):e.errors.push(function p2e(n){return new Wt(3002,oi)}()):i.push(o)}):i.push(t.styles);let r=!1,s=null;return i.forEach(o=>{if(jC(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(e.errors.push(function g2e(n,t,e,i,r){return new Wt(3010,oi)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),e.options&&function z2e(n,t,e){const i=t.params||{},r=R9(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function a2e(n){return new Wt(3001,oi)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function _2e(){return new Wt(3011,oi)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(k=>{const L=this._makeStyleAst(k,e);let W=null!=L.offset?L.offset:function oRe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(jC(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(jC(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(L.styles),Z=0;return null!=W&&(s++,Z=L.offset=W),l=l||Z<0||Z>1,a=a||Z<c,c=Z,o.push(Z),L});l&&e.errors.push(function m2e(){return new Wt(3012,oi)}()),a&&e.errors.push(function v2e(){return new Wt(3200,oi)}());const d=t.steps.length;let v=0;s>0&&s<d?e.errors.push(function y2e(){return new Wt(3202,oi)}()):0==s&&(v=1/(d-1));const E=d-1,I=e.currentTime,A=e.currentAnimateTimings,N=A.duration;return u.forEach((k,L)=>{const W=v>0?L==E?1:v*L:o[L],Z=W*N;e.currentTime=I+A.delay+Z,A.duration=Z,this._validateStyleAst(k,e),k.offset=W,i.styles.push(k)}),i}visitReference(t,e){return{type:8,animation:Za(this,ky(t.animation),e),options:Wp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function iRe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tRe,"")),n=n.replace(/@\*/g,RC).replace(/@\w+/g,e=>RC+"-"+e.substr(1)).replace(/:animating/g,fR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Qa(e.collectedStyles,e.currentQuerySelector,{});const a=Za(this,ky(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Wp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function b2e(){return new Wt(3013,oi)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:DC(t.timings,e.errors,!0);return{type:12,animation:Za(this,ky(t.animation),e),timings:i,options:null}}}class sRe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jC(n){return!Array.isArray(n)&&"object"==typeof n}function Wp(n){return n?(n=wm(n)).params&&(n.params=function rRe(n){return n?wm(n):null}(n.params)):n={},n}function vR(n,t,e){return{duration:n,delay:t,easing:e}}function yR(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class HC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const uRe=new RegExp(":enter","g"),hRe=new RegExp(":leave","g");function bR(n,t,e,i,r,s={},o={},a,l,c=[]){return(new fRe).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class fRe{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new HC;const d=new SR(t,e,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Za(this,i,d);const v=d.timelines.filter(E=>E.containsAnimation());if(Object.keys(a).length){let E;for(let I=v.length-1;I>=0;I--){const A=v[I];if(A.element===e){E=A;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,d.errors,l)}return v.length?v.map(E=>E.buildKeyframes()):[yR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Vp(i.duration):null,a=null!=i.delay?Vp(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Za(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=VC);const o=Vp(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Za(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Vp(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Za(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return DC(e.params?NC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Vp(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=VC);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),Za(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Za(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const VC={};class SR{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=VC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new zC(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Vp(i.duration)),null!=i.delay&&(r.delay=Vp(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=NC(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new SR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=VC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new pRe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(uRe,"."+this._enterClassName)).replace(hRe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function S2e(n){return new Wt(3014,oi)}()),a}}class zC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||sd,this._currentKeyframe[e]=sd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},o=function gRe(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=sd})):Ch(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=NC(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:sd),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ch(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==sd&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=t.size?kC(t.values()):[],o=e.size?kC(e.values()):[];if(i){const a=r[0],l=wm(a);a.offset=0,l.offset=1,r=[a,l]}return yR(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class pRe extends zC{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ch(t[0],!1);l.offset=0,s.push(l);const c=Ch(t[0],!1);c.offset=B9(a),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let v=Ch(t[d],!1);v.offset=B9((e+v.offset*i)/o),s.push(v)}i=o,e=0,r="",t=s}return yR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function B9(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ER{}class _Re extends ER{normalizePropertyName(t,e){return _R(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(mRe[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function u2e(n,t){return new Wt(3005,oi)}())}return o+s}}const mRe=(()=>function vRe(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function L9(n,t,e,i,r,s,o,a,l,c,u,d,v){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:v}}const CR={};class U9{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function yRe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],o=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):o}build(t,e,i,r,s,o,a,l,c,u){const d=[],v=this.ast.options&&this.ast.options.params||CR,I=this.buildStyles(i,a&&a.params||CR,d),A=l&&l.params||CR,N=this.buildStyles(r,A,d),k=new Set,L=new Map,W=new Map,Z="void"===r,ee={params:Object.assign(Object.assign({},v),A)},te=u?[]:bR(t,e,this.ast.animation,s,o,I,N,ee,c,d);let ge=0;if(te.forEach(le=>{ge=Math.max(le.duration+le.delay,ge)}),d.length)return L9(e,this._triggerName,i,r,Z,I,N,[],[],L,W,ge,d);te.forEach(le=>{const he=le.element,Ie=Qa(L,he,{});le.preStyleProps.forEach(Se=>Ie[Se]=!0);const ye=Qa(W,he,{});le.postStyleProps.forEach(Se=>ye[Se]=!0),he!==e&&k.add(he)});const pe=kC(k.values());return L9(e,this._triggerName,i,r,Z,I,N,te,pe,L,W,ge)}}class bRe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=wm(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=NC(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class ERe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new bRe(r.style,r.options&&r.options.params||{},i)}),G9(this.states,"true","1"),G9(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new U9(t,r,this.states))}),this.fallbackTransition=function CRe(n,t,e){return new U9(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function G9(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const TRe=new HC;class wRe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=mR(this._driver,e,i,[]);if(i.length)throw function P2e(n){return new Wt(3503,oi)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=v9(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let o;const a=new Map;if(s?(o=bR(this._driver,e,s,hR,IC,{},{},i,TRe,r),o.forEach(u=>{const d=Qa(a,u.element,{});u.postStyleProps.forEach(v=>d[v]=null)})):(r.push(function x2e(){return new Wt(3300,oi)}()),o=[]),r.length)throw function I2e(n){return new Wt(3504,oi)}();a.forEach((u,d)=>{Object.keys(u).forEach(v=>{u[v]=this._driver.computeStyle(d,v,sd)})});const c=Eh(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function A2e(n){return new Wt(3301,oi)}();return e}listen(t,e,i,r){const s=lR(e,"","","");return oR(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const j9="ng-animate-queued",TR="ng-animate-disabled",IRe=[],H9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ARe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kl="__ng_removed";class wR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function kRe(n){return null!=n?n:null}(i?t.value:t),i){const s=wm(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Fy="void",MR=new wR(Fy);class RRe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function R2e(n,t){return new Wt(3302,oi)}();if(null==i||0==i.length)throw function D2e(n){return new Wt(3303,oi)}();if(!function FRe(n){return"start"==n||"done"==n}(i))throw function N2e(n,t){return new Wt(3400,oi)}();const s=Qa(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Qa(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Fl(t,AC),Fl(t,AC+"-"+e),a[e]=MR),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function k2e(n){return new Wt(3401,oi)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new OR(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Fl(t,AC),Fl(t,AC+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new wR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=MR),c.value!==Fy&&l.value===c.value){if(!function URe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const A=[],N=s.matchStyles(l.value,l.params,A),k=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{zp(t,N),uu(t,k)})}return}const v=Qa(this._engine.playersByElement,t,[]);v.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let E=s.matchTransition(l.value,c.value,t,c.params),I=!1;if(!E){if(!r)return;E=s.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:E,fromState:l,toState:c,player:o,isFallbackTransition:I}),I||(Fl(t,j9),o.onStart(()=>{Mm(t,j9)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);const N=this._engine.playersByElement.get(t);if(N){let k=N.indexOf(o);k>=0&&N.splice(k,1)}}),this.players.push(o),v.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,RC,!0);i.forEach(r=>{if(r[kl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(t,l,Fy,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Eh(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||MR,u=new wR(Fy),d=new OR(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[kl];(!s||s===H9)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=lR(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,oR(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class DRe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new RRe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),o=!0;break}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(WC(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!WC(e))return;const s=e[kl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fl(t,TR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mm(t,TR))}removeNode(t,e,i,r){if(WC(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[kl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return WC(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,RC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Eh(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[kl];if(i&&i.setForRemoval){if(t[kl]=H9,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(TR))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Eh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function F2e(n){return new Wt(3402,oi)}()}_flushAnimations(t,e){const i=new HC,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Ce=>{u.add(Ce);const Te=this.driver.query(Ce,".ng-animate-queued",!0);for(let De=0;De<Te.length;De++)u.add(Te[De])});const d=this.bodyNode,v=Array.from(this.statesByElement.keys()),E=W9(v,this.collectedEnterElements),I=new Map;let A=0;E.forEach((Ce,Te)=>{const De=hR+A++;I.set(Te,De),Ce.forEach(tt=>Fl(tt,De))});const N=[],k=new Set,L=new Set;for(let Ce=0;Ce<this.collectedLeaveElements.length;Ce++){const Te=this.collectedLeaveElements[Ce],De=Te[kl];De&&De.setForRemoval&&(N.push(Te),k.add(Te),De.hasAnimation?this.driver.query(Te,".ng-star-inserted",!0).forEach(tt=>k.add(tt)):L.add(Te))}const W=new Map,Z=W9(v,Array.from(k));Z.forEach((Ce,Te)=>{const De=IC+A++;W.set(Te,De),Ce.forEach(tt=>Fl(tt,De))}),t.push(()=>{E.forEach((Ce,Te)=>{const De=I.get(Te);Ce.forEach(tt=>Mm(tt,De))}),Z.forEach((Ce,Te)=>{const De=W.get(Te);Ce.forEach(tt=>Mm(tt,De))}),N.forEach(Ce=>{this.processLeaveNode(Ce)})});const ee=[],te=[];for(let Ce=this._namespaceList.length-1;Ce>=0;Ce--)this._namespaceList[Ce].drainQueuedTransitions(e).forEach(De=>{const tt=De.player,_e=De.element;if(ee.push(tt),this.collectedEnterElements.length){const Vt=_e[kl];if(Vt&&Vt.setForMove){if(Vt.previousTriggersValues&&Vt.previousTriggersValues.has(De.triggerName)){const Mn=Vt.previousTriggersValues.get(De.triggerName),ln=this.statesByElement.get(De.element);ln&&ln[De.triggerName]&&(ln[De.triggerName].value=Mn)}return void tt.destroy()}}const Ve=!d||!this.driver.containsElement(d,_e),et=W.get(_e),it=I.get(_e),Tt=this._buildInstruction(De,i,it,et,Ve);if(Tt.errors&&Tt.errors.length)return void te.push(Tt);if(Ve)return tt.onStart(()=>zp(_e,Tt.fromStyles)),tt.onDestroy(()=>uu(_e,Tt.toStyles)),void r.push(tt);if(De.isFallbackTransition)return tt.onStart(()=>zp(_e,Tt.fromStyles)),tt.onDestroy(()=>uu(_e,Tt.toStyles)),void r.push(tt);const yt=[];Tt.timelines.forEach(Vt=>{Vt.stretchStartingKeyframe=!0,this.disabledNodes.has(Vt.element)||yt.push(Vt)}),Tt.timelines=yt,i.append(_e,Tt.timelines),o.push({instruction:Tt,player:tt,element:_e}),Tt.queriedElements.forEach(Vt=>Qa(a,Vt,[]).push(tt)),Tt.preStyleProps.forEach((Vt,Mn)=>{const ln=Object.keys(Vt);if(ln.length){let Jt=l.get(Mn);Jt||l.set(Mn,Jt=new Set),ln.forEach(Ft=>Jt.add(Ft))}}),Tt.postStyleProps.forEach((Vt,Mn)=>{const ln=Object.keys(Vt);let Jt=c.get(Mn);Jt||c.set(Mn,Jt=new Set),ln.forEach(Ft=>Jt.add(Ft))})});if(te.length){const Ce=[];te.forEach(Te=>{Ce.push(function B2e(n,t){return new Wt(3505,oi)}())}),ee.forEach(Te=>Te.destroy()),this.reportError(Ce)}const ge=new Map,pe=new Map;o.forEach(Ce=>{const Te=Ce.element;i.has(Te)&&(pe.set(Te,Te),this._beforeAnimationBuild(Ce.player.namespaceId,Ce.instruction,ge))}),r.forEach(Ce=>{const Te=Ce.element;this._getPreviousPlayers(Te,!1,Ce.namespaceId,Ce.triggerName,null).forEach(tt=>{Qa(ge,Te,[]).push(tt),tt.destroy()})});const le=N.filter(Ce=>$9(Ce,l,c)),he=new Map;z9(he,this.driver,L,c,sd).forEach(Ce=>{$9(Ce,l,c)&&le.push(Ce)});const ye=new Map;E.forEach((Ce,Te)=>{z9(ye,this.driver,new Set(Ce),l,"!")}),le.forEach(Ce=>{const Te=he.get(Ce),De=ye.get(Ce);he.set(Ce,Object.assign(Object.assign({},Te),De))});const Se=[],Re=[],xe={};o.forEach(Ce=>{const{element:Te,player:De,instruction:tt}=Ce;if(i.has(Te)){if(u.has(Te))return De.onDestroy(()=>uu(Te,tt.toStyles)),De.disabled=!0,De.overrideTotalTime(tt.totalTime),void r.push(De);let _e=xe;if(pe.size>1){let et=Te;const it=[];for(;et=et.parentNode;){const Tt=pe.get(et);if(Tt){_e=Tt;break}it.push(et)}it.forEach(Tt=>pe.set(Tt,_e))}const Ve=this._buildAnimation(De.namespaceId,tt,ge,s,ye,he);if(De.setRealPlayer(Ve),_e===xe)Se.push(De);else{const et=this.playersByElement.get(_e);et&&et.length&&(De.parentPlayer=Eh(et)),r.push(De)}}else zp(Te,tt.fromStyles),De.onDestroy(()=>uu(Te,tt.toStyles)),Re.push(De),u.has(Te)&&r.push(De)}),Re.forEach(Ce=>{const Te=s.get(Ce.element);if(Te&&Te.length){const De=Eh(Te);Ce.setRealPlayer(De)}}),r.forEach(Ce=>{Ce.parentPlayer?Ce.syncPlayerEvents(Ce.parentPlayer):Ce.destroy()});for(let Ce=0;Ce<N.length;Ce++){const Te=N[Ce],De=Te[kl];if(Mm(Te,IC),De&&De.hasAnimation)continue;let tt=[];if(a.size){let Ve=a.get(Te);Ve&&Ve.length&&tt.push(...Ve);let et=this.driver.query(Te,fR,!0);for(let it=0;it<et.length;it++){let Tt=a.get(et[it]);Tt&&Tt.length&&tt.push(...Tt)}}const _e=tt.filter(Ve=>!Ve.destroyed);_e.length?BRe(this,Te,_e):this.processLeaveNode(Te)}return N.length=0,Se.forEach(Ce=>{this.players.push(Ce),Ce.onDone(()=>{Ce.destroy();const Te=this.players.indexOf(Ce);this.players.splice(Te,1)}),Ce.play()}),Se}elementContainsData(t,e){let i=!1;const r=e[kl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Fy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=Qa(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(E=>{const I=E.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),E.destroy(),d.push(E)})}zp(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,v=e.timelines.map(I=>{const A=I.element;u.add(A);const N=A[kl];if(N&&N.removedBeforeQueried)return new by(I.duration,I.delay);const k=A!==l,L=function LRe(n){const t=[];return Y9(n,t),t}((i.get(A)||IRe).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===A),W=s.get(A),Z=o.get(A),ee=v9(0,this._normalizer,0,I.keyframes,W,Z),te=this._buildPlayer(I,ee,L);if(I.subTimeline&&r&&d.add(A),k){const ge=new OR(t,a,A);ge.setRealPlayer(te),c.push(ge)}return te});c.forEach(I=>{Qa(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function NRe(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,I.element,I))}),u.forEach(I=>Fl(I,P9));const E=Eh(v);return E.onDestroy(()=>{u.forEach(I=>Mm(I,P9)),uu(l,e.toStyles)}),d.forEach(I=>{Qa(r,I,[]).push(E)}),E}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new by(t.duration,t.delay)}}class OR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new by,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>oR(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function WC(n){return n&&1===n.nodeType}function V9(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function z9(n,t,e,i,r){const s=[];e.forEach(l=>s.push(V9(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const v=u[d]=t.computeStyle(c,d,r);(!v||0==v.length)&&(c[kl]=ARe,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>V9(l,s[a++])),o}function W9(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Fl(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Mm(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function BRe(n,t,e){Eh(e).onDone(()=>n.processLeaveNode(t))}function Y9(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof _V?Y9(i.players,t):t.push(i)}}function $9(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class YC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new DRe(t,e,i),this._timelineEngine=new wRe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=mR(this._driver,s,l,[]);if(l.length)throw function M2e(n,t){return new Wt(3404,oi)}();a=function SRe(n,t,e){return new ERe(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=y9(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=y9(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jRe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&uu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(uu(this._element,this._initialStyles),this._endStyles&&(uu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),uu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function PR(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];HRe(r)&&(t=t||{},t[r]=n[r])}return t}function HRe(n){return"display"===n||"position"===n}class X9{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:D9(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class VRe{validateStyleProperty(t){return C9(t)}matchesElement(t,e){return!1}containsElement(t,e){return T9(t,e)}getParentElement(t){return uR(t)}query(t,e,i){return w9(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(v=>v instanceof X9);(function $2e(n,t){return 0===n||0===t})(i,r)&&u.forEach(v=>{let E=v.currentSnapshot;Object.keys(E).forEach(I=>c[I]=E[I])}),e=function X2e(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var r=1;r<t.length;r++){let a=t[r];o.forEach(function(l){a[l]=D9(n,l)})}}return t}(t,e=e.map(v=>Ch(v,!1)),c);const d=function GRe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=PR(t[0]),t.length>1&&(i=PR(t[t.length-1]))):t&&(e=PR(t)),e||i?new jRe(n,e,i):null}(t,e);return new X9(t,e,l,d)}}let zRe=(()=>{class n extends R2{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jl.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?pV(e):e;return q9(this._renderer,null,i,"register",[r]),new WRe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(He(jg),He(ur))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class WRe extends class zTe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new YRe(this._id,t,e||{},this._renderer)}}class YRe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return q9(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function q9(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const K9="@.disabled";let $Re=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new J9("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new XRe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(He(jg),He(YC),He(Wn))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();class J9{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==K9?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class XRe extends J9{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==K9?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function qRe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function KRe(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let JRe=(()=>{class n extends YC{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(He(ur),He(dR),He(ER))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const Q9=new Kt("AnimationModuleType"),Z9=[{provide:R2,useClass:zRe},{provide:ER,useFactory:function QRe(){return new _Re}},{provide:YC,useClass:JRe},{provide:jg,useFactory:function ZRe(n,t,e){return new $Re(n,t,e)},deps:[T1,YC,Wn]}],ez=[{provide:dR,useFactory:()=>new VRe},{provide:Q9,useValue:"BrowserAnimations"},...Z9],eDe=[{provide:dR,useClass:M9},{provide:Q9,useValue:"NoopAnimations"},...Z9];let tz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?eDe:ez}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:ez,imports:[mL]}),n})(),tDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,Ny,_a,PC]]}),n})(),nDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[],imports:[[Pt,PC,Ny,_a,tz,tn,rR,tDe,ro]]}),n})(),iDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,PC,tn,_a,dc]]}),n})(),rDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_a,tn,iDe,dc,ro]]}),n})(),sDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_a,ca,tn,cu]]}),n})(),oDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_a,ca,tn]]}),n})(),aDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),lDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),cDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ro]]}),n})(),uDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[],imports:[[Pt,tn,ro]]}),n})(),dDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[xR,Pt,ca,tn,ro]]}),n})(),hDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),fDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),pDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,ca,tn,Sh,cu,ro]]}),n})(),gDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ro]]}),n})(),_De=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,PC,_a]]}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt]]}),n})(),mDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),vDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[vC]}),n})(),yDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,Sh,_9,tn,iR,nz,mDe,vDe,iz]]}),n})(),bDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,yDe,tn,Ny,_a,ca,nz,iz]]}),n})(),SDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[$u,vm,kV,Ty,Xu],imports:[[Pt,V6,tn,_a,Ny,ca,Sh,bDe]]}),n})(),EDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,_9,n2e,i2e,nDe,r2e,rDe,sDe,oDe,aDe,cDe,tn,uDe,hDe,dDe,xR,lDe,fDe,pDe,gDe,_De,WAe,SDe]]}),n})();const XC=T(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function rz(n){return new fe(t=>{Ot(n()).subscribe(t)})}function sz(){return Je((n,t)=>{let e=null;n._refCount++;const i=de(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class CDe extends fe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ht(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new g;const e=this.getSubject();t.add(this.source.subscribe(de(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=g.EMPTY)}return t}refCount(){return sz()(this)}}function TDe(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(de(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function oz(n,t){return Je(TDe(n,t,arguments.length>=2,!0))}function IR(n){return n<=0?()=>ft:Je((t,e)=>{let i=[];t.subscribe(de(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function az(n=wDe){return Je((t,e)=>{let i=!1;t.subscribe(de(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function wDe(){return new XC}function lz(n){return Je((t,e)=>{let i=!1;t.subscribe(de(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Om(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nt((r,s)=>n(r,s,i)):me,wi(1),e?lz(t):az(()=>new XC))}class ld{constructor(t,e){this.id=t,this.url=e}}class AR extends ld{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class By extends ld{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cz extends ld{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PDe extends ld{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xDe extends ld{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IDe extends ld{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ADe extends ld{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class RDe extends ld{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DDe extends ld{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uz{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dz{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NDe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kDe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FDe{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BDe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hz{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kn="primary";class LDe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pm(n){return new LDe(n)}const fz="ngNavigationCancelingError";function RR(n){const t=Error("NavigationCancelingError: "+n);return t[fz]=!0,t}function GDe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function du(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!pz(n[r],t[r]))return!1;return!0}function pz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function gz(n){return Array.prototype.concat.apply([],n)}function _z(n){return n.length>0?n[n.length-1]:null}function ao(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function hu(n){return sM(n)?n:uv(n)?Jn(Promise.resolve(n)):dn(n)}const VDe={exact:function yz(n,t,e){if(!$p(n.segments,t.segments)||!qC(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!yz(n.children[i],t.children[i],e))return!1;return!0},subset:bz},mz={exact:function zDe(n,t){return du(n,t)},subset:function WDe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pz(n[e],t[e]))},ignored:()=>!0};function vz(n,t,e){return VDe[e.paths](n.root,t.root,e.matrixParams)&&mz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bz(n,t,e){return Sz(n,t,t.segments,e)}function Sz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$p(r,e)||t.hasChildren()||!qC(r,e,i))}if(n.segments.length===e.length){if(!$p(n.segments,e)||!qC(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!($p(n.segments,r)&&qC(n.segments,r,i)&&n.children[Kn])&&Sz(n.children[Kn],t,s,i)}}function qC(n,t,e){return t.every((i,r)=>mz[e](n[r].parameters,i.parameters))}class Yp{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pm(this.queryParams)),this._queryParamMap}toString(){return XDe.serialize(this)}}class ai{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ao(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return KC(this)}}class Ly{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pm(this.parameters)),this._parameterMap}toString(){return Mz(this)}}function $p(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Ez{}class Cz{parse(t){const e=new iNe(t);return new Yp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Uy(t.root,!0)}`,i=function JDe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${JC(e)}=${JC(r)}`).join("&"):`${JC(e)}=${JC(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function qDe(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const XDe=new Cz;function KC(n){return n.segments.map(t=>Mz(t)).join("/")}function Uy(n,t){if(!n.hasChildren())return KC(n);if(t){const e=n.children[Kn]?Uy(n.children[Kn],!1):"",i=[];return ao(n.children,(r,s)=>{s!==Kn&&i.push(`${s}:${Uy(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function $De(n,t){let e=[];return ao(n.children,(i,r)=>{r===Kn&&(e=e.concat(t(i,r)))}),ao(n.children,(i,r)=>{r!==Kn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Kn?[Uy(n.children[Kn],!1)]:[`${r}:${Uy(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kn]?`${KC(n)}/${e[0]}`:`${KC(n)}/(${e.join("//")})`}}function Tz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function JC(n){return Tz(n).replace(/%3B/gi,";")}function DR(n){return Tz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function QC(n){return decodeURIComponent(n)}function wz(n){return QC(n.replace(/\+/g,"%20"))}function Mz(n){return`${DR(n.path)}${function KDe(n){return Object.keys(n).map(t=>`;${DR(t)}=${DR(n[t])}`).join("")}(n.parameters)}`}const QDe=/^[^\/()?;=#]+/;function ZC(n){const t=n.match(QDe);return t?t[0]:""}const ZDe=/^[^=?&#]+/,tNe=/^[^&#]+/;class iNe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ai([],{}):new ai([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Kn]=new ai(t,e)),i}parseSegment(){const t=ZC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ly(QC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ZC(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ZC(this.remaining);r&&(i=r,this.capture(i))}t[QC(e)]=QC(i)}parseQueryParam(t){const e=function eNe(n){const t=n.match(ZDe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function nNe(n){const t=n.match(tNe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=wz(e),s=wz(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ZC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Kn);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Kn]:new ai([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Oz{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=NR(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=NR(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kR(t,this._root).map(e=>e.value)}}function NR(n,t){if(n===t.value)return t;for(const e of t.children){const i=NR(n,e);if(i)return i}return null}function kR(n,t){if(n===t.value)return[t];for(const e of t.children){const i=kR(n,e);if(i.length)return i.unshift(t),i}return[]}class cd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Pz extends Oz{constructor(t,e){super(t),this.snapshot=e,FR(this,t)}toString(){return this.snapshot.toString()}}function xz(n,t){const e=function rNe(n,t){const o=new eT([],{},{},"",{},Kn,t,null,n.root,-1,{});return new Az("",new cd(o,[]))}(n,t),i=new jn([new Ly("",{})]),r=new jn({}),s=new jn({}),o=new jn({}),a=new jn(""),l=new Im(i,r,o,a,s,Kn,t,e.root);return l.snapshot=e.root,new Pz(new cd(l,[]),e)}class Im{constructor(t,e,i,r,s,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(t=>Pm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(t=>Pm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Iz(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function sNe(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class eT{constructor(t,e,i,r,s,o,a,l,c,u,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Az extends Oz{constructor(t,e){super(e),this.url=t,FR(this,e)}toString(){return Rz(this._root)}}function FR(n,t){t.value._routerState=n,t.children.forEach(e=>FR(n,e))}function Rz(n){const t=n.children.length>0?` { ${n.children.map(Rz).join(", ")} } `:"";return`${n.value}${t}`}function BR(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,du(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),du(t.params,e.params)||n.params.next(e.params),function jDe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!du(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),du(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function LR(n,t){const e=du(n.params,t.params)&&function YDe(n,t){return $p(n,t)&&n.every((e,i)=>du(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||LR(n.parent,t.parent))}function Gy(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function aNe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Gy(n,i,r);return Gy(n,i)})}(n,t,e);return new cd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Gy(n,a)),o}}const i=function lNe(n){return new Im(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Gy(n,s));return new cd(i,r)}}function tT(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jy(n){return"object"==typeof n&&null!=n&&n.outlets}function UR(n,t,e,i,r){let s={};if(i&&ao(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new Yp(e,s,r);const o=Dz(n,t,e);return new Yp(o,s,r)}function Dz(n,t,e){const i={};return ao(n.children,(r,s)=>{i[s]=r===t?e:Dz(r,t,e)}),new ai(n.segments,i)}class Nz{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&tT(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(jy);if(r&&r!==_z(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class GR{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function kz(n,t,e){if(n||(n=new ai([],{})),0===n.segments.length&&n.hasChildren())return nT(n,t,e);const i=function pNe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(jy(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Bz(l,c,o))return s;i+=2}else{if(!Bz(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ai(n.segments.slice(0,i.pathIndex),{});return s.children[Kn]=new ai(n.segments.slice(i.pathIndex),n.children),nT(s,0,r)}return i.match&&0===r.length?new ai(n.segments,{}):i.match&&!n.hasChildren()?jR(n,t,e):i.match?nT(n,0,r):jR(n,t,e)}function nT(n,t,e){if(0===e.length)return new ai(n.segments,{});{const i=function fNe(n){return jy(n[0])?n[0].outlets:{[Kn]:n}}(e),r={};return ao(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=kz(n.children[o],t,s))}),ao(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new ai(n.segments,r)}}function jR(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(jy(s)){const l=gNe(s.outlets);return new ai(i,l)}if(0===r&&tT(e[0])){i.push(new Ly(n.segments[t].path,Fz(e[0]))),r++;continue}const o=jy(s)?s.outlets[Kn]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&tT(a)?(i.push(new Ly(o,Fz(a))),r+=2):(i.push(new Ly(o,{})),r++)}return new ai(i,{})}function gNe(n){const t={};return ao(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=jR(new ai([],{}),0,e))}),t}function Fz(n){const t={};return ao(n,(e,i)=>t[i]=`${e}`),t}function Bz(n,t,e){return n==e.path&&du(t,e.parameters)}class mNe{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),BR(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=xm(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),ao(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xm(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=xm(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new BDe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new kDe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(BR(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),BR(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function vNe(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class HR{constructor(t,e){this.routes=t,this.module=e}}function Th(n){return"function"==typeof n}function Xp(n){return n instanceof Yp}const Hy=Symbol("INITIAL_VALUE");function Vy(){return pa(n=>Gd(n.map(t=>t.pipe(wi(1),Vd(Hy)))).pipe(oz((t,e)=>{let i=!1;return e.reduce((r,s,o)=>r!==Hy?r:(s===Hy&&(i=!0),i||!1!==s&&o!==e.length-1&&!Xp(s)?r:s),t)},Hy),Nt(t=>t!==Hy),Pe(t=>Xp(t)?t:!0===t),wi(1)))}class TNe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zy,this.attachRef=null}}class zy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new TNe,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Lz=(()=>{class n{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new en,this.deactivateEvents=new en,this.attachEvents=new en,this.detachEvents=new en,this.name=s||Kn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new wNe(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(J(zy),J(ul),J(Ug),function Nh(n){return function DY(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(LD(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(bs(),n)}("name"),J(En))},n.\u0275dir=Rt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class wNe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Im?this.route:t===zy?this.childContexts:this.parent.get(t,e)}}let Uz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&ve(0,"router-outlet")},directives:[Lz],encapsulation:2}),n})();function Gz(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];MNe(i,ONe(t,i))}}function MNe(n,t){n.children&&Gz(n.children,t)}function ONe(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function VR(n){const t=n.children&&n.children.map(VR),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Kn&&(e.component=Uz),e}function Bl(n){return n.outlet||Kn}function jz(n,t){const e=n.filter(i=>Bl(i)===t);return e.push(...n.filter(i=>Bl(i)!==t)),e}const Hz={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iT(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Hz):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||GDe)(e,n,t);if(!s)return Object.assign({},Hz);const o={};ao(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function rT(n,t,e,i,r="corrected"){if(e.length>0&&function INe(n,t,e){return e.some(i=>sT(n,t,i)&&Bl(i)!==Kn)}(n,e,i)){const o=new ai(t,function xNe(n,t,e,i){const r={};r[Kn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Bl(s)!==Kn){const o=new ai([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[Bl(s)]=o}return r}(n,t,i,new ai(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function ANe(n,t,e){return e.some(i=>sT(n,t,i))}(n,e,i)){const o=new ai(n.segments,function PNe(n,t,e,i,r,s){const o={};for(const a of i)if(sT(n,e,a)&&!r[Bl(a)]){const l=new ai([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Bl(a)]=l}return Object.assign(Object.assign({},r),o)}(n,t,e,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new ai(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function sT(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Vz(n,t,e,i){return!!(Bl(n)===i||i!==Kn&&sT(t,e,n))&&("**"===n.path||iT(t,n,e).matched)}function zz(n,t,e){return 0===t.length&&!n.children[e]}class oT{constructor(t){this.segmentGroup=t||null}}class Wz{constructor(t){this.urlTree=t}}function Wy(n){return Hv(new oT(n))}function Yz(n){return Hv(new Wz(n))}function RNe(n){return Hv(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class kNe{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Tu)}apply(){const t=rT(this.urlTree.root,[],[],this.config).segmentGroup,e=new ai(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Kn).pipe(Pe(s=>this.createUrlTree(zR(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tc(s=>{if(s instanceof Wz)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof oT?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kn).pipe(Pe(r=>this.createUrlTree(zR(r),t.queryParams,t.fragment))).pipe(tc(r=>{throw r instanceof oT?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ai([],{[Kn]:t}):t;return new Yp(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Pe(s=>new ai([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Jn(r).pipe(e_(s=>{const o=i.children[s],a=jz(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Pe(l=>({segment:l,outlet:s})))}),oz((s,o)=>(s[o.outlet]=o.segment,s),{}),function MDe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nt((r,s)=>n(r,s,i)):me,IR(1),e?lz(t):az(()=>new XC))}())}expandSegment(t,e,i,r,s,o){return Jn(i).pipe(e_(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(tc(c=>{if(c instanceof oT)return dn(null);throw c}))),Om(a=>!!a),tc((a,l)=>{if(a instanceof XC||"EmptyError"===a.name)return zz(e,r,s)?dn(new ai([],{})):Wy(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return Vz(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):Wy(e):Wy(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Yz(s):this.lineralizeSegments(i,s).pipe(cr(o=>{const a=new ai(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=iT(e,r,s);if(!a)return Wy(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Yz(d):this.lineralizeSegments(r,d).pipe(cr(v=>this.expandSegment(t,e,i,v.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?dn(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(Pe(d=>(i._loadedConfig=d,new ai(r,{})))):dn(new ai(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=iT(e,i,r);return o?this.getChildConfig(t,i,r).pipe(cr(u=>{const d=u.module,v=u.routes,{segmentGroup:E,slicedSegments:I}=rT(e,a,l,v),A=new ai(E.segments,E.children);if(0===I.length&&A.hasChildren())return this.expandChildren(d,v,A).pipe(Pe(W=>new ai(a,W)));if(0===v.length&&0===I.length)return dn(new ai(a,{}));const N=Bl(i)===s;return this.expandSegment(d,A,v,I,N?Kn:s,!0).pipe(Pe(L=>new ai(a.concat(L.segments),L.children)))})):Wy(e)}getChildConfig(t,e,i){return e.children?dn(new HR(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?dn(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(cr(r=>r?this.configLoader.load(t.injector,e).pipe(Pe(s=>(e._loadedConfig=s,s))):function DNe(n){return Hv(RR(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):dn(new HR([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return dn(!0);const s=r.map(o=>{const a=t.get(o);let l;if(function bNe(n){return n&&Th(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Th(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return hu(l)});return dn(s).pipe(Vy(),nr(o=>{if(!Xp(o))return;const a=RR(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Pe(o=>!0===o))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return dn(i);if(r.numberOfChildren>1||!r.children[Kn])return RNe(t.redirectTo);r=r.children[Kn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Yp(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ao(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return ao(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new ai(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function zR(n){const t={};for(const i of Object.keys(n.children)){const s=zR(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function FNe(n){if(1===n.numberOfChildren&&n.children[Kn]){const t=n.children[Kn];return new ai(n.segments.concat(t.segments),t.children)}return n}(new ai(n.segments,t))}class $z{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class aT{constructor(t,e){this.component=t,this.route=e}}function LNe(n,t,e){const i=n._root;return Yy(i,t?t._root:null,e,[i.value])}function lT(n,t,e){const i=function GNe(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Yy(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xm(t);return n.children.forEach(o=>{(function jNe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function HNe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$p(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$p(n.url,t.url)||!du(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LR(n,t)||!du(n.queryParams,t.queryParams);default:return!LR(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $z(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Yy(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new aT(a.outlet.component,o))}else o&&$y(t,a,r),r.canActivateChecks.push(new $z(i)),Yy(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),ao(s,(o,a)=>$y(o,e.getContext(a),r)),r}function $y(n,t,e){const i=xm(n),r=n.value;ao(i,(s,o)=>{$y(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new aT(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class JNe{}function Xz(n){return new fe(t=>t.error(n))}class ZNe{constructor(t,e,i,r,s,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=rT(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kn);if(null===e)return null;const i=new eT([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new cd(i,e),s=new Az(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Iz(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=jz(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=qz(i);return function eke(n){n.sort((t,e)=>t.value.outlet===Kn?-1:e.value.outlet===Kn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,i,r);if(null!==o)return o}return zz(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Vz(t,e,i,r))return null;let s,o=[],a=[];if("**"===t.path){const E=i.length>0?_z(i).parameters:{};s=new eT(i,E,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qz(t),Bl(t),t.component,t,Kz(e),Jz(e)+i.length,Zz(t))}else{const E=iT(e,t,i);if(!E.matched)return null;o=E.consumedSegments,a=E.remainingSegments,s=new eT(o,E.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qz(t),Bl(t),t.component,t,Kz(e),Jz(e)+o.length,Zz(t))}const l=function tke(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=rT(e,o,a,l.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const E=this.processChildren(l,c);return null===E?null:[new cd(s,E)]}if(0===l.length&&0===u.length)return[new cd(s,[])];const d=Bl(t)===r,v=this.processSegment(l,c,u,d?Kn:r);return null===v?null:[new cd(s,v)]}}function nke(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function qz(n){const t=[],e=new Set;for(const i of n){if(!nke(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=qz(i.children);t.push(new cd(i.value,r))}return t.filter(i=>!e.has(i))}function Kz(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Jz(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Qz(n){return n.data||{}}function Zz(n){return n.resolve||{}}function eW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function WR(n){return pa(t=>{const e=n(t);return e?Jn(e).pipe(Pe(()=>t)):dn(t)})}class uke extends class cke{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const YR=new Kt("ROUTES");class tW{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new HR(gz(o.injector.get(YR,void 0,Tn.Self|Tn.Optional)).map(VR),o)}),tc(s=>{throw e._loader$=void 0,s}));return e._loader$=new CDe(r,()=>new $e).pipe(sz()),e._loader$}loadModuleFactory(t){return hu(t()).pipe(cr(e=>e instanceof RF?dn(e):Jn(this.compiler.compileModuleAsync(e))))}}class hke{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fke(n){throw n}function pke(n,t,e){return t.parse("/")}function nW(n,t){return dn(null)}const gke={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_ke={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let el=(()=>{class n{constructor(e,i,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e,this.errorHandler=fke,this.malformedUriErrorHandler=pke,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nW,afterPreactivation:nW},this.urlHandlingStrategy=new hke,this.routeReuseStrategy=new uke,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Tu),this.console=o.get(eZ);const d=o.get(Wn);this.isNgZoneEnabled=d instanceof Wn&&Wn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function HDe(){return new Yp(new ai([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new tW(o,a,v=>this.triggerEvent(new uz(v)),v=>this.triggerEvent(new dz(v))),this.routerState=xz(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Nt(r=>0!==r.id),Pe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),pa(r=>{let s=!1,o=!1;return dn(r).pipe(nr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pa(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return iW(a.source)&&(this.browserUrlTree=a.extractedUrl),dn(a).pipe(pa(d=>{const v=this.transitions.getValue();return i.next(new AR(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),v!==this.transitions.getValue()?ft:Promise.resolve(d)}),function BNe(n,t,e,i){return pa(r=>function NNe(n,t,e,i,r){return new kNe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(Pe(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),nr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function ike(n,t,e,i,r){return cr(s=>function QNe(n,t,e,i,r="emptyOnly",s="legacy"){try{const o=new ZNe(n,t,e,i,r,s).recognize();return null===o?Xz(new JNe):dn(o)}catch(o){return Xz(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe(Pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),nr(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const E=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(E,d)}this.browserUrlTree=d.urlAfterRedirects}const v=new xDe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(v)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:v,extractedUrl:E,source:I,restoredState:A,extras:N}=a,k=new AR(v,this.serializeUrl(E),I,A);i.next(k);const L=xz(E,this.rootComponentType).snapshot;return dn(Object.assign(Object.assign({},a),{targetSnapshot:L,urlAfterRedirects:E,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ft}),WR(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:v,replaceUrl:E}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!v,replaceUrl:!!E})}),nr(a=>{const l=new IDe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Pe(a=>Object.assign(Object.assign({},a),{guards:LNe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function VNe(n,t){return cr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?dn(Object.assign(Object.assign({},e),{guardsResult:!0})):function zNe(n,t,e,i){return Jn(n).pipe(cr(r=>function KNe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?dn(s.map(a=>{const l=lT(a,t,r);let c;if(function CNe(n){return n&&Th(n.canDeactivate)}(l))c=hu(l.canDeactivate(n,t,e,i));else{if(!Th(l))throw new Error("Invalid CanDeactivate guard");c=hu(l(n,t,e,i))}return c.pipe(Om())})).pipe(Vy()):dn(!0)}(r.component,r.route,e,t,i)),Om(r=>!0!==r,!0))}(o,i,r,n).pipe(cr(a=>a&&function yNe(n){return"boolean"==typeof n}(a)?function WNe(n,t,e,i){return Jn(t).pipe(e_(r=>a_(function $Ne(n,t){return null!==n&&t&&t(new NDe(n)),dn(!0)}(r.route.parent,i),function YNe(n,t){return null!==n&&t&&t(new FDe(n)),dn(!0)}(r.route,i),function qNe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function UNe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>rz(()=>dn(o.guards.map(l=>{const c=lT(l,o.node,e);let u;if(function ENe(n){return n&&Th(n.canActivateChild)}(c))u=hu(c.canActivateChild(i,n));else{if(!Th(c))throw new Error("Invalid CanActivateChild guard");u=hu(c(i,n))}return u.pipe(Om())})).pipe(Vy())));return dn(s).pipe(Vy())}(n,r.path,e),function XNe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return dn(!0);const r=i.map(s=>rz(()=>{const o=lT(s,t,e);let a;if(function SNe(n){return n&&Th(n.canActivate)}(o))a=hu(o.canActivate(t,n));else{if(!Th(o))throw new Error("Invalid CanActivate guard");a=hu(o(t,n))}return a.pipe(Om())}));return dn(r).pipe(Vy())}(n,r.route,e))),Om(r=>!0!==r,!0))}(i,s,n,t):dn(a)),Pe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),nr(a=>{if(Xp(a.guardsResult)){const c=RR(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new ADe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Nt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),WR(a=>{if(a.guards.canActivateChecks.length)return dn(a).pipe(nr(l=>{const c=new RDe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),pa(l=>{let c=!1;return dn(l).pipe(function rke(n,t){return cr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return dn(e);let s=0;return Jn(r).pipe(e_(o=>function ske(n,t,e,i){return function oke(n,t,e,i){const r=eW(n);if(0===r.length)return dn({});const s={};return Jn(r).pipe(cr(o=>function ake(n,t,e,i){const r=lT(n,t,i);return hu(r.resolve?r.resolve(t,e):r(t,e))}(n[o],t,e,i).pipe(nr(a=>{s[o]=a}))),IR(1),cr(()=>eW(s).length===r.length?dn(s):ft))}(n._resolve,n,t,i).pipe(Pe(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Iz(n,e).resolve),null)))}(o.route,i,n,t)),nr(()=>s++),IR(1),cr(o=>s===r.length?dn(e):ft))})}(this.paramsInheritanceStrategy,this.ngModule.injector),nr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),nr(l=>{const c=new DDe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),WR(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:v,replaceUrl:E}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!v,replaceUrl:!!E})}),Pe(a=>{const l=function oNe(n,t,e){const i=Gy(n,t._root,e?e._root:void 0);return new Pz(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),nr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Pe(i=>(new mNe(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),nr({next(){s=!0},complete(){s=!0}}),function ODe(n){return Je((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),tc(a=>{if(o=!0,function UDe(n){return n&&n[fz]}(a)){const l=Xp(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new cz(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||iW(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new PDe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ft}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Gz(e),this.config=e.map(VR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function cNe(n,t,e,i,r){if(0===e.length)return UR(t.root,t.root,t.root,i,r);const s=function uNe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nz(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ao(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Nz(e,t,i)}(e);if(s.toRoot())return UR(t.root,t.root,new ai([],{}),i,r);const o=function dNe(n,t,e){if(n.isAbsolute)return new GR(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new GR(s,s===t.root,0)}const i=tT(n.commands[0])?0:1;return function hNe(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new GR(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?nT(o.segmentGroup,o.index,s.commands):kz(o.segmentGroup,o.index,s.commands);return UR(t.root,o.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,d,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xp(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function mke(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},gke):!1===i?Object.assign({},_ke):i,Xp(e))return vz(this.currentUrlTree,e,r);const s=this.parseUrl(e);return vz(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new By(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((I,A)=>{c=I,u=A});const v=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):E=0,this.setTransition({id:v,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new cz(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){iM()},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function iW(n){return"imperative"!==n}class rW{}class sW{preload(t,e){return dn(null)}}let oW=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new tW(r,i,l=>e.triggerEvent(new uz(l)),l=>e.triggerEvent(new dz(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(e=>e instanceof By),e_(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Tu);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return Jn(r).pipe(ys(),Pe(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?dn(i._loadedConfig):this.loader.load(e.injector,i)).pipe(cr(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(He(el),He(pB),He(Es),He(rW))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})(),qR=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof AR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof By&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hz&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new hz(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){iM()},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();const qp=new Kt("ROUTER_CONFIGURATION"),aW=new Kt("ROUTER_FORROOT_GUARD"),Ske=[$M,{provide:Ez,useClass:Cz},{provide:el,useFactory:function Oke(n,t,e,i,r,s,o={},a,l){const c=new el(null,n,t,e,i,r,gz(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Pke(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,v;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(v=console.groupEnd)||void 0===v||v.call(console)}),c},deps:[Ez,zy,$M,Es,pB,YR,qp,[class dke{},new Sd],[class lke{},new Sd]]},zy,{provide:Im,useFactory:function xke(n){return n.routerState.root},deps:[el]},oW,sW,class bke{preload(t,e){return e().pipe(tc(()=>dn(null)))}},{provide:qp,useValue:{enableTracing:!1}}];function Eke(){return new yB("Router",el)}let Cke=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[Ske,lW(e),{provide:aW,useFactory:Mke,deps:[[el,new Sd,new Jm]]},{provide:qp,useValue:i||{}},{provide:Wg,useFactory:wke,deps:[zh,[new Mb(YM),new Sd],qp]},{provide:qR,useFactory:Tke,deps:[el,Mte,qp]},{provide:rW,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:sW},{provide:yB,multi:!0,useFactory:Eke},[KR,{provide:r1,multi:!0,useFactory:Ike,deps:[KR]},{provide:cW,useFactory:Ake,deps:[KR]},{provide:fB,multi:!0,useExisting:cW}]]}}static forChild(e){return{ngModule:n,providers:[lW(e)]}}}return n.\u0275fac=function(e){return new(e||n)(He(aW,8),He(el,8))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();function Tke(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new qR(n,t,e)}function wke(n,t,e={}){return e.useHash?new YZ(n,t):new LB(n,t)}function Mke(n){return"guarded"}function lW(n){return[{provide:LY,multi:!0,useValue:n},{provide:YR,multi:!0,useValue:n}]}let KR=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $e}appInitializer(){return this.injector.get(VZ,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(el),o=this.injector.get(qp);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?dn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(qp),r=this.injector.get(oW),s=this.injector.get(qR),o=this.injector.get(el),a=this.injector.get(s1);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(He(Es))},n.\u0275prov=vt({token:n,factory:n.\u0275fac}),n})();function Ike(n){return n.appInitializer.bind(n)}function Ake(n){return n.bootstrapListener.bind(n)}const cW=new Kt("Router Initializer");let Dke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),Nke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn,ro]]}),n})(),kke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Pt,tn]]}),n})(),Fke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n,bootstrap:[Exe]}),n.\u0275inj=ut({providers:[{provide:r1,useFactory:t=>()=>t.init(),deps:[on],multi:!0},{provide:mg,useValue:Mre()}],imports:[[mL,tz,EDe,Dke,Cke.forRoot([],{relativeLinkResolution:"legacy"}),vre,kke,hpe,xR,dc,Nke,bpe]]}),n})();var uW=x(752),Lke=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),dW=x(9819),Nr=x(1255),cT=(0,Eo.R)(),hW=x(7516),JR=(n,t,e)=>{let i;return r=>{t.value>=0&&(r||e)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,n(t)))}},QR=(n,t)=>({name:n,value:(0,hW.h)(t,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),uT=(n,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(i=>i.getEntries().map(t));return e.observe({type:n,buffered:!0}),e}}catch(i){}},dT=(n,t)=>{var e=i=>{("pagehide"===i.type||"hidden"===(0,Eo.R)().document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)};let hT=-1;var ZR=()=>(hT<0&&(hT="hidden"===(0,Eo.R)().document.visibilityState?0:1/0,dT(({timeStamp:n})=>{hT=n},!0)),{get firstHiddenTime(){return hT}}),fW={};function fT(n){return"number"==typeof n&&isFinite(n)}function Rm(n,i){var r=i,{startTimestamp:t}=r,e=PW(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(rt({startTimestamp:t},e))}var Kp=(0,Eo.R)();function pW(){return Kp&&Kp.addEventListener&&Kp.performance}let fu,Xy,gW=0,kr={};function $ke(n=!1){var t=pW();t&&$h.Z1&&(t.mark&&Kp.performance.mark("sentry-tracing-init"),function qke(){((n,t)=>{var e=QR("CLS",0);let i,r=0,s=[];var o=l=>{l&&!l.hadRecentInput&&(r&&0!==s.length&&l.startTime-s[s.length-1].startTime<1e3&&l.startTime-s[0].startTime<5e3?(r+=l.value,s.push(l)):(r=l.value,s=[l]),r>e.value&&(e.value=r,e.entries=s,i&&i()))},a=uT("layout-shift",o);a&&(i=JR(n=>{var t=n.entries.pop();!t||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding CLS"),kr.cls={value:n.value,unit:""},Xy=t)},e,void 0),dT(()=>{a.takeRecords().map(o),i(!0)}))})()}(),function Kke(n){((n,t)=>{var e=ZR(),i=QR("LCP");let r;var s=l=>{var c=l.startTime;c<e.firstHiddenTime&&(i.value=c,i.entries.push(l)),r&&r()},o=uT("largest-contentful-paint",s);if(o){r=JR(t=>{var e=t.entries.pop();!e||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding LCP"),kr.lcp={value:t.value,unit:"millisecond"},fu=e)},i,t);var a=()=>{fW[i.id]||(o.takeRecords().map(s),o.disconnect(),fW[i.id]=!0,r(!0))};["keydown","click"].forEach(l=>{addEventListener(l,a,{once:!0,capture:!0})}),dT(a,!0)}})(0,n)}(n),function Jke(){((n,t)=>{var e=ZR(),i=QR("FID");let r;var s=a=>{r&&a.startTime<e.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),r(!0))},o=uT("first-input",s);o&&(r=JR(n=>{var t=n.entries.pop();if(t){var e=(0,Nr.XL)($h.Z1),i=(0,Nr.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding FID"),kr.fid={value:n.value,unit:"millisecond"},kr["mark.fid"]={value:e+i,unit:"second"}}},i,void 0),dT(()=>{o.takeRecords().map(s),o.disconnect()},!0))})()}())}function pT(n,t,e,i,r,s){var o=s?t[s]:t[`${e}End`],a=t[`${e}Start`];!a||!o||Rm(n,{op:"browser",description:(0,hW.h)(r,()=>e),startTimestamp:i+(0,Nr.XL)(a),endTimestamp:i+(0,Nr.XL)(o)})}var gT={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var qy=(0,Eo.R)(),h3e=rt({idleTimeout:dW.nT,finalTimeout:dW.mg,markBackgroundTransactions:!0,routingInstrumentation:function u3e(n,t=!0,e=!0){if(!qy||!qy.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=qy.location.href;t&&(r=n({name:qy.location.pathname,op:"pageload",metadata:{source:"url"}})),e&&(0,Zl.o)("history",({to:s,from:o})=>{void 0===o&&i&&-1!==i.indexOf(s)?i=void 0:o!==s&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=n({name:qy.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0}},gT);class eD{__init(){this.name="BrowserTracing"}constructor(t){eD.prototype.__init.call(this);let e=gT.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=ci(rt(rt({},h3e),t),{tracingOrigins:e});const{_metricOptions:i}=this.options;$ke(i&&i._reportAllChanges),function Bke(n){let t,e=n[0],i=1;for(;i<n.length;){var r=n[i],s=n[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==e)return;"access"===r||"optionalAccess"===r?(t=e,e=s(e)):("call"===r||"optionalCall"===r)&&(e=s((...o)=>e.call(t,...o)),t=void 0)}return e}([this,"access",r=>r.options,"access",r=>r._experiments,"optionalAccess",r=>r.enableLongTask])&&function Xke(){uT("longtask",t=>{var e=(0,Nr.x1)();if(e){var i=(0,Nr.XL)($h.Z1+t.startTime),r=(0,Nr.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+r})}})}()}setupOnce(t,e){this._getCurrentHub=e,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`[Tracing] We added a reasonable default for you: ${gT.tracingOrigins}`));const{routingInstrumentation:i,startTransactionOnLocationChange:r,startTransactionOnPageLoad:s,markBackgroundTransactions:o,traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:u}=this.options;i(d=>this._createRouteTransaction(d),s,r),o&&function Gke(){cT&&cT.document?cT.document.addEventListener("visibilitychange",()=>{var n=(0,Nr.x1)();if(cT.document.hidden&&n){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),function o3e(n){const{traceFetch:t,traceXHR:e,tracingOrigins:i,shouldCreateSpanForRequest:r}=rt(rt({},gT),n);var s={},o=c=>(s[c]||(s[c]=i.some(d=>(0,Lc.zC)(c,d))&&!(0,Lc.zC)(c,"sentry_key")),s[c]);let a=o;"function"==typeof r&&(a=c=>o(c)&&r(c));var l={};t&&(0,Zl.o)("fetch",c=>{!function a3e(n,t,e){if((0,Nr.zu)()&&n.fetchData&&t(n.fetchData.url)){if(n.endTimestamp){var i=n.fetchData.__span;if(!i)return;return void((r=e[i])&&(n.response?r.setHttpStatus(n.response.status):n.error&&r.setStatus("internal_error"),r.finish(),delete e[i]))}var s=(0,Nr.x1)();if(s){var r=s.startChild({data:ci(rt({},n.fetchData),{type:"fetch"}),description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=r.spanId,e[r.spanId]=r;var o=n.args[0]=n.args[0],a=n.args[1]=n.args[1]||{};a.headers=function l3e(n,t,e,i){let r=i.headers;if((0,es.V9)(n,Request)&&(r=n.headers),r)if("function"==typeof r.append)r.append("sentry-trace",e.toTraceparent()),r.append(Ba.bU,(0,Ba.J8)(t,r.get(Ba.bU)));else if(Array.isArray(r)){const[,s]=r.find(([o,a])=>o===Ba.bU);r=[...r,["sentry-trace",e.toTraceparent()],[Ba.bU,(0,Ba.J8)(t,s)]]}else r=ci(rt({},r),{"sentry-trace":e.toTraceparent(),baggage:(0,Ba.J8)(t,r.baggage)});else r={"sentry-trace":e.toTraceparent(),baggage:(0,Ba.J8)(t)};return r}(o,s.getBaggage(),r,a)}}}(c,a,l)}),e&&(0,Zl.o)("xhr",c=>{!function c3e(n,t,e){if(!(!(0,Nr.zu)()||n.xhr&&n.xhr.__sentry_own_request__)&&n.xhr&&n.xhr.__sentry_xhr__&&t(n.xhr.__sentry_xhr__.url)){var i=n.xhr.__sentry_xhr__;if(n.endTimestamp){var r=n.xhr.__sentry_xhr_span_id__;if(!r)return;return void((s=e[r])&&(s.setHttpStatus(i.status_code),s.finish(),delete e[r]))}var o=(0,Nr.x1)();if(o){var s=o.startChild({data:ci(rt({},i.data),{type:"xhr",method:i.method,url:i.url}),description:`${i.method} ${i.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=s.spanId,e[n.xhr.__sentry_xhr_span_id__]=s,n.xhr.setRequestHeader)try{n.xhr.setRequestHeader("sentry-trace",s.toTraceparent());var a=n.xhr.getRequestHeader&&n.xhr.getRequestHeader(Ba.bU);n.xhr.setRequestHeader(Ba.bU,(0,Ba.J8)(o.getBaggage(),a))}catch(c){}}}}(c,a,l)})}({traceFetch:a,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:u})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:i,finalTimeout:r}=this.options;var s="pageload"===t.op?function f3e(){var n=_W("sentry-trace"),t=_W("baggage"),e=n?function Uke(n){var t=n.match(Lke);if(t){let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}}(n):void 0,i=(0,Ba.rg)(t,n);if(e||i)return rt(rt({},e&&e),i&&{metadata:{baggage:i}})}():void 0,o=ci(rt(rt(rt({},t),s),s&&{metadata:rt(rt({},t.metadata),s.metadata)}),{trimEnd:!0}),a="function"==typeof e?e(o):o,l=void 0===a?ci(rt({},o),{sampled:!1}):a;l.metadata=l.name!==o.name?ci(rt({},l.metadata),{source:"custom"}):l.metadata,!1===l.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`[Tracing] Starting ${l.op} transaction on scope`);var c=this._getCurrentHub();const{location:u}=(0,Eo.R)();var d=(0,uW.lb)(c,l,i,r,!0,{location:u});return d.registerBeforeFinishCallback(v=>{(function Qke(n){var t=pW();if(!t||!Kp.performance.getEntries||!$h.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Tracing] Adding & adjusting spans using Performance API");var e=(0,Nr.XL)($h.Z1),i=t.getEntries();let r,s;if(i.slice(gW).forEach(a=>{var l=(0,Nr.XL)(a.startTime),c=(0,Nr.XL)(a.duration);if(!("navigation"===n.op&&e+l<n.startTimestamp))switch(a.entryType){case"navigation":(function e3e(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{pT(n,t,i,e)}),pT(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),pT(n,t,"fetch",e,"cache","domainLookupStart"),pT(n,t,"domainLookup",e,"DNS"),function t3e(n,t,e){Rm(n,{op:"browser",description:"request",startTimestamp:e+(0,Nr.XL)(t.requestStart),endTimestamp:e+(0,Nr.XL)(t.responseEnd)}),Rm(n,{op:"browser",description:"response",startTimestamp:e+(0,Nr.XL)(t.responseStart),endTimestamp:e+(0,Nr.XL)(t.responseEnd)})}(n,t,e)})(n,a,e),r=e+(0,Nr.XL)(a.responseStart),s=e+(0,Nr.XL)(a.requestStart);break;case"mark":case"paint":case"measure":!function Zke(n,t,e,i,r){var s=r+e;Rm(n,{description:t.name,endTimestamp:s+i,op:t.entryType,startTimestamp:s})}(n,a,l,c,e);var u=ZR(),d=a.startTime<u.firstHiddenTime;"first-paint"===a.name&&d&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding FP"),kr.fp={value:a.startTime,unit:"millisecond"}),"first-contentful-paint"===a.name&&d&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding FCP"),kr.fcp={value:a.startTime,unit:"millisecond"});break;case"resource":var v=a.name.replace(Kp.location.origin,"");!function n3e(n,t,e,i,r,s){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var a=s+i;Rm(n,{description:e,endTimestamp:a+r,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:a,data:o})}}(n,a,v,l,c,e)}}),gW=Math.max(i.length-1,0),function i3e(n){var t=Kp.navigator;if(t){var e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),fT(e.rtt)&&(kr["connection.rtt"]={value:e.rtt,unit:"millisecond"}),fT(e.downlink)&&(kr["connection.downlink"]={value:e.downlink,unit:""})),fT(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),fT(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(n),"pageload"===n.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding TTFB"),kr.ttfb={value:1e3*(r-n.startTimestamp),unit:"millisecond"},"number"==typeof s&&s<=r&&(kr["ttfb.requestTime"]={value:1e3*(r-s),unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(kr[a]&&!(e>=n.startTimestamp)){var l=kr[a].value,c=e+(0,Nr.XL)(l),u=Math.abs(1e3*(c-n.startTimestamp));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${u-l})`),kr[a].value=u}});var o=kr["mark.fid"];o&&kr.fid&&(Rm(n,{description:"first input delay",endTimestamp:o.value+(0,Nr.XL)(kr.fid.value),op:"web.vitals",startTimestamp:o.value}),delete kr["mark.fid"]),"fcp"in kr||delete kr.cls,Object.keys(kr).forEach(a=>{n.setMeasurement(a,kr[a].value,kr[a].unit)}),function r3e(n){fu&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding LCP Data"),fu.element&&n.setTag("lcp.element",(0,Xg.Rt)(fu.element)),fu.id&&n.setTag("lcp.id",fu.id),fu.url&&n.setTag("lcp.url",fu.url.trim().slice(0,200)),n.setTag("lcp.size",fu.size)),Xy&&Xy.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.log("[Measurements] Adding CLS Data"),Xy.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,(0,Xg.Rt)(t.node))))}(n)}fu=void 0,Xy=void 0,kr={}})(v),v.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),d}}function _W(n){var t=(0,Xg.qT)(`meta[name=${n}]`);return t?t.getAttribute("content"):null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,uW.ro)();class Dm{constructor(){Dm.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Dm.id}setupOnce(t,e){var i=r=>{var s=e().getIntegration(Dm);if(s){try{if(function p3e(n,t){return!(!t||!function g3e(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!vW(n,t)||!mW(n,t))}(n,t)&&!function _3e(n,t){var e=yW(t),i=yW(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&vW(n,t)&&mW(n,t))}(n,t))}(r,s._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(o){return s._previousEvent=r}return s._previousEvent=r}return r};i.id=this.name,t(i)}}function mW(n,t){let e=bW(n),i=bW(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let o=0;o<i.length;o++){var r=i[o],s=e[o];if(r.filename!==s.filename||r.lineno!==s.lineno||r.colno!==s.colno||r.function!==s.function)return!1}return!0}function vW(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function yW(n){return n.exception&&n.exception.values&&n.exception.values[0]}function bW(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Dm.__initStatic();const v3e=["Http failure response for","The new multiplier is less than the previous multiplier in the current round"],S3e={dsn:"https://211b12c20385419e9d526a4edd2b9d7f@sentry.spribe.io/10",environment:"demo",release:Ei_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate","Failed to start the audio device","Identifier 'isMainframe' has already been declared",'Permission denied to access property "dispatchEvent" on cross-origin object'],normalizeDepth:8,integrations:[new eD,new Dm],maxBreadcrumbs:100,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function b3e(n,t){var e,i,r,s,o;if((null==t?void 0:t.originalException)instanceof R1||"Timeout"===(null==t?void 0:t.originalException))return!0;const a=null===(i=null===(e=n.exception)||void 0===e?void 0:e.values)||void 0===i?void 0:i[0],c="<anonymous>"===(null===(o=null===(s=null===(r=null==a?void 0:a.stacktrace)||void 0===r?void 0:r.frames)||void 0===s?void 0:s[0])||void 0===o?void 0:o.filename);return!("ReferenceError"!==(null==a?void 0:a.type)||!c)||!!v3e.find(u=>{var d;return null===(d=n.message)||void 0===d?void 0:d.includes(u)})&&Math.random()>.001}(n,t)?null:n};(function Sre(n){n._metadata=n._metadata||{},n._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:x1}],version:x1},function Ere(){const n=Jb&&Jb.major?parseInt(Jb.major,10):void 0;n&&(n<10&&bre&&sn.kg.warn(`The Sentry SDK does not officially support Angular ${n}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Oie(n,t){(0,Mr.Gd)().setContext(n,t)}("angular",{version:n}))}(),function nre(n={}){if(void 0===n.defaultIntegrations&&(n.defaultIntegrations=tre),void 0===n.release){var t=(0,Eo.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(n.release=t.SENTRY_RELEASE.id)}void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);var e=ci(rt({},n),{stackParser:(0,Pu.Sq)(n.stackParser||wie),integrations:yne(n),transport:n.transport||((0,gO.Ak)()?Qie:ere)});(function Sne(n,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?sn.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var e=(0,Mr.Gd)(),i=e.getScope();i&&i.update(t.initialScope);var r=new n(t);e.bindClient(r)})(iie,e),n.autoSessionTracking&&function rre(){if(void 0!==(0,Eo.R)().document){var e=(0,Mr.Gd)();!e.captureSession||(QL(e),(0,Zl.o)("history",({from:i,to:r})=>{void 0===i||i===r||QL((0,Mr.Gd)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&sn.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(n)})(S3e),Ei_production&&function EZ(){TB=!1}(),!1===Ei_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(n=>{console[n]=function(){}}),document.body.setAttribute("app-version",Ei_version),Qte().bootstrapModule(Fke).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:ke=>{"use strict";var V=Object.prototype.hasOwnProperty,x="~";function h(){}function w(m,g,_){this.fn=m,this.context=g,this.once=_||!1}function S(m,g,_,p,C){if("function"!=typeof _)throw new TypeError("The listener must be a function");var M=new w(_,p||m,C),f=x?x+g:g;return m._events[f]?m._events[f].fn?m._events[f]=[m._events[f],M]:m._events[f].push(M):(m._events[f]=M,m._eventsCount++),m}function T(m,g){0==--m._eventsCount?m._events=new h:delete m._events[g]}function y(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(x=!1)),y.prototype.eventNames=function(){var _,p,g=[];if(0===this._eventsCount)return g;for(p in _=this._events)V.call(_,p)&&g.push(x?p.slice(1):p);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},y.prototype.listeners=function(g){var p=this._events[x?x+g:g];if(!p)return[];if(p.fn)return[p.fn];for(var C=0,M=p.length,f=new Array(M);C<M;C++)f[C]=p[C].fn;return f},y.prototype.listenerCount=function(g){var p=this._events[x?x+g:g];return p?p.fn?1:p.length:0},y.prototype.emit=function(g,_,p,C,M,f){var b=x?x+g:g;if(!this._events[b])return!1;var U,z,O=this._events[b],F=arguments.length;if(O.fn){switch(O.once&&this.removeListener(g,O.fn,void 0,!0),F){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,_),!0;case 3:return O.fn.call(O.context,_,p),!0;case 4:return O.fn.call(O.context,_,p,C),!0;case 5:return O.fn.call(O.context,_,p,C,M),!0;case 6:return O.fn.call(O.context,_,p,C,M,f),!0}for(z=1,U=new Array(F-1);z<F;z++)U[z-1]=arguments[z];O.fn.apply(O.context,U)}else{var H,q=O.length;for(z=0;z<q;z++)switch(O[z].once&&this.removeListener(g,O[z].fn,void 0,!0),F){case 1:O[z].fn.call(O[z].context);break;case 2:O[z].fn.call(O[z].context,_);break;case 3:O[z].fn.call(O[z].context,_,p);break;case 4:O[z].fn.call(O[z].context,_,p,C);break;default:if(!U)for(H=1,U=new Array(F-1);H<F;H++)U[H-1]=arguments[H];O[z].fn.apply(O[z].context,U)}}return!0},y.prototype.on=function(g,_,p){return S(this,g,_,p,!1)},y.prototype.once=function(g,_,p){return S(this,g,_,p,!0)},y.prototype.removeListener=function(g,_,p,C){var M=x?x+g:g;if(!this._events[M])return this;if(!_)return T(this,M),this;var f=this._events[M];if(f.fn)f.fn===_&&(!C||f.once)&&(!p||f.context===p)&&T(this,M);else{for(var b=0,O=[],F=f.length;b<F;b++)(f[b].fn!==_||C&&!f[b].once||p&&f[b].context!==p)&&O.push(f[b]);O.length?this._events[M]=1===O.length?O[0]:O:T(this,M)}return this},y.prototype.removeAllListeners=function(g){var _;return g?this._events[_=x?x+g:g]&&T(this,_):(this._events=new h,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prefixed=x,y.EventEmitter=y,ke.exports=y},9248:(ke,V,x)=>{"use strict";x.d(V,{Gd:()=>b,cu:()=>M});var h=x(5535),w=x(3967),S=x(1446),T=x(7576),y=x(723),m=x(383),g=x(1539),p=100;class C{__init(){this._stack=[{}]}constructor(H,Y=new m.s,G=4){this._version=G,C.prototype.__init.call(this),this.getStackTop().scope=Y,H&&this.bindClient(H)}isOlderThan(H){return this._version<H}bindClient(H){this.getStackTop().client=H,H&&H.setupIntegrations&&H.setupIntegrations()}pushScope(){var H=m.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:H}),H}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(H){var Y=this.pushScope();try{H(Y)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(H,Y){var G=this._lastEventId=Y&&Y.event_id?Y.event_id:(0,h.DM)(),X=new Error("Sentry syntheticException");return this._withClient((ae,Q)=>{ae.captureException(H,ci(rt({originalException:H,syntheticException:X},Y),{event_id:G}),Q)}),G}captureMessage(H,Y,G){var X=this._lastEventId=G&&G.event_id?G.event_id:(0,h.DM)(),ae=new Error(H);return this._withClient((Q,ue)=>{Q.captureMessage(H,Y,ci(rt({originalException:H,syntheticException:ae},G),{event_id:X}),ue)}),X}captureEvent(H,Y){var G=Y&&Y.event_id?Y.event_id:(0,h.DM)();return"transaction"!==H.type&&(this._lastEventId=G),this._withClient((X,ae)=>{X.captureEvent(H,ci(rt({},Y),{event_id:G}),ae)}),G}lastEventId(){return this._lastEventId}addBreadcrumb(H,Y){const{scope:G,client:X}=this.getStackTop();if(!G||!X)return;const{beforeBreadcrumb:ae=null,maxBreadcrumbs:Q=p}=X.getOptions&&X.getOptions()||{};if(!(Q<=0)){var ue=(0,w.yW)(),oe=rt({timestamp:ue},H),Ee=ae?(0,S.Cf)(()=>ae(oe,Y)):oe;null!==Ee&&G.addBreadcrumb(Ee,Q)}}setUser(H){var Y=this.getScope();Y&&Y.setUser(H)}setTags(H){var Y=this.getScope();Y&&Y.setTags(H)}setExtras(H){var Y=this.getScope();Y&&Y.setExtras(H)}setTag(H,Y){var G=this.getScope();G&&G.setTag(H,Y)}setExtra(H,Y){var G=this.getScope();G&&G.setExtra(H,Y)}setContext(H,Y){var G=this.getScope();G&&G.setContext(H,Y)}configureScope(H){const{scope:Y,client:G}=this.getStackTop();Y&&G&&H(Y)}run(H){var Y=f(this);try{H(this)}finally{f(Y)}}getIntegration(H){var Y=this.getClient();if(!Y)return null;try{return Y.getIntegration(H)}catch(G){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.warn(`Cannot retrieve integration ${H.id} from the current Hub`),null}}startTransaction(H,Y){return this._callExtensionMethod("startTransaction",H,Y)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(H=!1){if(H)return this.endSession();this._sendSessionUpdate()}endSession(){var H=this.getStackTop(),Y=H&&H.scope,G=Y&&Y.getSession();G&&(0,g.RJ)(G),this._sendSessionUpdate(),Y&&Y.setSession()}startSession(H){const{scope:Y,client:G}=this.getStackTop(),{release:X,environment:ae}=G&&G.getOptions()||{};var Q=(0,T.R)();const{userAgent:ue}=Q.navigator||{};var oe=(0,g.Hv)(rt(rt(rt({release:X,environment:ae},Y&&{user:Y.getUser()}),ue&&{userAgent:ue}),H));if(Y){var Ee=Y.getSession&&Y.getSession();Ee&&"ok"===Ee.status&&(0,g.CT)(Ee,{status:"exited"}),this.endSession(),Y.setSession(oe)}return oe}shouldSendDefaultPii(){var H=this.getClient(),Y=H&&H.getOptions();return Boolean(Y&&Y.sendDefaultPii)}_sendSessionUpdate(){const{scope:H,client:Y}=this.getStackTop();if(H){var G=H.getSession();G&&Y&&Y.captureSession&&Y.captureSession(G)}}_withClient(H){const{scope:Y,client:G}=this.getStackTop();G&&H(G,Y)}_callExtensionMethod(H,...Y){var X=M().__SENTRY__;if(X&&X.extensions&&"function"==typeof X.extensions[H])return X.extensions[H].apply(this,Y);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.warn(`Extension method ${H} couldn't be found, doing nothing.`)}}function M(){var q=(0,T.R)();return q.__SENTRY__=q.__SENTRY__||{extensions:{},hub:void 0},q}function f(q){var H=M(),Y=U(H);return z(H,q),Y}function b(){var q=M();return(!F(q)||U(q).isOlderThan(4))&&z(q,new C),(0,y.KV)()?function O(q){try{var H=M().__SENTRY__,Y=H&&H.extensions&&H.extensions.domain&&H.extensions.domain.active;if(!Y)return U(q);if(!F(Y)||U(Y).isOlderThan(4)){var G=U(q).getStackTop();z(Y,new C(G.client,m.s.clone(G.scope)))}return U(Y)}catch(X){return U(q)}}(q):U(q)}function F(q){return!!(q&&q.__SENTRY__&&q.__SENTRY__.hub)}function U(q){return(0,T.Y)("hub",()=>new C,q)}function z(q,H){return!!q&&((q.__SENTRY__=q.__SENTRY__||{}).hub=H,!0)}},383:(ke,V,x)=>{"use strict";x.d(V,{c:()=>M,s:()=>p});var h=x(6412),w=x(3967),S=x(509),T=x(1446),y=x(5535),m=x(7576),g=x(1539);class p{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(b){var O=new p;return b&&(O._breadcrumbs=[...b._breadcrumbs],O._tags=rt({},b._tags),O._extra=rt({},b._extra),O._contexts=rt({},b._contexts),O._user=b._user,O._level=b._level,O._span=b._span,O._session=b._session,O._transactionName=b._transactionName,O._fingerprint=b._fingerprint,O._eventProcessors=[...b._eventProcessors],O._requestSession=b._requestSession,O._attachments=[...b._attachments]),O}addScopeListener(b){this._scopeListeners.push(b)}addEventProcessor(b){return this._eventProcessors.push(b),this}setUser(b){return this._user=b||{},this._session&&(0,g.CT)(this._session,{user:b}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(b){return this._requestSession=b,this}setTags(b){return this._tags=rt(rt({},this._tags),b),this._notifyScopeListeners(),this}setTag(b,O){return this._tags=ci(rt({},this._tags),{[b]:O}),this._notifyScopeListeners(),this}setExtras(b){return this._extra=rt(rt({},this._extra),b),this._notifyScopeListeners(),this}setExtra(b,O){return this._extra=ci(rt({},this._extra),{[b]:O}),this._notifyScopeListeners(),this}setFingerprint(b){return this._fingerprint=b,this._notifyScopeListeners(),this}setLevel(b){return this._level=b,this._notifyScopeListeners(),this}setTransactionName(b){return this._transactionName=b,this._notifyScopeListeners(),this}setContext(b,O){return null===O?delete this._contexts[b]:this._contexts=ci(rt({},this._contexts),{[b]:O}),this._notifyScopeListeners(),this}setSpan(b){return this._span=b,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var b=this.getSpan();return b&&b.transaction}setSession(b){return b?this._session=b:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(b){if(!b)return this;if("function"==typeof b){var O=b(this);return O instanceof p?O:this}return b instanceof p?(this._tags=rt(rt({},this._tags),b._tags),this._extra=rt(rt({},this._extra),b._extra),this._contexts=rt(rt({},this._contexts),b._contexts),b._user&&Object.keys(b._user).length&&(this._user=b._user),b._level&&(this._level=b._level),b._fingerprint&&(this._fingerprint=b._fingerprint),b._requestSession&&(this._requestSession=b._requestSession)):(0,h.PO)(b)&&(this._tags=rt(rt({},this._tags),b.tags),this._extra=rt(rt({},this._extra),b.extra),this._contexts=rt(rt({},this._contexts),b.contexts),b.user&&(this._user=b.user),b.level&&(this._level=b.level),b.fingerprint&&(this._fingerprint=b.fingerprint),b.requestSession&&(this._requestSession=b.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(b,O){var F="number"==typeof O?Math.min(O,100):100;if(F<=0)return this;var U=rt({timestamp:(0,w.yW)()},b);return this._breadcrumbs=[...this._breadcrumbs,U].slice(-F),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(b){return this._attachments.push(b),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(b,O={}){if(this._extra&&Object.keys(this._extra).length&&(b.extra=rt(rt({},this._extra),b.extra)),this._tags&&Object.keys(this._tags).length&&(b.tags=rt(rt({},this._tags),b.tags)),this._user&&Object.keys(this._user).length&&(b.user=rt(rt({},this._user),b.user)),this._contexts&&Object.keys(this._contexts).length&&(b.contexts=rt(rt({},this._contexts),b.contexts)),this._level&&(b.level=this._level),this._transactionName&&(b.transaction=this._transactionName),this._span){b.contexts=rt({trace:this._span.getTraceContext()},b.contexts);var F=this._span.transaction&&this._span.transaction.name;F&&(b.tags=rt({transaction:F},b.tags))}return this._applyFingerprint(b),b.breadcrumbs=[...b.breadcrumbs||[],...this._breadcrumbs],b.breadcrumbs=b.breadcrumbs.length>0?b.breadcrumbs:void 0,b.sdkProcessingMetadata=rt(rt({},b.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...C(),...this._eventProcessors],b,O)}setSDKProcessingMetadata(b){return this._sdkProcessingMetadata=rt(rt({},this._sdkProcessingMetadata),b),this}_notifyEventProcessors(b,O,F,U=0){return new S.cW((z,q)=>{var H=b[U];if(null===O||"function"!=typeof H)z(O);else{var Y=H(rt({},O),F);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&H.id&&null===Y&&T.kg.log(`Event processor "${H.id}" dropped event`),(0,h.J8)(Y)?Y.then(G=>this._notifyEventProcessors(b,G,F,U+1).then(z)).then(null,q):this._notifyEventProcessors(b,Y,F,U+1).then(z).then(null,q)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(b=>{b(this)}),this._notifyingListeners=!1)}_applyFingerprint(b){b.fingerprint=b.fingerprint?(0,y.lE)(b.fingerprint):[],this._fingerprint&&(b.fingerprint=b.fingerprint.concat(this._fingerprint)),b.fingerprint&&!b.fingerprint.length&&delete b.fingerprint}}function C(){return(0,m.Y)("globalEventProcessors",()=>[])}function M(f){C().push(f)}},1539:(ke,V,x)=>{"use strict";x.d(V,{CT:()=>y,Hv:()=>T,RJ:()=>m});var h=x(3967),w=x(5535),S=x(7759);function T(_){var p=(0,h.ph)(),C={sid:(0,w.DM)(),init:!0,timestamp:p,started:p,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function g(_){return(0,S.Jr)({sid:`${_.sid}`,init:_.init,started:new Date(1e3*_.started).toISOString(),timestamp:new Date(1e3*_.timestamp).toISOString(),status:_.status,errors:_.errors,did:"number"==typeof _.did||"string"==typeof _.did?`${_.did}`:void 0,duration:_.duration,attrs:{release:_.release,environment:_.environment,ip_address:_.ipAddress,user_agent:_.userAgent}})}(C)};return _&&y(C,_),C}function y(_,p={}){if(p.user&&(!_.ipAddress&&p.user.ip_address&&(_.ipAddress=p.user.ip_address),!_.did&&!p.did&&(_.did=p.user.id||p.user.email||p.user.username)),_.timestamp=p.timestamp||(0,h.ph)(),p.ignoreDuration&&(_.ignoreDuration=p.ignoreDuration),p.sid&&(_.sid=32===p.sid.length?p.sid:(0,w.DM)()),void 0!==p.init&&(_.init=p.init),!_.did&&p.did&&(_.did=`${p.did}`),"number"==typeof p.started&&(_.started=p.started),_.ignoreDuration)_.duration=void 0;else if("number"==typeof p.duration)_.duration=p.duration;else{var C=_.timestamp-_.started;_.duration=C>=0?C:0}p.release&&(_.release=p.release),p.environment&&(_.environment=p.environment),!_.ipAddress&&p.ipAddress&&(_.ipAddress=p.ipAddress),!_.userAgent&&p.userAgent&&(_.userAgent=p.userAgent),"number"==typeof p.errors&&(_.errors=p.errors),p.status&&(_.status=p.status)}function m(_,p){let C={};p?C={status:p}:"ok"===_.status&&(C={status:"exited"}),y(_,C)}},752:(ke,V,x)=>{"use strict";x.d(V,{ro:()=>q,lb:()=>F});var h=x(9248),w=x(1446),S=x(6412),T=x(723),y=x(3343),m=x(1255);function _(){var H=(0,m.x1)();if(H){var Y="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`[Tracing] Transaction: ${Y} -> Global error occured`),H.setStatus(Y)}}var p=x(9819),C=x(7583);function M(){var H=this.getScope();if(H){var Y=H.getSpan();if(Y)return{"sentry-trace":Y.toTraceparent()}}return{}}function f(H,Y,G){if(!(0,m.zu)(Y))return H.sampled=!1,H;if(void 0!==H.sampled)return H.setMetadata({transactionSampling:{method:"explicitly_set"}}),H;let X;return"function"==typeof Y.tracesSampler?(X=Y.tracesSampler(G),H.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(X)}})):void 0!==G.parentSampled?(X=G.parentSampled,H.setMetadata({transactionSampling:{method:"inheritance"}})):(X=Y.tracesSampleRate,H.setMetadata({transactionSampling:{method:"client_rate",rate:Number(X)}})),function b(H){return(0,S.i2)(H)||"number"!=typeof H&&"boolean"!=typeof H?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(H)} of type ${JSON.stringify(typeof H)}.`),!1):!(H<0||H>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${H}.`),!1)}(X)?X?(H.sampled=Math.random()<X,H.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`[Tracing] starting ${H.op} transaction - ${H.name}`),H):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(X)})`),H)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] Discarding transaction because "+("function"==typeof Y.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),H.sampled=!1,H):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),H.sampled=!1,H)}function O(H,Y){var G=this.getClient(),X=G&&G.getOptions()||{};let ae=new C.Y(H,this);return ae=f(ae,X,rt({parentSampled:H.parentSampled,transactionContext:H},Y)),ae.sampled&&ae.initSpanRecorder(X._experiments&&X._experiments.maxSpans),ae}function F(H,Y,G,X,ae,Q){var ue=H.getClient(),oe=ue&&ue.getOptions()||{};let Ee=new p.io(Y,H,G,X,ae);return Ee=f(Ee,oe,rt({parentSampled:Y.parentSampled,transactionContext:Y},Q)),Ee.sampled&&Ee.initSpanRecorder(oe._experiments&&oe._experiments.maxSpans),Ee}function q(){(function U(){var H=(0,h.cu)();!H.__SENTRY__||(H.__SENTRY__.extensions=H.__SENTRY__.extensions||{},H.__SENTRY__.extensions.startTransaction||(H.__SENTRY__.extensions.startTransaction=O),H.__SENTRY__.extensions.traceHeaders||(H.__SENTRY__.extensions.traceHeaders=M))})(),(0,T.KV)()&&function z(){var H=(0,h.cu)();if(H.__SENTRY__){var Y={mongodb:()=>new((0,T.l$)(ke,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,T.l$)(ke,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,T.l$)(ke,"./integrations/node/mysql").Mysql),pg:()=>new((0,T.l$)(ke,"./integrations/node/postgres").Postgres)},G=Object.keys(Y).filter(X=>!!(0,T.$y)(X)).map(X=>{try{return Y[X]()}catch(ae){return}}).filter(X=>X);G.length>0&&(H.__SENTRY__.integrations=[...H.__SENTRY__.integrations||[],...G])}}(),function g(){(0,y.o)("error",_),(0,y.o)("unhandledrejection",_)}()}ke=x.hmd(ke)},9819:(ke,V,x)=>{"use strict";x.d(V,{io:()=>p,mg:()=>m,nT:()=>y});var h=x(3967),w=x(1446),S=x(6190),T=x(7583),y=1e3,m=3e4;class _ extends S.gB{constructor(f,b,O,F){super(F),this._pushActivity=f,this._popActivity=b,this.transactionSpanId=O}add(f){f.spanId!==this.transactionSpanId&&(f.finish=b=>{f.endTimestamp="number"==typeof b?b:(0,h._I)(),this._popActivity(f.spanId)},void 0===f.endTimestamp&&this._pushActivity(f.spanId)),super.add(f)}}class p extends T.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(f,b,O=y,F=m,U=!1){super(f,b),this._idleHub=b,this._idleTimeout=O,this._finalTimeout=F,this._onScope=U,p.prototype.__init.call(this),p.prototype.__init2.call(this),p.prototype.__init3.call(this),p.prototype.__init4.call(this),U&&(C(b),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),b.configureScope(z=>z.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(f=(0,h._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var b of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*f).toISOString(),this.op),this._beforeFinishCallbacks))b(this,f);this.spanRecorder.spans=this.spanRecorder.spans.filter(O=>{if(O.spanId===this.spanId)return!0;O.endTimestamp||(O.endTimestamp=f,O.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(O,void 0,2)));var F=O.startTimestamp<f;return F||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(O,void 0,2)),F}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&C(this._idleHub),super.finish(f)}registerBeforeFinishCallback(f){this._beforeFinishCallbacks.push(f)}initSpanRecorder(f){this.spanRecorder||(this.spanRecorder=new _(F=>{this._finished||this._pushActivity(F)},F=>{this._finished||this._popActivity(F)},this.spanId,f),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(f){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(f)},this._idleTimeout)}_pushActivity(f){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`[Tracing] pushActivity: ${f}`),this.activities[f]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(f){if(this.activities[f]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`[Tracing] popActivity ${f}`),delete this.activities[f],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var b=(0,h._I)()+this._idleTimeout/1e3;this._startIdleTimeout(b)}}_beat(){if(!this._finished){var f=Object.keys(this.activities).join("");f===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=f,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}function C(M){var f=M.getScope();f&&f.getTransaction()&&f.setSpan(void 0)}},6190:(ke,V,x)=>{"use strict";x.d(V,{Dr:()=>g,gB:()=>m});var h=x(7516),w=x(5535),S=x(3967),T=x(1446),y=x(7759);class m{__init(){this.spans=[]}constructor(C=1e3){m.prototype.__init.call(this),this._maxlen=C}add(C){this.spans.length>this._maxlen?C.spanRecorder=void 0:this.spans.push(C)}}class g{__init2(){this.traceId=(0,w.DM)()}__init3(){this.spanId=(0,w.DM)().substring(16)}__init4(){this.startTimestamp=(0,S._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(C){if(g.prototype.__init2.call(this),g.prototype.__init3.call(this),g.prototype.__init4.call(this),g.prototype.__init5.call(this),g.prototype.__init6.call(this),!C)return this;C.traceId&&(this.traceId=C.traceId),C.spanId&&(this.spanId=C.spanId),C.parentSpanId&&(this.parentSpanId=C.parentSpanId),"sampled"in C&&(this.sampled=C.sampled),C.op&&(this.op=C.op),C.description&&(this.description=C.description),C.data&&(this.data=C.data),C.tags&&(this.tags=C.tags),C.status&&(this.status=C.status),C.startTimestamp&&(this.startTimestamp=C.startTimestamp),C.endTimestamp&&(this.endTimestamp=C.endTimestamp)}startChild(C){var M=new g(ci(rt({},C),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(M.spanRecorder=this.spanRecorder,M.spanRecorder&&M.spanRecorder.add(M),M.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&M.transaction){var F=`[Tracing] Starting '${C&&C.op||"< unknown op >"}' span on transaction '${M.transaction.name||"< unknown name >"}' (${M.transaction.spanId}).`;M.transaction.metadata.spanMetadata[M.spanId]={logMessage:F},T.kg.log(F)}return M}setTag(C,M){return this.tags=ci(rt({},this.tags),{[C]:M}),this}setData(C,M){return this.data=ci(rt({},this.data),{[C]:M}),this}setStatus(C){return this.status=C,this}setHttpStatus(C){this.setTag("http.status_code",String(C));var M=function _(p){if(p<400&&p>=100)return"ok";if(p>=400&&p<500)switch(p){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(p>=500&&p<600)switch(p){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(C);return"unknown_error"!==M&&this.setStatus(M),this}isSuccess(){return"ok"===this.status}finish(C){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:M}=this.transaction.metadata.spanMetadata[this.spanId];M&&T.kg.log(M.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof C?C:(0,S._I)()}toTraceparent(){let C="";return void 0!==this.sampled&&(C=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${C}`}toContext(){return(0,y.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(C){return this.data=(0,h.h)(C.data,()=>({})),this.description=C.description,this.endTimestamp=C.endTimestamp,this.op=C.op,this.parentSpanId=C.parentSpanId,this.sampled=C.sampled,this.spanId=(0,h.h)(C.spanId,()=>this.spanId),this.startTimestamp=(0,h.h)(C.startTimestamp,()=>this.startTimestamp),this.status=C.status,this.tags=(0,h.h)(C.tags,()=>({})),this.traceId=(0,h.h)(C.traceId,()=>this.traceId),this}getTraceContext(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,y.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},7583:(ke,V,x)=>{"use strict";x.d(V,{Y:()=>g});var h=x(7516),w=x(9248),S=x(1446),T=x(7759),y=x(9981),m=x(6190);class g extends m.Dr{__init(){this._measurements={}}constructor(p,C){super(p),g.prototype.__init.call(this),this._hub=C||(0,w.Gd)(),this._name=p.name||"",this.metadata=ci(rt({},p.metadata),{spanMetadata:{}}),this._trimEnd=p.trimEnd,this.transaction=this}get name(){return this._name}set name(p){this._name=p,this.metadata.source="custom"}setName(p,C="custom"){this.name=p,this.metadata.source=C}initSpanRecorder(p=1e3){this.spanRecorder||(this.spanRecorder=new m.gB(p)),this.spanRecorder.add(this)}setMeasurement(p,C,M=""){this._measurements[p]={value:C,unit:M}}setMetadata(p){this.metadata=rt(rt({},this.metadata),p)}finish(p){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(p),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var C=this._hub.getClient();return void(C&&C.recordDroppedEvent("sample_rate","transaction"))}var M=this.spanRecorder?this.spanRecorder.spans.filter(F=>F!==this&&F.endTimestamp):[];this._trimEnd&&M.length>0&&(this.endTimestamp=M.reduce((F,U)=>F.endTimestamp&&U.endTimestamp?F.endTimestamp>U.endTimestamp?F:U:F).endTimestamp);var f=this.metadata,b=rt({contexts:{trace:this.getTraceContext()},spans:M,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:ci(rt({},f),{baggage:this.getBaggage()})},f.source&&{transaction_info:{source:f.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),b.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(b)}}toContext(){var p=super.toContext();return(0,T.Jr)(ci(rt({},p),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(p){return super.updateWithContext(p),this.name=(0,h.h)(p.name,()=>""),this._trimEnd=p.trimEnd,this}getBaggage(){var p=this.metadata.baggage,C=!p||(0,y.Gp)(p)?this._populateBaggageWithSentryValues(p):p;return this.metadata.baggage=C,C}_populateBaggageWithSentryValues(p=(0,y.Hn)({})){var C=this._hub||(0,w.Gd)(),M=C&&C.getClient();if(!M)return p;const{environment:f,release:b}=M.getOptions()||{},{publicKey:O}=M.getDsn()||{};var F=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),U=C.getScope();const{segment:z}=U&&U.getUser()||{};var q=this.metadata.source;return(0,y.Hn)((0,T.Jr)(rt({environment:f,release:b,transaction:q&&"url"!==q?this.name:void 0,user_segment:z,public_key:O,trace_id:this.traceId,sample_rate:F},(0,y.Hk)(p))),"",!1)}}},1255:(ke,V,x)=>{"use strict";x.d(V,{XL:()=>T,x1:()=>S,zu:()=>w});var h=x(9248);function w(m){var g=(0,h.Gd)().getClient(),_=m||g&&g.getOptions();return!!_&&("tracesSampleRate"in _||"tracesSampler"in _)}function S(m){var _=(m||(0,h.Gd)()).getScope();return _&&_.getTransaction()}function T(m){return m/1e3}},9981:(ke,V,x)=>{"use strict";x.d(V,{Gp:()=>b,Hk:()=>M,Hn:()=>g,J8:()=>z,bU:()=>S,rg:()=>q});var h=x(6412),w=x(1446),S="baggage",y=/^sentry-/;function g(H,Y="",G=!0){return[rt({},H),Y,G]}function M(H){return H[0]}function b(H){return H[2]}function U(H,Y=!1){return!Array.isArray(H)&&!(0,h.HD)(H)||"number"==typeof H?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof H,H),g({},"")):((0,h.HD)(H)?H:H.join(",")).split(",").map(X=>X.trim()).filter(X=>""!==X&&(Y||y.test(X))).reduce(([X,ae],Q)=>{const[ue,oe]=Q.split("=");if(y.test(ue)){var Ee=decodeURIComponent(ue.split("-")[1]);return[ci(rt({},X),{[Ee]:decodeURIComponent(oe)}),ae,!0]}return[X,""===ae?Q:`${ae},${Q}`,!0]},[{},"",!0])}function z(H,Y){if(!H&&!Y)return"";var G=Y&&U(Y,!0)||void 0,X=G&&function f(H){return H[1]}(G);return function F(H){return Object.keys(H[0]).reduce((Y,G)=>{var X=H[0][G],ae=`sentry-${encodeURIComponent(G)}=${encodeURIComponent(X)}`,Q=""===Y?ae:`${Y},${ae}`;return Q.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn(`Not adding key: ${G} with val: ${X} to baggage due to exceeding baggage size limits.`),Y):Q},H[1])}(g(H&&H[0]||{},X||""))}function q(H,Y){var G=U(H||"");return(Y||!function C(H){return 0===Object.keys(H[0]).length}(G))&&function O(H){H[2]=!1}(G),G}},6477:(ke,V,x)=>{"use strict";x.d(V,{Rt:()=>S,l4:()=>y,qT:()=>m});var h=x(7576),w=x(6412);function S(g,_){try{let O=g;var M=[];let F=0,U=0;var b=" > ".length;let z;for(;O&&F++<5&&(z=T(O,_),!("html"===z||F>1&&U+M.length*b+z.length>=80));)M.push(z),U+=z.length,O=O.parentNode;return M.reverse().join(" > ")}catch(O){return"<unknown>"}}function T(g,_){var p=g,C=[];let M,f,b,O,F;if(!p||!p.tagName)return"";C.push(p.tagName.toLowerCase());var U=_&&_.length?_.filter(q=>p.getAttribute(q)).map(q=>[q,p.getAttribute(q)]):null;if(U&&U.length)U.forEach(q=>{C.push(`[${q[0]}="${q[1]}"]`)});else if(p.id&&C.push(`#${p.id}`),M=p.className,M&&(0,w.HD)(M))for(f=M.split(/\s+/),F=0;F<f.length;F++)C.push(`.${f[F]}`);var z=["type","name","title","alt"];for(F=0;F<z.length;F++)b=z[F],O=p.getAttribute(b),O&&C.push(`[${b}="${O}"]`);return C.join("")}function y(){var g=(0,h.R)();try{return g.document.location.href}catch(_){return""}}function m(g){var _=(0,h.R)();return _.document&&_.document.querySelector?_.document.querySelector(g):null}},7516:(ke,V,x)=>{"use strict";function h(w,S){return null!=w?w:S()}x.d(V,{h:()=>h})},7576:(ke,V,x)=>{"use strict";x.d(V,{R:()=>S,Y:()=>T});var h=x(723),w={};function S(){return(0,h.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:w}function T(y,m,g){var _=g||S(),p=_.__SENTRY__=_.__SENTRY__||{};return p[y]||(p[y]=m())}},3343:(ke,V,x)=>{"use strict";x.d(V,{o:()=>M});var h=x(7576),w=x(6412),S=x(1446),T=x(7759),y=x(9725),m=x(8204),g=(0,h.R)(),_={},p={};function M(ie,me){_[ie]=_[ie]||[],_[ie].push(me),function C(ie){if(!p[ie])switch(p[ie]=!0,ie){case"console":!function b(){"console"in g&&S.RU.forEach(function(ie){ie in g.console&&(0,T.hl)(g.console,ie,function(me){return function(...ce){f("console",{args:ce,level:ie}),me&&me.apply(g.console,ce)}})})}();break;case"dom":!function oe(){if("document"in g){var ie=f.bind(null,"dom"),me=ue(ie,!0);g.document.addEventListener("click",me,!1),g.document.addEventListener("keypress",me,!1),["EventTarget","Node"].forEach(ce=>{var Be=g[ce]&&g[ce].prototype;!Be||!Be.hasOwnProperty||!Be.hasOwnProperty("addEventListener")||((0,T.hl)(Be,"addEventListener",function(fe){return function(be,we,qe){if("click"===be||"keypress"==be)try{var $e=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},Gt=$e[be]=$e[be]||{refCount:0};if(!Gt.handler){var ht=ue(ie);Gt.handler=ht,fe.call(this,be,ht,qe)}Gt.refCount+=1}catch(Je){}return fe.call(this,be,we,qe)}}),(0,T.hl)(Be,"removeEventListener",function(fe){return function(be,we,qe){if("click"===be||"keypress"==be)try{var $e=this.__sentry_instrumentation_handlers__||{},Gt=$e[be];Gt&&(Gt.refCount-=1,Gt.refCount<=0&&(fe.call(this,be,Gt.handler,qe),Gt.handler=void 0,delete $e[be]),0===Object.keys($e).length&&delete this.__sentry_instrumentation_handlers__)}catch(ht){}return fe.call(this,be,we,qe)}}))})}}();break;case"xhr":!function z(){if("XMLHttpRequest"in g){var ie=XMLHttpRequest.prototype;(0,T.hl)(ie,"open",function(me){return function(...ce){var Be=this,fe=ce[1],be=Be.__sentry_xhr__={method:(0,w.HD)(ce[0])?ce[0].toUpperCase():ce[0],url:ce[1]};(0,w.HD)(fe)&&"POST"===be.method&&fe.match(/sentry_key/)&&(Be.__sentry_own_request__=!0);var we=function(){if(4===Be.readyState){try{be.status_code=Be.status}catch(qe){}f("xhr",{args:ce,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:Be})}};return"onreadystatechange"in Be&&"function"==typeof Be.onreadystatechange?(0,T.hl)(Be,"onreadystatechange",function(qe){return function(...pt){return we(),qe.apply(Be,pt)}}):Be.addEventListener("readystatechange",we),me.apply(Be,ce)}}),(0,T.hl)(ie,"send",function(me){return function(...ce){return this.__sentry_xhr__&&void 0!==ce[0]&&(this.__sentry_xhr__.body=ce[0]),f("xhr",{args:ce,startTimestamp:Date.now(),xhr:this}),me.apply(this,ce)}})}}();break;case"fetch":!function O(){!(0,m.t$)()||(0,T.hl)(g,"fetch",function(ie){return function(...me){var ce={args:me,fetchData:{method:F(me),url:U(me)},startTimestamp:Date.now()};return f("fetch",rt({},ce)),ie.apply(g,me).then(Be=>(f("fetch",ci(rt({},ce),{endTimestamp:Date.now(),response:Be})),Be),Be=>{throw f("fetch",ci(rt({},ce),{endTimestamp:Date.now(),error:Be})),Be})}})}();break;case"history":!function H(){if((0,m.Bf)()){var ie=g.onpopstate;g.onpopstate=function(...ce){var Be=g.location.href,fe=q;if(q=Be,f("history",{from:fe,to:Be}),ie)try{return ie.apply(this,ce)}catch(be){}},(0,T.hl)(g.history,"pushState",me),(0,T.hl)(g.history,"replaceState",me)}function me(ce){return function(...Be){var fe=Be.length>2?Be[2]:void 0;if(fe){var be=q,we=String(fe);q=we,f("history",{from:be,to:we})}return ce.apply(this,Be)}}}();break;case"error":!function Ge(){Ee=g.onerror,g.onerror=function(ie,me,ce,Be,fe){return f("error",{column:Be,error:fe,line:ce,msg:ie,url:me}),!!Ee&&Ee.apply(this,arguments)}}();break;case"unhandledrejection":!function Le(){Ne=g.onunhandledrejection,g.onunhandledrejection=function(ie){return f("unhandledrejection",ie),!Ne||Ne.apply(this,arguments)}}();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.warn("unknown instrumentation type:",ie))}}(ie)}function f(ie,me){if(ie&&_[ie])for(var ce of _[ie]||[])try{ce(me)}catch(Be){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&S.kg.error(`Error while triggering instrumentation handler.\nType: ${ie}\nName: ${(0,y.$P)(ce)}\nError:`,Be)}}function F(ie=[]){return"Request"in g&&(0,w.V9)(ie[0],Request)&&ie[0].method?String(ie[0].method).toUpperCase():ie[1]&&ie[1].method?String(ie[1].method).toUpperCase():"GET"}function U(ie=[]){return"string"==typeof ie[0]?ie[0]:"Request"in g&&(0,w.V9)(ie[0],Request)?ie[0].url:String(ie[0])}let q,G,X;function ue(ie,me=!1){return ce=>{if(ce&&X!==ce&&!function Q(ie){if("keypress"!==ie.type)return!1;try{var me=ie.target;if(!me||!me.tagName)return!0;if("INPUT"===me.tagName||"TEXTAREA"===me.tagName||me.isContentEditable)return!1}catch(ce){}return!0}(ce)){var Be="keypress"===ce.type?"input":ce.type;(void 0===G||function ae(ie,me){if(!ie||ie.type!==me.type)return!0;try{if(ie.target!==me.target)return!0}catch(ce){}return!1}(X,ce))&&(ie({event:ce,name:Be,global:me}),X=ce),clearTimeout(G),G=g.setTimeout(()=>{G=void 0},1e3)}}}let Ee=null,Ne=null},6412:(ke,V,x)=>{"use strict";x.d(V,{Cy:()=>O,HD:()=>g,J8:()=>b,Kj:()=>f,PO:()=>p,TX:()=>y,V9:()=>U,VW:()=>T,VZ:()=>w,cO:()=>C,fm:()=>m,i2:()=>F,kK:()=>M,pt:()=>_});var h=Object.prototype.toString;function w(z){switch(h.call(z)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return U(z,Error)}}function S(z,q){return h.call(z)===`[object ${q}]`}function T(z){return S(z,"ErrorEvent")}function y(z){return S(z,"DOMError")}function m(z){return S(z,"DOMException")}function g(z){return S(z,"String")}function _(z){return null===z||"object"!=typeof z&&"function"!=typeof z}function p(z){return S(z,"Object")}function C(z){return"undefined"!=typeof Event&&U(z,Event)}function M(z){return"undefined"!=typeof Element&&U(z,Element)}function f(z){return S(z,"RegExp")}function b(z){return Boolean(z&&z.then&&"function"==typeof z.then)}function O(z){return p(z)&&"nativeEvent"in z&&"preventDefault"in z&&"stopPropagation"in z}function F(z){return"number"==typeof z&&z!=z}function U(z,q){try{return z instanceof q}catch(H){return!1}}},1446:(ke,V,x)=>{"use strict";x.d(V,{Cf:()=>y,RU:()=>T,kg:()=>g});var h=x(7576),w=(0,h.R)(),T=["debug","info","warn","error","log","assert","trace"];function y(_){var p=(0,h.R)();if(!("console"in p))return _();var C=p.console,M={};T.forEach(f=>{var b=C[f]&&C[f].__sentry_original__;f in p.console&&b&&(M[f]=C[f],C[f]=b)});try{return _()}finally{Object.keys(M).forEach(f=>{C[f]=M[f]})}}function m(){let _=!1;var p={enable:()=>{_=!0},disable:()=>{_=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?T.forEach(C=>{p[C]=(...M)=>{_&&y(()=>{w.console[C](`Sentry Logger [${C}]:`,...M)})}}):T.forEach(C=>{p[C]=()=>{}}),p}let g;g="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,h.Y)("logger",m):m()},5535:(ke,V,x)=>{"use strict";x.d(V,{DM:()=>S,Db:()=>m,EG:()=>g,YO:()=>M,jH:()=>y,lE:()=>f});var h=x(7576),w=x(7759);function S(){var b=(0,h.R)(),O=b.crypto||b.msCrypto;if(O&&O.randomUUID)return O.randomUUID().replace(/-/g,"");var F=O&&O.getRandomValues?()=>O.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,U=>(U^(15&F())>>U/4).toString(16))}function T(b){return b.exception&&b.exception.values?b.exception.values[0]:void 0}function y(b){const{message:O,event_id:F}=b;if(O)return O;var U=T(b);return U?U.type&&U.value?`${U.type}: ${U.value}`:U.type||U.value||F||"<unknown>":F||"<unknown>"}function m(b,O,F){var U=b.exception=b.exception||{},z=U.values=U.values||[],q=z[0]=z[0]||{};q.value||(q.value=O||""),q.type||(q.type=F||"Error")}function g(b,O){var F=T(b);if(F){var z=F.mechanism;if(F.mechanism=rt(rt(rt({},{type:"generic",handled:!0}),z),O),O&&"data"in O){var q=rt(rt({},z&&z.data),O.data);F.mechanism.data=q}}}function M(b){if(b&&b.__sentry_captured__)return!0;try{(0,w.xp)(b,"__sentry_captured__",!0)}catch(O){}return!1}function f(b){return Array.isArray(b)?b:[b]}},723:(ke,V,x)=>{"use strict";function w(){return!function h(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function S(y,m){return y.require(m)}function T(y){let m;try{m=S(ke,y)}catch(g){}try{const{cwd:g}=S(ke,"process");m=S(ke,`${g()}/node_modules/${y}`)}catch(g){}return m}x.d(V,{l$:()=>S,KV:()=>w,$y:()=>T}),ke=x.hmd(ke)},7759:(ke,V,x)=>{"use strict";x.d(V,{$Q:()=>m,HK:()=>g,Jr:()=>b,Sh:()=>p,_j:()=>_,hl:()=>T,xp:()=>y,zf:()=>f});var h=x(6477),w=x(6412),S=x(1090);function T(U,z,q){if(z in U){var H=U[z],Y=q(H);if("function"==typeof Y)try{m(Y,H)}catch(G){}U[z]=Y}}function y(U,z,q){Object.defineProperty(U,z,{value:q,writable:!0,configurable:!0})}function m(U,z){U.prototype=z.prototype=z.prototype||{},y(U,"__sentry_original__",z)}function g(U){return U.__sentry_original__}function _(U){return Object.keys(U).map(z=>`${encodeURIComponent(z)}=${encodeURIComponent(U[z])}`).join("&")}function p(U){if((0,w.VZ)(U))return rt({message:U.message,name:U.name,stack:U.stack},M(U));if((0,w.cO)(U)){var z=rt({type:U.type,target:C(U.target),currentTarget:C(U.currentTarget)},M(U));return"undefined"!=typeof CustomEvent&&(0,w.V9)(U,CustomEvent)&&(z.detail=U.detail),z}return U}function C(U){try{return(0,w.kK)(U)?(0,h.Rt)(U):Object.prototype.toString.call(U)}catch(z){return"<unknown>"}}function M(U){if("object"==typeof U&&null!==U){var z={};for(var q in U)Object.prototype.hasOwnProperty.call(U,q)&&(z[q]=U[q]);return z}return{}}function f(U,z=40){var q=Object.keys(p(U));if(q.sort(),!q.length)return"[object has no keys]";if(q[0].length>=z)return(0,S.$G)(q[0],z);for(let Y=q.length;Y>0;Y--){var H=q.slice(0,Y).join(", ");if(!(H.length>z))return Y===q.length?H:(0,S.$G)(H,z)}return""}function b(U){return O(U,new Map)}function O(U,z){if((0,w.PO)(U)){if(void 0!==(q=z.get(U)))return q;var H={};for(var Y of(z.set(U,H),Object.keys(U)))void 0!==U[Y]&&(H[Y]=O(U[Y],z));return H}var q;return Array.isArray(U)?void 0!==(q=z.get(U))?q:(z.set(U,H=[]),U.forEach(ae=>{H.push(O(ae,z))}),H):U}},9725:(ke,V,x)=>{"use strict";function w(...p){var C=p.sort((M,f)=>M[0]-f[0]).map(M=>M[1]);return(M,f=0)=>{var b=[];for(var O of M.split("\n").slice(f)){var F=O.replace(/\(error: (.*)\)/,"$1");for(var U of C){var z=U(F);if(z){b.push(z);break}}}return function T(p){if(!p.length)return[];let C=p;var M=C[0].function||"",f=C[C.length-1].function||"";return(-1!==M.indexOf("captureMessage")||-1!==M.indexOf("captureException"))&&(C=C.slice(1)),-1!==f.indexOf("sentryWrapped")&&(C=C.slice(0,-1)),C.slice(0,50).map(b=>ci(rt({},b),{filename:b.filename||C[0].filename,function:b.function||"?"})).reverse()}(b)}}function S(p){return Array.isArray(p)?w(...p):p}x.d(V,{$P:()=>m,Sq:()=>S,pE:()=>w});var y="<anonymous>";function m(p){try{return p&&"function"==typeof p&&p.name||y}catch(C){return y}}},1090:(ke,V,x)=>{"use strict";x.d(V,{$G:()=>w,nK:()=>T,zC:()=>y});var h=x(6412);function w(g,_=0){return"string"!=typeof g||0===_||g.length<=_?g:`${g.substr(0,_)}...`}function T(g,_){if(!Array.isArray(g))return"";var p=[];for(let M=0;M<g.length;M++){var C=g[M];try{p.push(String(C))}catch(f){p.push("[value cannot be serialized]")}}return p.join(_)}function y(g,_){return!!(0,h.HD)(g)&&((0,h.Kj)(_)?_.test(g):"string"==typeof _&&-1!==g.indexOf(_))}},8204:(ke,V,x)=>{"use strict";x.d(V,{Ak:()=>m,Bf:()=>M,Du:()=>g,t$:()=>_});var h=x(7576),w=x(1446);function m(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(f){return!1}}function g(f){return f&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(f.toString())}function _(){if(!m())return!1;var f=(0,h.R)();if(g(f.fetch))return!0;let b=!1;var O=f.document;if(O&&"function"==typeof O.createElement)try{var F=O.createElement("iframe");F.hidden=!0,O.head.appendChild(F),F.contentWindow&&F.contentWindow.fetch&&(b=g(F.contentWindow.fetch)),O.head.removeChild(F)}catch(U){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&w.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",U)}return b}function M(){var f=(0,h.R)(),b=f.chrome;return!(b&&b.app&&b.app.runtime||!("history"in f)||!f.history.pushState||!f.history.replaceState)}},509:(ke,V,x)=>{"use strict";x.d(V,{$2:()=>T,WD:()=>S,cW:()=>y});var w,m,h=x(6412);function S(m){return new y(g=>{g(m)})}function T(m){return new y((g,_)=>{_(m)})}(m=w||(w={}))[m.PENDING=0]="PENDING",m[m.RESOLVED=1]="RESOLVED",m[m.REJECTED=2]="REJECTED";class y{__init(){this._state=w.PENDING}__init2(){this._handlers=[]}constructor(g){y.prototype.__init.call(this),y.prototype.__init2.call(this),y.prototype.__init3.call(this),y.prototype.__init4.call(this),y.prototype.__init5.call(this),y.prototype.__init6.call(this);try{g(this._resolve,this._reject)}catch(_){this._reject(_)}}then(g,_){return new y((p,C)=>{this._handlers.push([!1,M=>{if(g)try{p(g(M))}catch(f){C(f)}else p(M)},M=>{if(_)try{p(_(M))}catch(f){C(f)}else C(M)}]),this._executeHandlers()})}catch(g){return this.then(_=>_,g)}finally(g){return new y((_,p)=>{let C,M;return this.then(f=>{M=!1,C=f,g&&g()},f=>{M=!0,C=f,g&&g()}).then(()=>{M?p(C):_(C)})})}__init3(){this._resolve=g=>{this._setResult(w.RESOLVED,g)}}__init4(){this._reject=g=>{this._setResult(w.REJECTED,g)}}__init5(){this._setResult=(g,_)=>{if(this._state===w.PENDING){if((0,h.J8)(_))return void _.then(this._resolve,this._reject);this._state=g,this._value=_,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==w.PENDING){var g=this._handlers.slice();this._handlers=[],g.forEach(_=>{_[0]||(this._state===w.RESOLVED&&_[1](this._value),this._state===w.REJECTED&&_[2](this._value),_[0]=!0)})}}}}},3967:(ke,V,x)=>{"use strict";x.d(V,{Z1:()=>b,_I:()=>C,ph:()=>p,yW:()=>_});var h=x(7576),w=x(723);ke=x.hmd(ke);var S={nowSeconds:()=>Date.now()/1e3},m=(0,w.KV)()?function y(){try{return(0,w.l$)(ke,"perf_hooks").performance}catch(F){return}}():function T(){const{performance:O}=(0,h.R)();if(O&&O.now)return{now:()=>O.now(),timeOrigin:Date.now()-O.now()}}(),g=void 0===m?S:{nowSeconds:()=>(m.timeOrigin+m.now())/1e3},_=S.nowSeconds.bind(S),p=g.nowSeconds.bind(g),C=p;let f;var b=(()=>{const{performance:O}=(0,h.R)();if(O&&O.now){var F=36e5,U=O.now(),z=Date.now(),q=O.timeOrigin?Math.abs(O.timeOrigin+U-z):F,H=q<F,Y=O.timing&&O.timing.navigationStart,X="number"==typeof Y?Math.abs(Y+U-z):F;return H||X<F?q<=X?(f="timeOrigin",O.timeOrigin):(f="navigationStart",Y):(f="dateNow",z)}f="none"})()},5469:ke=>{"use strict";function V(ie,me,ce){ce=ce||2;var qe,pt,$e,Gt,ht,Je,de,Be=me&&me.length,fe=Be?me[0]*ce:ie.length,be=x(ie,0,fe,ce,!0),we=[];if(!be||be.next===be.prev)return we;if(Be&&(be=function g(ie,me,ce,Be){var be,we,$e,fe=[];for(be=0,we=me.length;be<we;be++)($e=x(ie,me[be]*Be,be<we-1?me[be+1]*Be:ie.length,Be,!1))===$e.next&&($e.steiner=!0),fe.push(F($e));for(fe.sort(_),be=0;be<fe.length;be++)ce=h(ce=p(fe[be],ce),ce.next);return ce}(ie,me,be,ce)),ie.length>80*ce){qe=$e=ie[0],pt=Gt=ie[1];for(var Me=ce;Me<fe;Me+=ce)(ht=ie[Me])<qe&&(qe=ht),(Je=ie[Me+1])<pt&&(pt=Je),ht>$e&&($e=ht),Je>Gt&&(Gt=Je);de=0!==(de=Math.max($e-qe,Gt-pt))?1/de:0}return w(be,we,ce,qe,pt,de),we}function x(ie,me,ce,Be,fe){var be,we;if(fe===Le(ie,me,ce,Be)>0)for(be=me;be<ce;be+=Be)we=Ee(be,ie[be],ie[be+1],we);else for(be=ce-Be;be>=me;be-=Be)we=Ee(be,ie[be],ie[be+1],we);return we&&H(we,we.next)&&(Ge(we),we=we.next),we}function h(ie,me){if(!ie)return ie;me||(me=ie);var Be,ce=ie;do{if(Be=!1,ce.steiner||!H(ce,ce.next)&&0!==q(ce.prev,ce,ce.next))ce=ce.next;else{if(Ge(ce),(ce=me=ce.prev)===ce.next)break;Be=!0}}while(Be||ce!==me);return me}function w(ie,me,ce,Be,fe,be,we){if(ie){!we&&be&&function f(ie,me,ce,Be){var fe=ie;do{null===fe.z&&(fe.z=O(fe.x,fe.y,me,ce,Be)),fe.prevZ=fe.prev,fe.nextZ=fe.next,fe=fe.next}while(fe!==ie);fe.prevZ.nextZ=null,fe.prevZ=null,function b(ie){var me,ce,Be,fe,be,we,qe,pt,$e=1;do{for(ce=ie,ie=null,be=null,we=0;ce;){for(we++,Be=ce,qe=0,me=0;me<$e&&(qe++,Be=Be.nextZ);me++);for(pt=$e;qe>0||pt>0&&Be;)0!==qe&&(0===pt||!Be||ce.z<=Be.z)?(fe=ce,ce=ce.nextZ,qe--):(fe=Be,Be=Be.nextZ,pt--),be?be.nextZ=fe:ie=fe,fe.prevZ=be,be=fe;ce=Be}be.nextZ=null,$e*=2}while(we>1)}(fe)}(ie,Be,fe,be);for(var pt,$e,qe=ie;ie.prev!==ie.next;)if(pt=ie.prev,$e=ie.next,be?T(ie,Be,fe,be):S(ie))me.push(pt.i/ce),me.push(ie.i/ce),me.push($e.i/ce),Ge(ie),ie=$e.next,qe=$e.next;else if((ie=$e)===qe){we?1===we?w(ie=y(h(ie),me,ce),me,ce,Be,fe,be,2):2===we&&m(ie,me,ce,Be,fe,be):w(h(ie),me,ce,Be,fe,be,1);break}}}function S(ie){var me=ie.prev,ce=ie,Be=ie.next;if(q(me,ce,Be)>=0)return!1;for(var fe=ie.next.next;fe!==ie.prev;){if(U(me.x,me.y,ce.x,ce.y,Be.x,Be.y,fe.x,fe.y)&&q(fe.prev,fe,fe.next)>=0)return!1;fe=fe.next}return!0}function T(ie,me,ce,Be){var fe=ie.prev,be=ie,we=ie.next;if(q(fe,be,we)>=0)return!1;for(var $e=fe.x>be.x?fe.x>we.x?fe.x:we.x:be.x>we.x?be.x:we.x,Gt=fe.y>be.y?fe.y>we.y?fe.y:we.y:be.y>we.y?be.y:we.y,ht=O(fe.x<be.x?fe.x<we.x?fe.x:we.x:be.x<we.x?be.x:we.x,fe.y<be.y?fe.y<we.y?fe.y:we.y:be.y<we.y?be.y:we.y,me,ce,Be),Je=O($e,Gt,me,ce,Be),de=ie.prevZ,Me=ie.nextZ;de&&de.z>=ht&&Me&&Me.z<=Je;){if(de!==ie.prev&&de!==ie.next&&U(fe.x,fe.y,be.x,be.y,we.x,we.y,de.x,de.y)&&q(de.prev,de,de.next)>=0||(de=de.prevZ,Me!==ie.prev&&Me!==ie.next&&U(fe.x,fe.y,be.x,be.y,we.x,we.y,Me.x,Me.y)&&q(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;de&&de.z>=ht;){if(de!==ie.prev&&de!==ie.next&&U(fe.x,fe.y,be.x,be.y,we.x,we.y,de.x,de.y)&&q(de.prev,de,de.next)>=0)return!1;de=de.prevZ}for(;Me&&Me.z<=Je;){if(Me!==ie.prev&&Me!==ie.next&&U(fe.x,fe.y,be.x,be.y,we.x,we.y,Me.x,Me.y)&&q(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function y(ie,me,ce){var Be=ie;do{var fe=Be.prev,be=Be.next.next;!H(fe,be)&&Y(fe,Be,Be.next,be)&&Q(fe,be)&&Q(be,fe)&&(me.push(fe.i/ce),me.push(Be.i/ce),me.push(be.i/ce),Ge(Be),Ge(Be.next),Be=ie=be),Be=Be.next}while(Be!==ie);return h(Be)}function m(ie,me,ce,Be,fe,be){var we=ie;do{for(var qe=we.next.next;qe!==we.prev;){if(we.i!==qe.i&&z(we,qe)){var pt=oe(we,qe);return we=h(we,we.next),pt=h(pt,pt.next),w(we,me,ce,Be,fe,be),void w(pt,me,ce,Be,fe,be)}qe=qe.next}we=we.next}while(we!==ie)}function _(ie,me){return ie.x-me.x}function p(ie,me){var ce=function C(ie,me){var we,ce=me,Be=ie.x,fe=ie.y,be=-1/0;do{if(fe<=ce.y&&fe>=ce.next.y&&ce.next.y!==ce.y){var qe=ce.x+(fe-ce.y)*(ce.next.x-ce.x)/(ce.next.y-ce.y);if(qe<=Be&&qe>be){if(be=qe,qe===Be){if(fe===ce.y)return ce;if(fe===ce.next.y)return ce.next}we=ce.x<ce.next.x?ce:ce.next}}ce=ce.next}while(ce!==me);if(!we)return null;if(Be===be)return we;var Je,pt=we,$e=we.x,Gt=we.y,ht=1/0;ce=we;do{Be>=ce.x&&ce.x>=$e&&Be!==ce.x&&U(fe<Gt?Be:be,fe,$e,Gt,fe<Gt?be:Be,fe,ce.x,ce.y)&&(Je=Math.abs(fe-ce.y)/(Be-ce.x),Q(ce,ie)&&(Je<ht||Je===ht&&(ce.x>we.x||ce.x===we.x&&M(we,ce)))&&(we=ce,ht=Je)),ce=ce.next}while(ce!==pt);return we}(ie,me);if(!ce)return me;var Be=oe(ce,ie),fe=h(ce,ce.next);return h(Be,Be.next),me===ce?fe:me}function M(ie,me){return q(ie.prev,ie,me.prev)<0&&q(me.next,ie,ie.next)<0}function O(ie,me,ce,Be,fe){return(ie=1431655765&((ie=858993459&((ie=252645135&((ie=16711935&((ie=32767*(ie-ce)*fe)|ie<<8))|ie<<4))|ie<<2))|ie<<1))|(me=1431655765&((me=858993459&((me=252645135&((me=16711935&((me=32767*(me-Be)*fe)|me<<8))|me<<4))|me<<2))|me<<1))<<1}function F(ie){var me=ie,ce=ie;do{(me.x<ce.x||me.x===ce.x&&me.y<ce.y)&&(ce=me),me=me.next}while(me!==ie);return ce}function U(ie,me,ce,Be,fe,be,we,qe){return(fe-we)*(me-qe)-(ie-we)*(be-qe)>=0&&(ie-we)*(Be-qe)-(ce-we)*(me-qe)>=0&&(ce-we)*(be-qe)-(fe-we)*(Be-qe)>=0}function z(ie,me){return ie.next.i!==me.i&&ie.prev.i!==me.i&&!function ae(ie,me){var ce=ie;do{if(ce.i!==ie.i&&ce.next.i!==ie.i&&ce.i!==me.i&&ce.next.i!==me.i&&Y(ce,ce.next,ie,me))return!0;ce=ce.next}while(ce!==ie);return!1}(ie,me)&&(Q(ie,me)&&Q(me,ie)&&function ue(ie,me){var ce=ie,Be=!1,fe=(ie.x+me.x)/2,be=(ie.y+me.y)/2;do{ce.y>be!=ce.next.y>be&&ce.next.y!==ce.y&&fe<(ce.next.x-ce.x)*(be-ce.y)/(ce.next.y-ce.y)+ce.x&&(Be=!Be),ce=ce.next}while(ce!==ie);return Be}(ie,me)&&(q(ie.prev,ie,me.prev)||q(ie,me.prev,me))||H(ie,me)&&q(ie.prev,ie,ie.next)>0&&q(me.prev,me,me.next)>0)}function q(ie,me,ce){return(me.y-ie.y)*(ce.x-me.x)-(me.x-ie.x)*(ce.y-me.y)}function H(ie,me){return ie.x===me.x&&ie.y===me.y}function Y(ie,me,ce,Be){var fe=X(q(ie,me,ce)),be=X(q(ie,me,Be)),we=X(q(ce,Be,ie)),qe=X(q(ce,Be,me));return!!(fe!==be&&we!==qe||0===fe&&G(ie,ce,me)||0===be&&G(ie,Be,me)||0===we&&G(ce,ie,Be)||0===qe&&G(ce,me,Be))}function G(ie,me,ce){return me.x<=Math.max(ie.x,ce.x)&&me.x>=Math.min(ie.x,ce.x)&&me.y<=Math.max(ie.y,ce.y)&&me.y>=Math.min(ie.y,ce.y)}function X(ie){return ie>0?1:ie<0?-1:0}function Q(ie,me){return q(ie.prev,ie,ie.next)<0?q(ie,me,ie.next)>=0&&q(ie,ie.prev,me)>=0:q(ie,me,ie.prev)<0||q(ie,ie.next,me)<0}function oe(ie,me){var ce=new Ne(ie.i,ie.x,ie.y),Be=new Ne(me.i,me.x,me.y),fe=ie.next,be=me.prev;return ie.next=me,me.prev=ie,ce.next=fe,fe.prev=ce,Be.next=ce,ce.prev=Be,be.next=Be,Be.prev=be,Be}function Ee(ie,me,ce,Be){var fe=new Ne(ie,me,ce);return Be?(fe.next=Be.next,fe.prev=Be,Be.next.prev=fe,Be.next=fe):(fe.prev=fe,fe.next=fe),fe}function Ge(ie){ie.next.prev=ie.prev,ie.prev.next=ie.next,ie.prevZ&&(ie.prevZ.nextZ=ie.nextZ),ie.nextZ&&(ie.nextZ.prevZ=ie.prevZ)}function Ne(ie,me,ce){this.i=ie,this.x=me,this.y=ce,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Le(ie,me,ce,Be){for(var fe=0,be=me,we=ce-Be;be<ce;be+=Be)fe+=(ie[we]-ie[be])*(ie[be+1]+ie[we+1]),we=be;return fe}ke.exports=V,ke.exports.default=V,V.deviation=function(ie,me,ce,Be){var fe=me&&me.length,we=Math.abs(Le(ie,0,fe?me[0]*ce:ie.length,ce));if(fe)for(var qe=0,pt=me.length;qe<pt;qe++)we-=Math.abs(Le(ie,me[qe]*ce,qe<pt-1?me[qe+1]*ce:ie.length,ce));var ht=0;for(qe=0;qe<Be.length;qe+=3){var Je=Be[qe]*ce,de=Be[qe+1]*ce,Me=Be[qe+2]*ce;ht+=Math.abs((ie[Je]-ie[Me])*(ie[de+1]-ie[Je+1])-(ie[Je]-ie[de])*(ie[Me+1]-ie[Je+1]))}return 0===we&&0===ht?0:Math.abs((ht-we)/we)},V.flatten=function(ie){for(var me=ie[0][0].length,ce={vertices:[],holes:[],dimensions:me},Be=0,fe=0;fe<ie.length;fe++){for(var be=0;be<ie[fe].length;be++)for(var we=0;we<me;we++)ce.vertices.push(ie[fe][be][we]);fe>0&&ce.holes.push(Be+=ie[fe-1].length)}return ce}},6100:ke=>{function V(S){return S&&S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}function x(S){return S}function h(S,T){const y=(T=T||{}).delimiter||".",m=T.maxDepth,g=T.transformKey||x,_={};return function p(C,M,f){f=f||1,Object.keys(C).forEach(function(b){const O=C[b],F=T.safe&&Array.isArray(O),U=Object.prototype.toString.call(O),z=V(O),q="[object Object]"===U||"[object Array]"===U,H=M?M+y+g(b):g(b);if(!F&&!z&&q&&Object.keys(O).length&&(!T.maxDepth||f<m))return p(O,H,f+1);_[H]=O})}(S),_}ke.exports=h,h.flatten=h,h.unflatten=function w(S,T){const y=(T=T||{}).delimiter||".",m=T.overwrite||!1,g=T.transformKey||x,_={};if(V(S)||"[object Object]"!==Object.prototype.toString.call(S))return S;function C(b){const O=Number(b);return isNaN(O)||-1!==b.indexOf(".")||T.object?b:O}return S=Object.keys(S).reduce(function(b,O){const F=Object.prototype.toString.call(S[O]);return"[object Object]"!==F&&"[object Array]"!==F||function f(b){const O=Object.prototype.toString.call(b);return!b||("[object Array]"===O?!b.length:"[object Object]"===O?!Object.keys(b).length:void 0)}(S[O])?(b[O]=S[O],b):function M(b,O,F){return Object.keys(F).reduce(function(U,z){return U[b+y+z]=F[z],U},O)}(O,b,h(S[O],T))},{}),Object.keys(S).forEach(function(b){const O=b.split(y).map(g);let F=C(O.shift()),U=C(O[0]),z=_;for(;void 0!==U;){if("__proto__"===F)return;const q=Object.prototype.toString.call(z[F]),H="[object Object]"===q||"[object Array]"===q;if(!m&&!H&&void 0!==z[F])return;(m&&!H||!m&&null==z[F])&&(z[F]="number"!=typeof U||T.object?{}:[]),z=z[F],O.length>0&&(F=C(O.shift()),U=C(O[0]))}z[F]=w(S[b],T)}),_}},6461:(ke,V)=>{var h;!function(){"use strict";var w=function(){this.init()};w.prototype={init:function(){var f=this||S;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var b=this||S;if(f=parseFloat(f),b.ctx||M(),void 0!==f&&f>=0&&f<=1){if(b._volume=f,b._muted)return b;b.usingWebAudio&&b.masterGain.gain.setValueAtTime(f,S.ctx.currentTime);for(var O=0;O<b._howls.length;O++)if(!b._howls[O]._webAudio)for(var F=b._howls[O]._getSoundIds(),U=0;U<F.length;U++){var z=b._howls[O]._soundById(F[U]);z&&z._node&&(z._node.volume=z._volume*f)}return b}return b._volume},mute:function(f){var b=this||S;b.ctx||M(),b._muted=f,b.usingWebAudio&&b.masterGain.gain.setValueAtTime(f?0:b._volume,S.ctx.currentTime);for(var O=0;O<b._howls.length;O++)if(!b._howls[O]._webAudio)for(var F=b._howls[O]._getSoundIds(),U=0;U<F.length;U++){var z=b._howls[O]._soundById(F[U]);z&&z._node&&(z._node.muted=!!f||z._muted)}return b},stop:function(){for(var f=this||S,b=0;b<f._howls.length;b++)f._howls[b].stop();return f},unload:function(){for(var f=this||S,b=f._howls.length-1;b>=0;b--)f._howls[b].unload();return f.usingWebAudio&&f.ctx&&void 0!==f.ctx.close&&(f.ctx.close(),f.ctx=null,M()),f},codecs:function(f){return(this||S)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||S;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(f._canPlayEvent="canplay")}catch(O){f.noAudio=!0}else f.noAudio=!0;try{(new Audio).muted&&(f.noAudio=!0)}catch(O){}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||S,b=null;try{b="undefined"!=typeof Audio?new Audio:null}catch(G){return f}if(!b||"function"!=typeof b.canPlayType)return f;var O=b.canPlayType("audio/mpeg;").replace(/^no$/,""),F=f._navigator?f._navigator.userAgent:"",U=F.match(/OPR\/([0-6].)/g),z=U&&parseInt(U[0].split("/")[1],10)<33,q=-1!==F.indexOf("Safari")&&-1===F.indexOf("Chrome"),H=F.match(/Version\/(.*?) /),Y=q&&H&&parseInt(H[1],10)<15;return f._codecs={mp3:!(z||!O&&!b.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!O,opus:!!b.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(b.canPlayType('audio/wav; codecs="1"')||b.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!b.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!b.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(b.canPlayType("audio/x-m4b;")||b.canPlayType("audio/m4b;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(b.canPlayType("audio/x-mp4;")||b.canPlayType("audio/mp4;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Y||!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Y||!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!b.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(b.canPlayType("audio/x-flac;")||b.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||S;if(!f._audioUnlocked&&f.ctx){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&44100!==f.ctx.sampleRate&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var b=function(O){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var F=new Audio;F._unlocked=!0,f._releaseHtml5Audio(F)}catch(G){f.noAudio=!0;break}for(var U=0;U<f._howls.length;U++)if(!f._howls[U]._webAudio)for(var z=f._howls[U]._getSoundIds(),q=0;q<z.length;q++){var H=f._howls[U]._soundById(z[q]);H&&H._node&&!H._node._unlocked&&(H._node._unlocked=!0,H._node.load())}f._autoResume();var Y=f.ctx.createBufferSource();Y.buffer=f._scratchBuffer,Y.connect(f.ctx.destination),void 0===Y.start?Y.noteOn(0):Y.start(0),"function"==typeof f.ctx.resume&&f.ctx.resume(),Y.onended=function(){Y.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",b,!0),document.removeEventListener("touchend",b,!0),document.removeEventListener("click",b,!0),document.removeEventListener("keydown",b,!0);for(var G=0;G<f._howls.length;G++)f._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",b,!0),document.addEventListener("touchend",b,!0),document.addEventListener("click",b,!0),document.addEventListener("keydown",b,!0),f}},_obtainHtml5Audio:function(){var f=this||S;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var b=(new Audio).play();return b&&"undefined"!=typeof Promise&&(b instanceof Promise||"function"==typeof b.then)&&b.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var b=this||S;return f._unlocked&&b._html5AudioPool.push(f),b},_autoSuspend:function(){var f=this;if(f.autoSuspend&&f.ctx&&void 0!==f.ctx.suspend&&S.usingWebAudio){for(var b=0;b<f._howls.length;b++)if(f._howls[b]._webAudio)for(var O=0;O<f._howls[b]._sounds.length;O++)if(!f._howls[b]._sounds[O]._paused)return f;return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var F=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(F,F)}},3e4),f}},_autoResume:function(){var f=this;if(f.ctx&&void 0!==f.ctx.resume&&S.usingWebAudio)return"running"===f.state&&"interrupted"!==f.ctx.state&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):"suspended"===f.state||"running"===f.state&&"interrupted"===f.ctx.state?(f.ctx.resume().then(function(){f.state="running";for(var b=0;b<f._howls.length;b++)f._howls[b]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):"suspending"===f.state&&(f._resumeAfterSuspend=!0),f}};var S=new w,T=function(f){f.src&&0!==f.src.length?this.init(f):console.error("An array of source files must be passed with any new Howl.")};T.prototype={init:function(f){var b=this;return S.ctx||M(),b._autoplay=f.autoplay||!1,b._format="string"!=typeof f.format?f.format:[f.format],b._html5=f.html5||!1,b._muted=f.mute||!1,b._loop=f.loop||!1,b._pool=f.pool||5,b._preload="boolean"!=typeof f.preload&&"metadata"!==f.preload||f.preload,b._rate=f.rate||1,b._sprite=f.sprite||{},b._src="string"!=typeof f.src?f.src:[f.src],b._volume=void 0!==f.volume?f.volume:1,b._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:!(!f.xhr||!f.xhr.withCredentials)&&f.xhr.withCredentials},b._duration=0,b._state="unloaded",b._sounds=[],b._endTimers={},b._queue=[],b._playLock=!1,b._onend=f.onend?[{fn:f.onend}]:[],b._onfade=f.onfade?[{fn:f.onfade}]:[],b._onload=f.onload?[{fn:f.onload}]:[],b._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],b._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],b._onpause=f.onpause?[{fn:f.onpause}]:[],b._onplay=f.onplay?[{fn:f.onplay}]:[],b._onstop=f.onstop?[{fn:f.onstop}]:[],b._onmute=f.onmute?[{fn:f.onmute}]:[],b._onvolume=f.onvolume?[{fn:f.onvolume}]:[],b._onrate=f.onrate?[{fn:f.onrate}]:[],b._onseek=f.onseek?[{fn:f.onseek}]:[],b._onunlock=f.onunlock?[{fn:f.onunlock}]:[],b._onresume=[],b._webAudio=S.usingWebAudio&&!b._html5,void 0!==S.ctx&&S.ctx&&S.autoUnlock&&S._unlockAudio(),S._howls.push(b),b._autoplay&&b._queue.push({event:"play",action:function(){b.play()}}),b._preload&&"none"!==b._preload&&b.load(),b},load:function(){var f=this,b=null;if(S.noAudio)f._emit("loaderror",null,"No audio support.");else{"string"==typeof f._src&&(f._src=[f._src]);for(var O=0;O<f._src.length;O++){var F,U;if(f._format&&f._format[O])F=f._format[O];else{if("string"!=typeof(U=f._src[O])){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(F=/^data:audio\/([^;,]+);/i.exec(U))||(F=/\.([^.]+)$/.exec(U.split("?",1)[0])),F&&(F=F[1].toLowerCase())}if(F||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),F&&S.codecs(F)){b=f._src[O];break}}if(b)return f._src=b,f._state="loading","https:"===window.location.protocol&&"http:"===b.slice(0,5)&&(f._html5=!0,f._webAudio=!1),new y(f),f._webAudio&&g(f),f;f._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(f,b){var O=this,F=null;if("number"==typeof f)F=f,f=null;else{if("string"==typeof f&&"loaded"===O._state&&!O._sprite[f])return null;if(void 0===f&&(f="__default",!O._playLock)){for(var U=0,z=0;z<O._sounds.length;z++)O._sounds[z]._paused&&!O._sounds[z]._ended&&(U++,F=O._sounds[z]._id);1===U?f=null:F=null}}var q=F?O._soundById(F):O._inactiveSound();if(!q)return null;if(F&&!f&&(f=q._sprite||"__default"),"loaded"!==O._state){q._sprite=f,q._ended=!1;var H=q._id;return O._queue.push({event:"play",action:function(){O.play(H)}}),H}if(F&&!q._paused)return b||O._loadQueue("play"),q._id;O._webAudio&&S._autoResume();var Y=Math.max(0,q._seek>0?q._seek:O._sprite[f][0]/1e3),G=Math.max(0,(O._sprite[f][0]+O._sprite[f][1])/1e3-Y),X=1e3*G/Math.abs(q._rate),ae=O._sprite[f][0]/1e3,Q=(O._sprite[f][0]+O._sprite[f][1])/1e3;q._sprite=f,q._ended=!1;var ue=function(){q._paused=!1,q._seek=Y,q._start=ae,q._stop=Q,q._loop=!(!q._loop&&!O._sprite[f][2])};if(!(Y>=Q)){var oe=q._node;if(O._webAudio){var Ee=function(){O._playLock=!1,ue(),O._refreshBuffer(q),oe.gain.setValueAtTime(q._muted||O._muted?0:q._volume,S.ctx.currentTime),q._playStart=S.ctx.currentTime,void 0===oe.bufferSource.start?oe.bufferSource.noteGrainOn(0,Y,q._loop?86400:G):oe.bufferSource.start(0,Y,q._loop?86400:G),X!==1/0&&(O._endTimers[q._id]=setTimeout(O._ended.bind(O,q),X)),b||setTimeout(function(){O._emit("play",q._id),O._loadQueue()},0)};"running"===S.state&&"interrupted"!==S.ctx.state?Ee():(O._playLock=!0,O.once("resume",Ee),O._clearTimer(q._id))}else{var Ge=function(){oe.currentTime=Y,oe.muted=q._muted||O._muted||S._muted||oe.muted,oe.volume=q._volume*S.volume(),oe.playbackRate=q._rate;try{var ie=oe.play();if(ie&&"undefined"!=typeof Promise&&(ie instanceof Promise||"function"==typeof ie.then)?(O._playLock=!0,ue(),ie.then(function(){O._playLock=!1,oe._unlocked=!0,b?O._loadQueue():O._emit("play",q._id)}).catch(function(){O._playLock=!1,O._emit("playerror",q._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),q._ended=!0,q._paused=!0})):b||(O._playLock=!1,ue(),O._emit("play",q._id)),oe.playbackRate=q._rate,oe.paused)return void O._emit("playerror",q._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==f||q._loop?O._endTimers[q._id]=setTimeout(O._ended.bind(O,q),X):(O._endTimers[q._id]=function(){O._ended(q),oe.removeEventListener("ended",O._endTimers[q._id],!1)},oe.addEventListener("ended",O._endTimers[q._id],!1))}catch(me){O._emit("playerror",q._id,me)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===oe.src&&(oe.src=O._src,oe.load());var Ne=window&&window.ejecta||!oe.readyState&&S._navigator.isCocoonJS;if(oe.readyState>=3||Ne)Ge();else{O._playLock=!0,O._state="loading";var Le=function(){O._state="loaded",Ge(),oe.removeEventListener(S._canPlayEvent,Le,!1)};oe.addEventListener(S._canPlayEvent,Le,!1),O._clearTimer(q._id)}}return q._id}O._ended(q)},pause:function(f){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"pause",action:function(){b.pause(f)}}),b;for(var O=b._getSoundIds(f),F=0;F<O.length;F++){b._clearTimer(O[F]);var U=b._soundById(O[F]);if(U&&!U._paused&&(U._seek=b.seek(O[F]),U._rateSeek=0,U._paused=!0,b._stopFade(O[F]),U._node))if(b._webAudio){if(!U._node.bufferSource)continue;void 0===U._node.bufferSource.stop?U._node.bufferSource.noteOff(0):U._node.bufferSource.stop(0),b._cleanBuffer(U._node)}else(!isNaN(U._node.duration)||U._node.duration===1/0)&&U._node.pause();arguments[1]||b._emit("pause",U?U._id:null)}return b},stop:function(f,b){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"stop",action:function(){O.stop(f)}}),O;for(var F=O._getSoundIds(f),U=0;U<F.length;U++){O._clearTimer(F[U]);var z=O._soundById(F[U]);z&&(z._seek=z._start||0,z._rateSeek=0,z._paused=!0,z._ended=!0,O._stopFade(F[U]),z._node&&(O._webAudio?z._node.bufferSource&&(void 0===z._node.bufferSource.stop?z._node.bufferSource.noteOff(0):z._node.bufferSource.stop(0),O._cleanBuffer(z._node)):(!isNaN(z._node.duration)||z._node.duration===1/0)&&(z._node.currentTime=z._start||0,z._node.pause(),z._node.duration===1/0&&O._clearSound(z._node))),b||O._emit("stop",z._id))}return O},mute:function(f,b){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"mute",action:function(){O.mute(f,b)}}),O;if(void 0===b){if("boolean"!=typeof f)return O._muted;O._muted=f}for(var F=O._getSoundIds(b),U=0;U<F.length;U++){var z=O._soundById(F[U]);z&&(z._muted=f,z._interval&&O._stopFade(z._id),O._webAudio&&z._node?z._node.gain.setValueAtTime(f?0:z._volume,S.ctx.currentTime):z._node&&(z._node.muted=!!S._muted||f),O._emit("mute",z._id))}return O},volume:function(){var O,F,q,f=this,b=arguments;if(0===b.length)return f._volume;if(1===b.length||2===b.length&&void 0===b[1]){var U=f._getSoundIds(),z=U.indexOf(b[0]);z>=0?F=parseInt(b[0],10):O=parseFloat(b[0])}else b.length>=2&&(O=parseFloat(b[0]),F=parseInt(b[1],10));if(!(void 0!==O&&O>=0&&O<=1))return(q=F?f._soundById(F):f._sounds[0])?q._volume:0;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,b)}}),f;void 0===F&&(f._volume=O),F=f._getSoundIds(F);for(var H=0;H<F.length;H++)(q=f._soundById(F[H]))&&(q._volume=O,b[2]||f._stopFade(F[H]),f._webAudio&&q._node&&!q._muted?q._node.gain.setValueAtTime(O,S.ctx.currentTime):q._node&&!q._muted&&(q._node.volume=O*S.volume()),f._emit("volume",q._id));return f},fade:function(f,b,O,F){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"fade",action:function(){U.fade(f,b,O,F)}}),U;f=Math.min(Math.max(0,parseFloat(f)),1),b=Math.min(Math.max(0,parseFloat(b)),1),O=parseFloat(O),U.volume(f,F);for(var z=U._getSoundIds(F),q=0;q<z.length;q++){var H=U._soundById(z[q]);if(H){if(F||U._stopFade(z[q]),U._webAudio&&!H._muted){var Y=S.ctx.currentTime,G=Y+O/1e3;H._volume=f,H._node.gain.setValueAtTime(f,Y),H._node.gain.linearRampToValueAtTime(b,G)}U._startFadeInterval(H,f,b,O,z[q],void 0===F)}}return U},_startFadeInterval:function(f,b,O,F,U,z){var q=this,H=b,Y=O-b,G=Math.abs(Y/.01),X=Math.max(4,G>0?F/G:F),ae=Date.now();f._fadeTo=O,f._interval=setInterval(function(){var Q=(Date.now()-ae)/F;ae=Date.now(),H+=Y*Q,H=Math.round(100*H)/100,H=Y<0?Math.max(O,H):Math.min(O,H),q._webAudio?f._volume=H:q.volume(H,f._id,!0),z&&(q._volume=H),(O<b&&H<=O||O>b&&H>=O)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,q.volume(O,f._id),q._emit("fade",f._id))},X)},_stopFade:function(f){var b=this,O=b._soundById(f);return O&&O._interval&&(b._webAudio&&O._node.gain.cancelScheduledValues(S.ctx.currentTime),clearInterval(O._interval),O._interval=null,b.volume(O._fadeTo,f),O._fadeTo=null,b._emit("fade",f)),b},loop:function(){var O,F,U,f=this,b=arguments;if(0===b.length)return f._loop;if(1===b.length){if("boolean"!=typeof b[0])return!!(U=f._soundById(parseInt(b[0],10)))&&U._loop;f._loop=O=b[0]}else 2===b.length&&(O=b[0],F=parseInt(b[1],10));for(var z=f._getSoundIds(F),q=0;q<z.length;q++)(U=f._soundById(z[q]))&&(U._loop=O,f._webAudio&&U._node&&U._node.bufferSource&&(U._node.bufferSource.loop=O,O&&(U._node.bufferSource.loopStart=U._start||0,U._node.bufferSource.loopEnd=U._stop,f.playing(z[q])&&(f.pause(z[q],!0),f.play(z[q],!0)))));return f},rate:function(){var O,F,q,f=this,b=arguments;if(0===b.length)F=f._sounds[0]._id;else if(1===b.length){var U=f._getSoundIds(),z=U.indexOf(b[0]);z>=0?F=parseInt(b[0],10):O=parseFloat(b[0])}else 2===b.length&&(O=parseFloat(b[0]),F=parseInt(b[1],10));if("number"!=typeof O)return(q=f._soundById(F))?q._rate:f._rate;if("loaded"!==f._state||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,b)}}),f;void 0===F&&(f._rate=O),F=f._getSoundIds(F);for(var H=0;H<F.length;H++)if(q=f._soundById(F[H])){f.playing(F[H])&&(q._rateSeek=f.seek(F[H]),q._playStart=f._webAudio?S.ctx.currentTime:q._playStart),q._rate=O,f._webAudio&&q._node&&q._node.bufferSource?q._node.bufferSource.playbackRate.setValueAtTime(O,S.ctx.currentTime):q._node&&(q._node.playbackRate=O);var Y=f.seek(F[H]),G=(f._sprite[q._sprite][0]+f._sprite[q._sprite][1])/1e3-Y,X=1e3*G/Math.abs(q._rate);(f._endTimers[F[H]]||!q._paused)&&(f._clearTimer(F[H]),f._endTimers[F[H]]=setTimeout(f._ended.bind(f,q),X)),f._emit("rate",q._id)}return f},seek:function(){var O,F,f=this,b=arguments;if(0===b.length)f._sounds.length&&(F=f._sounds[0]._id);else if(1===b.length){var U=f._getSoundIds(),z=U.indexOf(b[0]);z>=0?F=parseInt(b[0],10):f._sounds.length&&(F=f._sounds[0]._id,O=parseFloat(b[0]))}else 2===b.length&&(O=parseFloat(b[0]),F=parseInt(b[1],10));if(void 0===F)return 0;if("number"==typeof O&&("loaded"!==f._state||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,b)}}),f;var q=f._soundById(F);if(q){if(!("number"==typeof O&&O>=0)){if(f._webAudio){var X=f.playing(F)?S.ctx.currentTime-q._playStart:0,ae=q._rateSeek?q._rateSeek-q._seek:0;return q._seek+(ae+X*Math.abs(q._rate))}return q._node.currentTime}var H=f.playing(F);H&&f.pause(F,!0),q._seek=O,q._ended=!1,f._clearTimer(F),!f._webAudio&&q._node&&!isNaN(q._node.duration)&&(q._node.currentTime=O);var Y=function(){H&&f.play(F,!0),f._emit("seek",F)};if(H&&!f._webAudio){var G=function(){f._playLock?setTimeout(G,0):Y()};setTimeout(G,0)}else Y()}return f},playing:function(f){var b=this;if("number"==typeof f){var O=b._soundById(f);return!!O&&!O._paused}for(var F=0;F<b._sounds.length;F++)if(!b._sounds[F]._paused)return!0;return!1},duration:function(f){var b=this,O=b._duration,F=b._soundById(f);return F&&(O=b._sprite[F._sprite][1]/1e3),O},state:function(){return this._state},unload:function(){for(var f=this,b=f._sounds,O=0;O<b.length;O++)b[O]._paused||f.stop(b[O]._id),f._webAudio||(f._clearSound(b[O]._node),b[O]._node.removeEventListener("error",b[O]._errorFn,!1),b[O]._node.removeEventListener(S._canPlayEvent,b[O]._loadFn,!1),b[O]._node.removeEventListener("ended",b[O]._endFn,!1),S._releaseHtml5Audio(b[O]._node)),delete b[O]._node,f._clearTimer(b[O]._id);var F=S._howls.indexOf(f);F>=0&&S._howls.splice(F,1);var U=!0;for(O=0;O<S._howls.length;O++)if(S._howls[O]._src===f._src||f._src.indexOf(S._howls[O]._src)>=0){U=!1;break}return m&&U&&delete m[f._src],S.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,b,O,F){return"function"==typeof b&&this["_on"+f].push(F?{id:O,fn:b,once:F}:{id:O,fn:b}),this},off:function(f,b,O){var F=this,U=F["_on"+f],z=0;if("number"==typeof b&&(O=b,b=null),b||O)for(z=0;z<U.length;z++){var q=O===U[z].id;if(b===U[z].fn&&q||!b&&q){U.splice(z,1);break}}else if(f)F["_on"+f]=[];else{var H=Object.keys(F);for(z=0;z<H.length;z++)0===H[z].indexOf("_on")&&Array.isArray(F[H[z]])&&(F[H[z]]=[])}return F},once:function(f,b,O){return this.on(f,b,O,1),this},_emit:function(f,b,O){for(var F=this,U=F["_on"+f],z=U.length-1;z>=0;z--)(!U[z].id||U[z].id===b||"load"===f)&&(setTimeout(function(q){q.call(this,b,O)}.bind(F,U[z].fn),0),U[z].once&&F.off(f,U[z].fn,U[z].id));return F._loadQueue(f),F},_loadQueue:function(f){var b=this;if(b._queue.length>0){var O=b._queue[0];O.event===f&&(b._queue.shift(),b._loadQueue()),f||O.action()}return b},_ended:function(f){var b=this,O=f._sprite;if(!b._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(b._ended.bind(b,f),100),b;var F=!(!f._loop&&!b._sprite[O][2]);if(b._emit("end",f._id),!b._webAudio&&F&&b.stop(f._id,!0).play(f._id),b._webAudio&&F){b._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=S.ctx.currentTime;var U=1e3*(f._stop-f._start)/Math.abs(f._rate);b._endTimers[f._id]=setTimeout(b._ended.bind(b,f),U)}return b._webAudio&&!F&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,b._clearTimer(f._id),b._cleanBuffer(f._node),S._autoSuspend()),!b._webAudio&&!F&&b.stop(f._id,!0),b},_clearTimer:function(f){var b=this;if(b._endTimers[f]){if("function"!=typeof b._endTimers[f])clearTimeout(b._endTimers[f]);else{var O=b._soundById(f);O&&O._node&&O._node.removeEventListener("ended",b._endTimers[f],!1)}delete b._endTimers[f]}return b},_soundById:function(f){for(var b=this,O=0;O<b._sounds.length;O++)if(f===b._sounds[O]._id)return b._sounds[O];return null},_inactiveSound:function(){var f=this;f._drain();for(var b=0;b<f._sounds.length;b++)if(f._sounds[b]._ended)return f._sounds[b].reset();return new y(f)},_drain:function(){var f=this,b=f._pool,O=0,F=0;if(!(f._sounds.length<b)){for(F=0;F<f._sounds.length;F++)f._sounds[F]._ended&&O++;for(F=f._sounds.length-1;F>=0;F--){if(O<=b)return;f._sounds[F]._ended&&(f._webAudio&&f._sounds[F]._node&&f._sounds[F]._node.disconnect(0),f._sounds.splice(F,1),O--)}}},_getSoundIds:function(f){if(void 0===f){for(var O=[],F=0;F<this._sounds.length;F++)O.push(this._sounds[F]._id);return O}return[f]},_refreshBuffer:function(f){return f._node.bufferSource=S.ctx.createBufferSource(),f._node.bufferSource.buffer=m[this._src],f._node.bufferSource.connect(f._panner?f._panner:f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,S.ctx.currentTime),this},_cleanBuffer:function(f){var O=S._navigator&&S._navigator.vendor.indexOf("Apple")>=0;if(S._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),O))try{f.bufferSource.buffer=S._scratchBuffer}catch(F){}return f.bufferSource=null,this},_clearSound:function(f){/MSIE |Trident\//.test(S._navigator&&S._navigator.userAgent)||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var y=function(f){this._parent=f,this.init()};y.prototype={init:function(){var f=this,b=f._parent;return f._muted=b._muted,f._loop=b._loop,f._volume=b._volume,f._rate=b._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++S._counter,b._sounds.push(f),f.create(),f},create:function(){var f=this,b=f._parent,O=S._muted||f._muted||f._parent._muted?0:f._volume;return b._webAudio?(f._node=void 0===S.ctx.createGain?S.ctx.createGainNode():S.ctx.createGain(),f._node.gain.setValueAtTime(O,S.ctx.currentTime),f._node.paused=!0,f._node.connect(S.masterGain)):S.noAudio||(f._node=S._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(S._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=b._src,f._node.preload=!0===b._preload?"auto":b._preload,f._node.volume=O*S.volume(),f._node.load()),f},reset:function(){var f=this,b=f._parent;return f._muted=b._muted,f._loop=b._loop,f._volume=b._volume,f._rate=b._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++S._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,b=f._parent;b._duration=Math.ceil(10*f._node.duration)/10,0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1e3*b._duration]}),"loaded"!==b._state&&(b._state="loaded",b._emit("load"),b._loadQueue()),f._node.removeEventListener(S._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,b=f._parent;b._duration===1/0&&(b._duration=Math.ceil(10*f._node.duration)/10,b._sprite.__default[1]===1/0&&(b._sprite.__default[1]=1e3*b._duration),b._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var m={},g=function(f){var b=f._src;if(m[b])return f._duration=m[b].duration,void C(f);if(/^data:[^;]+;base64,/.test(b)){for(var O=atob(b.split(",")[1]),F=new Uint8Array(O.length),U=0;U<O.length;++U)F[U]=O.charCodeAt(U);p(F.buffer,f)}else{var z=new XMLHttpRequest;z.open(f._xhr.method,b,!0),z.withCredentials=f._xhr.withCredentials,z.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(q){z.setRequestHeader(q,f._xhr.headers[q])}),z.onload=function(){var q=(z.status+"")[0];"0"===q||"2"===q||"3"===q?p(z.response,f):f._emit("loaderror",null,"Failed loading audio file with status: "+z.status+".")},z.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete m[b],f.load())},_(z)}},_=function(f){try{f.send()}catch(b){f.onerror()}},p=function(f,b){var O=function(){b._emit("loaderror",null,"Decoding audio data failed.")},F=function(U){U&&b._sounds.length>0?(m[b._src]=U,C(b,U)):O()};"undefined"!=typeof Promise&&1===S.ctx.decodeAudioData.length?S.ctx.decodeAudioData(f).then(F).catch(O):S.ctx.decodeAudioData(f,F,O)},C=function(f,b){b&&!f._duration&&(f._duration=b.duration),0===Object.keys(f._sprite).length&&(f._sprite={__default:[0,1e3*f._duration]}),"loaded"!==f._state&&(f._state="loaded",f._emit("load"),f._loadQueue())},M=function(){if(S.usingWebAudio){try{"undefined"!=typeof AudioContext?S.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?S.ctx=new webkitAudioContext:S.usingWebAudio=!1}catch(U){S.usingWebAudio=!1}S.ctx||(S.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(S._navigator&&S._navigator.platform),b=S._navigator&&S._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),O=b?parseInt(b[1],10):null;if(f&&O&&O<9){var F=/safari/.test(S._navigator&&S._navigator.userAgent.toLowerCase());S._navigator&&!F&&(S.usingWebAudio=!1)}S.usingWebAudio&&(S.masterGain=void 0===S.ctx.createGain?S.ctx.createGainNode():S.ctx.createGain(),S.masterGain.gain.setValueAtTime(S._muted?0:S._volume,S.ctx.currentTime),S.masterGain.connect(S.ctx.destination)),S._setup()}};void 0!==(h=function(){return{Howler:S,Howl:T}}.apply(V,[]))&&(ke.exports=h),V.Howler=S,V.Howl=T,"undefined"!=typeof global?(global.HowlerGlobal=w,global.Howler=S,global.Howl=T,global.Sound=y):"undefined"!=typeof window&&(window.HowlerGlobal=w,window.Howler=S,window.Howl=T,window.Sound=y)}(),function(){"use strict";var S;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(S){var T=this;if(!T.ctx||!T.ctx.listener)return T;for(var y=T._howls.length-1;y>=0;y--)T._howls[y].stereo(S);return T},HowlerGlobal.prototype.pos=function(S,T,y){var m=this;return m.ctx&&m.ctx.listener?"number"!=typeof S?m._pos:(m._pos=[S,T="number"!=typeof T?m._pos[1]:T,y="number"!=typeof y?m._pos[2]:y],void 0!==m.ctx.listener.positionX?(m.ctx.listener.positionX.setTargetAtTime(m._pos[0],Howler.ctx.currentTime,.1),m.ctx.listener.positionY.setTargetAtTime(m._pos[1],Howler.ctx.currentTime,.1),m.ctx.listener.positionZ.setTargetAtTime(m._pos[2],Howler.ctx.currentTime,.1)):m.ctx.listener.setPosition(m._pos[0],m._pos[1],m._pos[2]),m):m},HowlerGlobal.prototype.orientation=function(S,T,y,m,g,_){var p=this;if(!p.ctx||!p.ctx.listener)return p;var C=p._orientation;return"number"!=typeof S?C:(p._orientation=[S,T="number"!=typeof T?C[1]:T,y="number"!=typeof y?C[2]:y,m="number"!=typeof m?C[3]:m,g="number"!=typeof g?C[4]:g,_="number"!=typeof _?C[5]:_],void 0!==p.ctx.listener.forwardX?(p.ctx.listener.forwardX.setTargetAtTime(S,Howler.ctx.currentTime,.1),p.ctx.listener.forwardY.setTargetAtTime(T,Howler.ctx.currentTime,.1),p.ctx.listener.forwardZ.setTargetAtTime(y,Howler.ctx.currentTime,.1),p.ctx.listener.upX.setTargetAtTime(m,Howler.ctx.currentTime,.1),p.ctx.listener.upY.setTargetAtTime(g,Howler.ctx.currentTime,.1),p.ctx.listener.upZ.setTargetAtTime(_,Howler.ctx.currentTime,.1)):p.ctx.listener.setOrientation(S,T,y,m,g,_),p)},Howl.prototype.init=(S=Howl.prototype.init,function(T){var y=this;return y._orientation=T.orientation||[1,0,0],y._stereo=T.stereo||null,y._pos=T.pos||null,y._pannerAttr={coneInnerAngle:void 0!==T.coneInnerAngle?T.coneInnerAngle:360,coneOuterAngle:void 0!==T.coneOuterAngle?T.coneOuterAngle:360,coneOuterGain:void 0!==T.coneOuterGain?T.coneOuterGain:0,distanceModel:void 0!==T.distanceModel?T.distanceModel:"inverse",maxDistance:void 0!==T.maxDistance?T.maxDistance:1e4,panningModel:void 0!==T.panningModel?T.panningModel:"HRTF",refDistance:void 0!==T.refDistance?T.refDistance:1,rolloffFactor:void 0!==T.rolloffFactor?T.rolloffFactor:1},y._onstereo=T.onstereo?[{fn:T.onstereo}]:[],y._onpos=T.onpos?[{fn:T.onpos}]:[],y._onorientation=T.onorientation?[{fn:T.onorientation}]:[],S.call(this,T)}),Howl.prototype.stereo=function(S,T){var y=this;if(!y._webAudio)return y;if("loaded"!==y._state)return y._queue.push({event:"stereo",action:function(){y.stereo(S,T)}}),y;var m=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===T){if("number"!=typeof S)return y._stereo;y._stereo=S,y._pos=[S,0,0]}for(var g=y._getSoundIds(T),_=0;_<g.length;_++){var p=y._soundById(g[_]);if(p){if("number"!=typeof S)return p._stereo;p._stereo=S,p._pos=[S,0,0],p._node&&(p._pannerAttr.panningModel="equalpower",(!p._panner||!p._panner.pan)&&w(p,m),"spatial"===m?void 0!==p._panner.positionX?(p._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):p._panner.setPosition(S,0,0):p._panner.pan.setValueAtTime(S,Howler.ctx.currentTime)),y._emit("stereo",p._id)}}return y},Howl.prototype.pos=function(S,T,y,m){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"pos",action:function(){g.pos(S,T,y,m)}}),g;if(T="number"!=typeof T?0:T,y="number"!=typeof y?-.5:y,void 0===m){if("number"!=typeof S)return g._pos;g._pos=[S,T,y]}for(var _=g._getSoundIds(m),p=0;p<_.length;p++){var C=g._soundById(_[p]);if(C){if("number"!=typeof S)return C._pos;C._pos=[S,T,y],C._node&&((!C._panner||C._panner.pan)&&w(C,"spatial"),void 0!==C._panner.positionX?(C._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),C._panner.positionY.setValueAtTime(T,Howler.ctx.currentTime),C._panner.positionZ.setValueAtTime(y,Howler.ctx.currentTime)):C._panner.setPosition(S,T,y)),g._emit("pos",C._id)}}return g},Howl.prototype.orientation=function(S,T,y,m){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"orientation",action:function(){g.orientation(S,T,y,m)}}),g;if(T="number"!=typeof T?g._orientation[1]:T,y="number"!=typeof y?g._orientation[2]:y,void 0===m){if("number"!=typeof S)return g._orientation;g._orientation=[S,T,y]}for(var _=g._getSoundIds(m),p=0;p<_.length;p++){var C=g._soundById(_[p]);if(C){if("number"!=typeof S)return C._orientation;C._orientation=[S,T,y],C._node&&(C._panner||(C._pos||(C._pos=g._pos||[0,0,-.5]),w(C,"spatial")),void 0!==C._panner.orientationX?(C._panner.orientationX.setValueAtTime(S,Howler.ctx.currentTime),C._panner.orientationY.setValueAtTime(T,Howler.ctx.currentTime),C._panner.orientationZ.setValueAtTime(y,Howler.ctx.currentTime)):C._panner.setOrientation(S,T,y)),g._emit("orientation",C._id)}}return g},Howl.prototype.pannerAttr=function(){var y,m,g,S=this,T=arguments;if(!S._webAudio)return S;if(0===T.length)return S._pannerAttr;if(1===T.length){if("object"!=typeof T[0])return(g=S._soundById(parseInt(T[0],10)))?g._pannerAttr:S._pannerAttr;y=T[0],void 0===m&&(y.pannerAttr||(y.pannerAttr={coneInnerAngle:y.coneInnerAngle,coneOuterAngle:y.coneOuterAngle,coneOuterGain:y.coneOuterGain,distanceModel:y.distanceModel,maxDistance:y.maxDistance,refDistance:y.refDistance,rolloffFactor:y.rolloffFactor,panningModel:y.panningModel}),S._pannerAttr={coneInnerAngle:void 0!==y.pannerAttr.coneInnerAngle?y.pannerAttr.coneInnerAngle:S._coneInnerAngle,coneOuterAngle:void 0!==y.pannerAttr.coneOuterAngle?y.pannerAttr.coneOuterAngle:S._coneOuterAngle,coneOuterGain:void 0!==y.pannerAttr.coneOuterGain?y.pannerAttr.coneOuterGain:S._coneOuterGain,distanceModel:void 0!==y.pannerAttr.distanceModel?y.pannerAttr.distanceModel:S._distanceModel,maxDistance:void 0!==y.pannerAttr.maxDistance?y.pannerAttr.maxDistance:S._maxDistance,refDistance:void 0!==y.pannerAttr.refDistance?y.pannerAttr.refDistance:S._refDistance,rolloffFactor:void 0!==y.pannerAttr.rolloffFactor?y.pannerAttr.rolloffFactor:S._rolloffFactor,panningModel:void 0!==y.pannerAttr.panningModel?y.pannerAttr.panningModel:S._panningModel})}else 2===T.length&&(y=T[0],m=parseInt(T[1],10));for(var _=S._getSoundIds(m),p=0;p<_.length;p++)if(g=S._soundById(_[p])){var C=g._pannerAttr;C={coneInnerAngle:void 0!==y.coneInnerAngle?y.coneInnerAngle:C.coneInnerAngle,coneOuterAngle:void 0!==y.coneOuterAngle?y.coneOuterAngle:C.coneOuterAngle,coneOuterGain:void 0!==y.coneOuterGain?y.coneOuterGain:C.coneOuterGain,distanceModel:void 0!==y.distanceModel?y.distanceModel:C.distanceModel,maxDistance:void 0!==y.maxDistance?y.maxDistance:C.maxDistance,refDistance:void 0!==y.refDistance?y.refDistance:C.refDistance,rolloffFactor:void 0!==y.rolloffFactor?y.rolloffFactor:C.rolloffFactor,panningModel:void 0!==y.panningModel?y.panningModel:C.panningModel};var M=g._panner;M?(M.coneInnerAngle=C.coneInnerAngle,M.coneOuterAngle=C.coneOuterAngle,M.coneOuterGain=C.coneOuterGain,M.distanceModel=C.distanceModel,M.maxDistance=C.maxDistance,M.refDistance=C.refDistance,M.rolloffFactor=C.rolloffFactor,M.panningModel=C.panningModel):(g._pos||(g._pos=S._pos||[0,0,-.5]),w(g,"spatial"))}return S},Sound.prototype.init=function(S){return function(){var T=this,y=T._parent;T._orientation=y._orientation,T._stereo=y._stereo,T._pos=y._pos,T._pannerAttr=y._pannerAttr,S.call(this),T._stereo?y.stereo(T._stereo):T._pos&&y.pos(T._pos[0],T._pos[1],T._pos[2],T._id)}}(Sound.prototype.init),Sound.prototype.reset=function(S){return function(){var T=this,y=T._parent;return T._orientation=y._orientation,T._stereo=y._stereo,T._pos=y._pos,T._pannerAttr=y._pannerAttr,T._stereo?y.stereo(T._stereo):T._pos?y.pos(T._pos[0],T._pos[1],T._pos[2],T._id):T._panner&&(T._panner.disconnect(0),T._panner=void 0,y._refreshBuffer(T)),S.call(this)}}(Sound.prototype.reset);var w=function(S,T){"spatial"===(T=T||"spatial")?(S._panner=Howler.ctx.createPanner(),S._panner.coneInnerAngle=S._pannerAttr.coneInnerAngle,S._panner.coneOuterAngle=S._pannerAttr.coneOuterAngle,S._panner.coneOuterGain=S._pannerAttr.coneOuterGain,S._panner.distanceModel=S._pannerAttr.distanceModel,S._panner.maxDistance=S._pannerAttr.maxDistance,S._panner.refDistance=S._pannerAttr.refDistance,S._panner.rolloffFactor=S._pannerAttr.rolloffFactor,S._panner.panningModel=S._pannerAttr.panningModel,void 0!==S._panner.positionX?(S._panner.positionX.setValueAtTime(S._pos[0],Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(S._pos[1],Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(S._pos[2],Howler.ctx.currentTime)):S._panner.setPosition(S._pos[0],S._pos[1],S._pos[2]),void 0!==S._panner.orientationX?(S._panner.orientationX.setValueAtTime(S._orientation[0],Howler.ctx.currentTime),S._panner.orientationY.setValueAtTime(S._orientation[1],Howler.ctx.currentTime),S._panner.orientationZ.setValueAtTime(S._orientation[2],Howler.ctx.currentTime)):S._panner.setOrientation(S._orientation[0],S._orientation[1],S._orientation[2])):(S._panner=Howler.ctx.createStereoPanner(),S._panner.pan.setValueAtTime(S._stereo,Howler.ctx.currentTime)),S._panner.connect(S._node),S._paused||S._parent.pause(S._id,!0).play(S._id,!0)}}()},3894:ke=>{ke.exports="function"==typeof Object.create?function(x,h){h&&(x.super_=h,x.prototype=Object.create(h.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}))}:function(x,h){if(h){x.super_=h;var w=function(){};w.prototype=h.prototype,x.prototype=new w,x.prototype.constructor=x}}},5943:ke=>{"use strict";var V=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function w(T){if(null==T)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}ke.exports=function S(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de","5"===Object.getOwnPropertyNames(T)[0])return!1;for(var y={},m=0;m<10;m++)y["_"+String.fromCharCode(m)]=m;if("0123456789"!==Object.getOwnPropertyNames(y).map(function(p){return y[p]}).join(""))return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(p){_[p]=p}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},_)).join("")}catch(p){return!1}}()?Object.assign:function(T,y){for(var m,_,g=w(T),p=1;p<arguments.length;p++){for(var C in m=Object(arguments[p]))x.call(m,C)&&(g[C]=m[C]);if(V){_=V(m);for(var M=0;M<_.length;M++)h.call(m,_[M])&&(g[_[M]]=m[_[M]])}}return g}},516:ke=>{"use strict";function V(x,h){return Object.prototype.hasOwnProperty.call(x,h)}ke.exports=function(x,h,w,S){w=w||"=";var T={};if("string"!=typeof x||0===x.length)return T;var y=/\+/g;x=x.split(h=h||"&");var m=1e3;S&&"number"==typeof S.maxKeys&&(m=S.maxKeys);var g=x.length;m>0&&g>m&&(g=m);for(var _=0;_<g;++_){var M,f,b,O,p=x[_].replace(y,"%20"),C=p.indexOf(w);C>=0?(M=p.substr(0,C),f=p.substr(C+1)):(M=p,f=""),b=decodeURIComponent(M),O=decodeURIComponent(f),V(T,b)?Array.isArray(T[b])?T[b].push(O):T[b]=[T[b],O]:T[b]=O}return T}},5776:ke=>{"use strict";var V=function(x){switch(typeof x){case"string":return x;case"boolean":return x?"true":"false";case"number":return isFinite(x)?x:"";default:return""}};ke.exports=function(x,h,w,S){return h=h||"&",w=w||"=",null===x&&(x=void 0),"object"==typeof x?Object.keys(x).map(function(T){var y=encodeURIComponent(V(T))+w;return Array.isArray(x[T])?x[T].map(function(m){return y+encodeURIComponent(V(m))}).join(h):y+encodeURIComponent(V(x[T]))}).join(h):S?encodeURIComponent(V(S))+w+encodeURIComponent(V(x)):""}},7137:(ke,V,x)=>{"use strict";V.decode=V.parse=x(516),V.encode=V.stringify=x(5776)},2858:(ke,V)=>{"use strict";var x=Object.prototype.hasOwnProperty;function w(m){try{return decodeURIComponent(m.replace(/\+/g," "))}catch(g){return null}}function S(m){try{return encodeURIComponent(m)}catch(g){return null}}V.stringify=function y(m,g){g=g||"";var p,C,_=[];for(C in"string"!=typeof g&&(g="?"),m)if(x.call(m,C)){if(!(p=m[C])&&(null==p||isNaN(p))&&(p=""),C=S(C),p=S(p),null===C||null===p)continue;_.push(C+"="+p)}return _.length?g+_.join("&"):""},V.parse=function T(m){for(var p,g=/([^=?#&]+)=?([^&]*)/g,_={};p=g.exec(m);){var C=w(p[1]),M=w(p[2]);null===C||null===M||C in _||(_[C]=M)}return _}},8237:ke=>{"use strict";ke.exports=function(x,h){if(h=h.split(":")[0],!(x=+x))return!1;switch(h){case"http":case"ws":return 80!==x;case"https":case"wss":return 443!==x;case"ftp":return 21!==x;case"gopher":return 70!==x;case"file":return!1}return 0!==x}},8135:function(ke){ke.exports=function(V){var x={};function h(w){if(x[w])return x[w].exports;var S=x[w]={i:w,l:!1,exports:{}};return V[w].call(S.exports,S,S.exports,h),S.l=!0,S.exports}return h.m=V,h.c=x,h.d=function(w,S,T){h.o(w,S)||Object.defineProperty(w,S,{configurable:!1,enumerable:!0,get:T})},h.r=function(w){Object.defineProperty(w,"__esModule",{value:!0})},h.n=function(w){var S=w&&w.__esModule?function(){return w.default}:function(){return w};return h.d(S,"a",S),S},h.o=function(w,S){return Object.prototype.hasOwnProperty.call(w,S)},h.p="",h(h.s=325)}([function(V,x,h){var w=h(6),S=h(37),T=h(18),y=h(15),m=h(27),g=function(_,p,C){var M,f,b,O,F=_&g.F,U=_&g.G,q=_&g.P,H=_&g.B,Y=U?w:_&g.S?w[p]||(w[p]={}):(w[p]||{}).prototype,G=U?S:S[p]||(S[p]={}),X=G.prototype||(G.prototype={});for(M in U&&(C=p),C)b=((f=!F&&Y&&void 0!==Y[M])?Y:C)[M],O=H&&f?m(b,w):q&&"function"==typeof b?m(Function.call,b):b,Y&&y(Y,M,b,_&g.U),G[M]!=b&&T(G,M,O),q&&X[M]!=b&&(X[M]=b)};w.core=S,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,V.exports=g},function(V,x,h){"use strict";function w(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function S(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?_:p}function T(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}Object.defineProperty(x,"__esModule",{value:!0});var y=function(_){function p(C){w(this,p);var M=S(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,C));return M.name="SFSError",M}return T(p,Error),p}(),m=function(_){function p(C){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];w(this,p);var f=S(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,C));return f.name="SFSValidationError",f.errors=M,f}return T(p,y),p}(),g=function(_){function p(C){w(this,p);var M=S(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,C));return M.name="SFSTypeError",M}return T(p,y),p}();x.SFSError=y,x.SFSValidationError=m,x.SFSTypeError=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Message=x.Requests=x.BaseRequest=void 0;var w=function(){function p(C,M){for(var f=0;f<M.length;f++){var b=M[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}return function(C,M,f){return M&&p(C.prototype,M),f&&p(C,f),C}}(),S=h(8),T=h(50);function y(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}var m=function(){function p(C){y(this,p),this._reqObj=new S.SFSObject,this._id=C,this._targetController=0,this._logger=T.Logger.instance}return w(p,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),w(p,[{key:"getMessage",value:function(){return new g(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),p}(),g=function(){function p(C,M,f){y(this,p),this._id=C,this._targetController=M,this._content=f,Object.freeze(this)}return w(p,[{key:"dump",value:function(){return(_.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),p}(),_=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(p){for(var C in this)if(this.hasOwnProperty(C)&&this[C]===p)return C;return""}});x.BaseRequest=m,x.Requests=_,x.Message=g},function(V,x){V.exports=function(h){try{return!!h()}catch(w){return!0}}},function(V,x){V.exports=function(h){return"object"==typeof h?null!==h:"function"==typeof h}},function(V,x,h){var w=h(4);V.exports=function(S){if(!w(S))throw TypeError(S+" is not an object!");return S}},function(V,x){var h=V.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=h)},function(V,x,h){var w=h(95)("wks"),S=h(35),T=h(6).Symbol,y="function"==typeof T;(V.exports=function(m){return w[m]||(w[m]=y&&T[m]||(y?T:S)("Symbol."+m))}).store=w},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.Vec3D=x.SFSArray=x.SFSObject=x.SFSDataWrapper=x.SFSDataType=void 0;var w=function(){function b(O,F){for(var U=0;U<F.length;U++){var z=F[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,F,U){return F&&b(O.prototype,F),U&&b(O,U),O}}(),S=h(174),T=h(51),y=h(50),m=h(1);function g(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}var _=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(b){if("number"!=typeof b)return null;for(var O in this)if(this.hasOwnProperty(O)&&this[O]===b)return O},validate:function(b,O){if(null==this.fromId(b))throw new m.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var F=null;if(b===this.NULL&&null!=O&&(F="a null value"),b!==this.NULL&&null==O&&(F="a non-null value"),b!==this.BOOL||this.isBoolType(O)||(F="a boolean value"),b!==this.BYTE||this.isByteType(O)||(F="an integer number in this range: 0 <= value < 256"),b!==this.SHORT||this.isShortType(O)||(F="an integer number in this range: -32.768 <= value < +32.768"),b!==this.INT||this.isIntType(O)||(F="an integer number in this range: -2^31 <= value < +2^31"),b!==this.LONG||this.isLongType(O)||(F="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),b!==this.FLOAT||this.isFloatType(O)||(F="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),b!==this.DOUBLE||this.isDoubleType(O)||(F="a finite number"),b!==this.UTF_STRING&&b!==this.TEXT||this.isStringType(O)||(F="a string value"),b!==this.BOOL_ARRAY||this.isArrayType(O,this.isBoolType)||(F="an array of boolean values"),b!==this.BYTE_ARRAY||O instanceof Uint8Array||(F="a Uint8Array"),b!==this.SHORT_ARRAY||this.isArrayType(O,this.isShortType)||(F="an array of integer numbers in this range: -32.768 <= value < +32.768"),b!==this.INT_ARRAY||this.isArrayType(O,this.isIntType)||(F="an array of integer numbers in this range: -2^31 <= value < +2^31"),b!==this.LONG_ARRAY||this.isArrayType(O,this.isLongType)||(F="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),b!==this.FLOAT_ARRAY||this.isArrayType(O,this.isFloatType)||(F="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),b!==this.DOUBLE_ARRAY||this.isArrayType(O,this.isDoubleType)||(F="an array of finite numbers"),b!==this.UTF_STRING_ARRAY||this.isArrayType(O,this.isStringType)||(F="an array of string values"),b!==this.SFS_OBJECT||O instanceof C||(F="a SFSObject instance"),b!==this.SFS_ARRAY||O instanceof M||(F="a SFSArray instance"),null!=F)throw new m.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(b)+" requires "+F)},isBoolType:function(b){return"boolean"==typeof b},isByteType:function(b){return"number"==typeof b&&Math.floor(b)===b&&b>=0&&b<256},isShortType:function(b){return"number"==typeof b&&Math.floor(b)===b&&b>=-32768&&b<32768},isIntType:function(b){return"number"==typeof b&&Math.floor(b)===b&&b>=-2147483648&&b<2147483648},isLongType:function(b){return"number"==typeof b&&Math.floor(b)===b&&Number.isSafeInteger(b)},isFloatType:function(b){return"number"==typeof b&&b>=-34028234663852886e22&&b<=34028234663852886e22},isDoubleType:function(b){return"number"==typeof b&&isFinite(b)},isStringType:function(b){return"string"==typeof b},isArrayType:function(b,O){return b instanceof Array&&(!(b.length>0)||O(b[0]))}}),p=function b(O,F){g(this,b),this.type=O,this.value=F,Object.freeze(this)},C=function(){function b(){g(this,b),this._dataHolder=new Map,this._serializer=S.SFSDataSerializer.instance,Object.freeze(this)}return w(b,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(O){return this._dataHolder.get(O)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(O){return null!=this.getWrappedItem(O)}},{key:"get",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,U=this.getWrappedItem(O);if(null!=U&&null!=F&&U.type!=F)throw new m.SFSTypeError("Requested value is not of type SFSDataType."+_.fromId(F));return null!=U?U.value:null}},{key:"isNull",value:function(O){var F=this.getWrappedItem(O);return null==F||F.type==_.NULL}},{key:"getBool",value:function(O){return this.get(O,_.BOOL)}},{key:"getByte",value:function(O){return this.get(O,_.BYTE)}},{key:"getShort",value:function(O){return this.get(O,_.SHORT)}},{key:"getInt",value:function(O){return this.get(O,_.INT)}},{key:"getLong",value:function(O){var F=this.get(O,_.LONG);return Number.isSafeInteger(F)||y.Logger.instance.warn("Long value contained in SFSObject is not safe"),F}},{key:"getFloat",value:function(O){return this.get(O,_.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,_.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,_.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,_.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,_.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,_.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,_.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,_.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,_.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,_.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,_.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,_.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,_.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,_.SFS_ARRAY)}},{key:"put",value:function(O,F,U){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof O)throw"Invalid key passed; must be of type string";_.validate(U,F)}this._dataHolder.set(O,new p(U,F))}},{key:"putNull",value:function(O){this.put(O,null,_.NULL)}},{key:"putBool",value:function(O,F){this.put(O,F,_.BOOL)}},{key:"putByte",value:function(O,F){this.put(O,F,_.BYTE)}},{key:"putShort",value:function(O,F){this.put(O,F,_.SHORT)}},{key:"putInt",value:function(O,F){this.put(O,F,_.INT)}},{key:"putLong",value:function(O,F){this.put(O,F,_.LONG)}},{key:"putFloat",value:function(O,F){this.put(O,F,_.FLOAT)}},{key:"putDouble",value:function(O,F){this.put(O,F,_.DOUBLE)}},{key:"putUtfString",value:function(O,F){this.put(O,F,_.UTF_STRING)}},{key:"putText",value:function(O,F){this.put(O,F,_.TEXT)}},{key:"putBoolArray",value:function(O,F){this.put(O,F,_.BOOL_ARRAY)}},{key:"putByteArray",value:function(O,F){this.put(O,F,_.BYTE_ARRAY)}},{key:"putShortArray",value:function(O,F){this.put(O,F,_.SHORT_ARRAY)}},{key:"putIntArray",value:function(O,F){this.put(O,F,_.INT_ARRAY)}},{key:"putLongArray",value:function(O,F){this.put(O,F,_.LONG_ARRAY)}},{key:"putFloatArray",value:function(O,F){this.put(O,F,_.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(O,F){this.put(O,F,_.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(O,F){this.put(O,F,_.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(O,F){this.put(O,F,_.SFS_ARRAY)}},{key:"putSFSObject",value:function(O,F){this.put(O,F,_.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":O?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var O=T.DumpFormatter.TOKEN_INDENT_OPEN,F=!0,U=!1,z=void 0;try{for(var q,H=this.keys()[Symbol.iterator]();!(F=(q=H.next()).done);F=!0){var Y=q.value,G=this.getWrappedItem(Y);O+="("+_.fromId(G.type).toLowerCase()+") "+Y+": ",O+=G.type===_.SFS_OBJECT||G.type===_.SFS_ARRAY?G.value.getDump(!1):G.type===_.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(G.value):G.value,O+=T.DumpFormatter.TOKEN_DIVIDER}}catch(X){U=!0,z=X}finally{try{!F&&H.return&&H.return()}finally{if(U)throw z}}return O+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return S.SFSDataSerializer.instance.binary2object(O)}}]),b}(),M=function(){function b(){g(this,b),this._dataHolder=[],this._serializer=S.SFSDataSerializer.instance,Object.freeze(this)}return w(b,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(O){return"number"!=typeof O||O>=this._dataHolder.length?null:this._dataHolder[O]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(O){if(O instanceof b||O instanceof C)throw new m.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var F=0;F<this.size();F++){var U=this.getWrappedItem(F);if(null!=U&&U.value==O)return!0}return!1}},{key:"get",value:function(O){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof O||O>=this._dataHolder.length)return null;var U=this.getWrappedItem(O);if(null!=U&&null!=F&&U.type!=F)throw new m.SFSTypeError("Requested value is not of type SFSDataType."+_.fromId(F));return null!=U?U.value:null}},{key:"isNull",value:function(O){var F=this.getWrappedItem(O);return null==F||F.type==_.NULL}},{key:"getBool",value:function(O){return this.get(O,_.BOOL)}},{key:"getByte",value:function(O){return this.get(O,_.BYTE)}},{key:"getShort",value:function(O){return this.get(O,_.SHORT)}},{key:"getInt",value:function(O){return this.get(O,_.INT)}},{key:"getLong",value:function(O){var F=this.get(O,_.LONG);return Number.isSafeInteger(F)||y.Logger.instance.warn("Long value contained in SFSObject is not safe"),F}},{key:"getFloat",value:function(O){return this.get(O,_.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,_.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,_.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,_.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,_.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,_.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,_.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,_.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,_.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,_.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,_.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,_.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,_.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,_.SFS_ARRAY)}},{key:"add",value:function(O,F){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||_.validate(F,O),this._dataHolder.push(new p(F,O))}},{key:"addNull",value:function(){this.add(null,_.NULL)}},{key:"addBool",value:function(O){this.add(O,_.BOOL)}},{key:"addByte",value:function(O){this.add(O,_.BYTE)}},{key:"addShort",value:function(O){this.add(O,_.SHORT)}},{key:"addInt",value:function(O){this.add(O,_.INT)}},{key:"addLong",value:function(O){this.add(O,_.LONG)}},{key:"addFloat",value:function(O){this.add(O,_.FLOAT)}},{key:"addDouble",value:function(O){this.add(O,_.DOUBLE)}},{key:"addUtfString",value:function(O){this.add(O,_.UTF_STRING)}},{key:"addText",value:function(O){this.add(O,_.TEXT)}},{key:"addBoolArray",value:function(O){this.add(O,_.BOOL_ARRAY)}},{key:"addByteArray",value:function(O){this.add(O,_.BYTE_ARRAY)}},{key:"addShortArray",value:function(O){this.add(O,_.SHORT_ARRAY)}},{key:"addIntArray",value:function(O){this.add(O,_.INT_ARRAY)}},{key:"addLongArray",value:function(O){this.add(O,_.LONG_ARRAY)}},{key:"addFloatArray",value:function(O){this.add(O,_.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(O){this.add(O,_.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(O){this.add(O,_.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(O){this.add(O,_.SFS_ARRAY)}},{key:"addSFSObject",value:function(O){this.add(O,_.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":O?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var O=T.DumpFormatter.TOKEN_INDENT_OPEN,F=0;F<this.size();F++){var U=this.getWrappedItem(F);O+="("+_.fromId(U.type).toLowerCase()+") "+F+": ",O+=U.type===_.SFS_OBJECT||U.type===_.SFS_ARRAY?U.value.getDump(!1):U.type===_.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(U.value):U.value,O+=T.DumpFormatter.TOKEN_DIVIDER}return O+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return S.SFSDataSerializer.instance.binary2array(O)}}]),b}(),f=function(){function b(O,F){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,z=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g(this,b),this.px=O,this.py=F,this.pz=U,this._useFloatCoordinates=z}return w(b,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(O){return new b(O[0],O[1],O[2])}}]),b}();x.SFSDataType=_,x.SFSDataWrapper=p,x.SFSObject=C,x.SFSArray=M,x.Vec3D=f},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MMORoom=x.SFSRoom=void 0;var w=function(){function C(M,f){for(var b=0;b<f.length;b++){var O=f[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,f,b){return f&&C(M.prototype,f),b&&C(M,b),M}}(),S=h(8),T=h(49),y=h(119),m=h(1);function g(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}var _=function(){function C(M,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",O=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];g(this,C),this._id=M,this._name=f,this._groupId=b,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new y.SFSUserManager,this._roomManager=null,this.properties={},O&&Object.seal(this)}return w(C,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(M){return this._userManager.getUserByName(M)}},{key:"getUserById",value:function(M){return this._userManager.getUserById(M)}},{key:"containsUser",value:function(M){return this._userManager.containsUser(M)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var M=this;return this._userManager.getUserList().filter(function(f){return f.isPlayerInRoom(M)})}},{key:"getSpectatorList",value:function(){var M=this;return this._userManager.getUserList().filter(function(f){return f.isSpectatorInRoom(M)})}},{key:"getVariable",value:function(M){return this._variables.get(M)}},{key:"containsVariable",value:function(M){return this._variables.has(M)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(M){this._userManager._addUser(M)}},{key:"_removeUser",value:function(M){this._userManager._removeUser(M)}},{key:"_setVariables",value:function(M){var f=!0,b=!1,O=void 0;try{for(var F,U=M[Symbol.iterator]();!(f=(F=U.next()).done);f=!0)this._setVariable(F.value)}catch(q){b=!0,O=q}finally{try{!f&&U.return&&U.return()}finally{if(b)throw O}}}},{key:"_setVariable",value:function(M){M.isNull?this._variables.delete(M.name):this._variables.set(M.name,M)}},{key:"_setRoomManager",value:function(M){if(null!=this._roomManager)throw new m.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=M}},{key:"_merge",value:function(M){if(!this.isJoined){this._variables.clear();var f=!0,b=!1,O=void 0;try{for(var F,U=M._variables.values()[Symbol.iterator]();!(f=(F=U.next()).done);f=!0)this._setVariable(F.value)}catch(Q){b=!0,O=Q}finally{try{!f&&U.return&&U.return()}finally{if(b)throw O}}this._userManager._clearAll();var q=!0,H=!1,Y=void 0;try{for(var G,X=M.getUserList()[Symbol.iterator]();!(q=(G=X.next()).done);q=!0)this._addUser(G.value)}catch(Q){H=!0,Y=Q}finally{try{!q&&X.return&&X.return()}finally{if(H)throw Y}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(M){var f=14===M.size(),b=void 0;(b=f?new p(M.get(0),M.get(1),M.get(2)):new C(M.get(0),M.get(1),M.get(2)))._isGame=M.get(3),b._isHidden=M.get(4),b._isPasswordProtected=M.get(5),b._userCount=M.get(6),b._maxUsers=M.get(7);var O=M.get(8);if(null!=O)for(var F=0;F<O.size();F++){var U=T.SFSRoomVariable.fromSFSArray(O.get(F));b._setVariable(U)}return b._isGame&&(b._specCount=M.get(9),b._maxSpectators=M.get(10)),f&&(b._defaultAOI=S.Vec3D.fromArray(M.get(11)),null!=M.get(13)&&(b._lowerMapLimit=S.Vec3D.fromArray(M.get(12)),b._higherMapLimit=S.Vec3D.fromArray(M.get(13)))),b}}]),C}(),p=function(C){function M(f,b){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";g(this,M);var F=function(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?U:z}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,f,b,O,!1));return F._defaultAOI=null,F._lowerMapLimit=null,F._higherMapLimit=null,F._itemsById=new Map,Object.seal(F),F}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(M,_),w(M,[{key:"getMMOItem",value:function(f){return this._itemsById.get(f)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(f){this._itemsById.set(f.id,f)}},{key:"_removeItem",value:function(f){this._itemsById.delete(f)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),M}();x.SFSRoom=_,x.MMORoom=p},function(V,x,h){var w=h(5),S=h(148),T=h(30),y=Object.defineProperty;x.f=h(11)?Object.defineProperty:function(m,g,_){if(w(m),g=T(g,!0),w(_),S)try{return y(m,g,_)}catch(p){}if("get"in _||"set"in _)throw TypeError("Accessors not supported!");return"value"in _&&(m[g]=_.value),m}},function(V,x,h){V.exports=!h(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(V,x,h){var w=h(24),S=Math.min;V.exports=function(T){return T>0?S(w(T),9007199254740991):0}},function(V,x,h){var w=h(0),S=h(3),T=h(28),y=/"/g,m=function(g,_,p,C){var M=String(T(g)),f="<"+_;return""!==p&&(f+=" "+p+'="'+String(C).replace(y,"&quot;")+'"'),f+">"+M+"</"+_+">"};V.exports=function(g,_){var p={};p[g]=_(m),w(w.P+w.F*S(function(){var C=""[g]('"');return C!==C.toLowerCase()||C.split('"').length>3}),"String",p)}},function(V,x,h){var w=h(28);V.exports=function(S){return Object(w(S))}},function(V,x,h){var w=h(6),S=h(18),T=h(16),y=h(35)("src"),m=Function.toString,g=(""+m).split("toString");h(37).inspectSource=function(_){return m.call(_)},(V.exports=function(_,p,C,M){var f="function"==typeof C;f&&(T(C,"name")||S(C,"name",p)),_[p]!==C&&(f&&(T(C,y)||S(C,y,_[p]?""+_[p]:g.join(String(p)))),_===w?_[p]=C:M?_[p]?_[p]=C:S(_,p,C):(delete _[p],S(_,p,C)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[y]||m.call(this)})},function(V,x){var h={}.hasOwnProperty;V.exports=function(w,S){return h.call(w,S)}},function(V,x,h){"use strict";var w=h(3);V.exports=function(S,T){return!!S&&w(function(){T?S.call(null,function(){},1):S.call(null)})}},function(V,x,h){var w=h(10),S=h(36);V.exports=h(11)?function(T,y,m){return w.f(T,y,S(1,m))}:function(T,y,m){return T[y]=m,T}},function(V,x,h){var w=h(27),S=h(54),T=h(14),y=h(12),m=h(231);V.exports=function(g,_){var p=1==g,C=2==g,M=3==g,f=4==g,b=6==g,O=5==g||b,F=_||m;return function(U,z,q){for(var H,Y,G=T(U),X=S(G),ae=w(z,q,3),Q=y(X.length),ue=0,oe=p?F(U,Q):C?F(U,0):void 0;Q>ue;ue++)if((O||ue in X)&&(Y=ae(H=X[ue],ue,G),g))if(p)oe[ue]=Y;else if(Y)switch(g){case 3:return!0;case 5:return H;case 6:return ue;case 2:oe.push(H)}else if(f)return!1;return b?-1:M||f?f:oe}}},function(V,x,h){var w=h(0),S=h(37),T=h(3);V.exports=function(y,m){var g=(S.Object||{})[y]||Object[y],_={};_[y]=m(g),w(w.S+w.F*T(function(){g(1)}),"Object",_)}},function(V,x,h){var w=h(54),S=h(28);V.exports=function(T){return w(S(T))}},function(V,x,h){"use strict";if(h(11)){var w=h(44),S=h(6),T=h(3),y=h(0),m=h(60),g=h(75),_=h(27),p=h(42),C=h(36),M=h(18),f=h(41),b=h(24),O=h(12),F=h(121),U=h(34),z=h(30),q=h(16),H=h(66),Y=h(4),G=h(14),X=h(80),ae=h(33),Q=h(31),ue=h(32).f,oe=h(79),Ee=h(35),Ge=h(7),Ne=h(19),Le=h(94),ie=h(76),me=h(128),ce=h(53),Be=h(64),fe=h(43),be=h(78),we=h(129),qe=h(10),pt=h(23),$e=qe.f,Gt=pt.f,ht=S.RangeError,Je=S.TypeError,de=S.Uint8Array,Me=Array.prototype,Pe=g.ArrayBuffer,Ze=g.DataView,lt=Ne(0),gt=Ne(2),ze=Ne(3),Qe=Ne(4),an=Ne(5),zt=Ne(6),fn=Le(!0),fi=Le(!1),mt=me.values,xt=me.keys,Fe=me.entries,Ae=Me.lastIndexOf,je=Me.reduce,Ye=Me.reduceRight,Ue=Me.join,Xe=Me.sort,Ct=Me.slice,It=Me.toString,At=Me.toLocaleString,On=Ge("iterator"),Yn=Ge("toStringTag"),pi=Ee("typed_constructor"),$t=Ee("def_constructor"),$n=m.CONSTR,yn=m.TYPED,Xt=m.VIEW,Ln=Ne(1,function(ft,Bt){return ki(ie(ft,ft[$t]),Bt)}),Lr=T(function(){return 1===new de(new Uint16Array([1]).buffer)[0]}),Ur=!!de&&!!de.prototype.set&&T(function(){new de(1).set({})}),ei=function(ft,Bt){var qt=b(ft);if(qt<0||qt%Bt)throw ht("Wrong offset!");return qt},pn=function(ft){if(Y(ft)&&yn in ft)return ft;throw Je(ft+" is not a typed array!")},ki=function(ft,Bt){if(!Y(ft)||!(pi in ft))throw Je("It is not a typed array constructor!");return new ft(Bt)},cn=function(ft,Bt){return lr(ie(ft,ft[$t]),Bt)},lr=function(ft,Bt){for(var qt=0,Ti=Bt.length,bn=ki(ft,Ti);Ti>qt;)bn[qt]=Bt[qt++];return bn},Gr=function(ft,Bt,qt){$e(ft,Bt,{get:function(){return this._d[qt]}})},Ot=function(ft){var Bt,qt,Ti,bn,Ji,wa,Sn=G(ft),Qi=arguments.length,Vr=Qi>1?arguments[1]:void 0,uo=void 0!==Vr,Ns=oe(Sn);if(null!=Ns&&!X(Ns)){for(wa=Ns.call(Sn),Ti=[],Bt=0;!(Ji=wa.next()).done;Bt++)Ti.push(Ji.value);Sn=Ti}for(uo&&Qi>2&&(Vr=_(Vr,arguments[2],2)),Bt=0,qt=O(Sn.length),bn=ki(this,qt);qt>Bt;Bt++)bn[Bt]=uo?Vr(Sn[Bt],Bt):Sn[Bt];return bn},jr=function(){for(var ft=0,Bt=arguments.length,qt=ki(this,Bt);Bt>ft;)qt[ft]=arguments[ft++];return qt},vs=!!de&&T(function(){At.call(new de(1))}),nl=function(){return At.apply(vs?Ct.call(pn(this)):pn(this),arguments)},Oh={copyWithin:function(ft,Bt){return we.call(pn(this),ft,Bt,arguments.length>2?arguments[2]:void 0)},every:function(ft){return Qe(pn(this),ft,arguments.length>1?arguments[1]:void 0)},fill:function(ft){return be.apply(pn(this),arguments)},filter:function(ft){return cn(this,gt(pn(this),ft,arguments.length>1?arguments[1]:void 0))},find:function(ft){return an(pn(this),ft,arguments.length>1?arguments[1]:void 0)},findIndex:function(ft){return zt(pn(this),ft,arguments.length>1?arguments[1]:void 0)},forEach:function(ft){lt(pn(this),ft,arguments.length>1?arguments[1]:void 0)},indexOf:function(ft){return fi(pn(this),ft,arguments.length>1?arguments[1]:void 0)},includes:function(ft){return fn(pn(this),ft,arguments.length>1?arguments[1]:void 0)},join:function(ft){return Ue.apply(pn(this),arguments)},lastIndexOf:function(ft){return Ae.apply(pn(this),arguments)},map:function(ft){return Ln(pn(this),ft,arguments.length>1?arguments[1]:void 0)},reduce:function(ft){return je.apply(pn(this),arguments)},reduceRight:function(ft){return Ye.apply(pn(this),arguments)},reverse:function(){for(var ft,Bt=pn(this).length,qt=Math.floor(Bt/2),Ti=0;Ti<qt;)ft=this[Ti],this[Ti++]=this[--Bt],this[Bt]=ft;return this},some:function(ft){return ze(pn(this),ft,arguments.length>1?arguments[1]:void 0)},sort:function(ft){return Xe.call(pn(this),ft)},subarray:function(ft,Bt){var qt=pn(this),Ti=qt.length,bn=U(ft,Ti);return new(ie(qt,qt[$t]))(qt.buffer,qt.byteOffset+bn*qt.BYTES_PER_ELEMENT,O((void 0===Bt?Ti:U(Bt,Ti))-bn))}},il=function(ft,Bt){return cn(this,Ct.call(pn(this),ft,Bt))},gu=function(ft){pn(this);var Bt=ei(arguments[1],1),qt=this.length,Ti=G(ft),bn=O(Ti.length),Ji=0;if(bn+Bt>qt)throw ht("Wrong length!");for(;Ji<bn;)this[Bt+Ji]=Ti[Ji++]},Hr={entries:function(){return Fe.call(pn(this))},keys:function(){return xt.call(pn(this))},values:function(){return mt.call(pn(this))}},co=function(ft,Bt){return Y(ft)&&ft[yn]&&"symbol"!=typeof Bt&&Bt in ft&&String(+Bt)==String(Bt)},Ds=function(ft,Bt){return co(ft,Bt=z(Bt,!0))?C(2,ft[Bt]):Gt(ft,Bt)},cr=function(ft,Bt,qt){return!(co(ft,Bt=z(Bt,!0))&&Y(qt)&&q(qt,"value"))||q(qt,"get")||q(qt,"set")||qt.configurable||q(qt,"writable")&&!qt.writable||q(qt,"enumerable")&&!qt.enumerable?$e(ft,Bt,qt):(ft[Bt]=qt.value,ft)};$n||(pt.f=Ds,qe.f=cr),y(y.S+y.F*!$n,"Object",{getOwnPropertyDescriptor:Ds,defineProperty:cr}),T(function(){It.call({})})&&(It=At=function(){return Ue.call(this)});var ys=f({},Oh);f(ys,Hr),M(ys,On,Hr.values),f(ys,{slice:il,set:gu,constructor:function(){},toString:It,toLocaleString:nl}),Gr(ys,"buffer","b"),Gr(ys,"byteOffset","o"),Gr(ys,"byteLength","l"),Gr(ys,"length","e"),$e(ys,Yn,{get:function(){return this[yn]}}),V.exports=function(ft,Bt,qt,Ti){var bn=ft+((Ti=!!Ti)?"Clamped":"")+"Array",Ji="get"+ft,wa="set"+ft,Sn=S[bn],Qi=Sn||{},Vr=Sn&&Q(Sn),Ns={},Kr=Sn&&Sn.prototype,_u=function(Jn,Ai){$e(Jn,Ai,{get:function(){return(ho=this._d).v[Ji](Ai*Bt+ho.o,Lr);var ho},set:function(wi){return ho=Ai,Un=wi,rl=this._d,Ti&&(Un=(Un=Math.round(Un))<0?0:Un>255?255:255&Un),void rl.v[wa](ho*Bt+rl.o,Un,Lr);var ho,Un,rl},enumerable:!0})};Sn&&m.ABV?T(function(){Sn(1)})&&T(function(){new Sn(-1)})&&Be(function(Jn){new Sn,new Sn(null),new Sn(1.5),new Sn(Jn)},!0)||(Sn=qt(function(Jn,Ai,wi,Fo){var ho;return p(Jn,Sn,bn),Y(Ai)?Ai instanceof Pe||"ArrayBuffer"==(ho=H(Ai))||"SharedArrayBuffer"==ho?void 0!==Fo?new Qi(Ai,ei(wi,Bt),Fo):void 0!==wi?new Qi(Ai,ei(wi,Bt)):new Qi(Ai):yn in Ai?lr(Sn,Ai):Ot.call(Sn,Ai):new Qi(F(Ai))}),lt(Vr!==Function.prototype?ue(Qi).concat(ue(Vr)):ue(Qi),function(Jn){Jn in Sn||M(Sn,Jn,Qi[Jn])}),Sn.prototype=Kr,w||(Kr.constructor=Sn)):(Sn=qt(function(Jn,Ai,wi,Fo){p(Jn,Sn,bn,"_d");var ho,Un,rl,bi,Qp=0,Zp=0;if(Y(Ai)){if(!(Ai instanceof Pe||"ArrayBuffer"==(bi=H(Ai))||"SharedArrayBuffer"==bi))return yn in Ai?lr(Sn,Ai):Ot.call(Sn,Ai);ho=Ai,Zp=ei(wi,Bt);var kn=Ai.byteLength;if(void 0===Fo){if(kn%Bt||(Un=kn-Zp)<0)throw ht("Wrong length!")}else if((Un=O(Fo)*Bt)+Zp>kn)throw ht("Wrong length!");rl=Un/Bt}else rl=F(Ai),ho=new Pe(Un=rl*Bt);for(M(Jn,"_d",{b:ho,o:Zp,l:Un,e:rl,v:new Ze(ho)});Qp<rl;)_u(Jn,Qp++)}),Kr=Sn.prototype=ae(ys),M(Kr,"constructor",Sn));var Ul=Kr[On],pd=!!Ul&&("values"==Ul.name||null==Ul.name),Ph=Hr.values;M(Sn,pi,!0),M(Kr,yn,bn),M(Kr,Xt,!0),M(Kr,$t,Sn),(Ti?new Sn(1)[Yn]==bn:Yn in Kr)||$e(Kr,Yn,{get:function(){return bn}}),Ns[bn]=Sn,y(y.G+y.W+y.F*(Sn!=Qi),Ns),y(y.S,bn,{BYTES_PER_ELEMENT:Bt}),y(y.S+y.F*T(function(){Qi.of.call(Sn,1)}),bn,{from:Ot,of:jr}),"BYTES_PER_ELEMENT"in Kr||M(Kr,"BYTES_PER_ELEMENT",Bt),y(y.P,bn,Oh),fe(bn),y(y.P+y.F*Ur,bn,{set:gu}),y(y.P+y.F*!pd,bn,Hr),w||Kr.toString==It||(Kr.toString=It),y(y.P+y.F*T(function(){new Sn(1).slice()}),bn,{slice:il}),y(y.P+y.F*(T(function(){return[1,2].toLocaleString()!=new Sn([1,2]).toLocaleString()})||!T(function(){Kr.toLocaleString.call([1,2])})),bn,{toLocaleString:nl}),ce[bn]=pd?Ul:Ph,w||pd||M(Kr,On,Ph)}}else V.exports=function(){}},function(V,x,h){var w=h(67),S=h(36),T=h(21),y=h(30),m=h(16),g=h(148),_=Object.getOwnPropertyDescriptor;x.f=h(11)?_:function(p,C){if(p=T(p),C=y(C,!0),g)try{return _(p,C)}catch(M){}if(m(p,C))return S(!w.f.call(p,C),p[C])}},function(V,x){var h=Math.ceil,w=Math.floor;V.exports=function(S){return isNaN(S=+S)?0:(S>0?w:h)(S)}},function(V,x){var h={}.toString;V.exports=function(w){return h.call(w).slice(8,-1)}},function(V,x){V.exports=function(h){if("function"!=typeof h)throw TypeError(h+" is not a function!");return h}},function(V,x,h){var w=h(26);V.exports=function(S,T,y){if(w(S),void 0===T)return S;switch(y){case 1:return function(m){return S.call(T,m)};case 2:return function(m,g){return S.call(T,m,g)};case 3:return function(m,g,_){return S.call(T,m,g,_)}}return function(){return S.apply(T,arguments)}}},function(V,x){V.exports=function(h){if(null==h)throw TypeError("Can't call method on  "+h);return h}},function(V,x,h){var w=h(35)("meta"),S=h(4),T=h(16),y=h(10).f,m=0,g=Object.isExtensible||function(){return!0},_=!h(3)(function(){return g(Object.preventExtensions({}))}),p=function(M){y(M,w,{value:{i:"O"+ ++m,w:{}}})},C=V.exports={KEY:w,NEED:!1,fastKey:function(M,f){if(!S(M))return"symbol"==typeof M?M:("string"==typeof M?"S":"P")+M;if(!T(M,w)){if(!g(M))return"F";if(!f)return"E";p(M)}return M[w].i},getWeak:function(M,f){if(!T(M,w)){if(!g(M))return!0;if(!f)return!1;p(M)}return M[w].w},onFreeze:function(M){return _&&C.NEED&&g(M)&&!T(M,w)&&p(M),M}}},function(V,x,h){var w=h(4);V.exports=function(S,T){if(!w(S))return S;var y,m;if(T&&"function"==typeof(y=S.toString)&&!w(m=y.call(S))||"function"==typeof(y=S.valueOf)&&!w(m=y.call(S))||!T&&"function"==typeof(y=S.toString)&&!w(m=y.call(S)))return m;throw TypeError("Can't convert object to primitive value")}},function(V,x,h){var w=h(16),S=h(14),T=h(93)("IE_PROTO"),y=Object.prototype;V.exports=Object.getPrototypeOf||function(m){return m=S(m),w(m,T)?m[T]:"function"==typeof m.constructor&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?y:null}},function(V,x,h){var w=h(146),S=h(92).concat("length","prototype");x.f=Object.getOwnPropertyNames||function(T){return w(T,S)}},function(V,x,h){var w=h(5),S=h(145),T=h(92),y=h(93)("IE_PROTO"),m=function(){},g=function(){var _,p=h(96)("iframe"),C=T.length;for(p.style.display="none",h(90).appendChild(p),p.src="javascript:",(_=p.contentWindow.document).open(),_.write("<script>document.F=Object<\/script>"),_.close(),g=_.F;C--;)delete g.prototype[T[C]];return g()};V.exports=Object.create||function(_,p){var C;return null!==_?(m.prototype=w(_),C=new m,m.prototype=null,C[y]=_):C=g(),void 0===p?C:S(C,p)}},function(V,x,h){var w=h(24),S=Math.max,T=Math.min;V.exports=function(y,m){return(y=w(y))<0?S(y+m,0):T(y,m)}},function(V,x){var h=0,w=Math.random();V.exports=function(S){return"Symbol(".concat(void 0===S?"":S,")_",(++h+w).toString(36))}},function(V,x){V.exports=function(h,w){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:w}}},function(V,x){var h=V.exports={version:"2.5.4"};"number"==typeof __e&&(__e=h)},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LogicOperator=x.MatchExpression=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(8);function T(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}var y=function(){function g(_,p,C){T(this,g),this._varName=_,this._condition=p,this._value=C,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return w(g,[{key:"and",value:function(_,p,C){return this._next=g.chainedMatchExpression(_,p,C,m.AND,this),this._next}},{key:"or",value:function(_,p,C){return this._next=g.chainedMatchExpression(_,p,C,m.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var _=this;null!=_._parent;)_=_._parent;return _}},{key:"toString",value:function(){for(var _=this.rewind(),p=_.asString();_.hasNext();)p+=(_=_.next).asString();return p}},{key:"asString",value:function(){var _="";return null!=this._logicOp&&(_+=" "+this._logicOp.id+" "),_+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var _=this.rewind(),p=new S.SFSArray;for(p.addSFSArray(_.expressionAsSFSArray());_.hasNext();)p.addSFSArray((_=_.next).expressionAsSFSArray());return p}},{key:"expressionAsSFSArray",value:function(){var _=new S.SFSArray;return null!=this._logicOp?_.addUtfString(this._logicOp.id):_.addNull(),_.addUtfString(this._varName),_.addByte(this._condition.type),_.addUtfString(this._condition.symbol),0===this._condition.type?_.addBool(this._value):1===this._condition.type?_.addDouble(this._value):_.addUtfString(this._value),_}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(_,p,C,M,f){var b=new g(_,p,C);return b._logicOp=M,b._parent=f,b}}]),g}(),m=function(){function g(_){T(this,g),this._id=_,Object.freeze(this)}return w(g,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new g("AND")}},{key:"OR",get:function(){return new g("OR")}}]),g}();x.MatchExpression=y,x.LogicOperator=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=function(){function m(){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,m),this._listenersByEvent={}}return w(m,[{key:"addEventListener",value:function(g,_,p){this._listenersByEvent[g]||(this._listenersByEvent[g]=[]),this._listenersByEvent[g].push({callback:_,scope:p})}},{key:"removeEventListener",value:function(g,_){var p=this._listenersByEvent[g];if(p)for(var C=0;C<p.length;C++)if(p[C].callback===_){p.splice(C,1);break}}},{key:"dispatchEvent",value:function(g,_){var p=this._listenersByEvent[g];if(p){var C=!0,M=!1,f=void 0;try{for(var b,O=p[Symbol.iterator]();!(C=(b=O.next()).done);C=!0){var F=b.value;F.callback.call(F.scope,_)}}catch(U){M=!0,f=U}finally{try{!C&&O.return&&O.return()}finally{if(M)throw f}}}}}]),m}(),T=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),y=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});x.EventDispatcher=S,x.SFSEvent=T,x.SFSBuddyEvent=y},function(V,x,h){var w=h(4);V.exports=function(S,T){if(!w(S)||S._t!==T)throw TypeError("Incompatible receiver, "+T+" required!");return S}},function(V,x,h){var w=h(15);V.exports=function(S,T,y){for(var m in T)w(S,m,T[m],y);return S}},function(V,x){V.exports=function(h,w,S,T){if(!(h instanceof w)||void 0!==T&&T in h)throw TypeError(S+": incorrect invocation!");return h}},function(V,x,h){"use strict";var w=h(6),S=h(10),T=h(11),y=h(7)("species");V.exports=function(m){var g=w[m];T&&g&&!g[y]&&S.f(g,y,{configurable:!0,get:function(){return this}})}},function(V,x){V.exports=!1},function(V,x,h){var w=h(10).f,S=h(16),T=h(7)("toStringTag");V.exports=function(y,m,g){y&&!S(y=g?y:y.prototype,T)&&w(y,T,{configurable:!0,value:m})}},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSBuddyVariable=x.ReservedBuddyVariables=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(48),T=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),y=function(m){function g(_,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,p,C));return Object.freeze(M),M}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseVariable),w(g,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),w(g,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===g.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(_){return new g(_.get(0),_.get(2),_.get(1))}}]),g}();x.ReservedBuddyVariables=T,x.SFSBuddyVariable=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.UserPrivileges=x.SFSUser=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(59),T=h(1),y=function(){function g(_,p){var C=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,g),this._id=_,this._name=p,this._isItMe=C,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return w(g,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(_){return _.containsUser(this)}},{key:"getPlayerId",value:function(_){var p=this._playerIdByRoomId.get(_.id);return null!=p?p:0}},{key:"isPlayerInRoom",value:function(_){return!!_.isGame&&this.getPlayerId(_)>0}},{key:"isSpectatorInRoom",value:function(_){return!!_.isGame&&this.getPlayerId(_)<0}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(_,p){this._playerIdByRoomId.set(p.id,_)}},{key:"_removePlayerId",value:function(_){this._playerIdByRoomId.delete(_.id)}},{key:"_setVariables",value:function(_){var p=!0,C=!1,M=void 0;try{for(var f,b=_[Symbol.iterator]();!(p=(f=b.next()).done);p=!0)this._setVariable(f.value)}catch(F){C=!0,M=F}finally{try{!p&&b.return&&b.return()}finally{if(C)throw M}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"_setUserManager",value:function(_){if(null!=this._userManager)throw new T.SFSError("User Manager already assigned to user "+this.toString());this._userManager=_}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===m.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===m.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===m.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===m.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(_){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=new g(_.get(0),_.get(1));C._privilegeId=_.get(2),null!=p&&C._setPlayerId(_.get(3),p);var M=_.get(4);if(null!=M)for(var f=0;f<M.size();f++)C._setVariable(S.SFSUserVariable.fromSFSArray(M.get(f)));return C}}]),g}(),m=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});x.SFSUser=y,x.UserPrivileges=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.BaseVariable=x.VariableType=void 0;var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},S=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),T=h(8),y=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(g){return["null","boolean","int","double","string","SFSObject","SFSArray"][g]}}),m=function(){function g(_,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=_,this._value=p,this._type=C>-1?C:this._evalType()}return S(g,[{key:"toSFSArray",value:function(){var _=new T.SFSArray;return _.addUtfString(this.name),_.addByte(this._type),this._populateArrayWithValue(_),_}},{key:"_populateArrayWithValue",value:function(_){switch(this._type){case y.NULL:_.addNull();break;case y.BOOLEAN:_.addBool(this.value);break;case y.INT:_.addInt(this.value);break;case y.DOUBLE:_.addDouble(this.value);break;case y.STRING:_.addUtfString(this.value);break;case y.SFSOBJECT:_.addSFSObject(this.value);break;case y.SFSARRAY:_.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return y.NULL;var _=w(this._value);if("boolean"===_)return y.BOOLEAN;if("number"===_){var p=this._value;return p===+p&&p===(0|p)?y.INT:y.DOUBLE}return"string"===_?y.STRING:"object"===_?this._value instanceof T.SFSArray?y.SFSARRAY:y.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return y.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===y.NULL}}]),g}();x.VariableType=y,x.BaseVariable=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSRoomVariable=x.ReservedRoomVariables=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(48),T=Object.freeze({RV_GAME_STARTED:"$GS"}),y=function(m){function g(_,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,p,C));return M.isPrivate=!1,M.isPersistent=!1,Object.seal(M),M}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseVariable),w(g,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var _=function p(C,M,f){null===C&&(C=Function.prototype);var b=Object.getOwnPropertyDescriptor(C,M);if(void 0===b){var O=Object.getPrototypeOf(C);return null===O?void 0:p(O,M,f)}if("value"in b)return b.value;var F=b.get;return void 0!==F?F.call(f):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"toSFSArray",this).call(this);return _.addBool(this.isPrivate),_.addBool(this.isPersistent),_}}],[{key:"fromSFSArray",value:function(_){var p=new g(_.get(0),_.get(2),_.get(1));return p.isPrivate=_.get(3),p.isPersistent=_.get(4),p}}]),g}();x.ReservedRoomVariables=T,x.SFSRoomVariable=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LoggerEvent=x.Logger=x.LogLevel=void 0;var w=function(){function p(C,M){for(var f=0;f<M.length;f++){var b=M[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}return function(C,M,f){return M&&p(C.prototype,M),f&&p(C,f),C}}(),S=h(39),T=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(p){return p===this.DEBUG?"DEBUG":p===this.INFO?"INFO":p===this.WARN?"WARN":p===this.ERROR?"ERROR":void 0}}),y=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),m=Symbol(),g=Symbol(),_=function(p){function C(M){!function(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C);var f=function(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?b:O}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this));if(M!==g)throw"Logger is a singleton class; you can't instantiate it";return f._enableConsoleOutput=void 0!==console,f._enableEventDispatching=!1,f._level=T.INFO,f._useBasicLog=!0,void 0!==console&&(f._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),f}return function(M,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);M.prototype=Object.create(f&&f.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(M,f):M.__proto__=f)}(C,S.EventDispatcher),w(C,[{key:"log",value:function(M){for(var f=this,b=arguments.length,O=Array(b>1?b-1:0),F=1;F<b;F++)O[F-1]=arguments[F];if(this.isValidLevel(M)&&M>=this._level){if(this._enableConsoleOutput){var U=function(z,q){f._useBasicLog&&(q=function(H){console.log(H)}),q("[ SFS2X | "+z+" ] "+O.join(" "))};switch(M){case T.DEBUG:U("DEBUG",function(z){console.debug(z)});break;case T.INFO:U("INFO",function(z){console.info(z)});break;case T.WARN:U("WARN",function(z){console.warn(z)});break;case T.ERROR:U("ERROR",function(z){console.error(z)})}}this._enableEventDispatching&&this.dispatchEvent(T.toString(M).toLowerCase(),{message:O.join(" ")})}}},{key:"debug",value:function(){for(var M=arguments.length,f=Array(M),b=0;b<M;b++)f[b]=arguments[b];this.log(T.DEBUG,f)}},{key:"info",value:function(){for(var M=arguments.length,f=Array(M),b=0;b<M;b++)f[b]=arguments[b];this.log(T.INFO,f)}},{key:"warn",value:function(){for(var M=arguments.length,f=Array(M),b=0;b<M;b++)f[b]=arguments[b];this.log(T.WARN,f)}},{key:"error",value:function(){for(var M=arguments.length,f=Array(M),b=0;b<M;b++)f[b]=arguments[b];this.log(T.ERROR,f)}},{key:"isValidLevel",value:function(M){if(!Number.isInteger(M)||M<T.DEBUG||M>T.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(M){this.isValidLevel(M)&&(this._level=M)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(M){void 0!==console&&(this._enableConsoleOutput=M)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(M){this._enableEventDispatching=M},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[m]||(this[m]=new C(g)),Object.seal(this[m])}}]),C}();x.LogLevel=T,x.Logger=_,x.LoggerEvent=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(y){switch(y){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),T=function(){function y(){!function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y)}return w(y,null,[{key:"prettyPrintByteArray",value:function(m){return null==m?"Null":m.length<32?m.toString():"Byte["+m.length+"]"}},{key:"prettyPrintDump",value:function(m){for(var g="",_=0,p=0;p<m.length;p++){var C=m.charAt(p);if(C==this.TOKEN_INDENT_OPEN)_++,g+=this.NEW_LINE+this.getFormatTabs(_);else if(C==this.TOKEN_INDENT_CLOSE){if(--_<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";g+=this.NEW_LINE+this.getFormatTabs(_)}else g+=C==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(_):C}if(0!=_)throw"DumpFormatter: the indentPos is not === 0 ("+_+"). TOKENS ARE NOT BALANCED!";return g}},{key:"getFormatTabs",value:function(m){return this.strFill(this.TAB,m)}},{key:"strFill",value:function(m,g){for(var _="",p=0;p<g;p++)_+=m;return _}},{key:"hexDump",value:function(m){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===g&&(g=this.HEX_BYTES_PER_LINE);var _="Binary size: "+m.byteLength+this.NEW_LINE,p="",C="",M=0,f=0,b=null;do{var O=(b=m[M]).toString(16).toUpperCase();1===O.length&&(O="0"+O),p+=O+" ",C+=b>=33&&b<=126?String.fromCharCode(b):this.DOT,++f===g&&(f=0,_+=p+this.TAB+C+this.NEW_LINE,p="",C="")}while(++M<m.length);if(0!==f){for(var F=g-f;F>0;--F)p+="   ",C+=" ";_+=p+this.TAB+C+this.NEW_LINE}return _}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),y}();x.ClientDisconnectionReason=S,x.DumpFormatter=T},function(V,x,h){var w=h(7)("unscopables"),S=Array.prototype;null==S[w]&&h(18)(S,w,{}),V.exports=function(T){S[w][T]=!0}},function(V,x){V.exports={}},function(V,x,h){var w=h(25);V.exports=Object("z").propertyIsEnumerable(0)?Object:function(S){return"String"==w(S)?S.split(""):Object(S)}},function(V,x,h){var w=h(146),S=h(92);V.exports=Object.keys||function(T){return w(T,S)}},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MessageRecipientMode=x.BanMode=x.MapLimits=x.RoomExtension=x.RoomEvents=x.RoomPermissions=x.MMORoomSettings=x.SFSGameSettings=x.RoomSettings=void 0;var w=function(){function f(b,O){for(var F=0;F<O.length;F++){var U=O[F];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(b,U.key,U)}}return function(b,O,F){return O&&f(b.prototype,O),F&&f(b,F),b}}(),S=h(1);function T(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}function y(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}function m(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}var g=function f(b){m(this,f),this.name=b,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},_=function(f){function b(O){m(this,b);var F=T(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O));return F.isPublic=!0,F.minPlayersToStartGame=2,F.invitedPlayers=null,F.searchableRooms=null,F.invitationExpiryTime=15,F.leaveLastJoinedRoom=!0,F.notifyGameStarted=!1,F.playerMatchExpression=null,F.spectatorMatchExpression=null,F.invitationParams=null,Object.seal(F),F}return y(b,g),b}(),p=function(f){function b(O,F){m(this,b);var U=T(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O));return U.defaultAOI=F,U.mapLimits=null,U.userMaxLimboSeconds=50,U.proximityListUpdateMillis=250,U.sendAOIEntryPoint=!0,Object.seal(U),U}return y(b,g),b}(),C=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),M=function(){function f(b,O){if(m(this,f),b<f.TO_USER||b>f.TO_ZONE)throw new S.SFSError("Illegal recipient mode: "+b);this._mode=b,this._target=O,Object.freeze(this)}return w(f,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),w(f,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),f}();x.RoomSettings=g,x.SFSGameSettings=_,x.MMORoomSettings=p,x.RoomPermissions=function f(){m(this,f),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},x.RoomEvents=function f(){m(this,f),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},x.RoomExtension=function f(b,O){m(this,f),this.id=b,this.className=O,this.propertiesFile="",Object.seal(this)},x.MapLimits=function f(b,O){if(m(this,f),null==b||null==O)throw new S.SFSError("Map limits arguments must be both non null!");this.lowerLimit=b,this.higherLimit=O,Object.seal(this)},x.BanMode=C,x.MessageRecipientMode=M},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.CreateRoomRequest=void 0;var w=function(){function C(M,f){for(var b=0;b<f.length;b++){var O=f[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,f,b){return f&&C(M.prototype,f),b&&C(M,b),M}}(),S=h(2),T=h(1),y=h(56),m=h(8),g=h(9),_=h(49),p=function(C){function M(f){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}(this,M);var F=function(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?U:z}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,S.Requests.CreateRoom));return F._settings=f,F._autoJoin=b,F._roomToLeave=O,Object.seal(F),F}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(M,S.BaseRequest),w(M,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),w(M,[{key:"validate",value:function(f){if(!(this._settings instanceof y.RoomSettings))throw new T.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var b=[];if(null!=this._settings.name&&0!==this._settings.name.length||b.push("Missing Room name"),this._settings.maxUsers<=0&&b.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&b.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&b.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(O){return O instanceof _.SFSRoomVariable})||b.push("Each Room Variable must be an instance of SFSRoomVariable class"):b.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof y.RoomPermissions||b.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof y.RoomEvents||b.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof y.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||b.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||b.push("Missing Room Extension id")):b.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof y.MMORoomSettings&&(null==this._settings.defaultAOI&&b.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof m.Vec3D||b.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof y.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||b.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof m.Vec3D&&this._settings.mapLimits.higherLimit instanceof m.Vec3D||b.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):b.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof g.SFSRoom||b.push("Room to leave must be an instance of SFSRoom class"),b.length>0)throw new T.SFSValidationError("CreateRoomRequest Error",b)}},{key:"execute",value:function(f){if(this._reqObj.putUtfString(M.KEY_NAME,this._settings.name),this._reqObj.putUtfString(M.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(M.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(M.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(M.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(M.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(M.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(M.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var b=new m.SFSArray,O=!0,F=!1,U=void 0;try{for(var z,q=this._settings.variables[Symbol.iterator]();!(O=(z=q.next()).done);O=!0)b.addSFSArray(z.value.toSFSArray())}catch(X){F=!0,U=X}finally{try{!O&&q.return&&q.return()}finally{if(F)throw U}}this._reqObj.putSFSArray(M.KEY_ROOMVARS,b)}if(null!=this._settings.permissions){var Y=[];Y.push(this._settings.permissions.allowNameChange),Y.push(this._settings.permissions.allowPasswordStateChange),Y.push(this._settings.permissions.allowPublicMessages),Y.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(M.KEY_PERMISSIONS,Y)}if(null!=this._settings.events){var G=[];G.push(this._settings.events.allowUserEnter),G.push(this._settings.events.allowUserExit),G.push(this._settings.events.allowUserCountChange),G.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(M.KEY_EVENTS,G)}null!=this._settings.extension&&(this._reqObj.putUtfString(M.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(M.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(M.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof y.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(M.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(M.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(M.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(M.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(M.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(M.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(M.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(M.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(M.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(M.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(M.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),M}();x.CreateRoomRequest=p},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.BuddyOnlineState=x.SFSBuddy=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(46),T=function(){function m(g,_){var p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],C=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=g,this._name=_,this._isBlocked=p,this._isTemp=C,this._variables=new Map,Object.seal(this)}return w(m,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(g){return this._variables.get(g)}},{key:"containsVariable",value:function(g){return this._variables.has(g)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)===S.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)!==S.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(g){var _=!0,p=!1,C=void 0;try{for(var M,f=g[Symbol.iterator]();!(_=(M=f.next()).done);_=!0)this._setVariable(M.value)}catch(O){p=!0,C=O}finally{try{!_&&f.return&&f.return()}finally{if(p)throw C}}}},{key:"_setVariable",value:function(g){g.isNull?this._variables.delete(g.name):this._variables.set(g.name,g)}},{key:"_removeVariable",value:function(g){this._variables.delete(g)}},{key:"_clearVolatileVariables",value:function(){var g=!0,_=!1,p=void 0;try{for(var C,M=this.getOnlineVariables()[Symbol.iterator]();!(g=(C=M.next()).done);g=!0)this._removeVariable(C.value.name)}catch(b){_=!0,p=b}finally{try{!g&&M.return&&M.return()}finally{if(_)throw p}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var g=!0;return this.containsVariable(S.ReservedBuddyVariables.BV_ONLINE)&&(g=this.getVariable(S.ReservedBuddyVariables.BV_ONLINE).value),g&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(S.ReservedBuddyVariables.BV_STATE)?this.getVariable(S.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(S.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(S.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(g){var _=new m(g.get(0),g.get(1),g.get(2),g.size()>3&&g.get(4)),p=g.get(3);if(null!=p)for(var C=0;C<p.size();C++)_._setVariable(S.SFSBuddyVariable.fromSFSArray(p.get(C)));return _}}]),m}(),y=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});x.SFSBuddy=T,x.BuddyOnlineState=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSUserVariable=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(48),T=function(y){function m(g,_){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,_,p));return C.isPrivate=!1,Object.seal(C),C}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(m,S.BaseVariable),w(m,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var g=function _(p,C,M){null===p&&(p=Function.prototype);var f=Object.getOwnPropertyDescriptor(p,C);if(void 0===f){var b=Object.getPrototypeOf(p);return null===b?void 0:_(b,C,M)}if("value"in f)return f.value;var O=f.get;return void 0!==O?O.call(M):void 0}(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"toSFSArray",this).call(this);return g.addBool(this.isPrivate),g}}],[{key:"fromSFSArray",value:function(g){var _=new m(g.get(0),g.get(2),g.get(1));return g.size()>3&&(_.isPrivate=g.get(3)),_}}]),m}();x.SFSUserVariable=T},function(V,x,h){for(var w,S=h(6),T=h(18),y=h(35),m=y("typed_array"),g=y("view"),_=!(!S.ArrayBuffer||!S.DataView),p=_,C=0,M="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");C<9;)(w=S[M[C++]])?(T(w.prototype,m,!0),T(w.prototype,g,!0)):p=!1;V.exports={ABV:_,CONSTR:p,TYPED:m,VIEW:g}},function(V,x,h){"use strict";var w=h(6),S=h(0),T=h(15),y=h(41),m=h(29),g=h(62),_=h(42),p=h(4),C=h(3),M=h(64),f=h(45),b=h(87);V.exports=function(O,F,U,z,q,H){var Y=w[O],G=Y,X=q?"set":"add",ae=G&&G.prototype,Q={},ue=function(ie){var me=ae[ie];T(ae,ie,"delete"==ie||"has"==ie?function(ce){return!(H&&!p(ce))&&me.call(this,0===ce?0:ce)}:"get"==ie?function(ce){return H&&!p(ce)?void 0:me.call(this,0===ce?0:ce)}:"add"==ie?function(ce){return me.call(this,0===ce?0:ce),this}:function(ce,Be){return me.call(this,0===ce?0:ce,Be),this})};if("function"==typeof G&&(H||ae.forEach&&!C(function(){(new G).entries().next()}))){var oe=new G,Ee=oe[X](H?{}:-0,1)!=oe,Ge=C(function(){oe.has(1)}),Ne=M(function(ie){new G(ie)}),Le=!H&&C(function(){for(var ie=new G,me=5;me--;)ie[X](me,me);return!ie.has(-0)});Ne||((G=F(function(ie,me){_(ie,G,O);var ce=b(new Y,ie,G);return null!=me&&g(me,q,ce[X],ce),ce})).prototype=ae,ae.constructor=G),(Ge||Le)&&(ue("delete"),ue("has"),q&&ue("get")),(Le||Ee)&&ue(X),H&&ae.clear&&delete ae.clear}else G=z.getConstructor(F,O,q,X),y(G.prototype,U),m.NEED=!0;return f(G,O),Q[O]=G,S(S.G+S.W+S.F*(G!=Y),Q),H||z.setStrong(G,O,q),G}},function(V,x,h){var w=h(27),S=h(132),T=h(80),y=h(5),m=h(12),g=h(79),_={},p={};(x=V.exports=function(C,M,f,b,O){var F,U,z,q,H=O?function(){return C}:g(C),Y=w(f,b,M?2:1),G=0;if("function"!=typeof H)throw TypeError(C+" is not iterable!");if(T(H)){for(F=m(C.length);F>G;G++)if((q=M?Y(y(U=C[G])[0],U[1]):Y(C[G]))===_||q===p)return q}else for(z=H.call(C);!(U=z.next()).done;)if((q=S(z,Y,U.value,M))===_||q===p)return q}).BREAK=_,x.RETURN=p},function(V,x,h){"use strict";var w=h(18),S=h(15),T=h(3),y=h(28),m=h(7);V.exports=function(g,_,p){var C=m(g),M=p(y,C,""[g]),f=M[0],b=M[1];T(function(){var O={};return O[C]=function(){return 7},7!=""[g](O)})&&(S(String.prototype,g,f),w(RegExp.prototype,C,2==_?function(O,F){return b.call(O,this,F)}:function(O){return b.call(O,this)}))}},function(V,x,h){var w=h(7)("iterator"),S=!1;try{var T=[7][w]();T.return=function(){S=!0},Array.from(T,function(){throw 2})}catch(y){}V.exports=function(y,m){if(!m&&!S)return!1;var g=!1;try{var _=[7],p=_[w]();p.next=function(){return{done:g=!0}},_[w]=function(){return p},y(_)}catch(C){}return g}},function(V,x,h){var w=h(0),S=h(28),T=h(3),y=h(88),m="["+y+"]",g=RegExp("^"+m+m+"*"),_=RegExp(m+m+"*$"),p=function(M,f,b){var O={},F=T(function(){return!!y[M]()||"\u200b\x85"!="\u200b\x85"[M]()}),U=O[M]=F?f(C):y[M];b&&(O[b]=U),w(w.P+w.F*F,"String",O)},C=p.trim=function(M,f){return M=String(S(M)),1&f&&(M=M.replace(g,"")),2&f&&(M=M.replace(_,"")),M};V.exports=p},function(V,x,h){var w=h(25),S=h(7)("toStringTag"),T="Arguments"==w(function(){return arguments}());V.exports=function(y){var m,g,_;return void 0===y?"Undefined":null===y?"Null":"string"==typeof(g=function(p,C){try{return p[C]}catch(M){}}(m=Object(y),S))?g:T?w(m):"Object"==(_=w(m))&&"function"==typeof m.callee?"Arguments":_}},function(V,x){x.f={}.propertyIsEnumerable},function(V,x){x.f=Object.getOwnPropertySymbols},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.InviteUsersRequest=void 0;var w=function(){function p(C,M){for(var f=0;f<M.length;f++){var b=M[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}return function(C,M,f){return M&&p(C.prototype,M),f&&p(C,f),C}}(),S=h(2),T=h(1),y=h(47),m=h(58),g=h(8),_=function(p){function C(M,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}(this,C);var O=function(F,U){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?F:U}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S.Requests.InviteUsers));return O._invitedUsers=M,O._secondsForAnswer=f,O._params=b,Object.seal(O),O}return function(M,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);M.prototype=Object.create(f&&f.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(M,f):M.__proto__=f)}(C,S.BaseRequest),w(C,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),w(C,[{key:"validate",value:function(M){var f=[];if(null==this._invitedUsers?f.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&f.push("No invited users"),this._invitedUsers.length>C.MAX_INVITATIONS_FROM_CLIENT_SIDE&&f.push("Too many invitations; "+C.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(b){return b instanceof y.SFSUser||b instanceof m.SFSBuddy})||f.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):f.push("Invited users must be passed in an array"),(this._secondsForAnswer<C.MIN_EXPIRY_TIME||this._secondsForAnswer>C.MAX_EXPIRY_TIME)&&f.push("secondsForAnswer value is out of range (min: "+C.MIN_EXPIRY_TIME+"; max: "+C.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof g.SFSObject||f.push("Custom invitation parameters must be set in a SFSObject class instance"),f.length>0)throw new T.SFSValidationError("InviteUsersRequest Error",f)}},{key:"execute",value:function(M){var f=[],b=!0,O=!1,F=void 0;try{for(var U,z=this._invitedUsers[Symbol.iterator]();!(b=(U=z.next()).done);b=!0){var q=U.value;if(q instanceof y.SFSUser||q instanceof m.SFSBuddy){if(q===M.mySelf)continue;f.push(q.id)}}}catch(H){O=!0,F=H}finally{try{!b&&z.return&&z.return()}finally{if(O)throw F}}this._reqObj.putIntArray(C.KEY_INVITED_USERS,f),this._reqObj.putShort(C.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(C.KEY_PARAMS,this._params)}}]),C}();x.InviteUsersRequest=_},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.AdminMessageRequest=x.ModeratorMessageRequest=x.ObjectMessageRequest=x.PrivateMessageRequest=x.PublicMessageRequest=x.GenericMessageRequest=x.GenericMessageType=void 0;var w=function(){function H(Y,G){for(var X=0;X<G.length;X++){var ae=G[X];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Y,ae.key,ae)}}return function(Y,G,X){return G&&H(Y.prototype,G),X&&H(Y,X),Y}}(),S=h(2),T=h(1),y=h(56),m=h(8),g=h(9),_=h(47);function p(H,Y){if(!(H instanceof Y))throw new TypeError("Cannot call a class as a function")}function C(H,Y){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y||"object"!=typeof Y&&"function"!=typeof Y?H:Y}function M(H,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);H.prototype=Object.create(Y&&Y.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(H,Y):H.__proto__=Y)}var f=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),b=function(H){function Y(){p(this,Y);var G=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,S.Requests.GenericMessage));return G._type=-1,G._room=null,G._user=null,G._message=null,G._params=null,G._recipient=null,G._sendMode=-1,Object.seal(G),G}return M(Y,S.BaseRequest),w(Y,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),w(Y,[{key:"validate",value:function(G){if(this._type<0)throw new T.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var X=[];switch(this._type){case f.PUBLIC_MSG:this._validatePublicMessage(G,X);break;case f.PRIVATE_MSG:this._validatePrivateMessage(G,X);break;case f.OBJECT_MSG:this._validateObjectMessage(G,X);break;case f.BUDDY_MSG:this._validateBuddyMessage(G,X);break;default:this._validateSuperUserMessage(G,X)}if(X.length>0)throw new T.SFSValidationError("GenericMessageRequest Error",X)}},{key:"execute",value:function(G){switch(this._reqObj.putByte(Y.KEY_MESSAGE_TYPE,this._type),this._type){case f.PUBLIC_MSG:this._executePublicMessage(G);break;case f.PRIVATE_MSG:this._executePrivateMessage(G);break;case f.OBJECT_MSG:this._executeObjectMessage(G);break;case f.BUDDY_MSG:this._executeBuddyMessage(G);break;default:this._executeSuperUserMessage(G)}}},{key:"_validatePublicMessage",value:function(G,X){null!=this._message&&0!==this._message.length||X.push("Public message is empty"),null==this._room&&(this._room=G.lastJoinedRoom),null==this._room?X.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?G.getJoinedRooms().indexOf(this._room)<0&&X.push("You are not joined in the target Room: "+this._room):X.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(G,X){null!=this._message&&0!==this._message.length||X.push("Private message is empty"),this._recipient<0&&X.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(G,X){null==this._params?X.push("Object message is null"):this._params instanceof m.SFSObject||X.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=G.lastJoinedRoom),null==this._room?X.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?G.getJoinedRooms().indexOf(this._room)<0&&X.push("You are not joined in the target Room: "+this._room):X.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(ae){return ae instanceof _.SFSUser})||X.push("Each message recipient must be an instance of SFSUser class"):X.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&X.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(G,X){G.buddyManager.isInited||X.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===G.buddyManager.myOnlineState&&X.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||X.push("Buddy message is empty"),this._recipient<0&&X.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(G,X){switch(null!=this._message&&0!==this._message.length||X.push("Moderator message is empty"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case y.MessageRecipientMode.TO_USER:this._recipient instanceof _.SFSUser||X.push("Recipient must be an instance of SFSUser class");break;case y.MessageRecipientMode.TO_ROOM:this._recipient instanceof g.SFSRoom||X.push("Recipient must be an instance of SFSRoom class");break;case y.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&X.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(G){this._reqObj.putInt(Y.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(Y.KEY_USER_ID,G.mySelf.id),this._reqObj.putUtfString(Y.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Y.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(G){this._reqObj.putInt(Y.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(Y.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Y.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(G){this._reqObj.putInt(Y.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(Y.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Y.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(G){switch(this._reqObj.putUtfString(Y.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(Y.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(Y.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case y.MessageRecipientMode.TO_USER:case y.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(Y.KEY_RECIPIENT,this._recipient.id);break;case y.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(Y.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(G){this._reqObj.putInt(Y.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(Y.KEY_XTRA_PARAMS,this._params);var X=new Set;if(null!=this._recipient){var ae=!0,Q=!1,ue=void 0;try{for(var oe,Ee=this._recipient[Symbol.iterator]();!(ae=(oe=Ee.next()).done);ae=!0)X.add(oe.value.id)}catch(Ne){Q=!0,ue=Ne}finally{try{!ae&&Ee.return&&Ee.return()}finally{if(Q)throw ue}}}X.size>0&&this._reqObj.putIntArray(Y.KEY_RECIPIENT,Array.from(X))}}]),Y}(),O=function(H){function Y(G){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,Y);var Q=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return Q._type=f.OBJECT_MSG,Q._params=G,Q._room=X,Q._recipient=ae,Object.seal(Q),Q}return M(Y,b),Y}(),F=function(H){function Y(G){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,Y);var Q=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return Q._type=f.PUBLIC_MSG,Q._message=G,Q._room=ae,Q._params=X,Object.seal(Q),Q}return M(Y,b),Y}(),U=function(H){function Y(G,X){var ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,Y);var Q=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return Q._type=f.PRIVATE_MSG,Q._message=G,Q._recipient=X,Q._params=ae,Object.seal(Q),Q}return M(Y,b),Y}(),z=function(H){function Y(G,X){var ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,Y);var Q=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));if(null==X)throw new T.SFSError("Recipient mode cannot be null");if(!(X instanceof y.MessageRecipientMode))throw new T.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return Q._type=f.MODERATOR_MSG,Q._message=G,Q._params=ae,Q._recipient=X.target,Q._sendMode=X.mode,Object.seal(Q),Q}return M(Y,b),Y}(),q=function(H){function Y(G,X){var ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,Y);var Q=C(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));if(null==X)throw new T.SFSError("Recipient mode cannot be null");if(!(X instanceof y.MessageRecipientMode))throw new T.SFSError("Recipient mode must an instance of MessageRecipientMode class");return Q._type=f.ADMING_MSG,Q._message=G,Q._params=ae,Q._recipient=X.target,Q._sendMode=X.mode,Object.seal(Q),Q}return M(Y,b),Y}();x.GenericMessageType=f,x.GenericMessageRequest=b,x.PublicMessageRequest=F,x.PrivateMessageRequest=U,x.ObjectMessageRequest=O,x.ModeratorMessageRequest=z,x.AdminMessageRequest=q},function(V,x,h){"use strict";h.r(x),h.d(x,"MD5",function(){return w});var w=function(){this.hexcase=0,this.b64pad=""};w.prototype={},w.prototype.hex_md5=function(S){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(S)))},w.prototype.b64_md5=function(S){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(S)))},w.prototype.any_md5=function(S,T){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(S)),T)},w.prototype.hex_hmac_md5=function(S,T){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)))},w.prototype.b64_hmac_md5=function(S,T){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)))},w.prototype.any_hmac_md5=function(S,T,y){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)),y)},w.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},w.prototype.rstr_md5=function(S){return this.binl2rstr(this.binl_md5(this.rstr2binl(S),8*S.length))},w.prototype.rstr_hmac_md5=function(S,T){var y=this.rstr2binl(S);y.length>16&&(y=this.binl_md5(y,8*S.length));for(var m=Array(16),g=Array(16),_=0;_<16;_++)m[_]=909522486^y[_],g[_]=1549556828^y[_];var p=this.binl_md5(m.concat(this.rstr2binl(T)),512+8*T.length);return this.binl2rstr(this.binl_md5(g.concat(p),640))},w.prototype.rstr2hex=function(S){for(var T,y=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",m="",g=0;g<S.length;g++)T=S.charCodeAt(g),m+=y.charAt(T>>>4&15)+y.charAt(15&T);return m},w.prototype.rstr2b64=function(S){for(var T="",y=S.length,m=0;m<y;m+=3)for(var g=S.charCodeAt(m)<<16|(m+1<y?S.charCodeAt(m+1)<<8:0)|(m+2<y?S.charCodeAt(m+2):0),_=0;_<4;_++)T+=8*m+6*_>8*S.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-_)&63);return T},w.prototype.rstr2any=function(S,T){var y,m,g,_,p,C=T.length,M=Array(Math.ceil(S.length/2));for(y=0;y<M.length;y++)M[y]=S.charCodeAt(2*y)<<8|S.charCodeAt(2*y+1);var f=Math.ceil(8*S.length/(Math.log(T.length)/Math.log(2))),b=Array(f);for(m=0;m<f;m++){for(p=Array(),_=0,y=0;y<M.length;y++)_=(_<<16)+M[y],_-=(g=Math.floor(_/C))*C,(p.length>0||g>0)&&(p[p.length]=g);b[m]=_,M=p}var O="";for(y=b.length-1;y>=0;y--)O+=T.charAt(b[y]);return O},w.prototype.str2rstr_utf8=function(S){for(var T,y,m="",g=-1;++g<S.length;)T=S.charCodeAt(g),y=g+1<S.length?S.charCodeAt(g+1):0,55296<=T&&T<=56319&&56320<=y&&y<=57343&&(T=65536+((1023&T)<<10)+(1023&y),g++),T<=127?m+=String.fromCharCode(T):T<=2047?m+=String.fromCharCode(192|T>>>6&31,128|63&T):T<=65535?m+=String.fromCharCode(224|T>>>12&15,128|T>>>6&63,128|63&T):T<=2097151&&(m+=String.fromCharCode(240|T>>>18&7,128|T>>>12&63,128|T>>>6&63,128|63&T));return m},w.prototype.str2rstr_utf16le=function(S){for(var T="",y=0;y<S.length;y++)T+=String.fromCharCode(255&S.charCodeAt(y),S.charCodeAt(y)>>>8&255);return T},w.prototype.str2rstr_utf16be=function(S){for(var T="",y=0;y<S.length;y++)T+=String.fromCharCode(S.charCodeAt(y)>>>8&255,255&S.charCodeAt(y));return T},w.prototype.rstr2binl=function(S){for(var T=Array(S.length>>2),y=0;y<T.length;y++)T[y]=0;for(y=0;y<8*S.length;y+=8)T[y>>5]|=(255&S.charCodeAt(y/8))<<y%32;return T},w.prototype.binl2rstr=function(S){for(var T="",y=0;y<32*S.length;y+=8)T+=String.fromCharCode(S[y>>5]>>>y%32&255);return T},w.prototype.binl_md5=function(S,T){S[T>>5]|=128<<T%32,S[14+(T+64>>>9<<4)]=T;for(var y=1732584193,m=-271733879,g=-1732584194,_=271733878,p=0;p<S.length;p+=16){var C=y,M=m,f=g,b=_;y=this.md5_ff(y,m,g,_,S[p+0],7,-680876936),_=this.md5_ff(_,y,m,g,S[p+1],12,-389564586),g=this.md5_ff(g,_,y,m,S[p+2],17,606105819),m=this.md5_ff(m,g,_,y,S[p+3],22,-1044525330),y=this.md5_ff(y,m,g,_,S[p+4],7,-176418897),_=this.md5_ff(_,y,m,g,S[p+5],12,1200080426),g=this.md5_ff(g,_,y,m,S[p+6],17,-1473231341),m=this.md5_ff(m,g,_,y,S[p+7],22,-45705983),y=this.md5_ff(y,m,g,_,S[p+8],7,1770035416),_=this.md5_ff(_,y,m,g,S[p+9],12,-1958414417),g=this.md5_ff(g,_,y,m,S[p+10],17,-42063),m=this.md5_ff(m,g,_,y,S[p+11],22,-1990404162),y=this.md5_ff(y,m,g,_,S[p+12],7,1804603682),_=this.md5_ff(_,y,m,g,S[p+13],12,-40341101),g=this.md5_ff(g,_,y,m,S[p+14],17,-1502002290),m=this.md5_ff(m,g,_,y,S[p+15],22,1236535329),y=this.md5_gg(y,m,g,_,S[p+1],5,-165796510),_=this.md5_gg(_,y,m,g,S[p+6],9,-1069501632),g=this.md5_gg(g,_,y,m,S[p+11],14,643717713),m=this.md5_gg(m,g,_,y,S[p+0],20,-373897302),y=this.md5_gg(y,m,g,_,S[p+5],5,-701558691),_=this.md5_gg(_,y,m,g,S[p+10],9,38016083),g=this.md5_gg(g,_,y,m,S[p+15],14,-660478335),m=this.md5_gg(m,g,_,y,S[p+4],20,-405537848),y=this.md5_gg(y,m,g,_,S[p+9],5,568446438),_=this.md5_gg(_,y,m,g,S[p+14],9,-1019803690),g=this.md5_gg(g,_,y,m,S[p+3],14,-187363961),m=this.md5_gg(m,g,_,y,S[p+8],20,1163531501),y=this.md5_gg(y,m,g,_,S[p+13],5,-1444681467),_=this.md5_gg(_,y,m,g,S[p+2],9,-51403784),g=this.md5_gg(g,_,y,m,S[p+7],14,1735328473),m=this.md5_gg(m,g,_,y,S[p+12],20,-1926607734),y=this.md5_hh(y,m,g,_,S[p+5],4,-378558),_=this.md5_hh(_,y,m,g,S[p+8],11,-2022574463),g=this.md5_hh(g,_,y,m,S[p+11],16,1839030562),m=this.md5_hh(m,g,_,y,S[p+14],23,-35309556),y=this.md5_hh(y,m,g,_,S[p+1],4,-1530992060),_=this.md5_hh(_,y,m,g,S[p+4],11,1272893353),g=this.md5_hh(g,_,y,m,S[p+7],16,-155497632),m=this.md5_hh(m,g,_,y,S[p+10],23,-1094730640),y=this.md5_hh(y,m,g,_,S[p+13],4,681279174),_=this.md5_hh(_,y,m,g,S[p+0],11,-358537222),g=this.md5_hh(g,_,y,m,S[p+3],16,-722521979),m=this.md5_hh(m,g,_,y,S[p+6],23,76029189),y=this.md5_hh(y,m,g,_,S[p+9],4,-640364487),_=this.md5_hh(_,y,m,g,S[p+12],11,-421815835),g=this.md5_hh(g,_,y,m,S[p+15],16,530742520),m=this.md5_hh(m,g,_,y,S[p+2],23,-995338651),y=this.md5_ii(y,m,g,_,S[p+0],6,-198630844),_=this.md5_ii(_,y,m,g,S[p+7],10,1126891415),g=this.md5_ii(g,_,y,m,S[p+14],15,-1416354905),m=this.md5_ii(m,g,_,y,S[p+5],21,-57434055),y=this.md5_ii(y,m,g,_,S[p+12],6,1700485571),_=this.md5_ii(_,y,m,g,S[p+3],10,-1894986606),g=this.md5_ii(g,_,y,m,S[p+10],15,-1051523),m=this.md5_ii(m,g,_,y,S[p+1],21,-2054922799),y=this.md5_ii(y,m,g,_,S[p+8],6,1873313359),_=this.md5_ii(_,y,m,g,S[p+15],10,-30611744),g=this.md5_ii(g,_,y,m,S[p+6],15,-1560198380),m=this.md5_ii(m,g,_,y,S[p+13],21,1309151649),y=this.md5_ii(y,m,g,_,S[p+4],6,-145523070),_=this.md5_ii(_,y,m,g,S[p+11],10,-1120210379),g=this.md5_ii(g,_,y,m,S[p+2],15,718787259),m=this.md5_ii(m,g,_,y,S[p+9],21,-343485551),y=this.safe_add(y,C),m=this.safe_add(m,M),g=this.safe_add(g,f),_=this.safe_add(_,b)}return Array(y,m,g,_)},w.prototype.md5_cmn=function(S,T,y,m,g,_){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(T,S),this.safe_add(m,_)),g),y)},w.prototype.md5_ff=function(S,T,y,m,g,_,p){return this.md5_cmn(T&y|~T&m,S,T,g,_,p)},w.prototype.md5_gg=function(S,T,y,m,g,_,p){return this.md5_cmn(T&m|y&~m,S,T,g,_,p)},w.prototype.md5_hh=function(S,T,y,m,g,_,p){return this.md5_cmn(T^y^m,S,T,g,_,p)},w.prototype.md5_ii=function(S,T,y,m,g,_,p){return this.md5_cmn(y^(T|~m),S,T,g,_,p)},w.prototype.safe_add=function(S,T){var y=(65535&S)+(65535&T);return(S>>16)+(T>>16)+(y>>16)<<16|65535&y},w.prototype.bit_rol=function(S,T){return S<<T|S>>>32-T}},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=function(){function y(m,g){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")})(this,y),this._id=-1,this._inviter=m,this._invitee=g,this._secondsForAnswer=_,this._params=p,Object.seal(this)}return w(y,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),y}(),T=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});x.SFSInvitation=S,x.InvitationReply=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MMOItemVariable=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(48),T=function(y){function m(g,_){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,_,p));return Object.freeze(C),C}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(m,S.BaseVariable),w(m,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(g){return new m(g.get(0),g.get(2),g.get(1))}}]),m}();x.MMOItemVariable=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=function(){function y(){throw function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return w(y,null,[{key:"setErrorMessage",value:function(m,g){this._errorsByCode[m]=g}},{key:"getErrorMessage",value:function(m,g){return this.stringFormat(this._errorsByCode[m],g)}},{key:"stringFormat",value:function(m,g){if(null==m)return"";if(null!=g)for(var _=0;_<g.length;_++)m=m.replace("{"+_+"}",g[_]);return m}},{key:"_errorsByCode",get:function(){return T}}]),y}();x.SFSErrorCodes=S;var T=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(V,x,h){"use strict";var w=h(6),S=h(11),T=h(44),y=h(60),m=h(18),g=h(41),_=h(3),p=h(42),C=h(24),M=h(12),f=h(121),b=h(32).f,O=h(10).f,F=h(78),U=h(45),z="prototype",q="Wrong index!",H=w.ArrayBuffer,Y=w.DataView,G=w.Math,X=w.RangeError,ae=w.Infinity,Q=H,ue=G.abs,oe=G.pow,Ee=G.floor,Ge=G.log,Ne=G.LN2,Le=S?"_b":"buffer",ie=S?"_l":"byteLength",me=S?"_o":"byteOffset";function ce(ze,Qe,an){var zt,fn,fi,mt=new Array(an),xt=8*an-Qe-1,Fe=(1<<xt)-1,Ae=Fe>>1,je=23===Qe?oe(2,-24)-oe(2,-77):0,Ye=0,Ue=ze<0||0===ze&&1/ze<0?1:0;for((ze=ue(ze))!=ze||ze===ae?(fn=ze!=ze?1:0,zt=Fe):(zt=Ee(Ge(ze)/Ne),ze*(fi=oe(2,-zt))<1&&(zt--,fi*=2),(ze+=zt+Ae>=1?je/fi:je*oe(2,1-Ae))*fi>=2&&(zt++,fi/=2),zt+Ae>=Fe?(fn=0,zt=Fe):zt+Ae>=1?(fn=(ze*fi-1)*oe(2,Qe),zt+=Ae):(fn=ze*oe(2,Ae-1)*oe(2,Qe),zt=0));Qe>=8;mt[Ye++]=255&fn,fn/=256,Qe-=8);for(zt=zt<<Qe|fn,xt+=Qe;xt>0;mt[Ye++]=255&zt,zt/=256,xt-=8);return mt[--Ye]|=128*Ue,mt}function Be(ze,Qe,an){var zt,fn=8*an-Qe-1,fi=(1<<fn)-1,mt=fi>>1,xt=fn-7,Fe=an-1,Ae=ze[Fe--],je=127&Ae;for(Ae>>=7;xt>0;je=256*je+ze[Fe],Fe--,xt-=8);for(zt=je&(1<<-xt)-1,je>>=-xt,xt+=Qe;xt>0;zt=256*zt+ze[Fe],Fe--,xt-=8);if(0===je)je=1-mt;else{if(je===fi)return zt?NaN:Ae?-ae:ae;zt+=oe(2,Qe),je-=mt}return(Ae?-1:1)*zt*oe(2,je-Qe)}function fe(ze){return ze[3]<<24|ze[2]<<16|ze[1]<<8|ze[0]}function be(ze){return[255&ze]}function we(ze){return[255&ze,ze>>8&255]}function qe(ze){return[255&ze,ze>>8&255,ze>>16&255,ze>>24&255]}function pt(ze){return ce(ze,52,8)}function $e(ze){return ce(ze,23,4)}function Gt(ze,Qe,an){O(ze[z],Qe,{get:function(){return this[an]}})}function ht(ze,Qe,an,zt){var fn=f(+an);if(fn+Qe>ze[ie])throw X(q);var mt=fn+ze[me],xt=ze[Le]._b.slice(mt,mt+Qe);return zt?xt:xt.reverse()}function Je(ze,Qe,an,zt,fn,fi){var mt=f(+an);if(mt+Qe>ze[ie])throw X(q);for(var xt=ze[Le]._b,Fe=mt+ze[me],Ae=zt(+fn),je=0;je<Qe;je++)xt[Fe+je]=Ae[fi?je:Qe-je-1]}if(y.ABV){if(!_(function(){H(1)})||!_(function(){new H(-1)})||_(function(){return new H,new H(1.5),new H(NaN),"ArrayBuffer"!=H.name})){for(var de,Me=(H=function(ze){return p(this,H),new Q(f(ze))})[z]=Q[z],Pe=b(Q),Ze=0;Pe.length>Ze;)(de=Pe[Ze++])in H||m(H,de,Q[de]);T||(Me.constructor=H)}var lt=new Y(new H(2)),gt=Y[z].setInt8;lt.setInt8(0,2147483648),lt.setInt8(1,2147483649),!lt.getInt8(0)&&lt.getInt8(1)||g(Y[z],{setInt8:function(ze,Qe){gt.call(this,ze,Qe<<24>>24)},setUint8:function(ze,Qe){gt.call(this,ze,Qe<<24>>24)}},!0)}else H=function(ze){p(this,H,"ArrayBuffer");var Qe=f(ze);this._b=F.call(new Array(Qe),0),this[ie]=Qe},Y=function(ze,Qe,an){p(this,Y,"DataView"),p(ze,H,"DataView");var zt=ze[ie],fn=C(Qe);if(fn<0||fn>zt)throw X("Wrong offset!");if(fn+(an=void 0===an?zt-fn:M(an))>zt)throw X("Wrong length!");this[Le]=ze,this[me]=fn,this[ie]=an},S&&(Gt(H,"byteLength","_l"),Gt(Y,"buffer","_b"),Gt(Y,"byteLength","_l"),Gt(Y,"byteOffset","_o")),g(Y[z],{getInt8:function(ze){return ht(this,1,ze)[0]<<24>>24},getUint8:function(ze){return ht(this,1,ze)[0]},getInt16:function(ze){var Qe=ht(this,2,ze,arguments[1]);return(Qe[1]<<8|Qe[0])<<16>>16},getUint16:function(ze){var Qe=ht(this,2,ze,arguments[1]);return Qe[1]<<8|Qe[0]},getInt32:function(ze){return fe(ht(this,4,ze,arguments[1]))},getUint32:function(ze){return fe(ht(this,4,ze,arguments[1]))>>>0},getFloat32:function(ze){return Be(ht(this,4,ze,arguments[1]),23,4)},getFloat64:function(ze){return Be(ht(this,8,ze,arguments[1]),52,8)},setInt8:function(ze,Qe){Je(this,1,ze,be,Qe)},setUint8:function(ze,Qe){Je(this,1,ze,be,Qe)},setInt16:function(ze,Qe){Je(this,2,ze,we,Qe,arguments[2])},setUint16:function(ze,Qe){Je(this,2,ze,we,Qe,arguments[2])},setInt32:function(ze,Qe){Je(this,4,ze,qe,Qe,arguments[2])},setUint32:function(ze,Qe){Je(this,4,ze,qe,Qe,arguments[2])},setFloat32:function(ze,Qe){Je(this,4,ze,$e,Qe,arguments[2])},setFloat64:function(ze,Qe){Je(this,8,ze,pt,Qe,arguments[2])}});U(H,"ArrayBuffer"),U(Y,"DataView"),m(Y[z],y.VIEW,!0),x.ArrayBuffer=H,x.DataView=Y},function(V,x,h){var w=h(5),S=h(26),T=h(7)("species");V.exports=function(y,m){var g,_=w(y).constructor;return void 0===_||null==(g=w(_)[T])?m:S(g)}},function(V,x,h){"use strict";var w=h(5);V.exports=function(){var S=w(this),T="";return S.global&&(T+="g"),S.ignoreCase&&(T+="i"),S.multiline&&(T+="m"),S.unicode&&(T+="u"),S.sticky&&(T+="y"),T}},function(V,x,h){"use strict";var w=h(14),S=h(34),T=h(12);V.exports=function(y){for(var m=w(this),g=T(m.length),_=arguments.length,p=S(_>1?arguments[1]:void 0,g),C=_>2?arguments[2]:void 0,M=void 0===C?g:S(C,g);M>p;)m[p++]=y;return m}},function(V,x,h){var w=h(66),S=h(7)("iterator"),T=h(53);V.exports=h(37).getIteratorMethod=function(y){if(null!=y)return y[S]||y["@@iterator"]||T[w(y)]}},function(V,x,h){var w=h(53),S=h(7)("iterator"),T=Array.prototype;V.exports=function(y){return void 0!==y&&(w.Array===y||T[S]===y)}},function(V,x,h){var w=h(7)("match");V.exports=function(S){var T=/./;try{"/./"[S](T)}catch(y){try{return T[w]=!1,!"/./"[S](T)}catch(m){}}return!0}},function(V,x,h){var w=h(4),S=h(25),T=h(7)("match");V.exports=function(y){var m;return w(y)&&(void 0!==(m=y[T])?!!m:"RegExp"==S(y))}},function(V,x,h){var w=h(82),S=h(28);V.exports=function(T,y,m){if(w(y))throw TypeError("String#"+m+" doesn't accept regex!");return String(S(T))}},function(V,x,h){"use strict";var w=h(44),S=h(0),T=h(15),y=h(18),m=h(53),g=h(133),_=h(45),p=h(31),C=h(7)("iterator"),M=!([].keys&&"next"in[].keys()),f=function(){return this};V.exports=function(b,O,F,U,z,q,H){g(F,O,U);var Y,G,X,ae=function(me){if(!M&&me in Ee)return Ee[me];switch(me){case"keys":case"values":return function(){return new F(this,me)}}return function(){return new F(this,me)}},Q=O+" Iterator",ue="values"==z,oe=!1,Ee=b.prototype,Ge=Ee[C]||Ee["@@iterator"]||z&&Ee[z],Ne=Ge||ae(z),Le=z?ue?ae("entries"):Ne:void 0,ie="Array"==O&&Ee.entries||Ge;if(ie&&(X=p(ie.call(new b)))!==Object.prototype&&X.next&&(_(X,Q,!0),w||"function"==typeof X[C]||y(X,C,f)),ue&&Ge&&"values"!==Ge.name&&(oe=!0,Ne=function(){return Ge.call(this)}),w&&!H||!M&&!oe&&Ee[C]||y(Ee,C,Ne),m[O]=Ne,m[Q]=f,z)if(Y={values:ue?Ne:ae("values"),keys:q?Ne:ae("keys"),entries:Le},H)for(G in Y)G in Ee||T(Ee,G,Y[G]);else S(S.P+S.F*(M||oe),O,Y);return Y}},function(V,x){var h=Math.expm1;V.exports=!h||h(10)>22025.465794806718||h(10)<22025.465794806718||-2e-17!=h(-2e-17)?function(w){return 0==(w=+w)?w:w>-1e-6&&w<1e-6?w+w*w/2:Math.exp(w)-1}:h},function(V,x){V.exports=Math.sign||function(h){return 0==(h=+h)||h!=h?h:h<0?-1:1}},function(V,x,h){var w=h(4),S=h(89).set;V.exports=function(T,y,m){var g,_=y.constructor;return _!==m&&"function"==typeof _&&(g=_.prototype)!==m.prototype&&w(g)&&S&&S(T,g),T}},function(V,x){V.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(V,x,h){var w=h(4),S=h(5),T=function(y,m){if(S(y),!w(m)&&null!==m)throw TypeError(m+": can't set as prototype!")};V.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(y,m,g){try{(g=h(27)(Function.call,h(23).f(Object.prototype,"__proto__").set,2))(y,[]),m=!(y instanceof Array)}catch(_){m=!0}return function(_,p){return T(_,p),m?_.__proto__=p:g(_,p),_}}({},!1):void 0),check:T}},function(V,x,h){var w=h(6).document;V.exports=w&&w.documentElement},function(V,x,h){var w=h(25);V.exports=Array.isArray||function(S){return"Array"==w(S)}},function(V,x){V.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(V,x,h){var w=h(95)("keys"),S=h(35);V.exports=function(T){return w[T]||(w[T]=S(T))}},function(V,x,h){var w=h(21),S=h(12),T=h(34);V.exports=function(y){return function(m,g,_){var p,C=w(m),M=S(C.length),f=T(_,M);if(y&&g!=g){for(;M>f;)if((p=C[f++])!=p)return!0}else for(;M>f;f++)if((y||f in C)&&C[f]===g)return y||f||0;return!y&&-1}}},function(V,x,h){var w=h(6),S=w["__core-js_shared__"]||(w["__core-js_shared__"]={});V.exports=function(T){return S[T]||(S[T]={})}},function(V,x,h){var w=h(4),S=h(6).document,T=w(S)&&w(S.createElement);V.exports=function(y){return T?S.createElement(y):{}}},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ExtensionRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(8),m=h(9),g=function(_){function p(C){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.CallExtension));return b._targetController=1,b._extCmd=C,b._params=M,b._room=f,null==b._params&&(b._params=new y.SFSObject),Object.seal(b),b}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null!=this._extCmd&&0!==this._extCmd.length||M.push("Missing extension command"),null==this._params||this._params instanceof y.SFSObject||M.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof m.SFSRoom||M.push("Room must be an instance of SFSRoom class"),M.length>0)throw new T.SFSValidationError("ExtensionRequest Error",M)}},{key:"execute",value:function(C){this._reqObj.putUtfString(p.KEY_CMD,this._extCmd),this._reqObj.putInt(p.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(p.KEY_PARAMS,this._params)}}]),p}();x.ExtensionRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SetBuddyVariablesRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(8),m=h(46),g=function(_){function p(C){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,p);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.SetBuddyVariables));return M._buddyVariables=C,Object.seal(M),M}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(C.buddyManager.isInited||M.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===C.buddyManager.getMyOnlineState()&&M.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?M.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?M.push("No Buddy Variables specified"):this._buddyVariables.every(function(f){return f instanceof m.SFSBuddyVariable})||M.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):M.push("Buddy Variables must be passed in an array"),M.length>0)throw new T.SFSValidationError("SetBuddyVariablesRequest Error",M)}},{key:"execute",value:function(C){var M=new y.SFSArray,f=!0,b=!1,O=void 0;try{for(var F,U=this._buddyVariables[Symbol.iterator]();!(f=(F=U.next()).done);f=!0)M.addSFSArray(F.value.toSFSArray())}catch(q){b=!0,O=q}finally{try{!f&&U.return&&U.return()}finally{if(b)throw O}}this._reqObj.putSFSArray(p.KEY_BUDDY_VARS,M)}}]),p}();x.SetBuddyVariablesRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.GoOnlineRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.GoOnline));return p._online=_,Object.seal(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(_.buddyManager.isInited||p.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),p.length>0)throw new T.SFSValidationError("GoOnlineRequest Error",p)}},{key:"execute",value:function(_){_.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(g.KEY_ONLINE,this._online)}}]),g}();x.GoOnlineRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.BlockBuddyRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_,p){!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,g);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.BlockBuddy));return C._name=_,C._blocked=p,Object.seal(C),C}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(_.buddyManager.isInited||p.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===_.buddyManager.getMyOnlineState()&&p.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)p.push("Invalid buddy name (null or empty string)");else{var C=_.buddyManager.getBuddyByName(this._name);null==C?p.push("Can't block buddy '"+this._name+"' because it isn't in your list"):C.isBlocked==this._blocked&&p.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(p.length>0)throw new T.SFSValidationError("BlockBuddyRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(g.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),g}();x.BlockBuddyRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.RemoveBuddyRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.RemoveBuddy));return p._name=_,Object.seal(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(_.buddyManager.isInited||p.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===_.buddyManager.getMyOnlineState()&&p.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?p.push("Invalid buddy name (null or empty string)"):_.buddyManager.containsBuddy(this._name)||p.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),p.length>0)throw new T.SFSValidationError("RemoveBuddyRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();x.RemoveBuddyRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.AddBuddyRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.AddBuddy));return p._name=_,Object.seal(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),w(g,[{key:"validate",value:function(_){var p=[];_.buddyManager.isInited||p.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&p.push("Invalid buddy name (null or empty string)"),!1===_.buddyManager.getMyOnlineState()&&p.push("Can't add a buddy while you are offline in the Buddy List system");var C=_.buddyManager.getBuddyByName(this._name);if(null==C||C.isTemp||p.push("Can't add buddy '"+this._name+"' because it is already in your list"),p.length>0)throw new T.SFSValidationError("AddBuddyRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();x.AddBuddyRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.InitBuddyListRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var _=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.InitBuddyList));return Object.seal(_),_}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(_.buddyManager.isInited&&p.push("Buddy List is already initialized"),p.length>0)throw new T.SFSValidationError("InitBuddyListRequest Error",p)}},{key:"execute",value:function(_){}}]),g}();x.InitBuddyListRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SetUserPositionRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(8),m=h(9),g=function(_){function p(C){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}(this,p);var f=function(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?b:O}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.SetUserPosition));return f._pos=C,f._room=M,Object.seal(f),f}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null!=this._pos&&this._pos instanceof y.Vec3D||M.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=C.lastJoinedRoom),null==this._room&&M.push("You are not joined in any room"),this._room instanceof m.MMORoom||M.push("Target room must be an instance of MMORoom class"),M.length>0)throw new T.SFSValidationError("SetUserPosition Error",M)}},{key:"execute",value:function(C){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(p.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(p.KEY_VEC3D,this._pos.toArray())}}]),p}();x.SetUserPositionRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FindUsersRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(9),m=h(38),g=function(_){function p(C){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.FindUsers));return b._matchExpr=C,b._target=M,b._limit=f,Object.seal(b),b}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null==this._matchExpr&&M.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof m.MatchExpression||M.push("Match expression must be passed as an instance of MatchExpression class"),M.length>0)throw new T.SFSValidationError("FindUsersRequest Error",M)}},{key:"execute",value:function(C){this._reqObj.putSFSArray(p.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof y.SFSRoom?this._reqObj.putInt(p.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(p.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(p.KEY_LIMIT,this._limit)}}]),p}();x.FindUsersRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.FindRoomsRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(38),m=function(g){function _(p){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?b:O}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.FindRooms));return f._matchExpr=p,f._groupId=C,f._limit=M,Object.seal(f),f}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(null==this._matchExpr&&C.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof y.MatchExpression||C.push("Match expression must be passed as an instance of MatchExpression class"),C.length>0)throw new T.SFSValidationError("FindRoomsRequest Error",C)}},{key:"execute",value:function(p){this._reqObj.putSFSArray(_.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(_.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(_.KEY_LIMIT,this._limit)}}]),_}();x.FindRoomsRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PlayerToSpectatorRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.PlayerToSpectator));return C._room=p,Object.seal(C),C}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(p.getJoinedRooms().length<1&&C.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||C.push("Target Room must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("PlayerToSpectatorRequest Error",C)}},{key:"execute",value:function(p){null==this._room&&(this._room=p.lastJoinedRoom),this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();x.PlayerToSpectatorRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SpectatorToPlayerRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.SpectatorToPlayer));return C._room=p,Object.seal(C),C}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(p.getJoinedRooms().length<1&&C.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||C.push("Target Room must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("SpectatorToPlayerRequest Error",C)}},{key:"execute",value:function(p){null==this._room&&(this._room=p.lastJoinedRoom),this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();x.SpectatorToPlayerRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.UnsubscribeRoomGroupRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.UnsubscribeRoomGroup));return p._groupId=_,Object.seal(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(null!=this._groupId&&0!==this._groupId.length||p.push("Invalid group id passed; must be a string with at least one character"),p.length>0)throw new T.SFSValidationError("UnsubscribeGroupRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();x.UnsubscribeRoomGroupRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SubscribeRoomGroupRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.SubscribeRoomGroup));return p._groupId=_,Object.seal(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(null!=this._groupId&&0!==this._groupId.length||p.push("Invalid group id passed; must be a string with at least one character"),p.length>0)throw new T.SFSValidationError("SubscribeGroupRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();x.SubscribeRoomGroupRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SetUserVariablesRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(8),m=h(59),g=function(_){function p(C){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,p);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.SetUserVariables));return M._userVariables=C,Object.seal(M),M}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null==this._userVariables?M.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?M.push("No User Variables specified"):this._userVariables.every(function(f){return f instanceof m.SFSUserVariable})||M.push("User Variables must be passed as instances of SFSUserVariable class"):M.push("User Variables must be passed in an array"),M.length>0)throw new T.SFSValidationError("SetUserVariablesRequest Error",M)}},{key:"execute",value:function(C){var M=new y.SFSArray,f=!0,b=!1,O=void 0;try{for(var F,U=this._userVariables[Symbol.iterator]();!(f=(F=U.next()).done);f=!0)M.addSFSArray(F.value.toSFSArray())}catch(q){b=!0,O=q}finally{try{!f&&U.return&&U.return()}finally{if(b)throw O}}this._reqObj.putSFSArray(p.KEY_VAR_LIST,M)}}]),p}();x.SetUserVariablesRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SetRoomVariablesRequest=void 0;var w=function(){function p(C,M){for(var f=0;f<M.length;f++){var b=M[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}return function(C,M,f){return M&&p(C.prototype,M),f&&p(C,f),C}}(),S=h(2),T=h(1),y=h(8),m=h(9),g=h(49),_=function(p){function C(M){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,C);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S.Requests.SetRoomVariables));return b._roomVariables=M,b._room=f,Object.seal(b),b}return function(M,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);M.prototype=Object.create(f&&f.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(M,f):M.__proto__=f)}(C,S.BaseRequest),w(C,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),w(C,[{key:"validate",value:function(M){var f=[];if(null==this._room&&(this._room=M.lastJoinedRoom),null==this._room?f.push("You must be joined in a Room to send a message"):this._room instanceof m.SFSRoom?M.getJoinedRooms().indexOf(this._room)<0&&f.push("You are not joined in the target Room: "+this._room):f.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?f.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?f.push("No Room Variables specified"):this._roomVariables.every(function(b){return b instanceof g.SFSRoomVariable})||f.push("Room Variables must be passed as instances of SFSRoomVariable class"):f.push("Room Variables must be passed in an array"),f.length>0)throw new T.SFSValidationError("SetRoomVariablesRequest Error",f)}},{key:"execute",value:function(M){var f=new y.SFSArray,b=!0,O=!1,F=void 0;try{for(var U,z=this._roomVariables[Symbol.iterator]();!(b=(U=z.next()).done);b=!0)f.addSFSArray(U.value.toSFSArray())}catch(H){O=!0,F=H}finally{try{!b&&z.return&&z.return()}finally{if(O)throw F}}this._reqObj.putSFSArray(C.KEY_VAR_LIST,f),this._reqObj.putInt(C.KEY_VAR_ROOM,this._room.id)}}]),C}();x.SetRoomVariablesRequest=_},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ChangeRoomCapacityRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(p,C,M){!function(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?b:O}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomCapacity));return f._room=p,f._newMaxUsers=C,f._newMaxSpect=M,Object.seal(f),f}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(this._room instanceof y.SFSRoom||C.push("Room must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("ChangeRoomCapacityRequest Error",C)}},{key:"execute",value:function(p){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putInt(_.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(_.KEY_SPEC_SIZE,this._newMaxSpect)}}]),_}();x.ChangeRoomCapacityRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ChangeRoomPasswordStateRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(p,C){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,_);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomPassword));return M._room=p,M._newPass=C,Object.seal(M),M}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(this._room instanceof y.SFSRoom||C.push("Room must be an instance of SFSRoom class"),null==this._newPass&&C.push("New room password must be a non-null string (empty string to remove the password)"),C.length>0)throw new T.SFSValidationError("ChangeRoomPasswordStateRequest Error",C)}},{key:"execute",value:function(p){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putUtfString(_.KEY_PASS,this._newPass)}}]),_}();x.ChangeRoomPasswordStateRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ChangeRoomNameRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(p,C){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,_);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomName));return M._room=p,M._newName=C,Object.seal(M),M}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(this._room instanceof y.SFSRoom||C.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||C.push("New room name must be a non-null and non-empty string"),C.length>0)throw new T.SFSValidationError("ChangeRoomNameRequest Error",C)}},{key:"execute",value:function(p){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putUtfString(_.KEY_NAME,this._newName)}}]),_}();x.ChangeRoomNameRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.JoinRoomRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(p){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.JoinRoom));return"string"==typeof p?b._rName=p:"number"==typeof p?b._rId=p:p instanceof y.SFSRoom&&(b._rId=p.id,b._rName=p.name),b._password=C,b._roomIdToLeave=M,b._asSpectator=f,Object.seal(b),b}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),w(_,[{key:"validate",value:function(p){if(null==this._rId&&null==this._rName)throw new T.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(p){p._isJoining=!0,this._rId>=0?this._reqObj.putInt(_.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(_.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(_.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(_.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(_.KEY_AS_SPECTATOR,this._asSpectator)}}]),_}();x.JoinRoomRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LogoutRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var _=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.Logout));return Object.seal(_),_}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),w(g,[{key:"validate",value:function(_){if(null==_.mySelf)throw new T.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(_){}}]),g}();x.LogoutRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LoginRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(71),T=h(2),y=h(1),m=h(8),g=function(_){function p(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}(this,p);var O=function(F,U){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?F:U}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,T.Requests.Login));return O._userName=C,O._password=M,O._params=f,O._zoneName=b,Object.seal(O),O}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,T.BaseRequest),w(p,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),w(p,[{key:"validate",value:function(C){if(null!=C.mySelf)throw new y.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var M=[],f=null!=C.config&&null!=C.config.zone?C.config.zone:null;if(null!=this._zoneName&&(f=this._zoneName),null==f||0===f.length?M.push("Missing Zone name"):this._zoneName=f,null==this._params||this._params instanceof m.SFSObject||M.push("Custom parameters must be passed in a SFSObject"),M.length>0)throw new y.SFSValidationError("LoginRequest Error",M)}},{key:"execute",value:function(C){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(p.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(p.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(p.KEY_PASSWORD,this._password.length>0?(new S.MD5).hex_md5(C.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(p.KEY_PARAMS,this._params)}}]),p}();x.LoginRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}();function S(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}var T=function(){function m(g){S(this,m),this._sfs=g,this._usersById=new Map,this._usersByName=new Map}return w(m,[{key:"containsUserName",value:function(g){return this._usersByName.has(g)}},{key:"containsUserId",value:function(g){return this._usersById.has(g)}},{key:"containsUser",value:function(g){return this._usersById.has(g.id)}},{key:"getUserById",value:function(g){return this._usersById.get(g)}},{key:"getUserByName",value:function(g){return this._usersByName.get(g)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(g){this.__addUser(g)}},{key:"__addUser",value:function(g){this._usersByName.set(g.name,g),this._usersById.set(g.id,g)}},{key:"_removeUser",value:function(g){this._usersById.delete(g.id),this._usersByName.delete(g.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),m}(),y=function(m){function g(_){S(this,g);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return p._roomRefCount=new Map,Object.freeze(p),p}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,T),w(g,[{key:"_addUser",value:function(_){this._roomRefCount.has(_)?this._roomRefCount.set(_,this._roomRefCount.get(_)+1):this._roomRefCount.set(_,1),this.__addUser(_)}},{key:"_removeUser",value:function(_){this._removeUserReference(_,!1)}},{key:"_removeUserReference",value:function(_,p){var C=this._roomRefCount.get(_);C<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+_):(this._roomRefCount.set(_,this._roomRefCount.get(_)-1),(0===C||p)&&(function M(f,b,O){null===f&&(f=Function.prototype);var F=Object.getOwnPropertyDescriptor(f,b);if(void 0===F){var U=Object.getPrototypeOf(f);return null===U?void 0:M(U,b,O)}if("value"in F)return F.value;var z=F.get;return void 0!==z?z.call(O):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_removeUser",this).call(this,_),this._roomRefCount.delete(_)))}}]),g}();x.SFSUserManager=T,x.GlobalUserManager=y},function(V,x,h){(function(w){var S,T=function(y,m,g){this._byteOffset=m||0,y instanceof ArrayBuffer?this.buffer=y:"object"==typeof y?(this.dataView=y,m&&(this._byteOffset+=m)):this.buffer=new ArrayBuffer(y||1),this.position=0,this.endianness=null==g?T.LITTLE_ENDIAN:g};T.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),T.prototype.save=function(y){var m=new Blob(this.buffer),g=window.webkitURL||window.URL;if(!g||!g.createObjectURL)throw"DataStream.save: Can't create object URL.";var _=g.createObjectURL(m),p=document.createElement("a");p.setAttribute("href",_),p.setAttribute("download",y),p.click(),g.revokeObjectURL(_)},T.BIG_ENDIAN=!1,T.LITTLE_ENDIAN=!0,T.prototype._dynamicSize=!0,Object.defineProperty(T.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(y){y||this._trimAlloc(),this._dynamicSize=y}}),T.prototype._byteLength=0,Object.defineProperty(T.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(y){this._buffer=y,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(y){this._byteOffset=y,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"dataView",{get:function(){return this._dataView},set:function(y){this._byteOffset=y.byteOffset,this._buffer=y.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+y.byteLength}}),T.prototype._realloc=function(y){if(this._dynamicSize){var m=this._byteOffset+this.position+y,g=this._buffer.byteLength;if(m<=g)m>this._byteLength&&(this._byteLength=m);else{for(g<1&&(g=1);m>g;)g*=2;var _=new ArrayBuffer(g),p=new Uint8Array(this._buffer);new Uint8Array(_,0,p.length).set(p),this.buffer=_,this._byteLength=m}}},T.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var y=new ArrayBuffer(this._byteLength),m=new Uint8Array(y),g=new Uint8Array(this._buffer,0,m.length);m.set(g),this.buffer=y}},T.prototype.seek=function(y){var m=Math.max(0,Math.min(this.byteLength,y));this.position=isNaN(m)||!isFinite(m)?0:m},T.prototype.isEof=function(){return this.position>=this.byteLength},T.prototype.mapInt32Array=function(y,m){this._realloc(4*y);var g=new Int32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=4*y,g},T.prototype.mapInt16Array=function(y,m){this._realloc(2*y);var g=new Int16Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=2*y,g},T.prototype.mapInt8Array=function(y){this._realloc(1*y);var m=new Int8Array(this._buffer,this.byteOffset+this.position,y);return this.position+=1*y,m},T.prototype.mapUint32Array=function(y,m){this._realloc(4*y);var g=new Uint32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=4*y,g},T.prototype.mapUint16Array=function(y,m){this._realloc(2*y);var g=new Uint16Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=2*y,g},T.prototype.mapUint8Array=function(y){this._realloc(1*y);var m=new Uint8Array(this._buffer,this.byteOffset+this.position,y);return this.position+=1*y,m},T.prototype.mapFloat64Array=function(y,m){this._realloc(8*y);var g=new Float64Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=8*y,g},T.prototype.mapFloat32Array=function(y,m){this._realloc(4*y);var g=new Float32Array(this._buffer,this.byteOffset+this.position,y);return T.arrayToNative(g,null==m?this.endianness:m),this.position+=4*y,g},T.prototype.readInt32Array=function(y,m){y=null==y?this.byteLength-this.position/4:y;var g=new Int32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.readInt16Array=function(y,m){y=null==y?this.byteLength-this.position/2:y;var g=new Int16Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.readInt8Array=function(y){y=null==y?this.byteLength-this.position:y;var m=new Int8Array(y);return T.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,y*m.BYTES_PER_ELEMENT),this.position+=m.byteLength,m},T.prototype.readUint32Array=function(y,m){y=null==y?this.byteLength-this.position/4:y;var g=new Uint32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.readUint16Array=function(y,m){y=null==y?this.byteLength-this.position/2:y;var g=new Uint16Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.readUint8Array=function(y){y=null==y?this.byteLength-this.position:y;var m=new Uint8Array(y);return T.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,y*m.BYTES_PER_ELEMENT),this.position+=m.byteLength,m},T.prototype.readFloat64Array=function(y,m){y=null==y?this.byteLength-this.position/8:y;var g=new Float64Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.readFloat32Array=function(y,m){y=null==y?this.byteLength-this.position/4:y;var g=new Float32Array(y);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,y*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==m?this.endianness:m),this.position+=g.byteLength,g},T.prototype.writeInt32Array=function(y,m){if(this._realloc(4*y.length),y instanceof Int32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt32Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeInt32(y[g],m)},T.prototype.writeInt16Array=function(y,m){if(this._realloc(2*y.length),y instanceof Int16Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt16Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeInt16(y[g],m)},T.prototype.writeInt8Array=function(y){if(this._realloc(1*y.length),y instanceof Int8Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapInt8Array(y.length);else for(var m=0;m<y.length;m++)this.writeInt8(y[m])},T.prototype.writeUint32Array=function(y,m){if(this._realloc(4*y.length),y instanceof Uint32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint32Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeUint32(y[g],m)},T.prototype.writeUint16Array=function(y,m){if(this._realloc(2*y.length),y instanceof Uint16Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint16Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeUint16(y[g],m)},T.prototype.writeUint8Array=function(y){if(this._realloc(1*y.length),y instanceof Uint8Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapUint8Array(y.length);else for(var m=0;m<y.length;m++)this.writeUint8(y[m])},T.prototype.writeFloat64Array=function(y,m){if(this._realloc(8*y.length),y instanceof Float64Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapFloat64Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeFloat64(y[g],m)},T.prototype.writeFloat32Array=function(y,m){if(this._realloc(4*y.length),y instanceof Float32Array&&(this.byteOffset+this.position)%y.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,y.buffer,y.byteOffset,y.byteLength),this.mapFloat32Array(y.length,m);else for(var g=0;g<y.length;g++)this.writeFloat32(y[g],m)},T.prototype.readInt32=function(y){var m=this._dataView.getInt32(this.position,null==y?this.endianness:y);return this.position+=4,m},T.prototype.readInt16=function(y){var m=this._dataView.getInt16(this.position,null==y?this.endianness:y);return this.position+=2,m},T.prototype.readInt8=function(){var y=this._dataView.getInt8(this.position);return this.position+=1,y},T.prototype.readUint32=function(y){var m=this._dataView.getUint32(this.position,null==y?this.endianness:y);return this.position+=4,m},T.prototype.readUint16=function(y){var m=this._dataView.getUint16(this.position,null==y?this.endianness:y);return this.position+=2,m},T.prototype.readUint8=function(){var y=this._dataView.getUint8(this.position);return this.position+=1,y},T.prototype.readFloat32=function(y){var m=this._dataView.getFloat32(this.position,null==y?this.endianness:y);return this.position+=4,m},T.prototype.readFloat64=function(y){var m=this._dataView.getFloat64(this.position,null==y?this.endianness:y);return this.position+=8,m},T.prototype.writeInt32=function(y,m){this._realloc(4),this._dataView.setInt32(this.position,y,null==m?this.endianness:m),this.position+=4},T.prototype.writeInt16=function(y,m){this._realloc(2),this._dataView.setInt16(this.position,y,null==m?this.endianness:m),this.position+=2},T.prototype.writeInt8=function(y){this._realloc(1),this._dataView.setInt8(this.position,y),this.position+=1},T.prototype.writeUint32=function(y,m){this._realloc(4),this._dataView.setUint32(this.position,y,null==m?this.endianness:m),this.position+=4},T.prototype.writeUint16=function(y,m){this._realloc(2),this._dataView.setUint16(this.position,y,null==m?this.endianness:m),this.position+=2},T.prototype.writeUint8=function(y){this._realloc(1),this._dataView.setUint8(this.position,y),this.position+=1},T.prototype.writeFloat32=function(y,m){this._realloc(4),this._dataView.setFloat32(this.position,y,null==m?this.endianness:m),this.position+=4},T.prototype.writeFloat64=function(y,m){this._realloc(8),this._dataView.setFloat64(this.position,y,null==m?this.endianness:m),this.position+=8},T.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,T.memcpy=function(y,m,g,_,p){var C=new Uint8Array(y,m,p),M=new Uint8Array(g,_,p);C.set(M)},T.arrayToNative=function(y,m){return m==this.endianness?y:this.flipArrayEndianness(y)},T.nativeToEndian=function(y,m){return this.endianness==m?y:this.flipArrayEndianness(y)},T.flipArrayEndianness=function(y){for(var m=new Uint8Array(y.buffer,y.byteOffset,y.byteLength),g=0;g<y.byteLength;g+=y.BYTES_PER_ELEMENT)for(var _=g+y.BYTES_PER_ELEMENT-1,p=g;_>p;_--,p++){var C=m[p];m[p]=m[_],m[_]=C}return y},T.createStringFromArray=function(y){for(var m=[],g=0;g<y.length;g+=32768)m.push(String.fromCharCode.apply(null,y.subarray(g,g+32768)));return m.join("")},T.prototype.failurePosition=0,T.prototype.readStruct=function(y){for(var g,_={},p=this.position,C=0;C<y.length;C+=2){if(null==(g=this.readType(y[C+1],_)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=p,null;_[y[C]]=g}return _},T.prototype.readUCS2String=function(y,m){return T.createStringFromArray(this.readUint16Array(y,m))},T.prototype.writeUCS2String=function(y,m,g){null==g&&(g=y.length);for(var _=0;_<y.length&&_<g;_++)this.writeUint16(y.charCodeAt(_),m);for(;_<g;_++)this.writeUint16(0)},T.prototype.readString=function(y,m){return null==m||"ASCII"==m?T.createStringFromArray(this.mapUint8Array(null==y?this.byteLength-this.position:y)):new TextDecoder(m).decode(this.mapUint8Array(y))},T.prototype.writeString=function(y,m,g){if(null==m||"ASCII"==m)if(null!=g){var _=0,p=Math.min(y.length,g);for(_=0;_<p;_++)this.writeUint8(y.charCodeAt(_));for(;_<g;_++)this.writeUint8(0)}else for(_=0;_<y.length;_++)this.writeUint8(y.charCodeAt(_));else this.writeUint8Array(new TextEncoder(m).encode(y.substring(0,g)))},T.prototype.readCString=function(y){var m=this.byteLength-this.position,g=new Uint8Array(this._buffer,this._byteOffset+this.position),_=m;null!=y&&(_=Math.min(y,m));for(var p=0;p<_&&0!=g[p];p++);var C=T.createStringFromArray(this.mapUint8Array(p));return null!=y?this.position+=_-p:p!=m&&(this.position+=1),C},T.prototype.writeCString=function(y,m){if(null!=m){var g=0,_=Math.min(y.length,m);for(g=0;g<_;g++)this.writeUint8(y.charCodeAt(g));for(;g<m;g++)this.writeUint8(0)}else{for(g=0;g<y.length;g++)this.writeUint8(y.charCodeAt(g));this.writeUint8(0)}},T.prototype.readType=function(y,m){if("function"==typeof y)return y(this,m);if(!("object"!=typeof y||y instanceof Array))return y.get(this,m);if(y instanceof Array&&3!=y.length)return this.readStruct(y,m);var g,_=null,p=null,C="ASCII",M=this.position;switch("string"==typeof y&&/:/.test(y)&&(y=(g=y.split(":"))[0],p=null!=m[f=g[1]]?parseInt(m[f]):parseInt(g[1])),"string"==typeof y&&/,/.test(y)&&(y=(g=y.split(","))[0],C=parseInt(g[1])),y){case"uint8":_=this.readUint8();break;case"int8":_=this.readInt8();break;case"uint16":_=this.readUint16(this.endianness);break;case"int16":_=this.readInt16(this.endianness);break;case"uint32":_=this.readUint32(this.endianness);break;case"int32":_=this.readInt32(this.endianness);break;case"float32":_=this.readFloat32(this.endianness);break;case"float64":_=this.readFloat64(this.endianness);break;case"uint16be":_=this.readUint16(T.BIG_ENDIAN);break;case"int16be":_=this.readInt16(T.BIG_ENDIAN);break;case"uint32be":_=this.readUint32(T.BIG_ENDIAN);break;case"int32be":_=this.readInt32(T.BIG_ENDIAN);break;case"float32be":_=this.readFloat32(T.BIG_ENDIAN);break;case"float64be":_=this.readFloat64(T.BIG_ENDIAN);break;case"uint16le":_=this.readUint16(T.LITTLE_ENDIAN);break;case"int16le":_=this.readInt16(T.LITTLE_ENDIAN);break;case"uint32le":_=this.readUint32(T.LITTLE_ENDIAN);break;case"int32le":_=this.readInt32(T.LITTLE_ENDIAN);break;case"float32le":_=this.readFloat32(T.LITTLE_ENDIAN);break;case"float64le":_=this.readFloat64(T.LITTLE_ENDIAN);break;case"cstring":_=this.readCString(p);break;case"string":_=this.readString(p,C);break;case"u16string":_=this.readUCS2String(p,this.endianness);break;case"u16stringle":_=this.readUCS2String(p,T.LITTLE_ENDIAN);break;case"u16stringbe":_=this.readUCS2String(p,T.BIG_ENDIAN);break;default:if(3==y.length){var f,b=y[1],O=0;if(O="function"==typeof(f=y[2])?f(m,this,y):"string"==typeof f&&null!=m[f]?parseInt(m[f]):parseInt(f),"string"==typeof b){var F=b.replace(/(le|be)$/,""),U=null;switch(/le$/.test(b)?U=T.LITTLE_ENDIAN:/be$/.test(b)&&(U=T.BIG_ENDIAN),"*"==f&&(O=null),F){case"uint8":_=this.readUint8Array(O);break;case"uint16":_=this.readUint16Array(O,U);break;case"uint32":_=this.readUint32Array(O,U);break;case"int8":_=this.readInt8Array(O);break;case"int16":_=this.readInt16Array(O,U);break;case"int32":_=this.readInt32Array(O,U);break;case"float32":_=this.readFloat32Array(O,U);break;case"float64":_=this.readFloat64Array(O,U);break;case"cstring":case"utf16string":case"string":if(null==O)for(_=[];!this.isEof()&&null!=(Y=this.readType(b,m));)_.push(Y);else{_=new Array(O);for(var z=0;z<O;z++)_[z]=this.readType(b,m)}}}else if("*"==f)for(_=[];;){var q=this.position;try{var H=this.readType(b,m);if(null==H){this.position=q;break}_.push(H)}catch(G){this.position=q;break}}else for(_=new Array(O),z=0;z<O;z++){var Y;if(null==(Y=this.readType(b,m)))return null;_[z]=Y}break}}return null!=p&&(this.position=M+p),_},T.prototype.writeStruct=function(y,m){for(var g=0;g<y.length;g+=2)this.writeType(y[g+1],m[y[g]],m)},T.prototype.writeType=function(y,m,g){if("function"==typeof y)return y(this,m);if("object"==typeof y&&!(y instanceof Array))return y.set(this,m,g);var _,p=null,C="ASCII",M=this.position;switch("string"==typeof y&&/:/.test(y)&&(y=(_=y.split(":"))[0],p=parseInt(_[1])),"string"==typeof y&&/,/.test(y)&&(y=(_=y.split(","))[0],C=parseInt(_[1])),y){case"uint8":this.writeUint8(m);break;case"int8":this.writeInt8(m);break;case"uint16":this.writeUint16(m,this.endianness);break;case"int16":this.writeInt16(m,this.endianness);break;case"uint32":this.writeUint32(m,this.endianness);break;case"int32":this.writeInt32(m,this.endianness);break;case"float32":this.writeFloat32(m,this.endianness);break;case"float64":this.writeFloat64(m,this.endianness);break;case"uint16be":this.writeUint16(m,T.BIG_ENDIAN);break;case"int16be":this.writeInt16(m,T.BIG_ENDIAN);break;case"uint32be":this.writeUint32(m,T.BIG_ENDIAN);break;case"int32be":this.writeInt32(m,T.BIG_ENDIAN);break;case"float32be":this.writeFloat32(m,T.BIG_ENDIAN);break;case"float64be":this.writeFloat64(m,T.BIG_ENDIAN);break;case"uint16le":this.writeUint16(m,T.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(m,T.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(m,T.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(m,T.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(m,T.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(m,T.LITTLE_ENDIAN);break;case"cstring":this.writeCString(m,p);break;case"string":this.writeString(m,C,p);break;case"u16string":this.writeUCS2String(m,this.endianness,p);break;case"u16stringle":this.writeUCS2String(m,T.LITTLE_ENDIAN,p);break;case"u16stringbe":this.writeUCS2String(m,T.BIG_ENDIAN,p);break;default:if(3==y.length){for(var f=y[1],b=0;b<m.length;b++)this.writeType(f,m[b]);break}this.writeStruct(y,m)}null!=p&&(this.position=M,this._realloc(p),this.position=M+p)},void 0===(S=function(){return T}.apply(x,[]))||(w.exports=S),"object"==typeof w&&w&&w.exports&&(w.exports=T)}).call(this,h(173)(V))},function(V,x,h){var w=h(24),S=h(12);V.exports=function(T){if(void 0===T)return 0;var y=w(T),m=S(y);if(y!==m)throw RangeError("Wrong length!");return m}},function(V,x,h){"use strict";var w=h(41),S=h(29).getWeak,T=h(5),y=h(4),m=h(42),g=h(62),_=h(19),p=h(16),C=h(40),M=_(5),f=_(6),b=0,O=function(z){return z._l||(z._l=new F)},F=function(){this.a=[]},U=function(z,q){return M(z.a,function(H){return H[0]===q})};F.prototype={get:function(z){var q=U(this,z);if(q)return q[1]},has:function(z){return!!U(this,z)},set:function(z,q){var H=U(this,z);H?H[1]=q:this.a.push([z,q])},delete:function(z){var q=f(this.a,function(H){return H[0]===z});return~q&&this.a.splice(q,1),!!~q}},V.exports={getConstructor:function(z,q,H,Y){var G=z(function(X,ae){m(X,G,q,"_i"),X._t=q,X._i=b++,X._l=void 0,null!=ae&&g(ae,H,X[Y],X)});return w(G.prototype,{delete:function(X){if(!y(X))return!1;var ae=S(X);return!0===ae?O(C(this,q)).delete(X):ae&&p(ae,this._i)&&delete ae[this._i]},has:function(X){if(!y(X))return!1;var ae=S(X);return!0===ae?O(C(this,q)).has(X):ae&&p(ae,this._i)}}),G},def:function(z,q,H){var Y=S(T(q),!0);return!0===Y?O(z).set(q,H):Y[z._i]=H,z},ufstore:O}},function(V,x,h){"use strict";var w=h(10).f,S=h(33),T=h(41),y=h(27),m=h(42),g=h(62),_=h(84),p=h(127),C=h(43),M=h(11),f=h(29).fastKey,b=h(40),O=M?"_s":"size",F=function(U,z){var q,H=f(z);if("F"!==H)return U._i[H];for(q=U._f;q;q=q.n)if(q.k==z)return q};V.exports={getConstructor:function(U,z,q,H){var Y=U(function(G,X){m(G,Y,z,"_i"),G._t=z,G._i=S(null),G._f=void 0,G._l=void 0,G[O]=0,null!=X&&g(X,q,G[H],G)});return T(Y.prototype,{clear:function(){for(var G=b(this,z),X=G._i,ae=G._f;ae;ae=ae.n)ae.r=!0,ae.p&&(ae.p=ae.p.n=void 0),delete X[ae.i];G._f=G._l=void 0,G[O]=0},delete:function(G){var X=b(this,z),ae=F(X,G);if(ae){var Q=ae.n,ue=ae.p;delete X._i[ae.i],ae.r=!0,ue&&(ue.n=Q),Q&&(Q.p=ue),X._f==ae&&(X._f=Q),X._l==ae&&(X._l=ue),X[O]--}return!!ae},forEach:function(G){b(this,z);for(var X,ae=y(G,arguments.length>1?arguments[1]:void 0,3);X=X?X.n:this._f;)for(ae(X.v,X.k,this);X&&X.r;)X=X.p},has:function(G){return!!F(b(this,z),G)}}),M&&w(Y.prototype,"size",{get:function(){return b(this,z)[O]}}),Y},def:function(U,z,q){var H,Y,G=F(U,z);return G?G.v=q:(U._l=G={i:Y=f(z,!0),k:z,v:q,p:H=U._l,n:void 0,r:!1},U._f||(U._f=G),H&&(H.n=G),U[O]++,"F"!==Y&&(U._i[Y]=G)),U},getEntry:F,setStrong:function(U,z,q){_(U,z,function(H,Y){this._t=b(H,z),this._k=Y,this._l=void 0},function(){for(var H=this._k,Y=this._l;Y&&Y.r;)Y=Y.p;return this._t&&(this._l=Y=Y?Y.n:this._t._f)?p(0,"keys"==H?Y.k:"values"==H?Y.v:[Y.k,Y.v]):(this._t=void 0,p(1))},q?"entries":"values",!q,!0),C(z)}}},function(V,x,h){"use strict";var w=h(26);V.exports.f=function(S){return new function(T){var y,m;this.promise=new T(function(g,_){if(void 0!==y||void 0!==m)throw TypeError("Bad Promise constructor");y=g,m=_}),this.resolve=w(y),this.reject=w(m)}(S)}},function(V,x,h){var w,S,T,y=h(27),m=h(141),g=h(90),_=h(96),p=h(6),C=p.process,M=p.setImmediate,f=p.clearImmediate,b=p.MessageChannel,O=p.Dispatch,F=0,U={},z=function(){var H=+this;if(U.hasOwnProperty(H)){var Y=U[H];delete U[H],Y()}},q=function(H){z.call(H.data)};M&&f||(M=function(H){for(var Y=[],G=1;arguments.length>G;)Y.push(arguments[G++]);return U[++F]=function(){m("function"==typeof H?H:Function(H),Y)},w(F),F},f=function(H){delete U[H]},"process"==h(25)(C)?w=function(H){C.nextTick(y(z,H,1))}:O&&O.now?w=function(H){O.now(y(z,H,1))}:b?(T=(S=new b).port2,S.port1.onmessage=q,w=y(T.postMessage,T,1)):p.addEventListener&&"function"==typeof postMessage&&!p.importScripts?(w=function(H){p.postMessage(H+"","*")},p.addEventListener("message",q,!1)):w="onreadystatechange"in _("script")?function(H){g.appendChild(_("script")).onreadystatechange=function(){g.removeChild(this),z.call(H)}}:function(H){setTimeout(y(z,H,1),0)}),V.exports={set:M,clear:f}},function(V,x,h){h(11)&&"g"!=/./g.flags&&h(10).f(RegExp.prototype,"flags",{configurable:!0,get:h(77)})},function(V,x){V.exports=function(h,w){return{value:w,done:!!h}}},function(V,x,h){"use strict";var w=h(52),S=h(127),T=h(53),y=h(21);V.exports=h(84)(Array,"Array",function(m,g){this._t=y(m),this._i=0,this._k=g},function(){var m=this._t,g=this._k,_=this._i++;return!m||_>=m.length?(this._t=void 0,S(1)):S(0,"keys"==g?_:"values"==g?m[_]:[_,m[_]])},"values"),T.Arguments=T.Array,w("keys"),w("values"),w("entries")},function(V,x,h){"use strict";var w=h(14),S=h(34),T=h(12);V.exports=[].copyWithin||function(y,m){var g=w(this),_=T(g.length),p=S(y,_),C=S(m,_),M=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===M?_:S(M,_))-C,_-p),b=1;for(C<p&&p<C+f&&(b=-1,C+=f-1,p+=f-1);f-- >0;)C in g?g[p]=g[C]:delete g[p],p+=b,C+=b;return g}},function(V,x,h){var w=h(26),S=h(14),T=h(54),y=h(12);V.exports=function(m,g,_,p,C){w(g);var M=S(m),f=T(M),b=y(M.length),O=C?b-1:0,F=C?-1:1;if(_<2)for(;;){if(O in f){p=f[O],O+=F;break}if(O+=F,C?O<0:b<=O)throw TypeError("Reduce of empty array with no initial value")}for(;C?O>=0:b>O;O+=F)O in f&&(p=g(p,f[O],O,M));return p}},function(V,x,h){"use strict";var w=h(10),S=h(36);V.exports=function(T,y,m){y in T?w.f(T,y,S(0,m)):T[y]=m}},function(V,x,h){var w=h(5);V.exports=function(S,T,y,m){try{return m?T(w(y)[0],y[1]):T(y)}catch(_){var g=S.return;throw void 0!==g&&w(g.call(S)),_}}},function(V,x,h){"use strict";var w=h(33),S=h(36),T=h(45),y={};h(18)(y,h(7)("iterator"),function(){return this}),V.exports=function(m,g,_){m.prototype=w(y,{next:S(1,_)}),T(m,g+" Iterator")}},function(V,x,h){var w=h(24),S=h(28);V.exports=function(T){return function(y,m){var g,_,p=String(S(y)),C=w(m),M=p.length;return C<0||C>=M?T?"":void 0:(g=p.charCodeAt(C))<55296||g>56319||C+1===M||(_=p.charCodeAt(C+1))<56320||_>57343?T?p.charAt(C):g:T?p.slice(C,C+2):_-56320+(g-55296<<10)+65536}}},function(V,x){V.exports=Math.log1p||function(h){return(h=+h)>-1e-8&&h<1e-8?h-h*h/2:Math.log(1+h)}},function(V,x,h){var w=h(4),S=Math.floor;V.exports=function(T){return!w(T)&&isFinite(T)&&S(T)===T}},function(V,x,h){"use strict";var w=h(24),S=h(28);V.exports=function(T){var y=String(S(this)),m="",g=w(T);if(g<0||g==1/0)throw RangeError("Count can't be negative");for(;g>0;(g>>>=1)&&(y+=y))1&g&&(m+=y);return m}},function(V,x,h){var w=h(25);V.exports=function(S,T){if("number"!=typeof S&&"Number"!=w(S))throw TypeError(T);return+S}},function(V,x,h){var w=h(6).parseFloat,S=h(65).trim;V.exports=1/w(h(88)+"-0")!=-1/0?function(T){var y=S(String(T),3),m=w(y);return 0===m&&"-"==y.charAt(0)?-0:m}:w},function(V,x,h){var w=h(6).parseInt,S=h(65).trim,T=h(88),y=/^[-+]?0[xX]/;V.exports=8!==w(T+"08")||22!==w(T+"0x16")?function(m,g){var _=S(String(m),3);return w(_,g>>>0||(y.test(_)?16:10))}:w},function(V,x){V.exports=function(h,w,S){var T=void 0===S;switch(w.length){case 0:return T?h():h.call(S);case 1:return T?h(w[0]):h.call(S,w[0]);case 2:return T?h(w[0],w[1]):h.call(S,w[0],w[1]);case 3:return T?h(w[0],w[1],w[2]):h.call(S,w[0],w[1],w[2]);case 4:return T?h(w[0],w[1],w[2],w[3]):h.call(S,w[0],w[1],w[2],w[3])}return h.apply(S,w)}},function(V,x,h){"use strict";var w=h(26),S=h(4),T=h(141),y=[].slice,m={};V.exports=Function.bind||function(g){var _=w(this),p=y.call(arguments,1),C=function(){var M=p.concat(y.call(arguments));return this instanceof C?function(f,b,O){if(!(b in m)){for(var F=[],U=0;U<b;U++)F[U]="a["+U+"]";m[b]=Function("F,a","return new F("+F.join(",")+")")}return m[b](f,O)}(_,M.length,M):T(_,M,g)};return S(_.prototype)&&(C.prototype=_.prototype),C}},function(V,x,h){"use strict";var w=h(55),S=h(68),T=h(67),y=h(14),m=h(54),g=Object.assign;V.exports=!g||h(3)(function(){var _={},p={},C=Symbol(),M="abcdefghijklmnopqrst";return _[C]=7,M.split("").forEach(function(f){p[f]=f}),7!=g({},_)[C]||Object.keys(g({},p)).join("")!=M})?function(_,p){for(var C=y(_),M=arguments.length,f=1,b=S.f,O=T.f;M>f;)for(var F,U=m(arguments[f++]),z=b?w(U).concat(b(U)):w(U),q=z.length,H=0;q>H;)O.call(U,F=z[H++])&&(C[F]=U[F]);return C}:g},function(V,x,h){var w=h(21),S=h(32).f,T={}.toString,y="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];V.exports.f=function(m){return y&&"[object Window]"==T.call(m)?function(g){try{return S(g)}catch(_){return y.slice()}}(m):S(w(m))}},function(V,x,h){var w=h(10),S=h(5),T=h(55);V.exports=h(11)?Object.defineProperties:function(y,m){S(y);for(var g,_=T(m),p=_.length,C=0;p>C;)w.f(y,g=_[C++],m[g]);return y}},function(V,x,h){var w=h(16),S=h(21),T=h(94)(!1),y=h(93)("IE_PROTO");V.exports=function(m,g){var _,p=S(m),C=0,M=[];for(_ in p)_!=y&&w(p,_)&&M.push(_);for(;g.length>C;)w(p,_=g[C++])&&(~T(M,_)||M.push(_));return M}},function(V,x,h){x.f=h(7)},function(V,x,h){V.exports=!h(11)&&!h(3)(function(){return 7!=Object.defineProperty(h(96)("div"),"a",{get:function(){return 7}}).a})},function(V,x,h){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(w){return"number"==typeof w&&isFinite(w)&&Math.floor(w)===w},Number.isSafeInteger=Number.isSafeInteger||function(w){return Number.isInteger(w)&&Math.abs(w)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(w){return"number"==typeof w&&isFinite(w)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(w){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof w)throw new TypeError("predicate must be a function");for(var S=Object(this),T=S.length>>>0,y=arguments[1],m=0;m!==T;m++)if(w.call(y,this[m],m,S))return this[m]}})},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.BuddyMessageRequest=void 0;var w=h(70),S=h(1),T=h(58),y=function(m){function g(_,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(null!=p&&!(p instanceof T.SFSBuddy))throw new S.SFSError("Target buddy must be an instance of SFSBuddy class");return M._type=w.GenericMessageType.BUDDY_MSG,M._message=_,M._recipient=null!=p?p.id:-1,M._params=C,Object.seal(M),M}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,w.GenericMessageRequest),g}();x.BuddyMessageRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.QuickJoinGameRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(9),m=h(38),g=function(_){function p(C,M){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.QuickJoinGame));return b._matchExpression=C,b._whereToSearch=M,b._roomToLeave=f,Object.seal(b),b}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null==this._matchExpression||this._matchExpression instanceof m.MatchExpression||M.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?M.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>p.MAX_ROOMS&&M.push("Too many Rooms specified in list where to search the game to join; client limit is: "+p.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof y.SFSRoom||M.push("Room to leave must be an instance of SFSRoom class"),M.length>0)throw new T.SFSValidationError("QuickJoinGameRequest Error",M)}},{key:"execute",value:function(C){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(p.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof y.SFSRoom))throw new T.SFSError("Invalid type in whereToSearch parameter");var M=[],f=!0,b=!1,O=void 0;try{for(var F,U=this._whereToSearch[Symbol.iterator]();!(f=(F=U.next()).done);f=!0){var z=F.value;z instanceof y.SFSRoom&&M.push(z.id)}}catch(q){b=!0,O=q}finally{try{!f&&U.return&&U.return()}finally{if(b)throw O}}this._reqObj.putIntArray(p.KEY_ROOM_LIST,M)}null!=this._roomToLeave&&this._reqObj.putInt(p.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(p.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),p}();x.QuickJoinGameRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.JoinRoomInvitationRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(9),m=h(8),g=function(_){function p(C,M){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,O=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}(this,p);var F=function(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?U:z}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.JoinRoomInvite));return F._targetRoom=C,F._invitedUserNames=M,F._params=f,F._expirySeconds=b,F._asSpectator=O,Object.seal(F),F}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null==this._targetRoom&&M.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof y.SFSRoom||M.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?M.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&M.push("No invitees provided"):M.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof m.SFSObject||M.push("Custom invitation parameters must be set in a SFSObject class instance"),M.length>0)throw new T.SFSValidationError("JoinRoomInvitationRequest Error",M)}},{key:"execute",value:function(C){this._reqObj.putInt(p.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(p.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(p.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(p.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(p.KEY_OPTIONAL_PARAMS,this._params)}}]),p}();x.JoinRoomInvitationRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.InvitationReplyRequest=void 0;var w=function(){function _(p,C){for(var M=0;M<C.length;M++){var f=C[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,f.key,f)}}return function(p,C,M){return C&&_(p.prototype,C),M&&_(p,M),p}}(),S=h(2),T=h(1),y=h(8),m=h(72),g=function(_){function p(C,M){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S.Requests.InvitationReply));return b._invitation=C,b._reply=M,b._params=f,Object.seal(b),b}return function(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}(p,S.BaseRequest),w(p,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),w(p,[{key:"validate",value:function(C){var M=[];if(null==this._invitation?M.push("Missing invitation object"):this._invitation instanceof m.SFSInvitation||M.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof y.SFSObject||M.push("Custom invitation parameters must be set in a SFSObject class instance"),M.length>0)throw new T.SFSValidationError("InvitationReplyRequest Error",M)}},{key:"execute",value:function(C){this._reqObj.putInt(p.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(p.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(p.KEY_INVITATION_PARAMS,this._params)}}]),p}();x.InvitationReplyRequest=g},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.CreateSFSGameRequest=void 0;var w=function(){function b(O,F){for(var U=0;U<F.length;U++){var z=F[U];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}return function(O,F,U){return F&&b(O.prototype,F),U&&b(O,U),O}}(),S=h(2),T=h(1),y=h(56),m=h(57),g=h(69),_=h(47),p=h(58),C=h(8),M=h(38),f=function(b){function O(F){!function(z,q){if(!(z instanceof q))throw new TypeError("Cannot call a class as a function")}(this,O);var U=function(z,q){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!q||"object"!=typeof q&&"function"!=typeof q?z:q}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,S.Requests.CreateSFSGame));return U._settings=F,U._createRoomRequest=new m.CreateRoomRequest(F,!1,null),Object.seal(U),U}return function(F,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}(O,S.BaseRequest),w(O,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),w(O,[{key:"validate",value:function(F){if(!(this._settings instanceof y.SFSGameSettings))throw new T.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var U=[];try{this._createRoomRequest.validate(F)}catch(z){U=z.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&U.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<g.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>g.InviteUsersRequest.MAX_EXPIRY_TIME)&&U.push("Invitation expiration time value is out of range (min: "+g.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+g.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&U.push("Can't invite more than "+g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(z){return z instanceof _.SFSUser||z instanceof p.SFSBuddy})||U.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):U.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof M.MatchExpression||U.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof M.MatchExpression||U.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof C.SFSObject||U.push("Custom invitation parameters must be set in a SFSObject class instance"),U.length>0)throw new T.SFSValidationError("CreateSFSGameRequest Error",U)}},{key:"execute",value:function(F){if(this._createRoomRequest.execute(F),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(O.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(O.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(O.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(O.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(O.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(O.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(O.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var U=[],z=!0,q=!1,H=void 0;try{for(var Y,G=this._settings.invitedPlayers[Symbol.iterator]();!(z=(Y=G.next()).done);z=!0)U.push(Y.value.id)}catch(ae){q=!0,H=ae}finally{try{!z&&G.return&&G.return()}finally{if(q)throw H}}this._reqObj.putIntArray(O.KEY_INVITED_PLAYERS,U)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(O.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(O.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),O}();x.CreateSFSGameRequest=f},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.BanUserRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,M=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(O,F){if(!(O instanceof F))throw new TypeError("Cannot call a class as a function")}(this,g);var b=function(O,F){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?O:F}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.BanUser));return b._userId=_,b._message=p,b._banMode=C,b._delay=M,b._durationHours=f,Object.seal(b),b}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(p.length>0)throw new T.SFSValidationError("BanUserRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),this._reqObj.putInt(g.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(g.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();x.BanUserRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.KickUserRequest=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(2),T=h(1),y=function(m){function g(_){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,g);var M=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.KickUser));return C<0&&(C=0),M._userId=_,M._message=p,M._delay=C,Object.seal(M),M}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(g,S.BaseRequest),w(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),w(g,[{key:"validate",value:function(_){var p=[];if(p.length>0)throw new T.SFSValidationError("KickUserRequest Error",p)}},{key:"execute",value:function(_){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();x.KickUserRequest=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LeaveRoomRequest=void 0;var w=function(){function g(_,p){for(var C=0;C<p.length;C++){var M=p[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,p,C){return p&&g(_.prototype,p),C&&g(_,C),_}}(),S=h(2),T=h(1),y=h(9),m=function(g){function _(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(M,f){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?M:f}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.LeaveRoom));return C._room=p,Object.seal(C),C}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(_,S.BaseRequest),w(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),w(_,[{key:"validate",value:function(p){var C=[];if(p.getJoinedRooms().length<1&&C.push("You are not joined in any Room"),null==this._room||this._room instanceof y.SFSRoom||C.push("Room must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("LeaveRoomRequest Error",C)}},{key:"execute",value:function(p){null!=this._room&&this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();x.LeaveRoomRequest=m},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.QuickJoinOrCreateRoomRequest=void 0;var w=function(){function p(C,M){for(var f=0;f<M.length;f++){var b=M[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(C,b.key,b)}}return function(C,M,f){return M&&p(C.prototype,M),f&&p(C,f),C}}(),S=h(2),T=h(57),y=h(1),m=h(9),g=h(38),_=function(p){function C(M,f,b){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(U,z){if(!(U instanceof z))throw new TypeError("Cannot call a class as a function")}(this,C);var F=function(U,z){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||"object"!=typeof z&&"function"!=typeof z?U:z}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,S.Requests.QuickJoinOrCreateRoom));return F._matchExpression=M,F._groupList=f,F._settings=b,F._roomToLeave=O,F._createRoomRequest=new T.CreateRoomRequest(b,!1,null),Object.seal(F),F}return function(M,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);M.prototype=Object.create(f&&f.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(M,f):M.__proto__=f)}(C,S.BaseRequest),w(C,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),w(C,[{key:"validate",value:function(M){if(!(this._matchExpression instanceof g.MatchExpression))throw new y.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var f=[];(null==this._groupList||this._groupList.length<1)&&f.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof m.SFSRoom||f.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(M)}catch(b){f=f.concat(b.errors)}if(f.length>0)throw new y.SFSValidationError("QuickJoinOrCreateRoomRequest Error",f)}},{key:"execute",value:function(M){this._createRoomRequest.execute(M);var f=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(C.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(C.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(C.KEY_ROOM_SETTINGS,f),null!=this._roomToLeave&&this._reqObj.putInt(C.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),C}();x.QuickJoinOrCreateRoomRequest=_},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PasswordUtil=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(71),T=function(){function y(){throw function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}(this,y),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return w(y,null,[{key:"md5Password",value:function(m){return(new S.MD5).hex_md5(m)}}]),y}();x.PasswordUtil=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),S=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});x.RoomProperties=w,x.UserProperties=S},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function C(M,f){for(var b=0;b<f.length;b++){var O=f[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}return function(M,f,b){return f&&C(M.prototype,f),b&&C(M,b),M}}();function S(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}function T(C,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}function y(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function C(M,f){y(this,C),this._type=M,this._symbol=f,Object.freeze(this)}return w(C,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),C}(),g=function(C){function M(f){y(this,M);var b=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,0,f));return Object.freeze(b),b}return T(M,m),w(M,null,[{key:"EQUALS",get:function(){return new M("==")}},{key:"NOT_EQUALS",get:function(){return new M("!=")}}]),M}(),_=function(C){function M(f){y(this,M);var b=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,1,f));return Object.freeze(b),b}return T(M,m),w(M,null,[{key:"EQUALS",get:function(){return new M("==")}},{key:"NOT_EQUALS",get:function(){return new M("!=")}},{key:"GREATER_THAN",get:function(){return new M(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new M(">=")}},{key:"LESS_THAN",get:function(){return new M("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new M("<=")}}]),M}(),p=function(C){function M(f){y(this,M);var b=S(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,2,f));return Object.freeze(b),b}return T(M,m),w(M,null,[{key:"EQUALS",get:function(){return new M("==")}},{key:"NOT_EQUALS",get:function(){return new M("!=")}},{key:"CONTAINS",get:function(){return new M("contains")}},{key:"STARTS_WITH",get:function(){return new M("startsWith")}},{key:"ENDS_WITH",get:function(){return new M("endsWith")}}]),M}();x.BoolMatch=g,x.NumberMatch=_,x.StringMatch=p},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.PingPongRequest=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(2),T=function(y){function m(){!function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}(this,m);var g=function(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?_:p}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.PingPong));return Object.seal(g),g}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(m,S.BaseRequest),w(m,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){}}]),m}();x.PingPongRequest=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.LagMonitor=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(162),T=function(){function y(m){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=m,this._valueQueue=[],this._interval=g,this._queueSize=_,this._thread=null,this._lastReqTime=-1}return w(y,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(m){m._lastReqTime=(new Date).getTime(),m._sfs.send(new S.PingPongRequest)}},{key:"_onPingPong",value:function(){var m=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(m),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var m=0,g=0;g<this._valueQueue.length;g++)m+=this._valueQueue[g];return m/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),y}();x.LagMonitor=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.HandshakeRequest=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(2),T=function(y){function m(g,_){!function(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}(this,m);var p=function(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?C:M}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.Handshake));return p._apiVersion=g,p._clientDetails=_,Object.seal(p),p}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(m,S.BaseRequest),w(m,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),w(m,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){this._reqObj.putUtfString(m.KEY_API,this._apiVersion),this._reqObj.putUtfString(m.KEY_CLIENT_TYPE,this._clientDetails)}}]),m}();x.HandshakeRequest=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSBuddyManager=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(46),T=function(){function y(m){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=m,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return w(y,[{key:"containsBuddy",value:function(m){return this._buddiesByName.has(m)}},{key:"getBuddyById",value:function(m){return this.getBuddyList().find(function(g){return g.id===m})}},{key:"getBuddyByName",value:function(m){return this._buddiesByName.get(m)}},{key:"getBuddyByNickName",value:function(m){return this.getBuddyList().find(function(g){return g.nickName===m})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(m){return!m.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(m){return m.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(m){return this._myVariables.get(m)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var m=this.getMyVariable(S.ReservedBuddyVariables.BV_ONLINE);return null==m||m.value}},{key:"getMyNickName",value:function(){var m=this.getMyVariable(S.ReservedBuddyVariables.BV_NICKNAME);return null!=m?m.value:null}},{key:"getMyState",value:function(){var m=this.getMyVariable(S.ReservedBuddyVariables.BV_STATE);return null!=m?m.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(m){this._buddiesByName.set(m.name,m)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(m){var g=this.getBuddyById(m);return null!=g&&this._buddiesByName.delete(g.name),g}},{key:"_removeBuddyByName",value:function(m){var g=this.getBuddyByName(m);return null!=g&&this._buddiesByName.delete(m),g}},{key:"_setMyVariables",value:function(m){var g=!0,_=!1,p=void 0;try{for(var C,M=m[Symbol.iterator]();!(g=(C=M.next()).done);g=!0)this._setMyVariable(C.value)}catch(b){_=!0,p=b}finally{try{!g&&M.return&&M.return()}finally{if(_)throw p}}}},{key:"_setMyVariable",value:function(m){m.isNull?this._myVariables.delete(m.name):this._myVariables.set(m.name,m)}},{key:"_setMyOnlineState",value:function(m){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_ONLINE,m))}},{key:"_setMyNickName",value:function(m){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_NICKNAME,m))}},{key:"_setMyState",value:function(m){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_STATE,m))}},{key:"_setBuddyStates",value:function(m){this._buddyStates=new Set(m)}},{key:"isInited",get:function(){return this._inited}}]),y}();x.SFSBuddyManager=T},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSRoomManager=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(9),T=function(){function y(m){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,y),this._sfs=m,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return w(y,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(m){return this._groups.has(m)}},{key:"containsRoom",value:function(m){return"number"==typeof m?this._roomsById.has(m):this._roomsByName.has(m)}},{key:"containsRoomInGroup",value:function(m,g){return this.getRoomListFromGroup(g).some("number"==typeof m?function(p){return p.id===m}:function(p){return p.name===m})}},{key:"getRoomById",value:function(m){return this._roomsById.get(m)}},{key:"getRoomByName",value:function(m){return this._roomsByName.get(m)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(m){return this.getRoomList().filter(function(g){return g.groupId===m})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(m){return m.isJoined})}},{key:"getUserRooms",value:function(m){return this.getRoomList().filter(function(g){return g.containsUser(m)})}},{key:"_addRoom",value:function(m){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(m.id,m),this._roomsByName.set(m.name,m),m._setRoomManager(this),g?this._addGroup(m.groupId):m._isManaged=!1}},{key:"_replaceRoom",value:function(m){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=this.getRoomById(m.id);return null!=_?(_._merge(m),_):(this._addRoom(m,g),m)}},{key:"_removeRoom",value:function(m){this._roomsById.delete(m.id),this._roomsByName.delete(m.name)}},{key:"_removeRoomById",value:function(m){var g=this.getRoomById(m);null!=g&&this._removeRoom(g)}},{key:"_removeRoomByName",value:function(m){var g=this.getRoomByName(m);null!=g&&this._removeRoom(g)}},{key:"_changeRoomName",value:function(m,g){var _=m.name;m._name=g,this._roomsByName.set(g,m),this._roomsByName.delete(_)}},{key:"_changeRoomPasswordState",value:function(m,g){m._isPasswordProtected=g}},{key:"_changeRoomCapacity",value:function(m,g,_){m._maxUsers=g,m._maxSpectators=_}},{key:"_addGroup",value:function(m){this.containsGroup(m)||this._groups.add(m)}},{key:"_removeGroup",value:function(m){this._groups.delete(m);var g=this.getRoomListFromGroup(m),_=!0,p=!1,C=void 0;try{for(var M,f=g[Symbol.iterator]();!(_=(M=f.next()).done);_=!0){var b=M.value;b.isJoined?b._isManaged=!1:this._removeRoom(b)}}catch(O){p=!0,C=O}finally{try{!_&&f.return&&f.return()}finally{if(p)throw C}}}},{key:"_removeUser",value:function(m){var g=!0,_=!1,p=void 0;try{for(var C,M=this.getUserRooms(m)[Symbol.iterator]();!(g=(C=M.next()).done);g=!0){var f=C.value;f instanceof S.MMORoom||f._removeUser(m)}}catch(b){_=!0,p=b}finally{try{!g&&M.return&&M.return()}finally{if(_)throw p}}}}]),y}();x.SFSRoomManager=T},function(V,x){(function(){"use strict";function h(Fe){throw Fe}var w=void 0,S=!0,T=this;function y(Fe,Ae){var je,Ye=Fe.split("."),Ue=T;for((!(Ye[0]in Ue)&&Ue.execScript&&Ue.execScript("var "+Ye[0]));Ye.length&&(je=Ye.shift());)Ye.length||Ae===w?Ue=Ue[je]?Ue[je]:Ue[je]={}:Ue[je]=Ae}var m="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function g(Fe,Ae){this.index="number"==typeof Ae?Ae:0,this.i=0,this.buffer=Fe instanceof(m?Uint8Array:Array)?Fe:new(m?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&h(Error("invalid index")),this.buffer.length<=this.index&&this.f()}g.prototype.f=function(){var Fe,Ae=this.buffer,je=Ae.length,Ye=new(m?Uint8Array:Array)(je<<1);if(m)Ye.set(Ae);else for(Fe=0;Fe<je;++Fe)Ye[Fe]=Ae[Fe];return this.buffer=Ye},g.prototype.d=function(Fe,Ae,je){var Ye,Ue=this.buffer,Xe=this.index,Ct=this.i,It=Ue[Xe];if(je&&1<Ae&&(Fe=8<Ae?(b[255&Fe]<<24|b[Fe>>>8&255]<<16|b[Fe>>>16&255]<<8|b[Fe>>>24&255])>>32-Ae:b[Fe]>>8-Ae),8>Ae+Ct)It=It<<Ae|Fe,Ct+=Ae;else for(Ye=0;Ye<Ae;++Ye)It=It<<1|Fe>>Ae-Ye-1&1,8==++Ct&&(Ct=0,Ue[Xe++]=b[It],It=0,Xe===Ue.length&&(Ue=this.f()));Ue[Xe]=It,this.buffer=Ue,this.i=Ct,this.index=Xe},g.prototype.finish=function(){var Fe,Ae=this.buffer,je=this.index;return 0<this.i&&(Ae[je]<<=8-this.i,Ae[je]=b[Ae[je]],je++),m?Fe=Ae.subarray(0,je):(Ae.length=je,Fe=Ae),Fe};var _,p=new(m?Uint8Array:Array)(256);for(_=0;256>_;++_){for(var C=f=_,M=7,f=f>>>1;f;f>>>=1)C<<=1,C|=1&f,--M;p[_]=(C<<M&255)>>>0}var b=p;function O(Fe){this.buffer=new(m?Uint16Array:Array)(2*Fe),this.length=0}function F(Fe){var Ae,je,Ye,Ue,Xe,Ct,It,At,On,Yn,pi=Fe.length,$t=0,$n=Number.POSITIVE_INFINITY;for(At=0;At<pi;++At)Fe[At]>$t&&($t=Fe[At]),Fe[At]<$n&&($n=Fe[At]);for(Ae=1<<$t,je=new(m?Uint32Array:Array)(Ae),Ye=1,Ue=0,Xe=2;Ye<=$t;){for(At=0;At<pi;++At)if(Fe[At]===Ye){for(Ct=0,It=Ue,On=0;On<Ye;++On)Ct=Ct<<1|1&It,It>>=1;for(Yn=Ye<<16|At,On=Ct;On<Ae;On+=Xe)je[On]=Yn;++Ue}++Ye,Ue<<=1,Xe<<=1}return[je,$t,$n]}function U(Fe,Ae){this.h=q,this.w=0,this.input=m&&Fe instanceof Array?new Uint8Array(Fe):Fe,this.b=0,Ae&&(Ae.lazy&&(this.w=Ae.lazy),"number"==typeof Ae.compressionType&&(this.h=Ae.compressionType),Ae.outputBuffer&&(this.a=m&&Ae.outputBuffer instanceof Array?new Uint8Array(Ae.outputBuffer):Ae.outputBuffer),"number"==typeof Ae.outputIndex&&(this.b=Ae.outputIndex)),this.a||(this.a=new(m?Uint8Array:Array)(32768))}O.prototype.getParent=function(Fe){return 2*((Fe-2)/4|0)},O.prototype.push=function(Fe,Ae){var je,Ye,Ue,Xe=this.buffer;for(je=this.length,Xe[this.length++]=Ae,Xe[this.length++]=Fe;0<je&&(Ye=this.getParent(je),Xe[je]>Xe[Ye]);)Ue=Xe[je],Xe[je]=Xe[Ye],Xe[Ye]=Ue,Ue=Xe[je+1],Xe[je+1]=Xe[Ye+1],Xe[Ye+1]=Ue,je=Ye;return this.length},O.prototype.pop=function(){var Fe,Ae,je,Ye,Ue,Xe=this.buffer;for(Ae=Xe[0],Fe=Xe[1],this.length-=2,Xe[0]=Xe[this.length],Xe[1]=Xe[this.length+1],Ue=0;!((Ye=2*Ue+2)>=this.length)&&(Ye+2<this.length&&Xe[Ye+2]>Xe[Ye]&&(Ye+=2),Xe[Ye]>Xe[Ue]);)je=Xe[Ue],Xe[Ue]=Xe[Ye],Xe[Ye]=je,je=Xe[Ue+1],Xe[Ue+1]=Xe[Ye+1],Xe[Ye+1]=je,Ue=Ye;return{index:Fe,value:Ae,length:this.length}};var z,q=2,H={NONE:0,r:1,k:q,O:3},Y=[];for(z=0;288>z;z++)switch(S){case 143>=z:Y.push([z+48,8]);break;case 255>=z:Y.push([z-144+400,9]);break;case 279>=z:Y.push([z-256+0,7]);break;case 287>=z:Y.push([z-280+192,8]);break;default:h("invalid literal: "+z)}U.prototype.j=function(){var Fe,Ae,je,Ye,Ue=this.input;switch(this.h){case 0:for(je=0,Ye=Ue.length;je<Ye;){var Ct,It,At=Ae=m?Ue.subarray(je,je+65535):Ue.slice(je,je+65535),On=(je+=Ae.length)===Ye,Yn=w,pi=w,$t=this.a,$n=this.b;if(m){for($t=new Uint8Array(this.a.buffer);$t.length<=$n+At.length+5;)$t=new Uint8Array($t.length<<1);$t.set(this.a)}if($t[$n++]=0|(On?1:0),It=65536+~(Ct=At.length)&65535,$t[$n++]=255&Ct,$t[$n++]=Ct>>>8&255,$t[$n++]=255&It,$t[$n++]=It>>>8&255,m)$t.set(At,$n),$t=$t.subarray(0,$n+=At.length);else{for(Yn=0,pi=At.length;Yn<pi;++Yn)$t[$n++]=At[Yn];$t.length=$n}this.b=$n,this.a=$t}break;case 1:var yn=new g(m?new Uint8Array(this.a.buffer):this.a,this.b);yn.d(1,1,S),yn.d(1,2,S);var Xt,Ln,Lr,Ur=ae(this,Ue);for(Xt=0,Ln=Ur.length;Xt<Ln;Xt++)if(g.prototype.d.apply(yn,Y[Lr=Ur[Xt]]),256<Lr)yn.d(Ur[++Xt],Ur[++Xt],S),yn.d(Ur[++Xt],5),yn.d(Ur[++Xt],Ur[++Xt],S);else if(256===Lr)break;this.a=yn.finish(),this.b=this.a.length;break;case q:var ei,pn,ki,cn,lr,Gr,Ot,jr,vs,nl,Oh,il,gu,Hr,co,Ds=new g(m?new Uint8Array(this.a.buffer):this.a,this.b),cr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ys=Array(19);for(ei=q,Ds.d(1,1,S),Ds.d(ei,2,S),pn=ae(this,Ue),Ot=oe(Gr=ue(this.M,15)),vs=oe(jr=ue(this.L,7)),ki=286;257<ki&&0===Gr[ki-1];ki--);for(cn=30;1<cn&&0===jr[cn-1];cn--);var ft,Bt,qt,Ti,bn,Ji,wa=ki,Sn=cn,Qi=new(m?Uint32Array:Array)(wa+Sn),Vr=new(m?Uint32Array:Array)(316),uo=new(m?Uint8Array:Array)(19);for(ft=Bt=0;ft<wa;ft++)Qi[Bt++]=Gr[ft];for(ft=0;ft<Sn;ft++)Qi[Bt++]=jr[ft];if(!m)for(ft=0,Ti=uo.length;ft<Ti;++ft)uo[ft]=0;for(ft=bn=0,Ti=Qi.length;ft<Ti;ft+=Bt){for(Bt=1;ft+Bt<Ti&&Qi[ft+Bt]===Qi[ft];++Bt);if(qt=Bt,0===Qi[ft])if(3>qt)for(;0<qt--;)Vr[bn++]=0,uo[0]++;else for(;0<qt;)(Ji=138>qt?qt:138)>qt-3&&Ji<qt&&(Ji=qt-3),10>=Ji?(Vr[bn++]=17,Vr[bn++]=Ji-3,uo[17]++):(Vr[bn++]=18,Vr[bn++]=Ji-11,uo[18]++),qt-=Ji;else if(Vr[bn++]=Qi[ft],uo[Qi[ft]]++,3>--qt)for(;0<qt--;)Vr[bn++]=Qi[ft],uo[Qi[ft]]++;else for(;0<qt;)(Ji=6>qt?qt:6)>qt-3&&Ji<qt&&(Ji=qt-3),Vr[bn++]=16,Vr[bn++]=Ji-3,uo[16]++,qt-=Ji}for(Fe=m?Vr.subarray(0,bn):Vr.slice(0,bn),nl=ue(uo,7),Hr=0;19>Hr;Hr++)ys[Hr]=nl[cr[Hr]];for(lr=19;4<lr&&0===ys[lr-1];lr--);for(Oh=oe(nl),Ds.d(ki-257,5,S),Ds.d(cn-1,5,S),Ds.d(lr-4,4,S),Hr=0;Hr<lr;Hr++)Ds.d(ys[Hr],3,S);for(Hr=0,co=Fe.length;Hr<co;Hr++)if(Ds.d(Oh[il=Fe[Hr]],nl[il],S),16<=il){switch(Hr++,il){case 16:gu=2;break;case 17:gu=3;break;case 18:gu=7;break;default:h("invalid code: "+il)}Ds.d(Fe[Hr],gu,S)}var Ns,Kr,_u,Ul,pd,Ph,Jn,Ai,wi=[Ot,Gr],Fo=[vs,jr];for(pd=wi[0],Ph=wi[1],Jn=Fo[0],Ai=Fo[1],Ns=0,Kr=pn.length;Ns<Kr;++Ns)if(Ds.d(pd[_u=pn[Ns]],Ph[_u],S),256<_u)Ds.d(pn[++Ns],pn[++Ns],S),Ul=pn[++Ns],Ds.d(Jn[Ul],Ai[Ul],S),Ds.d(pn[++Ns],pn[++Ns],S);else if(256===_u)break;this.a=Ds.finish(),this.b=this.a.length;break;default:h("invalid compression type")}return this.a};var G=function(){function Fe(Ue){switch(S){case 3===Ue:return[257,Ue-3,0];case 4===Ue:return[258,Ue-4,0];case 5===Ue:return[259,Ue-5,0];case 6===Ue:return[260,Ue-6,0];case 7===Ue:return[261,Ue-7,0];case 8===Ue:return[262,Ue-8,0];case 9===Ue:return[263,Ue-9,0];case 10===Ue:return[264,Ue-10,0];case 12>=Ue:return[265,Ue-11,1];case 14>=Ue:return[266,Ue-13,1];case 16>=Ue:return[267,Ue-15,1];case 18>=Ue:return[268,Ue-17,1];case 22>=Ue:return[269,Ue-19,2];case 26>=Ue:return[270,Ue-23,2];case 30>=Ue:return[271,Ue-27,2];case 34>=Ue:return[272,Ue-31,2];case 42>=Ue:return[273,Ue-35,3];case 50>=Ue:return[274,Ue-43,3];case 58>=Ue:return[275,Ue-51,3];case 66>=Ue:return[276,Ue-59,3];case 82>=Ue:return[277,Ue-67,4];case 98>=Ue:return[278,Ue-83,4];case 114>=Ue:return[279,Ue-99,4];case 130>=Ue:return[280,Ue-115,4];case 162>=Ue:return[281,Ue-131,5];case 194>=Ue:return[282,Ue-163,5];case 226>=Ue:return[283,Ue-195,5];case 257>=Ue:return[284,Ue-227,5];case 258===Ue:return[285,Ue-258,0];default:h("invalid length: "+Ue)}}var Ae,je,Ye=[];for(Ae=3;258>=Ae;Ae++)je=Fe(Ae),Ye[Ae]=je[2]<<24|je[1]<<16|je[0];return Ye}(),X=m?new Uint32Array(G):G;function ae(Fe,Ae){function je(ei,pn){var ki,cn,lr,Gr,Ot=ei.H,jr=[],vs=0;switch(jr[vs++]=65535&(ki=X[ei.length]),jr[vs++]=ki>>16&255,jr[vs++]=ki>>24,S){case 1===Ot:cn=[0,Ot-1,0];break;case 2===Ot:cn=[1,Ot-2,0];break;case 3===Ot:cn=[2,Ot-3,0];break;case 4===Ot:cn=[3,Ot-4,0];break;case 6>=Ot:cn=[4,Ot-5,1];break;case 8>=Ot:cn=[5,Ot-7,1];break;case 12>=Ot:cn=[6,Ot-9,2];break;case 16>=Ot:cn=[7,Ot-13,2];break;case 24>=Ot:cn=[8,Ot-17,3];break;case 32>=Ot:cn=[9,Ot-25,3];break;case 48>=Ot:cn=[10,Ot-33,4];break;case 64>=Ot:cn=[11,Ot-49,4];break;case 96>=Ot:cn=[12,Ot-65,5];break;case 128>=Ot:cn=[13,Ot-97,5];break;case 192>=Ot:cn=[14,Ot-129,6];break;case 256>=Ot:cn=[15,Ot-193,6];break;case 384>=Ot:cn=[16,Ot-257,7];break;case 512>=Ot:cn=[17,Ot-385,7];break;case 768>=Ot:cn=[18,Ot-513,8];break;case 1024>=Ot:cn=[19,Ot-769,8];break;case 1536>=Ot:cn=[20,Ot-1025,9];break;case 2048>=Ot:cn=[21,Ot-1537,9];break;case 3072>=Ot:cn=[22,Ot-2049,10];break;case 4096>=Ot:cn=[23,Ot-3073,10];break;case 6144>=Ot:cn=[24,Ot-4097,11];break;case 8192>=Ot:cn=[25,Ot-6145,11];break;case 12288>=Ot:cn=[26,Ot-8193,12];break;case 16384>=Ot:cn=[27,Ot-12289,12];break;case 24576>=Ot:cn=[28,Ot-16385,13];break;case 32768>=Ot:cn=[29,Ot-24577,13];break;default:h("invalid distance")}for(jr[vs++]=(ki=cn)[0],jr[vs++]=ki[1],jr[vs++]=ki[2],lr=0,Gr=jr.length;lr<Gr;++lr)$n[yn++]=jr[lr];Ln[jr[0]]++,Lr[jr[3]]++,Xt=ei.length+pn-1,Yn=null}var Ye,Ue,Xe,Ct,It,At,On,Yn,pi,$t={},$n=m?new Uint16Array(2*Ae.length):[],yn=0,Xt=0,Ln=new(m?Uint32Array:Array)(286),Lr=new(m?Uint32Array:Array)(30),Ur=Fe.w;if(!m){for(Xe=0;285>=Xe;)Ln[Xe++]=0;for(Xe=0;29>=Xe;)Lr[Xe++]=0}for(Ln[256]=1,Ye=0,Ue=Ae.length;Ye<Ue;++Ye){for(Xe=It=0,Ct=3;Xe<Ct&&Ye+Xe!==Ue;++Xe)It=It<<8|Ae[Ye+Xe];if($t[It]===w&&($t[It]=[]),At=$t[It],!(0<Xt--)){for(;0<At.length&&32768<Ye-At[0];)At.shift();if(Ye+3>=Ue){for(Yn&&je(Yn,-1),Xe=0,Ct=Ue-Ye;Xe<Ct;++Xe)$n[yn++]=pi=Ae[Ye+Xe],++Ln[pi];break}0<At.length?(On=Q(Ae,Ye,At),Yn?Yn.length<On.length?($n[yn++]=pi=Ae[Ye-1],++Ln[pi],je(On,0)):je(Yn,-1):On.length<Ur?Yn=On:je(On,0)):Yn?je(Yn,-1):($n[yn++]=pi=Ae[Ye],++Ln[pi])}At.push(Ye)}return $n[yn++]=256,Ln[256]++,Fe.M=Ln,Fe.L=Lr,m?$n.subarray(0,yn):$n}function Q(Fe,Ae,je){var Ye,Ue,Xe,Ct,It,At,On=0,Yn=Fe.length;Ct=0,At=je.length;e:for(;Ct<At;Ct++){if(Ye=je[At-Ct-1],Xe=3,3<On){for(It=On;3<It;It--)if(Fe[Ye+It-1]!==Fe[Ae+It-1])continue e;Xe=On}for(;258>Xe&&Ae+Xe<Yn&&Fe[Ye+Xe]===Fe[Ae+Xe];)++Xe;if(Xe>On&&(Ue=Ye,On=Xe),258===Xe)break}return new function(pi,$t){this.length=pi,this.H=$t}(On,Ae-Ue)}function ue(Fe,Ae){var je,Ye,Ue,Xe,Ct,It=Fe.length,At=new O(572),On=new(m?Uint8Array:Array)(It);if(!m)for(Xe=0;Xe<It;Xe++)On[Xe]=0;for(Xe=0;Xe<It;++Xe)0<Fe[Xe]&&At.push(Xe,Fe[Xe]);if(je=Array(At.length/2),Ye=new(m?Uint32Array:Array)(At.length/2),1===je.length)return On[At.pop().index]=1,On;for(Xe=0,Ct=At.length/2;Xe<Ct;++Xe)je[Xe]=At.pop(),Ye[Xe]=je[Xe].value;for(Ue=function(Yn,pi,$t){function $n(vs){var nl=lr[vs][Gr[vs]];nl===pi?($n(vs+1),$n(vs+1)):--ki[nl],++Gr[vs]}var yn,Xt,Ln,Lr,Ur,ei=new(m?Uint16Array:Array)($t),pn=new(m?Uint8Array:Array)($t),ki=new(m?Uint8Array:Array)(pi),cn=Array($t),lr=Array($t),Gr=Array($t),Ot=(1<<$t)-pi,jr=1<<$t-1;for(ei[$t-1]=pi,Xt=0;Xt<$t;++Xt)Ot<jr?pn[Xt]=0:(pn[Xt]=1,Ot-=jr),Ot<<=1,ei[$t-2-Xt]=(ei[$t-1-Xt]/2|0)+pi;for(ei[0]=pn[0],cn[0]=Array(ei[0]),lr[0]=Array(ei[0]),Xt=1;Xt<$t;++Xt)ei[Xt]>2*ei[Xt-1]+pn[Xt]&&(ei[Xt]=2*ei[Xt-1]+pn[Xt]),cn[Xt]=Array(ei[Xt]),lr[Xt]=Array(ei[Xt]);for(yn=0;yn<pi;++yn)ki[yn]=$t;for(Ln=0;Ln<ei[$t-1];++Ln)cn[$t-1][Ln]=Yn[Ln],lr[$t-1][Ln]=Ln;for(yn=0;yn<$t;++yn)Gr[yn]=0;for(1===pn[$t-1]&&(--ki[0],++Gr[$t-1]),Xt=$t-2;0<=Xt;--Xt){for(Lr=yn=0,Ur=Gr[Xt+1],Ln=0;Ln<ei[Xt];Ln++)(Lr=cn[Xt+1][Ur]+cn[Xt+1][Ur+1])>Yn[yn]?(cn[Xt][Ln]=Lr,lr[Xt][Ln]=pi,Ur+=2):(cn[Xt][Ln]=Yn[yn],lr[Xt][Ln]=yn,++yn);Gr[Xt]=0,1===pn[Xt]&&$n(Xt)}return ki}(Ye,Ye.length,Ae),Xe=0,Ct=je.length;Xe<Ct;++Xe)On[je[Xe].index]=Ue[Xe];return On}function oe(Fe){var Ae,je,Ye,Ue,Xe=new(m?Uint16Array:Array)(Fe.length),Ct=[],It=[],At=0;for(Ae=0,je=Fe.length;Ae<je;Ae++)Ct[Fe[Ae]]=1+(0|Ct[Fe[Ae]]);for(Ae=1,je=16;Ae<=je;Ae++)It[Ae]=At,At+=0|Ct[Ae],At<<=1;for(Ae=0,je=Fe.length;Ae<je;Ae++)for(At=It[Fe[Ae]],It[Fe[Ae]]+=1,Ye=Xe[Ae]=0,Ue=Fe[Ae];Ye<Ue;Ye++)Xe[Ae]=Xe[Ae]<<1|1&At,At>>>=1;return Xe}function Ee(Fe,Ae){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=m?new Uint8Array(Fe):Fe,this.s=!1,this.n=Ne,this.C=!1,!Ae&&(Ae={})||(Ae.index&&(this.c=Ae.index),Ae.bufferSize&&(this.m=Ae.bufferSize),Ae.bufferType&&(this.n=Ae.bufferType),Ae.resize&&(this.C=Ae.resize)),this.n){case Ge:this.b=32768,this.a=new(m?Uint8Array:Array)(32768+this.m+258);break;case Ne:this.b=0,this.a=new(m?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:h(Error("invalid inflate mode"))}}var Ge=0,Ne=1,Le={F:Ge,D:Ne};Ee.prototype.p=function(){for(;!this.s;){var Fe=gt(this,3);switch(1&Fe&&(this.s=S),Fe>>>=1){case 0:var Ae=this.input,je=this.c,Ye=this.a,Ue=this.b,Xe=Ae.length,Ct=w,It=Ye.length,At=w;switch(this.e=this.g=0,je+1>=Xe&&h(Error("invalid uncompressed block header: LEN")),Ct=Ae[je++]|Ae[je++]<<8,je+1>=Xe&&h(Error("invalid uncompressed block header: NLEN")),Ct===~(Ae[je++]|Ae[je++]<<8)&&h(Error("invalid uncompressed block header: length verify")),je+Ct>Ae.length&&h(Error("input buffer is broken")),this.n){case Ge:for(;Ue+Ct>Ye.length;){if(Ct-=At=It-Ue,m)Ye.set(Ae.subarray(je,je+At),Ue),Ue+=At,je+=At;else for(;At--;)Ye[Ue++]=Ae[je++];this.b=Ue,Ye=this.f(),Ue=this.b}break;case Ne:for(;Ue+Ct>Ye.length;)Ye=this.f({v:2});break;default:h(Error("invalid inflate mode"))}if(m)Ye.set(Ae.subarray(je,je+Ct),Ue),Ue+=Ct,je+=Ct;else for(;Ct--;)Ye[Ue++]=Ae[je++];this.c=je,this.b=Ue,this.a=Ye;break;case 1:this.o(Pe,lt);break;case 2:Qe(this);break;default:h(Error("unknown BTYPE: "+Fe))}}return this.t()};var ie,me,ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Be=m?new Uint16Array(ce):ce,fe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],be=m?new Uint16Array(fe):fe,we=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],qe=m?new Uint8Array(we):we,pt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],$e=m?new Uint16Array(pt):pt,Gt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ht=m?new Uint8Array(Gt):Gt,Je=new(m?Uint8Array:Array)(288);for(ie=0,me=Je.length;ie<me;++ie)Je[ie]=143>=ie?8:255>=ie?9:279>=ie?7:8;var de,Me,Pe=F(Je),Ze=new(m?Uint8Array:Array)(30);for(de=0,Me=Ze.length;de<Me;++de)Ze[de]=5;var lt=F(Ze);function gt(Fe,Ae){for(var je,Ye=Fe.g,Ue=Fe.e,Xe=Fe.input,Ct=Fe.c,It=Xe.length;Ue<Ae;)Ct>=It&&h(Error("input buffer is broken")),Ye|=Xe[Ct++]<<Ue,Ue+=8;return je=Ye&(1<<Ae)-1,Fe.g=Ye>>>Ae,Fe.e=Ue-Ae,Fe.c=Ct,je}function ze(Fe,Ae){for(var je,Ye,Ue=Fe.g,Xe=Fe.e,Ct=Fe.input,It=Fe.c,At=Ct.length,On=Ae[0],Yn=Ae[1];Xe<Yn&&!(It>=At);)Ue|=Ct[It++]<<Xe,Xe+=8;return Ye=(je=On[Ue&(1<<Yn)-1])>>>16,Fe.g=Ue>>Ye,Fe.e=Xe-Ye,Fe.c=It,65535&je}function Qe(Fe){function Ae(Yn,pi,$t){var $n,yn,Xt,Ln=this.z;for(Xt=0;Xt<Yn;)switch($n=ze(this,pi),$n){case 16:for(yn=3+gt(this,2);yn--;)$t[Xt++]=Ln;break;case 17:for(yn=3+gt(this,3);yn--;)$t[Xt++]=0;Ln=0;break;case 18:for(yn=11+gt(this,7);yn--;)$t[Xt++]=0;Ln=0;break;default:Ln=$t[Xt++]=$n}return this.z=Ln,$t}var je,Ye,Ue,Xe,Ct=gt(Fe,5)+257,It=gt(Fe,5)+1,At=gt(Fe,4)+4,On=new(m?Uint8Array:Array)(Be.length);for(Xe=0;Xe<At;++Xe)On[Be[Xe]]=gt(Fe,3);if(!m)for(Xe=At,At=On.length;Xe<At;++Xe)On[Be[Xe]]=0;je=F(On),Ye=new(m?Uint8Array:Array)(Ct),Ue=new(m?Uint8Array:Array)(It),Fe.z=0,Fe.o(F(Ae.call(Fe,Ct,je,Ye)),F(Ae.call(Fe,It,je,Ue)))}function an(Fe){if("string"==typeof Fe){var Ae,je,Ye=Fe.split("");for(Ae=0,je=Ye.length;Ae<je;Ae++)Ye[Ae]=(255&Ye[Ae].charCodeAt(0))>>>0;Fe=Ye}for(var Ue,Xe=1,Ct=0,It=Fe.length,At=0;0<It;){It-=Ue=1024<It?1024:It;do{Ct+=Xe+=Fe[At++]}while(--Ue);Xe%=65521,Ct%=65521}return(Ct<<16|Xe)>>>0}function zt(Fe,Ae){var je,Ye;this.input=Fe,this.c=0,!Ae&&(Ae={})||(Ae.index&&(this.c=Ae.index),Ae.verify&&(this.N=Ae.verify)),je=Fe[this.c++],Ye=Fe[this.c++],(15&je)===fn?this.method=fn:h(Error("unsupported compression method")),((je<<8)+Ye)%31!=0&&h(Error("invalid fcheck flag:"+((je<<8)+Ye)%31)),32&Ye&&h(Error("fdict flag is not supported")),this.B=new Ee(Fe,{index:this.c,bufferSize:Ae.bufferSize,bufferType:Ae.bufferType,resize:Ae.resize})}Ee.prototype.o=function(Fe,Ae){var je=this.a,Ye=this.b;this.u=Fe;for(var Ue,Xe,Ct,It,At=je.length-258;256!==(Ue=ze(this,Fe));)if(256>Ue)Ye>=At&&(this.b=Ye,je=this.f(),Ye=this.b),je[Ye++]=Ue;else for(It=be[Xe=Ue-257],0<qe[Xe]&&(It+=gt(this,qe[Xe])),Ue=ze(this,Ae),Ct=$e[Ue],0<ht[Ue]&&(Ct+=gt(this,ht[Ue])),Ye>=At&&(this.b=Ye,je=this.f(),Ye=this.b);It--;)je[Ye]=je[Ye++-Ct];for(;8<=this.e;)this.e-=8,this.c--;this.b=Ye},Ee.prototype.J=function(Fe,Ae){var je=this.a,Ye=this.b;this.u=Fe;for(var Ue,Xe,Ct,It,At=je.length;256!==(Ue=ze(this,Fe));)if(256>Ue)Ye>=At&&(At=(je=this.f()).length),je[Ye++]=Ue;else for(It=be[Xe=Ue-257],0<qe[Xe]&&(It+=gt(this,qe[Xe])),Ue=ze(this,Ae),Ct=$e[Ue],0<ht[Ue]&&(Ct+=gt(this,ht[Ue])),Ye+It>At&&(At=(je=this.f()).length);It--;)je[Ye]=je[Ye++-Ct];for(;8<=this.e;)this.e-=8,this.c--;this.b=Ye},Ee.prototype.f=function(){var Fe,Ae,je=new(m?Uint8Array:Array)(this.b-32768),Ye=this.b-32768,Ue=this.a;if(m)je.set(Ue.subarray(32768,je.length));else for(Fe=0,Ae=je.length;Fe<Ae;++Fe)je[Fe]=Ue[Fe+32768];if(this.l.push(je),this.q+=je.length,m)Ue.set(Ue.subarray(Ye,Ye+32768));else for(Fe=0;32768>Fe;++Fe)Ue[Fe]=Ue[Ye+Fe];return this.b=32768,Ue},Ee.prototype.K=function(Fe){var Ae,je,Ye,Ue=this.input.length/this.c+1|0,Ct=this.a;return Fe&&("number"==typeof Fe.v&&(Ue=Fe.v),"number"==typeof Fe.G&&(Ue+=Fe.G)),je=2>Ue?(Ye=(this.input.length-this.c)/this.u[2]/2*258|0)<Ct.length?Ct.length+Ye:Ct.length<<1:Ct.length*Ue,m?(Ae=new Uint8Array(je)).set(Ct):Ae=Ct,this.a=Ae},Ee.prototype.t=function(){var Fe,Ae,je,Ye,Ue,Xe=0,Ct=this.a,It=this.l,At=new(m?Uint8Array:Array)(this.q+(this.b-32768));if(0===It.length)return m?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(Ae=0,je=It.length;Ae<je;++Ae)for(Ye=0,Ue=(Fe=It[Ae]).length;Ye<Ue;++Ye)At[Xe++]=Fe[Ye];for(Ae=32768,je=this.b;Ae<je;++Ae)At[Xe++]=Ct[Ae];return this.l=[],this.buffer=At},Ee.prototype.I=function(){var Fe,Ae=this.b;return m?this.C?(Fe=new Uint8Array(Ae)).set(this.a.subarray(0,Ae)):Fe=this.a.subarray(0,Ae):(this.a.length>Ae&&(this.a.length=Ae),Fe=this.a),this.buffer=Fe},zt.prototype.p=function(){var Fe,Ae=this.input;return Fe=this.B.p(),this.c=this.B.c,this.N&&(Ae[this.c++]<<24|Ae[this.c++]<<16|Ae[this.c++]<<8|Ae[this.c++])>>>0!==an(Fe)&&h(Error("invalid adler-32 checksum")),Fe};var fn=8;function fi(Fe,Ae){this.input=Fe,this.a=new(m?Uint8Array:Array)(32768),this.h=mt.k;var je,Ye={};for(je in!Ae&&(Ae={})||"number"!=typeof Ae.compressionType||(this.h=Ae.compressionType),Ae)Ye[je]=Ae[je];Ye.outputBuffer=this.a,this.A=new U(this.input,Ye)}var mt=H;function xt(Fe,Ae){var je,Ye,Ue,Xe;if(Object.keys)je=Object.keys(Ae);else for(Ye in je=[],Ue=0,Ae)je[Ue++]=Ye;for(Ue=0,Xe=je.length;Ue<Xe;++Ue)y(Fe+"."+(Ye=je[Ue]),Ae[Ye])}fi.prototype.j=function(){var Fe,Ae,je,Ye,Ue,Xe,Ct,It=0;if(Ct=this.a,(Fe=fn)===fn?Ae=Math.LOG2E*Math.log(32768)-8:h(Error("invalid compression method")),Ct[It++]=je=Ae<<4|Fe,Fe===fn)switch(this.h){case mt.NONE:Ue=0;break;case mt.r:Ue=1;break;case mt.k:Ue=2;break;default:h(Error("unsupported compression type"))}else h(Error("invalid compression method"));return Ct[It++]=(Ye=Ue<<6|0)|31-(256*je+Ye)%31,Xe=an(this.input),this.A.b=It,It=(Ct=this.A.j()).length,m&&((Ct=new Uint8Array(Ct.buffer)).length<=It+4&&(this.a=new Uint8Array(Ct.length+4),this.a.set(Ct),Ct=this.a),Ct=Ct.subarray(0,It+4)),Ct[It++]=Xe>>24&255,Ct[It++]=Xe>>16&255,Ct[It++]=Xe>>8&255,Ct[It++]=255&Xe,Ct},y("Zlib.Inflate",zt),y("Zlib.Inflate.prototype.decompress",zt.prototype.p),xt("Zlib.Inflate.BufferType",{ADAPTIVE:Le.D,BLOCK:Le.F}),y("Zlib.Deflate",fi),y("Zlib.Deflate.compress",function(Fe,Ae){return new fi(Fe,Ae).j()}),y("Zlib.Deflate.prototype.compress",fi.prototype.j),xt("Zlib.Deflate.CompressionType",{NONE:mt.NONE,FIXED:mt.r,DYNAMIC:mt.k})}).call(this)},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SocketEngine=x.SocketEvent=void 0;var w,S=function(){function z(q,H){for(var Y=0;Y<H.length;Y++){var G=H[Y];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(q,G.key,G)}}return function(q,H,Y){return H&&z(q.prototype,H),Y&&z(q,Y),q}}(),y=(w=h(120))&&w.__esModule?w:{default:w},m=h(167),g=h(39),_=h(8),p=h(2),C=h(50),M=h(51),f=h(1);function b(z,q){if(!(z instanceof q))throw new TypeError("Cannot call a class as a function")}var O=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),F=function(z){function q(H){b(this,q);var Y=function(G,X){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?G:X}(this,(q.__proto__||Object.getPrototypeOf(q)).call(this));return Y._sfs=H,Y._logger=C.Logger.instance,Y._isConnected=!1,Y._isConnecting=!1,Y._socket=null,Y._protocolCodec=new U(H),Y._disconnectionReason=M.ClientDisconnectionReason.UNKNOWN,Object.seal(Y),Y}return function(H,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);H.prototype=Object.create(Y&&Y.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(H,Y):H.__proto__=Y)}(q,g.EventDispatcher),S(q,[{key:"connect",value:function(H,Y,G){this._isConnecting=!0,this._socket=new WebSocket("ws"+(G?"s":"")+"://"+H+":"+Y+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(H){this._disconnectionReason=H,this._socket.close()}},{key:"addController",value:function(H,Y){null==this._controllers[H]&&(this._controllers[H]=Y)}},{key:"removeController",value:function(H){delete this._controllers[H]}},{key:"send",value:function(H){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+H.dump());var Y=this._protocolCodec.onPacketWrite(H);this._socket.send(Y)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(O.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=M.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(H){var Y=this._scope._protocolCodec.onPacketRead(H.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+Y.dump()),this._scope.dispatchEvent(O.DATA,Y)}},{key:"_onSocketError",value:function(H){this._scope.dispatchEvent(O.IOERROR,H.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(H){this._protocolCodec.maxMessageSize=H}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(H){this._protocolCodec.compressionThreshold=H}}]),q}(),U=function(){function z(q){b(this,z),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=q,this._logger=C.Logger.instance,Object.seal(this)}return S(z,[{key:"onPacketRead",value:function(q){if(0!==q.byteLength){var H=new y.default(q,0,y.default.BIG_ENDIAN),Y=H.readUint8(),G=(32&Y)>0,X=(8&Y)>0?H.readUint32():H.readUint16(),ae=H.readUint8Array(X);G&&(ae=this.decompress(ae)),this._sfs.debug&&this._logger.debug(q.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+M.DumpFormatter.hexDump(ae));var Q=_.SFSObject.newFromBinaryData(ae);return new p.Message(Q.get(this.ACTION_ID),Q.get(this.CONTROLLER_ID),Q.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(q){var H=new _.SFSObject;H.put(this.CONTROLLER_ID,q.targetController,_.SFSDataType.BYTE),H.put(this.ACTION_ID,q.id,_.SFSDataType.SHORT),H.put(this.PARAM_ID,q.content,_.SFSDataType.SFS_OBJECT);var Y=H.toBinary(),G=Y.byteLength,X=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN),ae=128;G>this.compressionThreshold&&(ae+=32,G=(Y=this.compress(Y)).byteLength);var Q=G>65335;Q&&(ae+=8),X.writeUint8(ae),Q?X.writeUint32(G):X.writeUint16(G),X.writeUint8Array(Y);var ue=new Uint8Array(X.buffer);if(ue.byteLength>this.maxMessageSize)throw new f.SFSError("Message size is too big: "+ue.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+M.DumpFormatter.hexDump(ue)),ue}},{key:"decompress",value:function(q){return new m.Zlib.Inflate(q).decompress()}},{key:"compress",value:function(q){return new m.Zlib.Deflate(q).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(q){this._maxMessageSize=q}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(q){this._compressionThreshold=q}}]),z}();x.SocketEvent=O,x.SocketEngine=F},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.ExtensionController=void 0;var w=function(){function m(g,_){for(var p=0;p<_.length;p++){var C=_[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}}return function(g,_,p){return _&&m(g.prototype,_),p&&m(g,p),g}}(),S=h(39),T=h(97),y=function(){function m(g){(function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=g,this._logger=g.logger,this._id=1,Object.freeze(this)}return w(m,[{key:"handleMessage",value:function(g,_){this._sfs.debug&&this._logger.info("Handling Extension response");var p={};p.cmd=g.get(T.ExtensionRequest.KEY_CMD),p.params=g.get(T.ExtensionRequest.KEY_PARAMS);var C=g.get(T.ExtensionRequest.KEY_ROOM);null!=C&&(p.room=this._sfs.roomManager.getRoomById(C)),this._sfs.dispatchEvent(S.SFSEvent.EXTENSION_RESPONSE,p)}},{key:"id",get:function(){return this._id}}]),m}();x.ExtensionController=y},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var w=function(){function T(y,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}return function(y,m,g){return m&&T(y.prototype,m),g&&T(y,g),y}}(),S=function(){function T(){!function(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T)}return w(T,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),T}();x.SetMMOItemVariables=S},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MMOItem=void 0;var w=function(){function y(m,g){for(var _=0;_<g.length;_++){var p=g[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,_){return g&&y(m.prototype,g),_&&y(m,_),m}}(),S=h(73),T=function(){function y(m){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,y),this._id=m,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return w(y,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(m){return this._variables.get(m)}},{key:"containsVariable",value:function(m){return this._variables.has(m)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(m){var g=!0,_=!1,p=void 0;try{for(var C,M=m[Symbol.iterator]();!(g=(C=M.next()).done);g=!0)this._setVariable(C.value)}catch(b){_=!0,p=b}finally{try{!g&&M.return&&M.return()}finally{if(_)throw p}}}},{key:"_setVariable",value:function(m){m.isNull?this._variables.delete(m.name):this._variables.set(m.name,m)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(m){var g=new y(m.get(0)),_=m.get(1);if(null!=_)for(var p=0;p<_.size();p++)g._setVariable(S.MMOItemVariable.fromSFSArray(_.get(p)));return g}}]),y}();x.MMOItem=T},function(V,x){!function(h){"use strict";function w(G,X,ae){return X<=G&&G<=ae}function S(G,X){return Math.floor(G/X)}var T=-1,y=-1;function m(G,X){if(G)throw new Error("EncodingError");return X||65533}function g(G){throw new Error("EncodingError")}function _(G){if(G=String(G).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(C,G))return C[G];throw new Error("EncodingError: Unknown encoding: "+G)}var p={},C={};function M(G,X){return(X||[])[G]||null}function f(G,X){var ae=X.indexOf(G);return-1===ae?null:ae}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(G){G.encodings.forEach(function(X){p[X.name]=X,X.labels.forEach(function(ae){C[ae]=X})})});var b=h["encoding-indexes"]||{};function O(G,X){var ae=X.fatal,Q=0,ue=0,oe=0;this.decode=function(Ee){var Ge,Ne=Ee.get();if(Ne===T&&0===Q&&0===ue&&0===oe)return y;if(Ne!==T||0===Q&&0===ue&&0===oe||(Q=0,ue=0,oe=0,m(ae)),Ee.offset(1),0!==oe)return Ge=null,w(Ne,48,57)&&(Ge=function(ce){if(ce>39419&&ce<189e3||ce>1237575)return null;var Be,fe=0,be=0,we=b.gb18030;for(Be=0;Be<we.length;++Be){var qe=we[Be];if(!(qe[0]<=ce))break;fe=qe[0],be=qe[1]}return be+ce-fe}(10*(126*(10*(Q-129)+(ue-48))+(oe-129))+Ne-48)),Q=0,ue=0,oe=0,null===Ge?(Ee.offset(-3),m(ae)):Ge;if(0!==ue)return w(Ne,129,254)?(oe=Ne,null):(Ee.offset(-2),Q=0,ue=0,m(ae));if(0!==Q){if(w(Ne,48,57)&&G)return ue=Ne,null;var Le=Q,ie=null;Q=0;var me=Ne<127?64:65;return(w(Ne,64,126)||w(Ne,128,254))&&(ie=190*(Le-129)+(Ne-me)),Ge=null===ie?null:M(ie,b.gbk),null===ie&&Ee.offset(-1),null===Ge?m(ae):Ge}return w(Ne,0,127)?Ne:128===Ne?8364:w(Ne,129,254)?(Q=Ne,null):m(ae)}}function F(G,X){this.encode=function(ae,Q){var ue=Q.get();if(ue===y)return T;if(Q.offset(1),w(ue,0,127))return ae.emit(ue);var oe=f(ue,b.gbk);if(null!==oe){var Ee=S(oe,190)+129,Ge=oe%190;return ae.emit(Ee,Ge+(Ge<63?64:65))}if(null===oe&&!G)return g();var Le=S(S(S(oe=function(Be){var fe,be=0,we=0,qe=b.gb18030;for(fe=0;fe<qe.length;++fe){var pt=qe[fe];if(!(pt[1]<=Be))break;be=pt[1],we=pt[0]}return we+Be-be}(ue),10),126),10),ie=S(S(oe-=10*Le*126*10,10),126),me=S(oe-=10*ie*126,10);return ae.emit(Le+129,ie+48,me+129,oe-10*me+48)}}function U(G,X){var ae=X.fatal,Q=null,ue=null;this.decode=function(oe){var Ee,Ge=oe.get();if(Ge===T&&null===Q&&null===ue)return y;if(Ge===T&&(null!==Q||null!==ue))return m(ae);if(oe.offset(1),null===Q)return Q=Ge,null;if(Ee=G?(Q<<8)+Ge:(Ge<<8)+Q,Q=null,null!==ue){var Ne=ue;return ue=null,w(Ee,56320,57343)?65536+1024*(Ne-55296)+(Ee-56320):(oe.offset(-2),m(ae))}return w(Ee,55296,56319)?(ue=Ee,null):w(Ee,56320,57343)?m(ae):Ee}}function z(G,X){this.encode=function(ae,Q){function ue(Ge){var Ne=Ge>>8,Le=255&Ge;return G?ae.emit(Ne,Le):ae.emit(Le,Ne)}var oe=Q.get();if(oe===y)return T;if(Q.offset(1),w(oe,55296,57343)&&g(),oe<=65535)return ue(oe);var Ee=(oe-65536)%1024+56320;return ue(S(oe-65536,1024)+55296),ue(Ee)}}p["utf-8"].getEncoder=function(G){return new function(X){this.encode=function(ae,Q){var ue,oe,Ee=Q.get();if(Ee===y)return T;if(Q.offset(1),w(Ee,55296,57343))return g();if(w(Ee,0,127))return ae.emit(Ee);w(Ee,128,2047)?(ue=1,oe=192):w(Ee,2048,65535)?(ue=2,oe=224):w(Ee,65536,1114111)&&(ue=3,oe=240);for(var Ge=ae.emit(S(Ee,Math.pow(64,ue))+oe);ue>0;){var Ne=S(Ee,Math.pow(64,ue-1));Ge=ae.emit(128+Ne%64),ue-=1}return Ge}}(G)},p["utf-8"].getDecoder=function(G){return new function(X){var ae=X.fatal,Q=0,ue=0,oe=0,Ee=0;this.decode=function(Ge){var Ne=Ge.get();if(Ne===T)return 0!==ue?m(ae):y;if(Ge.offset(1),0===ue){if(w(Ne,0,127))return Ne;if(w(Ne,194,223))ue=1,Ee=128,Q=Ne-192;else if(w(Ne,224,239))ue=2,Ee=2048,Q=Ne-224;else{if(!w(Ne,240,244))return m(ae);ue=3,Ee=65536,Q=Ne-240}return Q*=Math.pow(64,ue),null}if(!w(Ne,128,191))return Q=0,ue=0,oe=0,Ee=0,Ge.offset(-1),m(ae);if(oe+=1,Q+=(Ne-128)*Math.pow(64,ue-oe),oe!==ue)return null;var Le=Q,ie=Ee;return Q=0,ue=0,oe=0,Ee=0,w(Le,ie,1114111)&&!w(Le,55296,57343)?Le:m(ae)}}(G)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(G){var X=p[G],ae=b[G];X.getDecoder=function(Q){return new function(ue,oe){var Ee=oe.fatal;this.decode=function(Ge){var Ne=Ge.get();if(Ne===T)return y;if(Ge.offset(1),w(Ne,0,127))return Ne;var Le=ue[Ne-128];return null===Le?m(Ee):Le}}(ae,Q)},X.getEncoder=function(Q){return new function(ue,oe){this.encode=function(Ee,Ge){var Ne=Ge.get();if(Ne===y)return T;if(Ge.offset(1),w(Ne,0,127))return Ee.emit(Ne);var Le=f(Ne,ue);return null===Le&&g(),Ee.emit(Le+128)}}(ae,Q)}}),p.gbk.getEncoder=function(G){return new F(!1,G)},p.gbk.getDecoder=function(G){return new O(!1,G)},p.gb18030.getEncoder=function(G){return new F(!0,G)},p.gb18030.getDecoder=function(G){return new O(!0,G)},p["hz-gb-2312"].getEncoder=function(G){return new function(X){var ae=!1;this.encode=function(Q,ue){var oe=ue.get();if(oe===y)return T;if(ue.offset(1),w(oe,0,127)&&ae)return ue.offset(-1),ae=!1,Q.emit(126,125);if(126===oe)return Q.emit(126,126);if(w(oe,0,127))return Q.emit(oe);if(!ae)return ue.offset(-1),ae=!0,Q.emit(126,123);var Ee=f(oe,b.gbk);if(null===Ee)return g();var Ge=S(Ee,190)+1,Ne=Ee%190-63;return w(Ge,33,126)&&w(Ne,33,126)?Q.emit(Ge,Ne):g()}}(G)},p["hz-gb-2312"].getDecoder=function(G){return new function(X){var ae=X.fatal,Q=!1,ue=0;this.decode=function(oe){var Ee=oe.get();if(Ee===T&&0===ue)return y;if(Ee===T&&0!==ue)return ue=0,m(ae);if(oe.offset(1),126===ue)return ue=0,123===Ee?(Q=!0,null):125===Ee?(Q=!1,null):126===Ee?126:10===Ee?null:(oe.offset(-1),m(ae));if(0!==ue){var Ge=ue;ue=0;var Ne=null;return w(Ee,33,126)&&(Ne=M(190*(Ge-1)+(Ee+63),b.gbk)),10===Ee&&(Q=!1),null===Ne?m(ae):Ne}return 126===Ee?(ue=126,null):Q?w(Ee,32,127)?(ue=Ee,null):(10===Ee&&(Q=!1),m(ae)):w(Ee,0,127)?Ee:m(ae)}}(G)},p.big5.getEncoder=function(G){return new function(X){this.encode=function(ae,Q){var ue=Q.get();if(ue===y)return T;if(Q.offset(1),w(ue,0,127))return ae.emit(ue);var oe=f(ue,b.big5);if(null===oe)return g();var Ee=S(oe,157)+129,Ge=oe%157;return ae.emit(Ee,Ge+(Ge<63?64:98))}}(G)},p.big5.getDecoder=function(G){return new function(X){var ae=X.fatal,Q=0,ue=null;this.decode=function(oe){if(null!==ue){var Ee=ue;return ue=null,Ee}var Ge=oe.get();if(Ge===T&&0===Q)return y;if(Ge===T&&0!==Q)return Q=0,m(ae);if(oe.offset(1),0!==Q){var Ne=Q,Le=null;Q=0;var ie=Ge<127?64:98;if((w(Ge,64,126)||w(Ge,161,254))&&(Le=157*(Ne-129)+(Ge-ie)),1133===Le)return ue=772,202;if(1135===Le)return ue=780,202;if(1164===Le)return ue=772,234;if(1166===Le)return ue=780,234;var me=null===Le?null:M(Le,b.big5);return null===Le&&oe.offset(-1),null===me?m(ae):me}return w(Ge,0,127)?Ge:w(Ge,129,254)?(Q=Ge,null):m(ae)}}(G)},p["euc-jp"].getEncoder=function(G){return new function(X){this.encode=function(ae,Q){var ue=Q.get();if(ue===y)return T;if(Q.offset(1),w(ue,0,127))return ae.emit(ue);if(165===ue)return ae.emit(92);if(8254===ue)return ae.emit(126);if(w(ue,65377,65439))return ae.emit(142,ue-65377+161);var oe=f(ue,b.jis0208);if(null===oe)return g();var Ee=S(oe,94)+161;return ae.emit(Ee,oe%94+161)}}(G)},p["euc-jp"].getDecoder=function(G){return new function(X){var ae=X.fatal,Q=0,ue=0;this.decode=function(oe){var Ee,Ge,Ne=oe.get();return Ne===T?0===Q&&0===ue?y:(Q=0,ue=0,m(ae)):(oe.offset(1),0!==ue?(Ee=ue,ue=0,Ge=null,w(Ee,161,254)&&w(Ne,161,254)&&(Ge=M(94*(Ee-161)+Ne-161,b.jis0212)),w(Ne,161,254)||oe.offset(-1),null===Ge?m(ae):Ge):142===Q&&w(Ne,161,223)?(Q=0,65377+Ne-161):143===Q&&w(Ne,161,254)?(Q=0,ue=Ne,null):0!==Q?(Ee=Q,Q=0,Ge=null,w(Ee,161,254)&&w(Ne,161,254)&&(Ge=M(94*(Ee-161)+Ne-161,b.jis0208)),w(Ne,161,254)||oe.offset(-1),null===Ge?m(ae):Ge):w(Ne,0,127)?Ne:142===Ne||143===Ne||w(Ne,161,254)?(Q=Ne,null):m(ae))}}(G)},p["iso-2022-jp"].getEncoder=function(G){return new function(X){var oe=0;this.encode=function(Ee,Ge){var Ne=Ge.get();if(Ne===y)return T;if(Ge.offset(1),(w(Ne,0,127)||165===Ne||8254===Ne)&&0!==oe)return Ge.offset(-1),oe=0,Ee.emit(27,40,66);if(w(Ne,0,127))return Ee.emit(Ne);if(165===Ne)return Ee.emit(92);if(8254===Ne)return Ee.emit(126);if(w(Ne,65377,65439)&&2!==oe)return Ge.offset(-1),oe=2,Ee.emit(27,40,73);if(w(Ne,65377,65439))return Ee.emit(Ne-65377-33);if(1!==oe)return Ge.offset(-1),oe=1,Ee.emit(27,36,66);var Le=f(Ne,b.jis0208);if(null===Le)return g();var ie=S(Le,94)+33;return Ee.emit(ie,Le%94+33)}}(G)},p["iso-2022-jp"].getDecoder=function(G){return new function(X){var ae=X.fatal,ie=0,me=!1,ce=0;this.decode=function(Be){var fe=Be.get();switch(fe!==T&&Be.offset(1),ie){default:case 0:return 27===fe?(ie=1,null):w(fe,0,127)?fe:fe===T?y:m(ae);case 1:return 36===fe||40===fe?(ce=fe,ie=2,null):(fe!==T&&Be.offset(-1),ie=0,m(ae));case 2:var be=ce;return ce=0,36!==be||64!==fe&&66!==fe?36===be&&40===fe?(ie=3,null):40!==be||66!==fe&&74!==fe?40===be&&73===fe?(ie=6,null):(Be.offset(fe===T?-1:-2),ie=0,m(ae)):(ie=0,null):(me=!1,ie=4,null);case 3:return 68===fe?(me=!0,ie=4,null):(Be.offset(fe===T?-2:-3),ie=0,m(ae));case 4:return 10===fe?(ie=0,m(ae,10)):27===fe?(ie=1,null):fe===T?y:(ce=fe,ie=5,null);case 5:if(ie=4,fe===T)return m(ae);var we=null,qe=94*(ce-33)+fe-33;return w(ce,33,126)&&w(fe,33,126)&&(we=M(qe,!1===me?b.jis0208:b.jis0212)),null===we?m(ae):we;case 6:return 27===fe?(ie=1,null):w(fe,33,95)?65377+fe-33:fe===T?y:m(ae)}}}(G)},p.shift_jis.getEncoder=function(G){return new function(X){this.encode=function(ae,Q){var ue=Q.get();if(ue===y)return T;if(Q.offset(1),w(ue,0,128))return ae.emit(ue);if(165===ue)return ae.emit(92);if(8254===ue)return ae.emit(126);if(w(ue,65377,65439))return ae.emit(ue-65377+161);var oe=f(ue,b.jis0208);if(null===oe)return g();var Ee=S(oe,188),Ne=oe%188;return ae.emit(Ee+(Ee<31?129:193),Ne+(Ne<63?64:65))}}(G)},p.shift_jis.getDecoder=function(G){return new function(X){var ae=X.fatal,Q=0;this.decode=function(ue){var oe=ue.get();if(oe===T&&0===Q)return y;if(oe===T&&0!==Q)return Q=0,m(ae);if(ue.offset(1),0!==Q){var Ee=Q;if(Q=0,w(oe,64,126)||w(oe,128,252)){var Ge=M(188*(Ee-(Ee<160?129:193))+oe-(oe<127?64:65),b.jis0208);return null===Ge?m(ae):Ge}return ue.offset(-1),m(ae)}return w(oe,0,128)?oe:w(oe,161,223)?65377+oe-161:w(oe,129,159)||w(oe,224,252)?(Q=oe,null):m(ae)}}(G)},p["euc-kr"].getEncoder=function(G){return new function(X){this.encode=function(ae,Q){var ue=Q.get();if(ue===y)return T;if(Q.offset(1),w(ue,0,127))return ae.emit(ue);var oe,Ee,Ge=f(ue,b["euc-kr"]);if(null===Ge)return g();if(Ge<12460){oe=S(Ge,178)+129;var Ne=(Ee=Ge%178)<26?65:Ee<52?71:77;return ae.emit(oe,Ee+Ne)}return oe=S(Ge-=12460,94)+199,ae.emit(oe,Ee=Ge%94+161)}}(G)},p["euc-kr"].getDecoder=function(G){return new function(X){var ae=X.fatal,Q=0;this.decode=function(ue){var oe=ue.get();if(oe===T&&0===Q)return y;if(oe===T&&0!==Q)return Q=0,m(ae);if(ue.offset(1),0!==Q){var Ee=Q,Ge=null;if(Q=0,w(Ee,129,198)){var Ne=178*(Ee-129);w(oe,65,90)?Ge=Ne+oe-65:w(oe,97,122)?Ge=Ne+26+oe-97:w(oe,129,254)&&(Ge=Ne+26+26+oe-129)}w(Ee,199,253)&&w(oe,161,254)&&(Ge=12460+94*(Ee-199)+(oe-161));var Le=null===Ge?null:M(Ge,b["euc-kr"]);return null===Ge&&ue.offset(-1),null===Le?m(ae):Le}return w(oe,0,127)?oe:w(oe,129,253)?(Q=oe,null):m(ae)}}(G)},p["iso-2022-kr"].getEncoder=function(G){return new function(X){var ue=!1,oe=0;this.encode=function(Ee,Ge){var Ne=Ge.get();if(Ne===y)return T;if(ue||(ue=!0,Ee.emit(27,36,41,67)),Ge.offset(1),w(Ne,0,127)&&0!==oe)return Ge.offset(-1),oe=0,Ee.emit(15);if(w(Ne,0,127))return Ee.emit(Ne);if(1!==oe)return Ge.offset(-1),oe=1,Ee.emit(14);var Le,ie,me=f(Ne,b["euc-kr"]);return null===me?g():me<12460?(ie=me%178-26-26+1,w(Le=S(me,178)+1,33,70)&&w(ie,33,126)?Ee.emit(Le,ie):g()):(ie=(me-=12460)%94+33,w(Le=S(me,94)+71,71,126)&&w(ie,33,126)?Ee.emit(Le,ie):g())}}(G)},p["iso-2022-kr"].getDecoder=function(G){return new function(X){var ae=X.fatal,Le=0,ie=0;this.decode=function(me){var ce=me.get();switch(ce!==T&&me.offset(1),Le){default:case 0:return 14===ce?(Le=4,null):15===ce?null:27===ce?(Le=1,null):w(ce,0,127)?ce:ce===T?y:m(ae);case 1:return 36===ce?(Le=2,null):(ce!==T&&me.offset(-1),Le=0,m(ae));case 2:return 41===ce?(Le=3,null):(me.offset(ce===T?-1:-2),Le=0,m(ae));case 3:return 67===ce?(Le=0,null):(me.offset(ce===T?-2:-3),Le=0,m(ae));case 4:return 10===ce?(Le=0,m(ae,10)):14===ce?null:15===ce?(Le=0,null):ce===T?y:(ie=ce,Le=5,null);case 5:if(Le=4,ce===T)return m(ae);var Be=null;return w(ie,33,70)&&w(ce,33,126)?Be=M(178*(ie-1)+26+26+ce-1,b["euc-kr"]):w(ie,71,126)&&w(ce,33,126)&&(Be=M(12460+94*(ie-71)+(ce-33),b["euc-kr"])),null!==Be?Be:m(ae)}}}(G)},p["utf-16"].getEncoder=function(G){return new z(!1,G)},p["utf-16"].getDecoder=function(G){return new U(!1,G)},p["utf-16be"].getEncoder=function(G){return new z(!0,G)},p["utf-16be"].getDecoder=function(G){return new U(!0,G)};var q="utf-8";function H(G,X){return this&&this!==h?(G=G?String(G):q,X=Object(X),this._encoding=_(G),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(X.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new H(G,X)}function Y(G,X){return this&&this!==h?(G=G?String(G):q,X=Object(X),this._encoding=_(G),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(X.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new Y(G,X)}H.prototype={encode:function(G,X){G=G?String(G):"",X=Object(X),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(X.stream);for(var ae=[],Q=new function(Ee){var Ge=0;this.emit=function(Ne){var Le,ie=T;for(Le=0;Le<arguments.length;++Le)ie=Number(arguments[Le]),Ee[Ge++]=ie;return ie}}(ae),ue=new function(Ee){var Ge=0,Ne=function(){for(var Le=[],ie=0,me=Ee.length;ie<Ee.length;){var ce=Ee.charCodeAt(ie);if(w(ce,55296,57343))if(w(ce,56320,57343))Le.push(65533);else if(ie===me-1)Le.push(65533);else{var Be=Ee.charCodeAt(ie+1);w(Be,56320,57343)?(ie+=1,Le.push(65536+((1023&ce)<<10)+(1023&Be))):Le.push(65533)}else Le.push(ce);ie+=1}return Le}();this.offset=function(Le){if((Ge+=Le)<0)throw new Error("Seeking past start of the buffer");if(Ge>Ne.length)throw new Error("Seeking past EOF")},this.get=function(){return Ge>=Ne.length?y:Ne[Ge]}}(G);ue.get()!==y;)this._encoder.encode(Q,ue);if(!this._streaming){var oe;do{oe=this._encoder.encode(Q,ue)}while(oe!==T);this._encoder=null}return new Uint8Array(ae)}},Y.prototype={decode:function(G,X){if(G&&!("buffer"in G&&"byteOffset"in G&&"byteLength"in G))throw new TypeError("Expected ArrayBufferView");G||(G=new Uint8Array(0)),X=Object(X),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(X.stream);var oe,Ee,ae=new function(oe){var Ee=0;this.get=function(){return Ee>=oe.length?T:Number(oe[Ee])},this.offset=function(Ge){if((Ee+=Ge)<0)throw new Error("Seeking past start of the buffer");if(Ee>oe.length)throw new Error("Seeking past EOF")},this.match=function(Ge){if(Ge.length>Ee+oe.length)return!1;var Ne;for(Ne=0;Ne<Ge.length;Ne+=1)if(Number(oe[Ee+Ne])!==Ge[Ne])return!1;return!0}}(new Uint8Array(G.buffer,G.byteOffset,G.byteLength));if(_((oe=this._encoding.name,(Ee=ae).match([255,254])?(Ee.offset(2),"utf-16"):Ee.match([254,255])?(Ee.offset(2),"utf-16be"):Ee.match([239,187,191])?(Ee.offset(3),"utf-8"):oe))!==this._encoding)throw new Error("BOM mismatch");for(var Q,ue=new function(){var oe="";this.string=function(){return oe},this.emit=function(Ee){Ee<=65535?oe+=String.fromCharCode(Ee):(Ee-=65536,oe+=String.fromCharCode(55296+(Ee>>10&1023)),oe+=String.fromCharCode(56320+(1023&Ee)))}};ae.get()!==T;)null!==(Q=this._decoder.decode(ae))&&Q!==y&&ue.emit(Q);if(!this._streaming){do{null!==(Q=this._decoder.decode(ae))&&Q!==y&&ue.emit(Q)}while(Q!==y);this._decoder=null}return ue.string()}},h.TextEncoder=h.TextEncoder||H,h.TextDecoder=h.TextDecoder||Y}(this)},function(V,x){V.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SFSDataSerializer=void 0;var w,S=function(){function M(f,b){for(var O=0;O<b.length;O++){var F=b[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(f,F.key,F)}}return function(f,b,O){return b&&M(f.prototype,b),O&&M(f,O),f}}(),y=(w=h(120))&&w.__esModule?w:{default:w},m=h(172),g=h(8),_=Symbol(),p=Symbol(),C=function(){function M(f){if(function(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}(this,M),f!==p)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return S(M,[{key:"object2binary",value:function(f){var b=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN);return b.writeInt8(g.SFSDataType.SFS_OBJECT),b.writeInt16(f.size()),this.obj2bin(f,b),new Uint8Array(b.buffer)}},{key:"obj2bin",value:function(f,b){var O=!0,F=!1,U=void 0;try{for(var z,q=f.keys()[Symbol.iterator]();!(O=(z=q.next()).done);O=!0){var H=z.value,Y=f.getWrappedItem(H);this.encodeSFSObjectKey(b,H),this.encodeObject(b,Y)}}catch(G){F=!0,U=G}finally{try{!O&&q.return&&q.return()}finally{if(F)throw U}}}},{key:"array2binary",value:function(f){var b=new y.default(new ArrayBuffer(0),0,y.default.BIG_ENDIAN);return b.writeInt8(g.SFSDataType.SFS_ARRAY),b.writeInt16(f.size()),this.arr2bin(f,b),new Uint8Array(b.buffer)}},{key:"arr2bin",value:function(f,b){for(var O=0;O<f.size();O++){var F=f.getWrappedItem(O);this.encodeObject(b,F)}}},{key:"encodeSFSObjectKey",value:function(f,b){f.writeInt16(b.length),f.writeUint8Array(new m.TextEncoder("utf-8").encode(b))}},{key:"encodeObject",value:function(f,b){var O=b.type;if(O===g.SFSDataType.NULL)this.binEncode_NULL(f,b);else if(O===g.SFSDataType.BOOL)this.binEncode_BOOL(f,b);else if(O===g.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(f,b);else if(O===g.SFSDataType.BYTE)this.binEncode_BYTE(f,b);else if(O===g.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(f,b);else if(O===g.SFSDataType.SHORT)this.binEncode_SHORT(f,b);else if(O===g.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(f,b);else if(O===g.SFSDataType.INT)this.binEncode_INT(f,b);else if(O===g.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(f,b);else if(O===g.SFSDataType.LONG)this.binEncode_LONG(f,b);else if(O===g.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(f,b);else if(O===g.SFSDataType.FLOAT)this.binEncode_FLOAT(f,b);else if(O===g.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(f,b);else if(O===g.SFSDataType.DOUBLE)this.binEncode_DOUBLE(f,b);else if(O===g.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(f,b);else if(O===g.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(f,b);else if(O===g.SFSDataType.TEXT)this.binEncode_TEXT(f,b);else if(O===g.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(f,b);else if(O===g.SFSDataType.SFS_ARRAY)f.writeUint8Array(this.array2binary(b.value));else{if(O!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;f.writeUint8Array(this.object2binary(b.value))}return f}},{key:"binEncode_NULL",value:function(f,b){f.writeUint8(b.type)}},{key:"binEncode_BOOL",value:function(f,b){f.writeUint8(b.type),f.writeUint8(b.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++)f.writeUint8(O[F]?1:0)}},{key:"binEncode_BYTE",value:function(f,b){f.writeUint8(b.type),f.writeUint8(b.value)}},{key:"binEncode_BYTE_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint32(O.length),f.writeUint8Array(O)}},{key:"binEncode_SHORT",value:function(f,b){f.writeUint8(b.type),f.writeUint16(b.value)}},{key:"binEncode_SHORT_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++)f.writeUint16(O[F])}},{key:"binEncode_INT",value:function(f,b){f.writeUint8(b.type),f.writeUint32(b.value)}},{key:"binEncode_INT_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++)f.writeUint32(O[F])}},{key:"binEncode_LONG",value:function(f,b){var O=b.value,F=Math.floor(O/Math.pow(2,32)),U=O%Math.pow(2,32);f.writeUint8(b.type),f.writeInt32(F),f.writeInt32(U)}},{key:"binEncode_LONG_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++){var U=O[F],z=Math.floor(U/Math.pow(2,32)),q=U%Math.pow(2,32);f.writeInt32(z),f.writeInt32(q)}}},{key:"binEncode_FLOAT",value:function(f,b){f.writeUint8(b.type),f.writeFloat32(b.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++)f.writeFloat32(O[F])}},{key:"binEncode_DOUBLE",value:function(f,b){f.writeUint8(b.type),f.writeFloat64(b.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++)f.writeFloat64(O[F])}},{key:"binEncode_UTF_STRING",value:function(f,b){var O=new m.TextEncoder("utf-8").encode(b.value);f.writeUint8(b.type),f.writeUint16(O.length),f.writeUint8Array(O)}},{key:"binEncode_TEXT",value:function(f,b){var O=new m.TextEncoder("utf-8").encode(b.value);f.writeUint8(b.type),f.writeUint32(O.length),f.writeUint8Array(O)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(f,b){var O=b.value;f.writeUint8(b.type),f.writeUint16(O.length);for(var F=0;F<O.length;F++){var U=new m.TextEncoder("utf-8").encode(O[F]);f.writeUint16(U.byteLength),f.writeUint8Array(U)}}},{key:"binary2object",value:function(f){if(f.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+f.byteLength+" bytes";return this.decodeSFSObject(new y.default(f,0,y.default.BIG_ENDIAN))}},{key:"binary2array",value:function(f){if(f.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+f.byteLength+" bytes";return this.decodeSFSArray(new y.default(f,0,y.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(f){var b=new g.SFSObject,O=f.readUint8();if(O!==g.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_OBJECT+", found: "+O;var F=f.readUint16();if(F<0)throw"Can't decode SFSObject. Size is negative: "+F;try{for(var U=0;U<F;U++){var z=f.readUint16();if(z<0||z>255)throw"Invalid SFSObject key length. Found: "+z;var q=f.readUint8Array(z),H=String.fromCharCode.apply(String,q),Y=this.decodeObject(f);if(null==Y)throw"Could not decode value for key: "+H;b.put(H,Y.value,Y.type,!0)}}catch(G){throw G}return b}},{key:"decodeSFSArray",value:function(f){var b=new g.SFSArray,O=f.readUint8();if(O!==g.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_ARRAY+", found: "+O;var F=f.readInt16();if(F<0)throw"Can't decode SFSArray. Size is negative: "+F;try{for(var U=0;U<F;U++){var z=this.decodeObject(f);if(null==z)throw"Could not decode value for index: "+U;b.add(z.value,z.type,!0)}}catch(q){throw q}return b}},{key:"decodeObject",value:function(f){var b=null,O=f.readUint8();if(O===g.SFSDataType.NULL)b=this.binDecode_NULL(f);else if(O===g.SFSDataType.BOOL)b=this.binDecode_BOOL(f);else if(O===g.SFSDataType.BOOL_ARRAY)b=this.binDecode_BOOL_ARRAY(f);else if(O===g.SFSDataType.BYTE)b=this.binDecode_BYTE(f);else if(O===g.SFSDataType.BYTE_ARRAY)b=this.binDecode_BYTE_ARRAY(f);else if(O===g.SFSDataType.SHORT)b=this.binDecode_SHORT(f);else if(O===g.SFSDataType.SHORT_ARRAY)b=this.binDecode_SHORT_ARRAY(f);else if(O===g.SFSDataType.INT)b=this.binDecode_INT(f);else if(O===g.SFSDataType.INT_ARRAY)b=this.binDecode_INT_ARRAY(f);else if(O===g.SFSDataType.LONG)b=this.binDecode_LONG(f);else if(O===g.SFSDataType.LONG_ARRAY)b=this.binDecode_LONG_ARRAY(f);else if(O===g.SFSDataType.FLOAT)b=this.binDecode_FLOAT(f);else if(O===g.SFSDataType.FLOAT_ARRAY)b=this.binDecode_FLOAT_ARRAY(f);else if(O===g.SFSDataType.DOUBLE)b=this.binDecode_DOUBLE(f);else if(O===g.SFSDataType.DOUBLE_ARRAY)b=this.binDecode_DOUBLE_ARRAY(f);else if(O===g.SFSDataType.UTF_STRING)b=this.binDecode_UTF_STRING(f);else if(O===g.SFSDataType.TEXT)b=this.binDecode_TEXT(f);else if(O===g.SFSDataType.UTF_STRING_ARRAY)b=this.binDecode_UTF_STRING_ARRAY(f);else if(O===g.SFSDataType.SFS_ARRAY){f.seek(f.position-1);var F=this.decodeSFSArray(f);b=new g.SFSDataWrapper(O,F)}else{if(O!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;f.seek(f.position-1);var U=this.decodeSFSObject(f);b=new g.SFSDataWrapper(O,U)}return b}},{key:"binDecode_NULL",value:function(f){return new g.SFSDataWrapper(g.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(f){var b=f.readUint8(),O=null;if(0===b)O=!1;else{if(1!==b)throw"Error decoding Bool type. Illegal value: "+b;O=!0}return new g.SFSDataWrapper(g.SFSDataType.BOOL,O)}},{key:"binDecode_BOOL_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++){var U=f.readUint8(),z=null;if(0===U)z=!1;else{if(1!==U)throw"Error decoding Bool type. Illegal value: "+U;z=!0}O.push(z)}return new g.SFSDataWrapper(g.SFSDataType.BOOL_ARRAY,O)}},{key:"binDecode_BYTE",value:function(f){var b=f.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE,b)}},{key:"binDecode_BYTE_ARRAY",value:function(f){var b=f.readInt32();if(b<0)throw"Error decoding typed array size. Negative size: "+b;for(var O=new Uint8Array(b),F=0;F<b;F++)O[F]=f.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE_ARRAY,O)}},{key:"binDecode_SHORT",value:function(f){var b=f.readInt16();return new g.SFSDataWrapper(g.SFSDataType.SHORT,b)}},{key:"binDecode_SHORT_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++)O.push(f.readInt16());return new g.SFSDataWrapper(g.SFSDataType.SHORT_ARRAY,O)}},{key:"binDecode_INT",value:function(f){var b=f.readInt32();return new g.SFSDataWrapper(g.SFSDataType.INT,b)}},{key:"binDecode_INT_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++)O.push(f.readInt32());return new g.SFSDataWrapper(g.SFSDataType.INT_ARRAY,O)}},{key:"binDecode_LONG",value:function(f){var b=f.readInt32(),O=f.readUint32(),F=b*Math.pow(2,32)+O;return new g.SFSDataWrapper(g.SFSDataType.LONG,F)}},{key:"binDecode_LONG_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++){var U=f.readInt32(),z=f.readUint32(),q=U*Math.pow(2,32)+z;O.push(q)}return new g.SFSDataWrapper(g.SFSDataType.LONG_ARRAY,O)}},{key:"binDecode_FLOAT",value:function(f){var b=f.readFloat32();return new g.SFSDataWrapper(g.SFSDataType.FLOAT,b)}},{key:"binDecode_FLOAT_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++)O.push(f.readFloat32());return new g.SFSDataWrapper(g.SFSDataType.FLOAT_ARRAY,O)}},{key:"binDecode_DOUBLE",value:function(f){var b=f.readFloat64();return new g.SFSDataWrapper(g.SFSDataType.DOUBLE,b)}},{key:"binDecode_DOUBLE_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++)O.push(f.readFloat64());return new g.SFSDataWrapper(g.SFSDataType.DOUBLE_ARRAY,O)}},{key:"binDecode_UTF_STRING",value:function(f){var b=f.readInt16();if(b<0)throw"Error decoding UTF_STRING. Negative size: "+b;var O=f.readUint8Array(b),F=new m.TextDecoder("utf-8").decode(O);return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING,F)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(f){for(var b=this.getTypedArraySize(f),O=[],F=0;F<b;F++){var U=f.readInt16();if(U<0)throw"Error decoding UTF_STRING. Negative size: "+U;var z=f.readUint8Array(U),q=new m.TextDecoder("utf-8").decode(z);O.push(q)}return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING_ARRAY,O)}},{key:"binDecode_TEXT",value:function(f){var b=f.readInt32();if(b<0)throw"Error decoding TEXT. Negative size: "+b;var O=f.readUint8Array(b),F=new m.TextDecoder("utf-8").decode(O);return new g.SFSDataWrapper(g.SFSDataType.TEXT,F)}},{key:"getTypedArraySize",value:function(f){var b=f.readUint16();if(b<0)throw"Error decoding typed array size. Negative size: "+b;return b}}],[{key:"instance",get:function(){return this[_]||(this[_]=new M(p)),Object.seal(this[_])}}]),M}();x.SFSDataSerializer=C},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SystemController=void 0;var w=function(){function Je(de,Me){for(var Pe=0;Pe<Me.length;Pe++){var Ze=Me[Pe];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(de,Ze.key,Ze)}}return function(de,Me,Pe){return Me&&Je(de.prototype,Me),Pe&&Je(de,Pe),de}}(),S=h(2),T=h(39),y=h(74),m=h(8),g=h(9),_=h(47),p=h(171),C=h(58),M=h(72),f=h(59),b=h(49),O=h(73),F=h(46),U=h(51),z=h(118),q=h(117),H=h(116),Y=h(57),G=h(115),X=h(114),ae=h(113),Q=h(70),ue=h(112),oe=h(111),Ee=h(110),Ge=h(109),Ne=h(108),Le=h(107),ie=h(106),me=h(105),ce=h(69),Be=h(170),fe=h(104),be=h(103),we=h(102),qe=h(101),pt=h(100),$e=h(99),Gt=h(98),ht=function(){function Je(de){(function(Me,Pe){if(!(Me instanceof Pe))throw new TypeError("Cannot call a class as a function")})(this,Je),this._sfs=de,this._logger=de.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return w(Je,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),w(Je,[{key:"handleMessage",value:function(de,Me){var Pe=this._messageHandlers.get(Me);null!=Pe?(this._sfs.debug&&this._logger.info("Handling server event: "+Pe.name+" ("+Me+")"),Pe.handler.call(this,de)):this._logger.warn("Unknown server event received; id: "+Me)}},{key:"_initMessageHandlers",value:function(){this._setHandler(S.Requests.Handshake,this._fnHandshake),this._setHandler(S.Requests.Login,this._fnLogin),this._setHandler(S.Requests.Logout,this._fnLogout),this._setHandler(S.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(S.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(S.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(S.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(S.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(S.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(S.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(S.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(S.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(S.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(S.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(S.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(S.Requests.FindRooms,this._fnFindRooms),this._setHandler(S.Requests.FindUsers,this._fnFindUsers),this._setHandler(S.Requests.PingPong,this._fnPingPong),this._setHandler(S.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(S.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(S.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(S.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(S.Requests.GoOnline,this._fnGoOnline),this._setHandler(S.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(S.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(S.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(S.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(S.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(de,Me){var Pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==Pe&&(Pe=S.Requests.getNameFromId(de)),this._messageHandlers.set(de,{name:Pe,handler:Me})}},{key:"_fnHandshake",value:function(de){this._sfs._handleHandShake(de)}},{key:"_fnLogin",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){this._populateRoomList(de.get(z.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new _.SFSUser(de.get(z.LoginRequest.KEY_ID),de.get(z.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=de.get(z.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var Me={};Me.zone=de.get(z.LoginRequest.KEY_ZONE_NAME),Me.user=this._sfs.mySelf,Me.data=de.get(z.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.LOGIN,Me)}else this._dispatchError(T.SFSEvent.LOGIN_ERROR,de)}},{key:"_fnLogout",value:function(de){this._sfs._handleLogout();var Me={};Me.zone=de.get(q.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(T.SFSEvent.LOGOUT,Me)}},{key:"_fnJoinRoom",value:function(de){if(this._sfs._isJoining=!1,null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(H.JoinRoomRequest.KEY_ROOM),Pe=de.get(H.JoinRoomRequest.KEY_USER_LIST),Ze=this._sfs.roomManager,lt=g.SFSRoom.fromSFSArray(Me);lt=Ze._replaceRoom(lt,Ze.containsGroup(lt.groupId));for(var gt=0;gt<Pe.size();gt++){var ze=Pe.get(gt),Qe=this._getOrCreateUser(ze,!0,lt);lt._addUser(Qe)}lt._isJoined=!0,this._sfs._lastJoinedRoom=lt;var an={};an.room=lt,this._sfs.dispatchEvent(T.SFSEvent.ROOM_JOIN,an)}else this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,de)}},{key:"_fnCreateRoom",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=g.SFSRoom.fromSFSArray(de.get(Y.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(Me);var Pe={};Pe.room=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_ADD,Pe)}else this._dispatchError(T.SFSEvent.ROOM_CREATION_ERROR,de)}},{key:"_fnChangeRoomName",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(G.ChangeRoomNameRequest.KEY_ROOM),Pe=this._sfs.roomManager.getRoomById(Me);if(null!=Pe){var Ze=Pe.name;this._sfs.roomManager._changeRoomName(Pe,de.get(G.ChangeRoomNameRequest.KEY_NAME));var lt={};lt.oldName=Ze,lt.room=Pe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_NAME_CHANGE,lt)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_NAME_CHANGE_ERROR,de)}},{key:"_fnChangeRoomPassword",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(X.ChangeRoomPasswordStateRequest.KEY_ROOM),Pe=this._sfs.roomManager.getRoomById(Me);if(null!=Pe){this._sfs.roomManager._changeRoomPasswordState(Pe,de.get(X.ChangeRoomPasswordStateRequest.KEY_PASS));var Ze={};Ze.room=Pe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,Ze)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,de)}},{key:"_fnChangeRoomCapacity",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(ae.ChangeRoomCapacityRequest.KEY_ROOM),Pe=this._sfs.roomManager.getRoomById(Me);if(null!=Pe){this._sfs.roomManager._changeRoomCapacity(Pe,de.get(ae.ChangeRoomCapacityRequest.KEY_USER_SIZE),de.get(ae.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var Ze={};Ze.room=Pe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_CAPACITY_CHANGE,Ze)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,de)}},{key:"_fnGenericMessage",value:function(de){switch(de.get(Q.GenericMessageRequest.KEY_MESSAGE_TYPE)){case Q.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(de);break;case Q.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(de);break;case Q.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(de);break;case Q.GenericMessageType.MODERATOR_MSG:this._handleModMessage(de);break;case Q.GenericMessageType.ADMING_MSG:this._handleAdminMessage(de);break;case Q.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(de)}}},{key:"_handlePublicMessage",value:function(de){var Me=de.get(Q.GenericMessageRequest.KEY_ROOM_ID),Pe=this._sfs.roomManager.getRoomById(Me);if(null!=Pe){var Ze={};Ze.room=Pe,Ze.sender=this._sfs.userManager.getUserById(de.get(Q.GenericMessageRequest.KEY_USER_ID)),Ze.message=de.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PUBLIC_MESSAGE,Ze)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+Me)}},{key:"_handlePrivateMessage",value:function(de){var Me=de.get(Q.GenericMessageRequest.KEY_USER_ID),Pe=this._sfs.userManager.getUserById(Me);if(null==Pe){if(null==de.get(Q.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");Pe=_.SFSUser.fromSFSArray(de.get(Q.GenericMessageRequest.KEY_SENDER_DATA))}var Ze={};Ze.sender=Pe,Ze.message=de.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PRIVATE_MESSAGE,Ze)}},{key:"_handleBuddyMessage",value:function(de){var Me=de.get(Q.GenericMessageRequest.KEY_USER_ID),Pe=this._sfs.buddyManager.getBuddyById(Me),Ze={};Ze.isItMe=this._sfs.mySelf.id===Me,Ze.buddy=Pe,Ze.message=de.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_MESSAGE,Ze)}},{key:"_handleObjectMessage",value:function(de){var Me={};Me.sender=this._sfs.userManager.getUserById(de.get(Q.GenericMessageRequest.KEY_USER_ID)),Me.message=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.OBJECT_MESSAGE,Me)}},{key:"_handleModMessage",value:function(de){var Me={};Me.sender=_.SFSUser.fromSFSArray(de.get(Q.GenericMessageRequest.KEY_SENDER_DATA)),Me.message=de.get(Q.GenericMessageRequest.KEY_MESSAGE),Me.data=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.MODERATOR_MESSAGE,Me)}},{key:"_handleAdminMessage",value:function(de){var Me={};Me.sender=_.SFSUser.fromSFSArray(de.get(Q.GenericMessageRequest.KEY_SENDER_DATA)),Me.message=de.get(Q.GenericMessageRequest.KEY_MESSAGE),Me.data=de.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.ADMIN_MESSAGE,Me)}},{key:"_fnSetRoomVariables",value:function(de){var Me=de.get(ue.SetRoomVariablesRequest.KEY_VAR_ROOM),Pe=de.get(ue.SetRoomVariablesRequest.KEY_VAR_LIST),Ze=this._sfs.roomManager.getRoomById(Me),lt=new Set;if(null!=Ze){for(var gt=0;gt<Pe.size();gt++){var ze=b.SFSRoomVariable.fromSFSArray(Pe.get(gt));Ze._setVariable(ze),lt.add(ze.name)}var Qe={};Qe.changedVars=Array.from(lt),Qe.room=Ze,this._sfs.dispatchEvent(T.SFSEvent.ROOM_VARIABLES_UPDATE,Qe)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+Me)}},{key:"_fnSetUserVariables",value:function(de){var Me=de.get(oe.SetUserVariablesRequest.KEY_USER),Pe=de.get(oe.SetUserVariablesRequest.KEY_VAR_LIST),Ze=this._sfs.userManager.getUserById(Me),lt=new Set;if(null!=Ze){for(var gt=0;gt<Pe.size();gt++){var ze=f.SFSUserVariable.fromSFSArray(Pe.get(gt));Ze._setVariable(ze),lt.add(ze.name)}var Qe={};Qe.changedVars=Array.from(lt),Qe.user=Ze,this._sfs.dispatchEvent(T.SFSEvent.USER_VARIABLES_UPDATE,Qe)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+Me)}},{key:"_fnSubscribeRoomGroup",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(Ee.SubscribeRoomGroupRequest.KEY_GROUP_ID),Pe=de.get(Ee.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(Me)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+Me),this._sfs.roomManager._addGroup(Me),this._populateRoomList(Pe);var Ze={};Ze.groupId=Me,Ze.newRooms=this._sfs.roomManager.getRoomListFromGroup(Me),this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_SUBSCRIBE,Ze)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,de)}},{key:"_fnUnsubscribeRoomGroup",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(Ge.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(Me)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+Me+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(Me);var Pe={};Pe.groupId=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,Pe)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,de)}},{key:"_fnSpectatorToPlayer",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(Ne.SpectatorToPlayerRequest.KEY_ROOM_ID),Pe=de.get(Ne.SpectatorToPlayerRequest.KEY_USER_ID),Ze=de.get(Ne.SpectatorToPlayerRequest.KEY_PLAYER_ID),lt=this._sfs.userManager.getUserById(Pe),gt=this._sfs.roomManager.getRoomById(Me);if(null!=gt)if(null!=lt)if(lt.isJoinedInRoom(gt)){lt._setPlayerId(Ze,gt);var ze={};ze.room=gt,ze.user=lt,ze.playerId=Ze,this._sfs.dispatchEvent(T.SFSEvent.SPECTATOR_TO_PLAYER,ze)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+lt+" not in Room "+gt);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,de)}},{key:"_fnPlayerToSpectator",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(Le.PlayerToSpectatorRequest.KEY_ROOM_ID),Pe=de.get(Le.PlayerToSpectatorRequest.KEY_USER_ID),Ze=this._sfs.userManager.getUserById(Pe),lt=this._sfs.roomManager.getRoomById(Me);if(null!=lt)if(null!=Ze)if(Ze.isJoinedInRoom(lt)){Ze._setPlayerId(-1,lt);var gt={};gt.room=lt,gt.user=Ze,this._sfs.dispatchEvent(T.SFSEvent.PLAYER_TO_SPECTATOR,gt)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+Ze+" not in Room "+lt);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,de)}},{key:"_fnPingPong",value:function(de){var Me={};Me.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(T.SFSEvent.PING_PONG,Me)}},{key:"_fnFindRooms",value:function(de){for(var Me=de.get(ie.FindRoomsRequest.KEY_FILTERED_ROOMS),Pe=[],Ze=0;Ze<Me.size();Ze++){var lt=Me.get(Ze),gt=g.SFSRoom.fromSFSArray(lt),ze=this._sfs.roomManager.getRoomById(gt.id);null!=ze&&(gt._isJoined=ze._isJoined),Pe.push(gt)}var Qe={};Qe.rooms=Pe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_FIND_RESULT,Qe)}},{key:"_fnFindUsers",value:function(de){for(var Me=de.get(me.FindUsersRequest.KEY_FILTERED_USERS),Pe=[],Ze=this._sfs.mySelf,lt=0;lt<Me.size();lt++){var gt=Me.get(lt),ze=_.SFSUser.fromSFSArray(gt);ze.id===Ze.id&&(ze=Ze),Pe.push(ze)}var Qe={};Qe.users=Pe,this._sfs.dispatchEvent(T.SFSEvent.USER_FIND_RESULT,Qe)}},{key:"_fnQuickJoinGame",value:function(de){null!=de.get(Je.KEY_ERROR_CODE)&&this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,de)}},{key:"_fnInviteUsers",value:function(de){var Me;Me=null!=de.get(ce.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(de.get(ce.InviteUsersRequest.KEY_USER_ID)):_.SFSUser.fromSFSArray(de.get(ce.InviteUsersRequest.KEY_USER));var Pe=de.get(ce.InviteUsersRequest.KEY_TIME),Ze=de.get(ce.InviteUsersRequest.KEY_INVITATION_ID),lt=de.get(ce.InviteUsersRequest.KEY_PARAMS),gt=new M.SFSInvitation(Me,this._sfs.mySelf,Pe,lt);gt._id=Ze;var ze={};ze.invitation=gt,this._sfs.dispatchEvent(T.SFSEvent.INVITATION,ze)}},{key:"_fnInvitationReply",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me;Me=null!=de.get(ce.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(de.get(ce.InviteUsersRequest.KEY_USER_ID)):_.SFSUser.fromSFSArray(de.get(ce.InviteUsersRequest.KEY_USER));var Pe=de.get(ce.InviteUsersRequest.KEY_REPLY_ID),Ze=de.get(ce.InviteUsersRequest.KEY_PARAMS),lt={};lt.invitee=Me,lt.reply=Pe,lt.data=Ze,this._sfs.dispatchEvent(T.SFSEvent.INVITATION_REPLY,lt)}else this._dispatchError(T.SFSEvent.INVITATION_REPLY_ERROR,de)}},{key:"_fnSetUserPosition",value:function(de){var Me=de.get(fe.SetUserPositionRequest.KEY_ROOM),Pe=this._sfs.roomManager.getRoomById(Me),Ze=de.get(fe.SetUserPositionRequest.KEY_MINUS_USER_LIST),lt=de.get(fe.SetUserPositionRequest.KEY_PLUS_USER_LIST),gt=de.get(fe.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),ze=de.get(fe.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),Qe=[],an=[],zt=[],fn=[];if(null!=Ze){var fi=!0,mt=!1,xt=void 0;try{for(var Fe,Ae=Ze[Symbol.iterator]();!(fi=(Fe=Ae.next()).done);fi=!0){var Ye=Pe.getUserById(Fe.value);null!=Ye&&(Pe._removeUser(Ye),an.push(Ye))}}catch(pn){mt=!0,xt=pn}finally{try{!fi&&Ae.return&&Ae.return()}finally{if(mt)throw xt}}}if(null!=lt)for(var Ue=0;Ue<lt.size();Ue++){var Xe=lt.get(Ue),Ct=this._getOrCreateUser(Xe,!0,Pe);Qe.push(Ct),Pe._addUser(Ct);var It=Xe.get(5);null!=It&&(Ct._aoiEntryPoint=m.Vec3D.fromArray(It))}if(null!=gt){var At=!0,On=!1,Yn=void 0;try{for(var pi,$t=gt[Symbol.iterator]();!(At=(pi=$t.next()).done);At=!0){var yn=Pe.getMMOItem(pi.value);null!=yn&&(Pe._removeItem(yn.id),fn.push(yn))}}catch(pn){On=!0,Yn=pn}finally{try{!At&&$t.return&&$t.return()}finally{if(On)throw Yn}}}if(null!=ze)for(var Xt=0;Xt<ze.size();Xt++){var Ln=ze.get(Xt),Lr=p.MMOItem.fromSFSArray(Ln);zt.push(Lr),Pe._addMMOItem(Lr);var Ur=Ln.get(2);null!=Ur&&(Lr._aoiEntryPoint=m.Vec3D.fromArray(Ur))}var ei={};ei.addedItems=zt,ei.removedItems=fn,ei.removedUsers=an,ei.addedUsers=Qe,ei.room=Pe,this._sfs.dispatchEvent(T.SFSEvent.PROXIMITY_LIST_UPDATE,ei)}},{key:"_fnInitBuddyList",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(be.InitBuddyListRequest.KEY_BLIST),Pe=de.get(be.InitBuddyListRequest.KEY_MY_VARS),Ze=de.get(be.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var lt=0;lt<Me.size();lt++){var gt=C.SFSBuddy.fromSFSArray(Me.get(lt));this._sfs.buddyManager._addBuddy(gt)}null!=Ze&&this._sfs.buddyManager._setBuddyStates(Ze);for(var ze=[],Qe=0;Qe<Pe.size();Qe++){var an=F.SFSBuddyVariable.fromSFSArray(Pe.get(Qe));ze.push(an)}this._sfs.buddyManager._setMyVariables(ze),this._sfs.buddyManager._setInited();var zt={};zt.buddyList=this._sfs.buddyManager.getBuddyList(),zt.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_LIST_INIT,zt)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnAddBuddy",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=C.SFSBuddy.fromSFSArray(de.get(we.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(Me);var Pe={};Pe.buddy=Me,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ADD,Pe)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnRemoveBuddy",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(qe.RemoveBuddyRequest.KEY_BUDDY_NAME),Pe=this._sfs.buddyManager._removeBuddyByName(Me);if(null!=Pe){var Ze={};Ze.buddy=Pe,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_REMOVE,Ze)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+Me+" in local buddy list")}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnBlockBuddy",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get(pt.BlockBuddyRequest.KEY_BUDDY_NAME),Pe=this._sfs.buddyManager.getBuddyByName(Me);null!=de.get(pt.BlockBuddyRequest.KEY_BUDDY)?(Pe=C.SFSBuddy.fromSFSArray(de.get(pt.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(Pe)):null!=Pe?Pe._isBlocked=de.get(pt.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+Me+" in local buddy list");var Ze={};Ze.buddy=Pe,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_BLOCK,Ze)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnGoOnline",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){var Me=de.get($e.GoOnlineRequest.KEY_BUDDY_NAME),Pe=this._sfs.buddyManager.getBuddyByName(Me),Ze=Me===this._sfs.mySelf.name,lt=de.get($e.GoOnlineRequest.KEY_ONLINE),gt=lt===C.BuddyOnlineState.ONLINE,ze=!0;if(Ze)this._sfs.buddyManager.getMyOnlineState()!=gt&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+gt),this._sfs.buddyManager._setMyOnlineState(gt));else{if(null==Pe)return void this._logger.warn("Unexpected GoOnline event error; can't find "+Me+" in local buddy list");Pe._id=de.get($e.GoOnlineRequest.KEY_BUDDY_ID),Pe._setVariable(new F.SFSBuddyVariable(F.ReservedBuddyVariables.BV_ONLINE,gt)),lt===C.BuddyOnlineState.LEFT_THE_SERVER&&Pe._clearVolatileVariables(),ze=this._sfs.buddyManager.getMyOnlineState()}if(ze){var Qe={};Qe.buddy=Pe,Qe.isItMe=Ze,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,Qe)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnSetBuddyVariables",value:function(de){if(null==de.get(Je.KEY_ERROR_CODE)){for(var Me=de.get(Gt.SetBuddyVariablesRequest.KEY_BUDDY_NAME),Pe=de.get(Gt.SetBuddyVariablesRequest.KEY_BUDDY_VARS),Ze=this._sfs.buddyManager.getBuddyByName(Me),lt=Me===this._sfs.mySelf.name,gt=[],ze=[],Qe=!0,an=0;an<Pe.size();an++){var zt=F.SFSBuddyVariable.fromSFSArray(Pe.get(an));ze.push(zt),gt.push(zt.name)}if(lt)this._sfs.buddyManager._setMyVariables(ze);else{if(null==Ze)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+Me+" in local buddy list");Ze._setVariables(ze),Qe=this._sfs.buddyManager.getMyOnlineState()}if(Qe){var fn={};fn.buddy=Ze,fn.isItMe=lt,fn.changedVars=gt,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,fn)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,de)}},{key:"_fnUserEnterRoom",value:function(de){var Me=this._sfs.roomManager.getRoomById(de.get(Je.ROOM_PARAM));if(null!=Me){var Pe=de.get(Je.USER_PARAM),Ze=this._getOrCreateUser(Pe,!0,Me);Me._addUser(Ze);var lt={};lt.user=Ze,lt.room=Me,this._sfs.dispatchEvent(T.SFSEvent.USER_ENTER_ROOM,lt)}}},{key:"_fnUserCountChange",value:function(de){var Me=this._sfs.roomManager.getRoomById(de.get(Je.ROOM_PARAM));if(null!=Me){var Pe=de.get(Je.USER_COUNT_PARAM),Ze=null!=de.get(Je.SPECT_COUNT_PARAM)?de.get(Je.SPECT_COUNT_PARAM):0;Me._userCount=Pe,Me._specCount=Ze;var lt={};lt.room=Me,lt.uCount=Pe,lt.sCount=Ze,this._sfs.dispatchEvent(T.SFSEvent.USER_COUNT_CHANGE,lt)}}},{key:"_fnUserLost",value:function(de){var Me=this._sfs.userManager.getUserById(de.get(Je.USER_PARAM));if(null!=Me){var Pe=this._sfs.roomManager.getUserRooms(Me);this._sfs.roomManager._removeUser(Me),this._sfs.userManager._removeUserReference(Me,!0);var Ze=!0,lt=!1,gt=void 0;try{for(var ze,Qe=Pe[Symbol.iterator]();!(Ze=(ze=Qe.next()).done);Ze=!0){var an=ze.value,zt={};zt.user=Me,zt.room=an,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,zt)}}catch(fn){lt=!0,gt=fn}finally{try{!Ze&&Qe.return&&Qe.return()}finally{if(lt)throw gt}}}}},{key:"_fnRoomLost",value:function(de){var Me=this._sfs.roomManager.getRoomById(de.get(Je.ROOM_PARAM));if(null!=Me){this._sfs.roomManager._removeRoom(Me);var Pe=!0,Ze=!1,lt=void 0;try{for(var gt,ze=Me.getUserList()[Symbol.iterator]();!(Pe=(gt=ze.next()).done);Pe=!0)this._sfs.userManager._removeUser(gt.value)}catch(zt){Ze=!0,lt=zt}finally{try{!Pe&&ze.return&&ze.return()}finally{if(Ze)throw lt}}var an={};an.room=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_REMOVE,an)}}},{key:"_fnUserExitRoom",value:function(de){var Me=this._sfs.roomManager.getRoomById(de.get(Je.ROOM_PARAM)),Pe=this._sfs.userManager.getUserById(de.get(Je.USER_PARAM));if(null!=Me&&null!=Pe){Me._removeUser(Pe),this._sfs.userManager._removeUser(Pe),Pe.isItMe&&Me.isJoined&&(Me._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==Me||(this._sfs._lastJoinedRoom=null),Me._isManaged||this._sfs.roomManager._removeRoom(Me));var Ze={};Ze.user=Pe,Ze.room=Me,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,Ze)}else this._logger.debug("Failed to handle UserExit event; Room: "+Me+", User: "+Pe)}},{key:"_fnClientDisconnection",value:function(de){var Me=de.get(Je.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(U.ClientDisconnectionReason.getReason(Me))}},{key:"_fnSetMMOItemVariables",value:function(de){var Me=de.get(Be.SetMMOItemVariables.KEY_ROOM_ID),Pe=de.get(Be.SetMMOItemVariables.KEY_ITEM_ID),Ze=de.get(Be.SetMMOItemVariables.KEY_VAR_LIST),lt=this._sfs.roomManager.getRoomById(Me),gt=new Set;if(null!=lt){var ze=lt.getMMOItem(Pe);if(null!=ze){for(var Qe=0;Qe<Ze.size();Qe++){var an=O.MMOItemVariable.fromSFSArray(Ze.get(Qe));ze._setVariable(an),gt.add(an.name)}var zt={};zt.changedVars=Array.from(gt),zt.mmoItem=ze,zt.room=lt,this._sfs.dispatchEvent(T.SFSEvent.MMOITEM_VARIABLES_UPDATE,zt)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+Pe)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+Me)}},{key:"_dispatchError",value:function(de,Me){var Pe={};Pe.errorCode=Me.get(Je.KEY_ERROR_CODE),Pe.errorMessage=y.SFSErrorCodes.getErrorMessage(Pe.errorCode,Me.get(Je.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(de,Pe)}},{key:"_populateRoomList",value:function(de){for(var Me=0;Me<de.size();Me++){var Pe=g.SFSRoom.fromSFSArray(de.get(Me));this._sfs.roomManager._replaceRoom(Pe)}}},{key:"_getOrCreateUser",value:function(de,Me,Pe){var Ze=de.get(0),lt=this._sfs.userManager.getUserById(Ze);if(null==lt)(lt=_.SFSUser.fromSFSArray(de,Pe))._setUserManager(this._sfs.userManager);else{lt._setPlayerId(de.get(3),Pe);var gt=de.get(4);if(null!=gt)for(var ze=0;ze<gt.size();ze++)lt._setVariable(f.SFSUserVariable.fromSFSArray(gt.get(ze)))}return Me&&this._sfs.userManager._addUser(lt),lt}},{key:"id",get:function(){return this._id}}]),Je}();x.SystemController=ht},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.SmartFox=void 0;var w=function(){function q(H,Y){for(var G=0;G<Y.length;G++){var X=Y[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(H,X.key,X)}}return function(H,Y,G){return Y&&q(H.prototype,Y),G&&q(H,G),H}}(),S=h(175),T=h(169),y=h(39),m=h(1),g=h(168),_=h(119),p=h(166),C=h(165),M=h(2),f=h(164),b=h(74),O=h(50),F=h(163),U=h(51),z=function(q){function H(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(X,ae){if(!(X instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,H);var G=function(X,ae){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ae||"object"!=typeof ae&&"function"!=typeof ae?X:ae}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return G._majVersion=1,G._minVersion=7,G._subVersion=19,G._configData=Y,G._logger=O.Logger.instance,G._sessionToken=null,G._socketEngine=new g.SocketEngine(G),G._socketEngine.addEventListener(g.SocketEvent.CONNECT,G._onSocketConnect,G),G._socketEngine.addEventListener(g.SocketEvent.DISCONNECT,G._onSocketDisconnect,G),G._socketEngine.addEventListener(g.SocketEvent.DATA,G._onSocketData,G),G._socketEngine.addEventListener(g.SocketEvent.IOERROR,G._onSocketIOError,G),G._controllers={},G._controllers[0]=new S.SystemController(G),G._controllers[1]=new T.ExtensionController(G),G._reset(),G._clientDetails="JavaScript",G.debug=null!=G.config&&G.config.debug,G.debug&&(G._logger.info("SmartFox instance ready"),G._logger.info("SFS2X JavaScript API v"+G.version)),Object.seal(G),G}return function(Y,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function, not "+typeof G);Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,G):Y.__proto__=G)}(H,y.EventDispatcher),w(H,[{key:"setClientDetails",value:function(Y,G){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(Y=null!=Y?Y.replace(":"," "):"",G=null!=G?G.replace(":"," "):"",this._clientDetails=Y+":"+G)}},{key:"connect",value:function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var ae=null!=this.config&&null!=this.config.host?this.config.host:null,Q=null!=this.config&&null!=this.config.port?this.config.port:null,ue=null!=this.config&&this.config.useSSL;null!=Y&&(ae=Y),G>-1&&(Q=G),null!=X&&(ue=X),null!=ae&&"string"==typeof ae&&0!==ae.length?"number"!=typeof Q||Q<0||Q>65535?this._logger.error("Invalid TCP connection port: "+Q):("boolean"!=typeof ue&&(ue=!1),this._socketEngine.connect(ae,Q,ue)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(U.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(Y){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),Y&&(this._lagMonitor=new F.LagMonitor(this,G,X),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(Y){if(this.isConnected){if(null!=Y.validate&&null!=Y.execute){this.debug&&this._logger.info("Sending request '"+M.Requests.getNameFromId(Y.id)+"' to server");try{Y.validate(this),Y.execute(this)}catch(ae){if(!(ae instanceof m.SFSValidationError&&null!=ae.message))throw ae;var G=ae.message;if(null!=ae.errors){G+=":";for(var X=0;X<ae.errors.length;X++)ae.errors.length>1&&(G+=" "+(X+1)+")"),G+=" "+ae.errors[X]}return this._logger.error("Request failed | "+G),!1}return this._socketEngine.send(Y.getMessage()),!0}this._logger.error("An invalid request was passed: "+Y)}else this._logger.error("You are not connected. Request cannot be sent: "+M.Requests.getNameFromId(Y.id))}},{key:"getRoomById",value:function(Y){return this.roomManager.getRoomById(Y)}},{key:"getRoomByName",value:function(Y){return this.roomManager.getRoomByName(Y)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(Y){return this.roomManager.getRoomListFromGroup(Y)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var Y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new _.GlobalUserManager(this),this._roomManager=new p.SFSRoomManager(this),this._buddyManager=new C.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,Y&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(Y){Y.success?this.send(new f.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(y.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(Y){this.dispatchEvent(y.SFSEvent.CONNECTION_LOST,{reason:Y.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(Y){var G=Y.targetController,X=Y.id;null!=G?null!=X?this._controllers[G].handleMessage(Y.content,X):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(Y){this.dispatchEvent(y.SFSEvent.SOCKET_ERROR,{message:Y})}},{key:"_handleHandShake",value:function(Y){var G=Y.get(M.BaseRequest.KEY_ERROR_CODE);if(null==G)this._sessionToken=Y.get(f.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=Y.get(f.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=Y.get(f.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(y.SFSEvent.CONNECTION,{success:!0});else{var X={success:!1,errorMessage:b.SFSErrorCodes.getErrorMessage(G,Y.get(M.BaseRequest.KEY_ERROR_PARAMS)),errorCode:G};this.dispatchEvent(y.SFSEvent.CONNECTION,X)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(Y){this.isConnected&&this._socketEngine.disconnect(Y)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),H}();x.SmartFox=z},function(V,x,h){var w=h(0),S=h(89);S&&w(w.S,"Reflect",{setPrototypeOf:function(T,y){S.check(T,y);try{return S.set(T,y),!0}catch(m){return!1}}})},function(V,x,h){var w=h(10),S=h(23),T=h(31),y=h(16),m=h(0),g=h(36),_=h(5),p=h(4);m(m.S,"Reflect",{set:function C(M,f,b){var O,F,U=arguments.length<4?M:arguments[3],z=S.f(_(M),f);if(!z){if(p(F=T(M)))return C(F,f,b,U);z=g(0)}return y(z,"value")?!(!1===z.writable||!p(U)||((O=S.f(U,f)||g(0)).value=b,w.f(U,f,O),0)):void 0!==z.set&&(z.set.call(U,b),!0)}})},function(V,x,h){var w=h(0),S=h(5),T=Object.preventExtensions;w(w.S,"Reflect",{preventExtensions:function(y){S(y);try{return T&&T(y),!0}catch(m){return!1}}})},function(V,x,h){var w=h(32),S=h(68),T=h(5),y=h(6).Reflect;V.exports=y&&y.ownKeys||function(m){var g=w.f(T(m)),_=S.f;return _?g.concat(_(m)):g}},function(V,x,h){var w=h(0);w(w.S,"Reflect",{ownKeys:h(180)})},function(V,x,h){var w=h(0),S=h(5),T=Object.isExtensible;w(w.S,"Reflect",{isExtensible:function(y){return S(y),!T||T(y)}})},function(V,x,h){var w=h(0);w(w.S,"Reflect",{has:function(S,T){return T in S}})},function(V,x,h){var w=h(0),S=h(31),T=h(5);w(w.S,"Reflect",{getPrototypeOf:function(y){return S(T(y))}})},function(V,x,h){var w=h(23),S=h(0),T=h(5);S(S.S,"Reflect",{getOwnPropertyDescriptor:function(y,m){return w.f(T(y),m)}})},function(V,x,h){var w=h(23),S=h(31),T=h(16),y=h(0),m=h(4),g=h(5);y(y.S,"Reflect",{get:function _(p,C){var M,f,b=arguments.length<3?p:arguments[2];return g(p)===b?p[C]:(M=w.f(p,C))?T(M,"value")?M.value:void 0!==M.get?M.get.call(b):void 0:m(f=S(p))?_(f,C,b):void 0}})},function(V,x,h){"use strict";var w=h(0),S=h(5),T=function(y){this._t=S(y),this._i=0;var m,g=this._k=[];for(m in y)g.push(m)};h(133)(T,"Object",function(){var y,m=this._k;do{if(this._i>=m.length)return{value:void 0,done:!0}}while(!((y=m[this._i++])in this._t));return{value:y,done:!1}}),w(w.S,"Reflect",{enumerate:function(y){return new T(y)}})},function(V,x,h){var w=h(0),S=h(23).f,T=h(5);w(w.S,"Reflect",{deleteProperty:function(y,m){var g=S(T(y),m);return!(g&&!g.configurable)&&delete y[m]}})},function(V,x,h){var w=h(10),S=h(0),T=h(5),y=h(30);S(S.S+S.F*h(3)(function(){Reflect.defineProperty(w.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(m,g,_){T(m),g=y(g,!0),T(_);try{return w.f(m,g,_),!0}catch(p){return!1}}})},function(V,x,h){var w=h(0),S=h(33),T=h(26),y=h(5),m=h(4),g=h(3),_=h(142),p=(h(6).Reflect||{}).construct,C=g(function(){function f(){}return!(p(function(){},[],f)instanceof f)}),M=!g(function(){p(function(){})});w(w.S+w.F*(C||M),"Reflect",{construct:function(f,b){T(f),y(b);var O=arguments.length<3?f:T(arguments[2]);if(M&&!C)return p(f,b,O);if(f==O){switch(b.length){case 0:return new f;case 1:return new f(b[0]);case 2:return new f(b[0],b[1]);case 3:return new f(b[0],b[1],b[2]);case 4:return new f(b[0],b[1],b[2],b[3])}var F=[null];return F.push.apply(F,b),new(_.apply(f,F))}var U=O.prototype,z=S(m(U)?U:Object.prototype),q=Function.apply.call(f,z,b);return m(q)?q:z}})},function(V,x,h){var w=h(0),S=h(26),T=h(5),y=(h(6).Reflect||{}).apply,m=Function.apply;w(w.S+w.F*!h(3)(function(){y(function(){})}),"Reflect",{apply:function(g,_,p){var C=S(g),M=T(p);return y?y(C,_,M):m.call(C,_,M)}})},function(V,x,h){h(22)("Float64",8,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Float32",4,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Uint32",4,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Int32",4,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Uint16",2,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Int16",2,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Uint8",1,function(w){return function(S,T,y){return w(this,S,T,y)}},!0)},function(V,x,h){h(22)("Uint8",1,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){h(22)("Int8",1,function(w){return function(S,T,y){return w(this,S,T,y)}})},function(V,x,h){var w=h(0);w(w.G+w.W+w.F*!h(60).ABV,{DataView:h(75).DataView})},function(V,x,h){"use strict";var w=h(0),S=h(60),T=h(75),y=h(5),m=h(34),g=h(12),_=h(4),p=h(6).ArrayBuffer,C=h(76),M=T.ArrayBuffer,f=T.DataView,b=S.ABV&&p.isView,O=M.prototype.slice,F=S.VIEW;w(w.G+w.W+w.F*(p!==M),{ArrayBuffer:M}),w(w.S+w.F*!S.CONSTR,"ArrayBuffer",{isView:function(U){return b&&b(U)||_(U)&&F in U}}),w(w.P+w.U+w.F*h(3)(function(){return!new M(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(U,z){if(void 0!==O&&void 0===z)return O.call(y(this),U);for(var q=y(this).byteLength,H=m(U,q),Y=m(void 0===z?q:z,q),G=new(C(this,M))(g(Y-H)),X=new f(this),ae=new f(G),Q=0;H<Y;)ae.setUint8(Q++,X.getUint8(H++));return G}}),h(43)("ArrayBuffer")},function(V,x,h){"use strict";var w=h(122),S=h(40);h(61)("WeakSet",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return w.def(S(this,"WeakSet"),T,!0)}},w,!1,!0)},function(V,x,h){"use strict";var w,S=h(19)(0),T=h(15),y=h(29),m=h(143),g=h(122),_=h(4),p=h(3),C=h(40),M=y.getWeak,f=Object.isExtensible,b=g.ufstore,O={},F=function(q){return function(){return q(this,arguments.length>0?arguments[0]:void 0)}},U={get:function(q){if(_(q)){var H=M(q);return!0===H?b(C(this,"WeakMap")).get(q):H?H[this._i]:void 0}},set:function(q,H){return g.def(C(this,"WeakMap"),q,H)}},z=V.exports=h(61)("WeakMap",F,U,g,!0,!0);p(function(){return 7!=(new z).set((Object.freeze||Object)(O),7).get(O)})&&(m((w=g.getConstructor(F,"WeakMap")).prototype,U),y.NEED=!0,S(["delete","has","get","set"],function(q){var H=z.prototype,Y=H[q];T(H,q,function(G,X){if(_(G)&&!f(G)){this._f||(this._f=new w);var ae=this._f[q](G,X);return"set"==q?this:ae}return Y.call(this,G,X)})}))},function(V,x,h){"use strict";var w=h(123),S=h(40);V.exports=h(61)("Set",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return w.def(S(this,"Set"),T=0===T?0:T,T)}},w)},function(V,x,h){"use strict";var w=h(123),S=h(40);V.exports=h(61)("Map",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{get:function(T){var y=w.getEntry(S(this,"Map"),T);return y&&y.v},set:function(T,y){return w.def(S(this,"Map"),0===T?0:T,y)}},w,!0)},function(V,x,h){var w=h(5),S=h(4),T=h(124);V.exports=function(y,m){if(w(y),S(m)&&m.constructor===y)return m;var g=T.f(y);return(0,g.resolve)(m),g.promise}},function(V,x){V.exports=function(h){try{return{e:!1,v:h()}}catch(w){return{e:!0,v:w}}}},function(V,x,h){var w=h(6),S=h(125).set,T=w.MutationObserver||w.WebKitMutationObserver,y=w.process,m=w.Promise,g="process"==h(25)(y);V.exports=function(){var _,p,C,M=function(){var F,U;for(g&&(F=y.domain)&&F.exit();_;){U=_.fn,_=_.next;try{U()}catch(z){throw _?C():p=void 0,z}}p=void 0,F&&F.enter()};if(g)C=function(){y.nextTick(M)};else if(!T||w.navigator&&w.navigator.standalone)if(m&&m.resolve){var f=m.resolve();C=function(){f.then(M)}}else C=function(){S.call(w,M)};else{var b=!0,O=document.createTextNode("");new T(M).observe(O,{characterData:!0}),C=function(){O.data=b=!b}}return function(F){var U={fn:F,next:void 0};p&&(p.next=U),_||(_=U,C()),p=U}}},function(V,x,h){"use strict";var w,S,T,y,m=h(44),g=h(6),_=h(27),p=h(66),C=h(0),M=h(4),f=h(26),b=h(42),O=h(62),F=h(76),U=h(125).set,z=h(209)(),q=h(124),H=h(208),Y=h(207),G=g.TypeError,X=g.process,ae=g.Promise,Q="process"==p(X),ue=function(){},oe=S=q.f,Ee=!!function(){try{var fe=ae.resolve(1),be=(fe.constructor={})[h(7)("species")]=function(we){we(ue,ue)};return(Q||"function"==typeof PromiseRejectionEvent)&&fe.then(ue)instanceof be}catch(we){}}(),Ge=function(fe){var be;return!(!M(fe)||"function"!=typeof(be=fe.then))&&be},Ne=function(fe,be){if(!fe._n){fe._n=!0;var we=fe._c;z(function(){for(var qe=fe._v,pt=1==fe._s,$e=0,Gt=function(ht){var Je,de,Me,Pe=pt?ht.ok:ht.fail,Ze=ht.resolve,lt=ht.reject,gt=ht.domain;try{Pe?(pt||(2==fe._h&&me(fe),fe._h=1),!0===Pe?Je=qe:(gt&&gt.enter(),Je=Pe(qe),gt&&(gt.exit(),Me=!0)),Je===ht.promise?lt(G("Promise-chain cycle")):(de=Ge(Je))?de.call(Je,Ze,lt):Ze(Je)):lt(qe)}catch(ze){gt&&!Me&&gt.exit(),lt(ze)}};we.length>$e;)Gt(we[$e++]);fe._c=[],fe._n=!1,be&&!fe._h&&Le(fe)})}},Le=function(fe){U.call(g,function(){var be,we,qe,pt=fe._v,$e=ie(fe);if($e&&(be=H(function(){Q?X.emit("unhandledRejection",pt,fe):(we=g.onunhandledrejection)?we({promise:fe,reason:pt}):(qe=g.console)&&qe.error&&qe.error("Unhandled promise rejection",pt)}),fe._h=Q||ie(fe)?2:1),fe._a=void 0,$e&&be.e)throw be.v})},ie=function(fe){return 1!==fe._h&&0===(fe._a||fe._c).length},me=function(fe){U.call(g,function(){var be;Q?X.emit("rejectionHandled",fe):(be=g.onrejectionhandled)&&be({promise:fe,reason:fe._v})})},ce=function(fe){var be=this;be._d||(be._d=!0,(be=be._w||be)._v=fe,be._s=2,be._a||(be._a=be._c.slice()),Ne(be,!0))},Be=function(fe){var be,we=this;if(!we._d){we._d=!0,we=we._w||we;try{if(we===fe)throw G("Promise can't be resolved itself");(be=Ge(fe))?z(function(){var qe={_w:we,_d:!1};try{be.call(fe,_(Be,qe,1),_(ce,qe,1))}catch(pt){ce.call(qe,pt)}}):(we._v=fe,we._s=1,Ne(we,!1))}catch(qe){ce.call({_w:we,_d:!1},qe)}}};Ee||(ae=function(fe){b(this,ae,"Promise","_h"),f(fe),w.call(this);try{fe(_(Be,this,1),_(ce,this,1))}catch(be){ce.call(this,be)}},(w=function(fe){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=h(41)(ae.prototype,{then:function(fe,be){var we=oe(F(this,ae));return we.ok="function"!=typeof fe||fe,we.fail="function"==typeof be&&be,we.domain=Q?X.domain:void 0,this._c.push(we),this._a&&this._a.push(we),this._s&&Ne(this,!1),we.promise},catch:function(fe){return this.then(void 0,fe)}}),T=function(){var fe=new w;this.promise=fe,this.resolve=_(Be,fe,1),this.reject=_(ce,fe,1)},q.f=oe=function(fe){return fe===ae||fe===y?new T(fe):S(fe)}),C(C.G+C.W+C.F*!Ee,{Promise:ae}),h(45)(ae,"Promise"),h(43)("Promise"),y=h(37).Promise,C(C.S+C.F*!Ee,"Promise",{reject:function(fe){var be=oe(this);return(0,be.reject)(fe),be.promise}}),C(C.S+C.F*(m||!Ee),"Promise",{resolve:function(fe){return Y(m&&this===y?ae:this,fe)}}),C(C.S+C.F*!(Ee&&h(64)(function(fe){ae.all(fe).catch(ue)})),"Promise",{all:function(fe){var be=this,we=oe(be),qe=we.resolve,pt=we.reject,$e=H(function(){var Gt=[],ht=0,Je=1;O(fe,!1,function(de){var Me=ht++,Pe=!1;Gt.push(void 0),Je++,be.resolve(de).then(function(Ze){Pe||(Pe=!0,Gt[Me]=Ze,--Je||qe(Gt))},pt)}),--Je||qe(Gt)});return $e.e&&pt($e.v),we.promise},race:function(fe){var be=this,we=oe(be),qe=we.reject,pt=H(function(){O(fe,!1,function($e){be.resolve($e).then(we.resolve,qe)})});return pt.e&&qe(pt.v),we.promise}})},function(V,x,h){h(63)("split",2,function(w,S,T){"use strict";var y=h(82),m=T,g=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var _=void 0===/()??/.exec("")[1];T=function(p,C){var M=String(this);if(void 0===p&&0===C)return[];if(!y(p))return m.call(M,p,C);var f,b,O,F,U,z=[],q=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(p.sticky?"y":""),H=0,Y=void 0===C?4294967295:C>>>0,G=new RegExp(p.source,q+"g");for(_||(f=new RegExp("^"+G.source+"$(?!\\s)",q));(b=G.exec(M))&&!((O=b.index+b[0].length)>H&&(z.push(M.slice(H,b.index)),!_&&b.length>1&&b[0].replace(f,function(){for(U=1;U<arguments.length-2;U++)void 0===arguments[U]&&(b[U]=void 0)}),b.length>1&&b.index<M.length&&g.apply(z,b.slice(1)),F=b[0].length,H=O,z.length>=Y));)G.lastIndex===b.index&&G.lastIndex++;return H===M.length?!F&&G.test("")||z.push(""):z.push(M.slice(H)),z.length>Y?z.slice(0,Y):z}}else"0".split(void 0,0).length&&(T=function(p,C){return void 0===p&&0===C?[]:m.call(this,p,C)});return[function(p,C){var M=w(this),f=null==p?void 0:p[S];return void 0!==f?f.call(p,M,C):T.call(String(M),p,C)},T]})},function(V,x,h){h(63)("search",1,function(w,S,T){return[function(y){"use strict";var m=w(this),g=null==y?void 0:y[S];return void 0!==g?g.call(y,m):new RegExp(y)[S](String(m))},T]})},function(V,x,h){h(63)("replace",2,function(w,S,T){return[function(y,m){"use strict";var g=w(this),_=null==y?void 0:y[S];return void 0!==_?_.call(y,g,m):T.call(String(g),y,m)},T]})},function(V,x,h){h(63)("match",1,function(w,S,T){return[function(y){"use strict";var m=w(this),g=null==y?void 0:y[S];return void 0!==g?g.call(y,m):new RegExp(y)[S](String(m))},T]})},function(V,x,h){"use strict";h(126);var w=h(5),S=h(77),T=h(11),y=/./.toString,m=function(g){h(15)(RegExp.prototype,"toString",g,!0)};h(3)(function(){return"/a/b"!=y.call({source:"a",flags:"b"})})?m(function(){var g=w(this);return"/".concat(g.source,"/","flags"in g?g.flags:!T&&g instanceof RegExp?S.call(g):void 0)}):"toString"!=y.name&&m(function(){return y.call(this)})},function(V,x,h){var w=h(6),S=h(87),T=h(10).f,y=h(32).f,m=h(82),g=h(77),_=w.RegExp,p=_,C=_.prototype,M=/a/g,f=/a/g,b=new _(M)!==M;if(h(11)&&(!b||h(3)(function(){return f[h(7)("match")]=!1,_(M)!=M||_(f)==f||"/a/i"!=_(M,"i")}))){_=function(z,q){var H=this instanceof _,Y=m(z),G=void 0===q;return!H&&Y&&z.constructor===_&&G?z:S(b?new p(Y&&!G?z.source:z,q):p((Y=z instanceof _)?z.source:z,Y&&G?g.call(z):q),H?this:C,_)};for(var O=function(z){z in _||T(_,z,{configurable:!0,get:function(){return p[z]},set:function(q){p[z]=q}})},F=y(p),U=0;F.length>U;)O(F[U++]);C.constructor=_,_.prototype=C,h(15)(w,"RegExp",_)}h(43)("RegExp")},function(V,x,h){h(43)("Array")},function(V,x,h){"use strict";var w=h(0),S=h(19)(6),T="findIndex",y=!0;T in[]&&Array(1)[T](function(){y=!1}),w(w.P+w.F*y,"Array",{findIndex:function(m){return S(this,m,arguments.length>1?arguments[1]:void 0)}}),h(52)(T)},function(V,x,h){"use strict";var w=h(0),S=h(19)(5),T=!0;"find"in[]&&Array(1).find(function(){T=!1}),w(w.P+w.F*T,"Array",{find:function(y){return S(this,y,arguments.length>1?arguments[1]:void 0)}}),h(52)("find")},function(V,x,h){var w=h(0);w(w.P,"Array",{fill:h(78)}),h(52)("fill")},function(V,x,h){var w=h(0);w(w.P,"Array",{copyWithin:h(129)}),h(52)("copyWithin")},function(V,x,h){"use strict";var w=h(0),S=h(21),T=h(24),y=h(12),m=[].lastIndexOf,g=!!m&&1/[1].lastIndexOf(1,-0)<0;w(w.P+w.F*(g||!h(17)(m)),"Array",{lastIndexOf:function(_){if(g)return m.apply(this,arguments)||0;var p=S(this),C=y(p.length),M=C-1;for(arguments.length>1&&(M=Math.min(M,T(arguments[1]))),M<0&&(M=C+M);M>=0;M--)if(M in p&&p[M]===_)return M||0;return-1}})},function(V,x,h){"use strict";var w=h(0),S=h(94)(!1),T=[].indexOf,y=!!T&&1/[1].indexOf(1,-0)<0;w(w.P+w.F*(y||!h(17)(T)),"Array",{indexOf:function(m){return y?T.apply(this,arguments)||0:S(this,m,arguments[1])}})},function(V,x,h){"use strict";var w=h(0),S=h(130);w(w.P+w.F*!h(17)([].reduceRight,!0),"Array",{reduceRight:function(T){return S(this,T,arguments.length,arguments[1],!0)}})},function(V,x,h){"use strict";var w=h(0),S=h(130);w(w.P+w.F*!h(17)([].reduce,!0),"Array",{reduce:function(T){return S(this,T,arguments.length,arguments[1],!1)}})},function(V,x,h){"use strict";var w=h(0),S=h(19)(4);w(w.P+w.F*!h(17)([].every,!0),"Array",{every:function(T){return S(this,T,arguments[1])}})},function(V,x,h){"use strict";var w=h(0),S=h(19)(3);w(w.P+w.F*!h(17)([].some,!0),"Array",{some:function(T){return S(this,T,arguments[1])}})},function(V,x,h){"use strict";var w=h(0),S=h(19)(2);w(w.P+w.F*!h(17)([].filter,!0),"Array",{filter:function(T){return S(this,T,arguments[1])}})},function(V,x,h){"use strict";var w=h(0),S=h(19)(1);w(w.P+w.F*!h(17)([].map,!0),"Array",{map:function(T){return S(this,T,arguments[1])}})},function(V,x,h){var w=h(4),S=h(91),T=h(7)("species");V.exports=function(y){var m;return S(y)&&("function"!=typeof(m=y.constructor)||m!==Array&&!S(m.prototype)||(m=void 0),w(m)&&null===(m=m[T])&&(m=void 0)),void 0===m?Array:m}},function(V,x,h){var w=h(230);V.exports=function(S,T){return new(w(S))(T)}},function(V,x,h){"use strict";var w=h(0),S=h(19)(0),T=h(17)([].forEach,!0);w(w.P+w.F*!T,"Array",{forEach:function(y){return S(this,y,arguments[1])}})},function(V,x,h){"use strict";var w=h(0),S=h(26),T=h(14),y=h(3),m=[].sort,g=[1,2,3];w(w.P+w.F*(y(function(){g.sort(void 0)})||!y(function(){g.sort(null)})||!h(17)(m)),"Array",{sort:function(_){return void 0===_?m.call(T(this)):m.call(T(this),S(_))}})},function(V,x,h){"use strict";var w=h(0),S=h(90),T=h(25),y=h(34),m=h(12),g=[].slice;w(w.P+w.F*h(3)(function(){S&&g.call(S)}),"Array",{slice:function(_,p){var C=m(this.length),M=T(this);if(p=void 0===p?C:p,"Array"==M)return g.call(this,_,p);for(var f=y(_,C),b=y(p,C),O=m(b-f),F=new Array(O),U=0;U<O;U++)F[U]="String"==M?this.charAt(f+U):this[f+U];return F}})},function(V,x,h){"use strict";var w=h(0),S=h(21),T=[].join;w(w.P+w.F*(h(54)!=Object||!h(17)(T)),"Array",{join:function(y){return T.call(S(this),void 0===y?",":y)}})},function(V,x,h){"use strict";var w=h(0),S=h(131);w(w.S+w.F*h(3)(function(){function T(){}return!(Array.of.call(T)instanceof T)}),"Array",{of:function(){for(var T=0,y=arguments.length,m=new("function"==typeof this?this:Array)(y);y>T;)S(m,T,arguments[T++]);return m.length=y,m}})},function(V,x,h){"use strict";var w=h(27),S=h(0),T=h(14),y=h(132),m=h(80),g=h(12),_=h(131),p=h(79);S(S.S+S.F*!h(64)(function(C){Array.from(C)}),"Array",{from:function(C){var M,f,b,O,F=T(C),U="function"==typeof this?this:Array,z=arguments.length,q=z>1?arguments[1]:void 0,H=void 0!==q,Y=0,G=p(F);if(H&&(q=w(q,z>2?arguments[2]:void 0,2)),null==G||U==Array&&m(G))for(f=new U(M=g(F.length));M>Y;Y++)_(f,Y,H?q(F[Y],Y):F[Y]);else for(O=G.call(F),f=new U;!(b=O.next()).done;Y++)_(f,Y,H?y(O,q,[b.value,Y],!0):b.value);return f.length=Y,f}})},function(V,x,h){var w=h(0);w(w.S,"Array",{isArray:h(91)})},function(V,x,h){"use strict";var w=h(5),S=h(30);V.exports=function(T){if("string"!==T&&"number"!==T&&"default"!==T)throw TypeError("Incorrect hint");return S(w(this),"number"!=T)}},function(V,x,h){var w=h(7)("toPrimitive"),S=Date.prototype;w in S||h(18)(S,w,h(239))},function(V,x,h){var w=Date.prototype,S=w.toString,T=w.getTime;new Date(NaN)+""!="Invalid Date"&&h(15)(w,"toString",function(){var y=T.call(this);return y==y?S.call(this):"Invalid Date"})},function(V,x,h){"use strict";var w=h(3),S=Date.prototype.getTime,T=Date.prototype.toISOString,y=function(m){return m>9?m:"0"+m};V.exports=w(function(){return"0385-07-25T07:06:39.999Z"!=T.call(new Date(-50000000000001))})||!w(function(){T.call(new Date(NaN))})?function(){if(!isFinite(S.call(this)))throw RangeError("Invalid time value");var m=this,g=m.getUTCFullYear(),_=m.getUTCMilliseconds(),p=g<0?"-":g>9999?"+":"";return p+("00000"+Math.abs(g)).slice(p?-6:-4)+"-"+y(m.getUTCMonth()+1)+"-"+y(m.getUTCDate())+"T"+y(m.getUTCHours())+":"+y(m.getUTCMinutes())+":"+y(m.getUTCSeconds())+"."+(_>99?_:"0"+y(_))+"Z"}:T},function(V,x,h){var w=h(0),S=h(242);w(w.P+w.F*(Date.prototype.toISOString!==S),"Date",{toISOString:S})},function(V,x,h){"use strict";var w=h(0),S=h(14),T=h(30);w(w.P+w.F*h(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(y){var m=S(this),g=T(m);return"number"!=typeof g||isFinite(g)?m.toISOString():null}})},function(V,x,h){var w=h(0);w(w.S,"Date",{now:function(){return(new Date).getTime()}})},function(V,x,h){"use strict";h(13)("sup",function(w){return function(){return w(this,"sup","","")}})},function(V,x,h){"use strict";h(13)("sub",function(w){return function(){return w(this,"sub","","")}})},function(V,x,h){"use strict";h(13)("strike",function(w){return function(){return w(this,"strike","","")}})},function(V,x,h){"use strict";h(13)("small",function(w){return function(){return w(this,"small","","")}})},function(V,x,h){"use strict";h(13)("link",function(w){return function(S){return w(this,"a","href",S)}})},function(V,x,h){"use strict";h(13)("italics",function(w){return function(){return w(this,"i","","")}})},function(V,x,h){"use strict";h(13)("fontsize",function(w){return function(S){return w(this,"font","size",S)}})},function(V,x,h){"use strict";h(13)("fontcolor",function(w){return function(S){return w(this,"font","color",S)}})},function(V,x,h){"use strict";h(13)("fixed",function(w){return function(){return w(this,"tt","","")}})},function(V,x,h){"use strict";h(13)("bold",function(w){return function(){return w(this,"b","","")}})},function(V,x,h){"use strict";h(13)("blink",function(w){return function(){return w(this,"blink","","")}})},function(V,x,h){"use strict";h(13)("big",function(w){return function(){return w(this,"big","","")}})},function(V,x,h){"use strict";h(13)("anchor",function(w){return function(S){return w(this,"a","name",S)}})},function(V,x,h){"use strict";var w=h(0),S=h(12),T=h(83),y="".startsWith;w(w.P+w.F*h(81)("startsWith"),"String",{startsWith:function(m){var g=T(this,m,"startsWith"),_=S(Math.min(arguments.length>1?arguments[1]:void 0,g.length)),p=String(m);return y?y.call(g,p,_):g.slice(_,_+p.length)===p}})},function(V,x,h){var w=h(0);w(w.P,"String",{repeat:h(137)})},function(V,x,h){"use strict";var w=h(0),S=h(83);w(w.P+w.F*h(81)("includes"),"String",{includes:function(T){return!!~S(this,T,"includes").indexOf(T,arguments.length>1?arguments[1]:void 0)}})},function(V,x,h){"use strict";var w=h(0),S=h(12),T=h(83),y="".endsWith;w(w.P+w.F*h(81)("endsWith"),"String",{endsWith:function(m){var g=T(this,m,"endsWith"),_=arguments.length>1?arguments[1]:void 0,p=S(g.length),C=void 0===_?p:Math.min(S(_),p),M=String(m);return y?y.call(g,M,C):g.slice(C-M.length,C)===M}})},function(V,x,h){"use strict";var w=h(0),S=h(134)(!1);w(w.P,"String",{codePointAt:function(T){return S(this,T)}})},function(V,x,h){"use strict";var w=h(134)(!0);h(84)(String,"String",function(S){this._t=String(S),this._i=0},function(){var S,T=this._t,y=this._i;return y>=T.length?{value:void 0,done:!0}:(S=w(T,y),this._i+=S.length,{value:S,done:!1})})},function(V,x,h){"use strict";h(65)("trim",function(w){return function(){return w(this,3)}})},function(V,x,h){var w=h(0),S=h(21),T=h(12);w(w.S,"String",{raw:function(y){for(var m=S(y.raw),g=T(m.length),_=arguments.length,p=[],C=0;g>C;)p.push(String(m[C++])),C<_&&p.push(String(arguments[C]));return p.join("")}})},function(V,x,h){var w=h(0),S=h(34),T=String.fromCharCode,y=String.fromCodePoint;w(w.S+w.F*(!!y&&1!=y.length),"String",{fromCodePoint:function(m){for(var g,_=[],p=arguments.length,C=0;p>C;){if(g=+arguments[C++],S(g,1114111)!==g)throw RangeError(g+" is not a valid code point");_.push(g<65536?T(g):T(55296+((g-=65536)>>10),g%1024+56320))}return _.join("")}})},function(V,x,h){var w=h(0);w(w.S,"Math",{trunc:function(S){return(S>0?Math.floor:Math.ceil)(S)}})},function(V,x,h){var w=h(0),S=h(85),T=Math.exp;w(w.S,"Math",{tanh:function(y){var m=S(y=+y),g=S(-y);return m==1/0?1:g==1/0?-1:(m-g)/(T(y)+T(-y))}})},function(V,x,h){var w=h(0),S=h(85),T=Math.exp;w(w.S+w.F*h(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(y){return Math.abs(y=+y)<1?(S(y)-S(-y))/2:(T(y-1)-T(-y-1))*(Math.E/2)}})},function(V,x,h){var w=h(0);w(w.S,"Math",{sign:h(86)})},function(V,x,h){var w=h(0);w(w.S,"Math",{log2:function(S){return Math.log(S)/Math.LN2}})},function(V,x,h){var w=h(0);w(w.S,"Math",{log1p:h(135)})},function(V,x,h){var w=h(0);w(w.S,"Math",{log10:function(S){return Math.log(S)*Math.LOG10E}})},function(V,x,h){var w=h(0),S=Math.imul;w(w.S+w.F*h(3)(function(){return-5!=S(4294967295,5)||2!=S.length}),"Math",{imul:function(T,y){var m=+T,g=+y,_=65535&m,p=65535&g;return 0|_*p+((65535&m>>>16)*p+_*(65535&g>>>16)<<16>>>0)}})},function(V,x,h){var w=h(0),S=Math.abs;w(w.S,"Math",{hypot:function(T,y){for(var m,g,_=0,p=0,C=arguments.length,M=0;p<C;)M<(m=S(arguments[p++]))?(_=_*(g=M/m)*g+1,M=m):_+=m>0?(g=m/M)*g:m;return M===1/0?1/0:M*Math.sqrt(_)}})},function(V,x,h){var w=h(86),S=Math.pow,T=S(2,-52),y=S(2,-23),m=S(2,127)*(2-y),g=S(2,-126);V.exports=Math.fround||function(_){var p,C,M=Math.abs(_),f=w(_);return M<g?f*(M/g/y+1/T-1/T)*g*y:(C=(p=(1+y/T)*M)-(p-M))>m||C!=C?f*(1/0):f*C}},function(V,x,h){var w=h(0);w(w.S,"Math",{fround:h(277)})},function(V,x,h){var w=h(0),S=h(85);w(w.S+w.F*(S!=Math.expm1),"Math",{expm1:S})},function(V,x,h){var w=h(0),S=Math.exp;w(w.S,"Math",{cosh:function(T){return(S(T=+T)+S(-T))/2}})},function(V,x,h){var w=h(0);w(w.S,"Math",{clz32:function(S){return(S>>>=0)?31-Math.floor(Math.log(S+.5)*Math.LOG2E):32}})},function(V,x,h){var w=h(0),S=h(86);w(w.S,"Math",{cbrt:function(T){return S(T=+T)*Math.pow(Math.abs(T),1/3)}})},function(V,x,h){var w=h(0),S=Math.atanh;w(w.S+w.F*!(S&&1/S(-0)<0),"Math",{atanh:function(T){return 0==(T=+T)?T:Math.log((1+T)/(1-T))/2}})},function(V,x,h){var w=h(0),S=Math.asinh;w(w.S+w.F*!(S&&1/S(0)>0),"Math",{asinh:function T(y){return isFinite(y=+y)&&0!=y?y<0?-T(-y):Math.log(y+Math.sqrt(y*y+1)):y}})},function(V,x,h){var w=h(0),S=h(135),T=Math.sqrt,y=Math.acosh;w(w.S+w.F*!(y&&710==Math.floor(y(Number.MAX_VALUE))&&y(1/0)==1/0),"Math",{acosh:function(m){return(m=+m)<1?NaN:m>94906265.62425156?Math.log(m)+Math.LN2:S(m-1+T(m-1)*T(m+1))}})},function(V,x,h){var w=h(0),S=h(140);w(w.S+w.F*(Number.parseInt!=S),"Number",{parseInt:S})},function(V,x,h){var w=h(0),S=h(139);w(w.S+w.F*(Number.parseFloat!=S),"Number",{parseFloat:S})},function(V,x,h){var w=h(0);w(w.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(V,x,h){var w=h(0);w(w.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(V,x,h){var w=h(0),S=h(136),T=Math.abs;w(w.S,"Number",{isSafeInteger:function(y){return S(y)&&T(y)<=9007199254740991}})},function(V,x,h){var w=h(0);w(w.S,"Number",{isNaN:function(S){return S!=S}})},function(V,x,h){var w=h(0);w(w.S,"Number",{isInteger:h(136)})},function(V,x,h){var w=h(0),S=h(6).isFinite;w(w.S,"Number",{isFinite:function(T){return"number"==typeof T&&S(T)}})},function(V,x,h){var w=h(0);w(w.S,"Number",{EPSILON:Math.pow(2,-52)})},function(V,x,h){"use strict";var w=h(0),S=h(3),T=h(138),y=1..toPrecision;w(w.P+w.F*(S(function(){return"1"!==y.call(1,void 0)})||!S(function(){y.call({})})),"Number",{toPrecision:function(m){var g=T(this,"Number#toPrecision: incorrect invocation!");return void 0===m?y.call(g):y.call(g,m)}})},function(V,x,h){"use strict";var w=h(0),S=h(24),T=h(138),y=h(137),m=1..toFixed,g=Math.floor,_=[0,0,0,0,0,0],p="Number.toFixed: incorrect invocation!",C=function(O,F){for(var U=-1,z=F;++U<6;)_[U]=(z+=O*_[U])%1e7,z=g(z/1e7)},M=function(O){for(var F=6,U=0;--F>=0;)_[F]=g((U+=_[F])/O),U=U%O*1e7},f=function(){for(var O=6,F="";--O>=0;)if(""!==F||0===O||0!==_[O]){var U=String(_[O]);F=""===F?U:F+y.call("0",7-U.length)+U}return F},b=function(O,F,U){return 0===F?U:F%2==1?b(O,F-1,U*O):b(O*O,F/2,U)};w(w.P+w.F*(!!m&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h(3)(function(){m.call({})})),"Number",{toFixed:function(O){var F,U,z,q,H=T(this,p),Y=S(O),G="",X="0";if(Y<0||Y>20)throw RangeError(p);if(H!=H)return"NaN";if(H<=-1e21||H>=1e21)return String(H);if(H<0&&(G="-",H=-H),H>1e-21)if(U=(F=function(ae){for(var Q=0,ue=ae;ue>=4096;)Q+=12,ue/=4096;for(;ue>=2;)Q+=1,ue/=2;return Q}(H*b(2,69,1))-69)<0?H*b(2,-F,1):H/b(2,F,1),U*=4503599627370496,(F=52-F)>0){for(C(0,U),z=Y;z>=7;)C(1e7,0),z-=7;for(C(b(10,z,1),0),z=F-1;z>=23;)M(1<<23),z-=23;M(1<<z),C(1,1),M(2),X=f()}else C(0,U),C(1<<-F,0),X=f()+y.call("0",Y);return Y>0?G+((q=X.length)<=Y?"0."+y.call("0",Y-q)+X:X.slice(0,q-Y)+"."+X.slice(q-Y)):G+X}})},function(V,x,h){"use strict";var w=h(6),S=h(16),T=h(25),y=h(87),m=h(30),g=h(3),_=h(32).f,p=h(23).f,C=h(10).f,M=h(65).trim,f=w.Number,b=f,O=f.prototype,F="Number"==T(h(33)(O)),U="trim"in String.prototype,z=function(G){var X=m(G,!1);if("string"==typeof X&&X.length>2){var ae,Q,ue,oe=(X=U?X.trim():M(X,3)).charCodeAt(0);if(43===oe||45===oe){if(88===(ae=X.charCodeAt(2))||120===ae)return NaN}else if(48===oe){switch(X.charCodeAt(1)){case 66:case 98:Q=2,ue=49;break;case 79:case 111:Q=8,ue=55;break;default:return+X}for(var Ee,Ge=X.slice(2),Ne=0,Le=Ge.length;Ne<Le;Ne++)if((Ee=Ge.charCodeAt(Ne))<48||Ee>ue)return NaN;return parseInt(Ge,Q)}}return+X};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(G){var X=arguments.length<1?0:G,ae=this;return ae instanceof f&&(F?g(function(){O.valueOf.call(ae)}):"Number"!=T(ae))?y(new b(z(X)),ae,f):z(X)};for(var q,H=h(11)?_(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Y=0;H.length>Y;Y++)S(b,q=H[Y])&&!S(f,q)&&C(f,q,p(b,q));f.prototype=O,O.constructor=f,h(15)(w,"Number",f)}},function(V,x,h){var w=h(0),S=h(139);w(w.G+w.F*(parseFloat!=S),{parseFloat:S})},function(V,x,h){var w=h(0),S=h(140);w(w.G+w.F*(parseInt!=S),{parseInt:S})},function(V,x,h){"use strict";var w=h(4),S=h(31),T=h(7)("hasInstance"),y=Function.prototype;T in y||h(10).f(y,T,{value:function(m){if("function"!=typeof this||!w(m))return!1;if(!w(this.prototype))return m instanceof this;for(;m=S(m);)if(this.prototype===m)return!0;return!1}})},function(V,x,h){var w=h(10).f,S=Function.prototype,T=/^\s*function ([^ (]*)/;"name"in S||h(11)&&w(S,"name",{configurable:!0,get:function(){try{return(""+this).match(T)[1]}catch(y){return""}}})},function(V,x,h){var w=h(0);w(w.P,"Function",{bind:h(142)})},function(V,x,h){"use strict";var w=h(66),S={};S[h(7)("toStringTag")]="z",S+""!="[object z]"&&h(15)(Object.prototype,"toString",function(){return"[object "+w(this)+"]"},!0)},function(V,x,h){var w=h(0);w(w.S,"Object",{setPrototypeOf:h(89).set})},function(V,x){V.exports=Object.is||function(h,w){return h===w?0!==h||1/h==1/w:h!=h&&w!=w}},function(V,x,h){var w=h(0);w(w.S,"Object",{is:h(305)})},function(V,x,h){var w=h(0);w(w.S+w.F,"Object",{assign:h(143)})},function(V,x,h){var w=h(4);h(20)("isExtensible",function(S){return function(T){return!!w(T)&&(!S||S(T))}})},function(V,x,h){var w=h(4);h(20)("isSealed",function(S){return function(T){return!w(T)||!!S&&S(T)}})},function(V,x,h){var w=h(4);h(20)("isFrozen",function(S){return function(T){return!w(T)||!!S&&S(T)}})},function(V,x,h){var w=h(4),S=h(29).onFreeze;h(20)("preventExtensions",function(T){return function(y){return T&&w(y)?T(S(y)):y}})},function(V,x,h){var w=h(4),S=h(29).onFreeze;h(20)("seal",function(T){return function(y){return T&&w(y)?T(S(y)):y}})},function(V,x,h){var w=h(4),S=h(29).onFreeze;h(20)("freeze",function(T){return function(y){return T&&w(y)?T(S(y)):y}})},function(V,x,h){h(20)("getOwnPropertyNames",function(){return h(144).f})},function(V,x,h){var w=h(14),S=h(55);h(20)("keys",function(){return function(T){return S(w(T))}})},function(V,x,h){var w=h(14),S=h(31);h(20)("getPrototypeOf",function(){return function(T){return S(w(T))}})},function(V,x,h){var w=h(21),S=h(23).f;h(20)("getOwnPropertyDescriptor",function(){return function(T,y){return S(w(T),y)}})},function(V,x,h){var w=h(0);w(w.S+w.F*!h(11),"Object",{defineProperties:h(145)})},function(V,x,h){var w=h(0);w(w.S+w.F*!h(11),"Object",{defineProperty:h(10).f})},function(V,x,h){var w=h(0);w(w.S,"Object",{create:h(33)})},function(V,x,h){var w=h(55),S=h(68),T=h(67);V.exports=function(y){var m=w(y),g=S.f;if(g)for(var _,p=g(y),C=T.f,M=0;p.length>M;)C.call(y,_=p[M++])&&m.push(_);return m}},function(V,x,h){var w=h(6),S=h(37),T=h(44),y=h(147),m=h(10).f;V.exports=function(g){var _=S.Symbol||(S.Symbol=T?{}:w.Symbol||{});"_"==g.charAt(0)||g in _||m(_,g,{value:y.f(g)})}},function(V,x,h){"use strict";var w=h(6),S=h(16),T=h(11),y=h(0),m=h(15),g=h(29).KEY,_=h(3),p=h(95),C=h(45),M=h(35),f=h(7),b=h(147),O=h(322),F=h(321),U=h(91),z=h(5),q=h(4),H=h(21),Y=h(30),G=h(36),X=h(33),ae=h(144),Q=h(23),ue=h(10),oe=h(55),Ee=Q.f,Ge=ue.f,Ne=ae.f,Le=w.Symbol,ie=w.JSON,me=ie&&ie.stringify,ce=f("_hidden"),Be=f("toPrimitive"),fe={}.propertyIsEnumerable,be=p("symbol-registry"),we=p("symbols"),qe=p("op-symbols"),pt=Object.prototype,$e="function"==typeof Le,Gt=w.QObject,ht=!Gt||!Gt.prototype||!Gt.prototype.findChild,Je=T&&_(function(){return 7!=X(Ge({},"a",{get:function(){return Ge(this,"a",{value:7}).a}})).a})?function(mt,xt,Fe){var Ae=Ee(pt,xt);Ae&&delete pt[xt],Ge(mt,xt,Fe),Ae&&mt!==pt&&Ge(pt,xt,Ae)}:Ge,de=function(mt){var xt=we[mt]=X(Le.prototype);return xt._k=mt,xt},Me=$e&&"symbol"==typeof Le.iterator?function(mt){return"symbol"==typeof mt}:function(mt){return mt instanceof Le},Pe=function(mt,xt,Fe){return mt===pt&&Pe(qe,xt,Fe),z(mt),xt=Y(xt,!0),z(Fe),S(we,xt)?(Fe.enumerable?(S(mt,ce)&&mt[ce][xt]&&(mt[ce][xt]=!1),Fe=X(Fe,{enumerable:G(0,!1)})):(S(mt,ce)||Ge(mt,ce,G(1,{})),mt[ce][xt]=!0),Je(mt,xt,Fe)):Ge(mt,xt,Fe)},Ze=function(mt,xt){z(mt);for(var Fe,Ae=F(xt=H(xt)),je=0,Ye=Ae.length;Ye>je;)Pe(mt,Fe=Ae[je++],xt[Fe]);return mt},lt=function(mt){var xt=fe.call(this,mt=Y(mt,!0));return!(this===pt&&S(we,mt)&&!S(qe,mt))&&(!(xt||!S(this,mt)||!S(we,mt)||S(this,ce)&&this[ce][mt])||xt)},gt=function(mt,xt){if(mt=H(mt),xt=Y(xt,!0),mt!==pt||!S(we,xt)||S(qe,xt)){var Fe=Ee(mt,xt);return!Fe||!S(we,xt)||S(mt,ce)&&mt[ce][xt]||(Fe.enumerable=!0),Fe}},ze=function(mt){for(var xt,Fe=Ne(H(mt)),Ae=[],je=0;Fe.length>je;)S(we,xt=Fe[je++])||xt==ce||xt==g||Ae.push(xt);return Ae},Qe=function(mt){for(var xt,Fe=mt===pt,Ae=Ne(Fe?qe:H(mt)),je=[],Ye=0;Ae.length>Ye;)!S(we,xt=Ae[Ye++])||Fe&&!S(pt,xt)||je.push(we[xt]);return je};$e||(m((Le=function(){if(this instanceof Le)throw TypeError("Symbol is not a constructor!");var mt=M(arguments.length>0?arguments[0]:void 0),xt=function(Fe){this===pt&&xt.call(qe,Fe),S(this,ce)&&S(this[ce],mt)&&(this[ce][mt]=!1),Je(this,mt,G(1,Fe))};return T&&ht&&Je(pt,mt,{configurable:!0,set:xt}),de(mt)}).prototype,"toString",function(){return this._k}),Q.f=gt,ue.f=Pe,h(32).f=ae.f=ze,h(67).f=lt,h(68).f=Qe,T&&!h(44)&&m(pt,"propertyIsEnumerable",lt,!0),b.f=function(mt){return de(f(mt))}),y(y.G+y.W+y.F*!$e,{Symbol:Le});for(var an="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),zt=0;an.length>zt;)f(an[zt++]);for(var fn=oe(f.store),fi=0;fn.length>fi;)O(fn[fi++]);y(y.S+y.F*!$e,"Symbol",{for:function(mt){return S(be,mt+="")?be[mt]:be[mt]=Le(mt)},keyFor:function(mt){if(!Me(mt))throw TypeError(mt+" is not a symbol!");for(var xt in be)if(be[xt]===mt)return xt},useSetter:function(){ht=!0},useSimple:function(){ht=!1}}),y(y.S+y.F*!$e,"Object",{create:function(mt,xt){return void 0===xt?X(mt):Ze(X(mt),xt)},defineProperty:Pe,defineProperties:Ze,getOwnPropertyDescriptor:gt,getOwnPropertyNames:ze,getOwnPropertySymbols:Qe}),ie&&y(y.S+y.F*(!$e||_(function(){var mt=Le();return"[null]"!=me([mt])||"{}"!=me({a:mt})||"{}"!=me(Object(mt))})),"JSON",{stringify:function(mt){for(var xt,Fe,Ae=[mt],je=1;arguments.length>je;)Ae.push(arguments[je++]);if(Fe=xt=Ae[1],(q(xt)||void 0!==mt)&&!Me(mt))return U(xt)||(xt=function(Ye,Ue){if("function"==typeof Fe&&(Ue=Fe.call(this,Ye,Ue)),!Me(Ue))return Ue}),Ae[1]=xt,me.apply(ie,Ae)}}),Le.prototype[Be]||h(18)(Le.prototype,Be,Le.prototype.valueOf),C(Le,"Symbol"),C(Math,"Math",!0),C(w.JSON,"JSON",!0)},function(V,x,h){h(323),h(320),h(319),h(318),h(317),h(316),h(315),h(314),h(313),h(312),h(311),h(310),h(309),h(308),h(307),h(306),h(304),h(303),h(302),h(301),h(300),h(299),h(298),h(297),h(296),h(295),h(294),h(293),h(292),h(291),h(290),h(289),h(288),h(287),h(286),h(285),h(284),h(283),h(282),h(281),h(280),h(279),h(278),h(276),h(275),h(274),h(273),h(272),h(271),h(270),h(269),h(268),h(267),h(266),h(265),h(264),h(263),h(262),h(261),h(260),h(259),h(258),h(257),h(256),h(255),h(254),h(253),h(252),h(251),h(250),h(249),h(248),h(247),h(246),h(245),h(244),h(243),h(241),h(240),h(238),h(237),h(236),h(235),h(234),h(233),h(232),h(229),h(228),h(227),h(226),h(225),h(224),h(223),h(222),h(221),h(220),h(219),h(218),h(217),h(128),h(216),h(215),h(126),h(214),h(213),h(212),h(211),h(210),h(206),h(205),h(204),h(203),h(202),h(201),h(200),h(199),h(198),h(197),h(196),h(195),h(194),h(193),h(192),h(191),h(190),h(189),h(188),h(187),h(186),h(185),h(184),h(183),h(182),h(181),h(179),h(178),h(177),V.exports=h(37)},function(V,x,h){"use strict";Object.defineProperty(x,"__esModule",{value:!0}),x.MD5=x.SFSRoom=x.SetBuddyVariablesRequest=x.RemoveBuddyRequest=x.InitBuddyListRequest=x.GoOnlineRequest=x.BuddyMessageRequest=x.BlockBuddyRequest=x.AddBuddyRequest=x.SetUserPositionRequest=x.QuickJoinGameRequest=x.JoinRoomInvitationRequest=x.InviteUsersRequest=x.InvitationReplyRequest=x.CreateSFSGameRequest=x.BanUserRequest=x.KickUserRequest=x.ExtensionRequest=x.FindUsersRequest=x.FindRoomsRequest=x.PlayerToSpectatorRequest=x.SpectatorToPlayerRequest=x.UnsubscribeRoomGroupRequest=x.SubscribeRoomGroupRequest=x.SetUserVariablesRequest=x.SetRoomVariablesRequest=x.AdminMessageRequest=x.ModeratorMessageRequest=x.ObjectMessageRequest=x.PrivateMessageRequest=x.PublicMessageRequest=x.ChangeRoomCapacityRequest=x.ChangeRoomPasswordStateRequest=x.ChangeRoomNameRequest=x.LeaveRoomRequest=x.QuickJoinOrCreateRoomRequest=x.CreateRoomRequest=x.JoinRoomRequest=x.LogoutRequest=x.LoginRequest=x.PasswordUtil=x.ClientDisconnectionReason=x.LoggerEvent=x.LogLevel=x.SFSErrorCodes=x.MessageRecipientMode=x.BanMode=x.MapLimits=x.RoomExtension=x.RoomEvents=x.RoomPermissions=x.MMORoomSettings=x.SFSGameSettings=x.RoomSettings=x.UserProperties=x.RoomProperties=x.StringMatch=x.NumberMatch=x.BoolMatch=x.LogicOperator=x.MatchExpression=x.MMOItemVariable=x.ReservedBuddyVariables=x.SFSBuddyVariable=x.ReservedRoomVariables=x.SFSRoomVariable=x.SFSUserVariable=x.VariableType=x.UserPrivileges=x.InvitationReply=x.Vec3D=x.SFSArray=x.SFSObject=x.SFSDataType=x.SFSBuddyEvent=x.SFSEvent=x.SmartFox=void 0;var w=h(324);Object.keys(w).forEach(function(xt){"default"!==xt&&"__esModule"!==xt&&Object.defineProperty(x,xt,{enumerable:!0,get:function(){return w[xt]}})});var S=h(176);Object.defineProperty(x,"SmartFox",{enumerable:!0,get:function(){return S.SmartFox}});var T=h(39);Object.defineProperty(x,"SFSEvent",{enumerable:!0,get:function(){return T.SFSEvent}}),Object.defineProperty(x,"SFSBuddyEvent",{enumerable:!0,get:function(){return T.SFSBuddyEvent}});var y=h(8);Object.defineProperty(x,"SFSDataType",{enumerable:!0,get:function(){return y.SFSDataType}}),Object.defineProperty(x,"SFSObject",{enumerable:!0,get:function(){return y.SFSObject}}),Object.defineProperty(x,"SFSArray",{enumerable:!0,get:function(){return y.SFSArray}}),Object.defineProperty(x,"Vec3D",{enumerable:!0,get:function(){return y.Vec3D}});var m=h(72);Object.defineProperty(x,"InvitationReply",{enumerable:!0,get:function(){return m.InvitationReply}});var g=h(47);Object.defineProperty(x,"UserPrivileges",{enumerable:!0,get:function(){return g.UserPrivileges}});var _=h(48);Object.defineProperty(x,"VariableType",{enumerable:!0,get:function(){return _.VariableType}});var p=h(59);Object.defineProperty(x,"SFSUserVariable",{enumerable:!0,get:function(){return p.SFSUserVariable}});var C=h(49);Object.defineProperty(x,"SFSRoomVariable",{enumerable:!0,get:function(){return C.SFSRoomVariable}}),Object.defineProperty(x,"ReservedRoomVariables",{enumerable:!0,get:function(){return C.ReservedRoomVariables}});var M=h(46);Object.defineProperty(x,"SFSBuddyVariable",{enumerable:!0,get:function(){return M.SFSBuddyVariable}}),Object.defineProperty(x,"ReservedBuddyVariables",{enumerable:!0,get:function(){return M.ReservedBuddyVariables}});var f=h(73);Object.defineProperty(x,"MMOItemVariable",{enumerable:!0,get:function(){return f.MMOItemVariable}});var b=h(38);Object.defineProperty(x,"MatchExpression",{enumerable:!0,get:function(){return b.MatchExpression}}),Object.defineProperty(x,"LogicOperator",{enumerable:!0,get:function(){return b.LogicOperator}});var O=h(161);Object.defineProperty(x,"BoolMatch",{enumerable:!0,get:function(){return O.BoolMatch}}),Object.defineProperty(x,"NumberMatch",{enumerable:!0,get:function(){return O.NumberMatch}}),Object.defineProperty(x,"StringMatch",{enumerable:!0,get:function(){return O.StringMatch}});var F=h(160);Object.defineProperty(x,"RoomProperties",{enumerable:!0,get:function(){return F.RoomProperties}}),Object.defineProperty(x,"UserProperties",{enumerable:!0,get:function(){return F.UserProperties}});var U=h(56);Object.defineProperty(x,"RoomSettings",{enumerable:!0,get:function(){return U.RoomSettings}}),Object.defineProperty(x,"SFSGameSettings",{enumerable:!0,get:function(){return U.SFSGameSettings}}),Object.defineProperty(x,"MMORoomSettings",{enumerable:!0,get:function(){return U.MMORoomSettings}}),Object.defineProperty(x,"RoomPermissions",{enumerable:!0,get:function(){return U.RoomPermissions}}),Object.defineProperty(x,"RoomEvents",{enumerable:!0,get:function(){return U.RoomEvents}}),Object.defineProperty(x,"RoomExtension",{enumerable:!0,get:function(){return U.RoomExtension}}),Object.defineProperty(x,"MapLimits",{enumerable:!0,get:function(){return U.MapLimits}}),Object.defineProperty(x,"BanMode",{enumerable:!0,get:function(){return U.BanMode}}),Object.defineProperty(x,"MessageRecipientMode",{enumerable:!0,get:function(){return U.MessageRecipientMode}});var z=h(74);Object.defineProperty(x,"SFSErrorCodes",{enumerable:!0,get:function(){return z.SFSErrorCodes}});var q=h(50);Object.defineProperty(x,"LogLevel",{enumerable:!0,get:function(){return q.LogLevel}}),Object.defineProperty(x,"LoggerEvent",{enumerable:!0,get:function(){return q.LoggerEvent}});var H=h(51);Object.defineProperty(x,"ClientDisconnectionReason",{enumerable:!0,get:function(){return H.ClientDisconnectionReason}});var Y=h(159);Object.defineProperty(x,"PasswordUtil",{enumerable:!0,get:function(){return Y.PasswordUtil}});var G=h(118);Object.defineProperty(x,"LoginRequest",{enumerable:!0,get:function(){return G.LoginRequest}});var X=h(117);Object.defineProperty(x,"LogoutRequest",{enumerable:!0,get:function(){return X.LogoutRequest}});var ae=h(116);Object.defineProperty(x,"JoinRoomRequest",{enumerable:!0,get:function(){return ae.JoinRoomRequest}});var Q=h(57);Object.defineProperty(x,"CreateRoomRequest",{enumerable:!0,get:function(){return Q.CreateRoomRequest}});var ue=h(158);Object.defineProperty(x,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return ue.QuickJoinOrCreateRoomRequest}});var oe=h(157);Object.defineProperty(x,"LeaveRoomRequest",{enumerable:!0,get:function(){return oe.LeaveRoomRequest}});var Ee=h(115);Object.defineProperty(x,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return Ee.ChangeRoomNameRequest}});var Ge=h(114);Object.defineProperty(x,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Ge.ChangeRoomPasswordStateRequest}});var Ne=h(113);Object.defineProperty(x,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return Ne.ChangeRoomCapacityRequest}});var Le=h(70);Object.defineProperty(x,"PublicMessageRequest",{enumerable:!0,get:function(){return Le.PublicMessageRequest}}),Object.defineProperty(x,"PrivateMessageRequest",{enumerable:!0,get:function(){return Le.PrivateMessageRequest}}),Object.defineProperty(x,"ObjectMessageRequest",{enumerable:!0,get:function(){return Le.ObjectMessageRequest}}),Object.defineProperty(x,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Le.ModeratorMessageRequest}}),Object.defineProperty(x,"AdminMessageRequest",{enumerable:!0,get:function(){return Le.AdminMessageRequest}});var ie=h(112);Object.defineProperty(x,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return ie.SetRoomVariablesRequest}});var me=h(111);Object.defineProperty(x,"SetUserVariablesRequest",{enumerable:!0,get:function(){return me.SetUserVariablesRequest}});var ce=h(110);Object.defineProperty(x,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return ce.SubscribeRoomGroupRequest}});var Be=h(109);Object.defineProperty(x,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return Be.UnsubscribeRoomGroupRequest}});var fe=h(108);Object.defineProperty(x,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return fe.SpectatorToPlayerRequest}});var be=h(107);Object.defineProperty(x,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return be.PlayerToSpectatorRequest}});var we=h(106);Object.defineProperty(x,"FindRoomsRequest",{enumerable:!0,get:function(){return we.FindRoomsRequest}});var qe=h(105);Object.defineProperty(x,"FindUsersRequest",{enumerable:!0,get:function(){return qe.FindUsersRequest}});var pt=h(97);Object.defineProperty(x,"ExtensionRequest",{enumerable:!0,get:function(){return pt.ExtensionRequest}});var $e=h(156);Object.defineProperty(x,"KickUserRequest",{enumerable:!0,get:function(){return $e.KickUserRequest}});var Gt=h(155);Object.defineProperty(x,"BanUserRequest",{enumerable:!0,get:function(){return Gt.BanUserRequest}});var ht=h(154);Object.defineProperty(x,"CreateSFSGameRequest",{enumerable:!0,get:function(){return ht.CreateSFSGameRequest}});var Je=h(153);Object.defineProperty(x,"InvitationReplyRequest",{enumerable:!0,get:function(){return Je.InvitationReplyRequest}});var de=h(69);Object.defineProperty(x,"InviteUsersRequest",{enumerable:!0,get:function(){return de.InviteUsersRequest}});var Me=h(152);Object.defineProperty(x,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return Me.JoinRoomInvitationRequest}});var Pe=h(151);Object.defineProperty(x,"QuickJoinGameRequest",{enumerable:!0,get:function(){return Pe.QuickJoinGameRequest}});var Ze=h(104);Object.defineProperty(x,"SetUserPositionRequest",{enumerable:!0,get:function(){return Ze.SetUserPositionRequest}});var lt=h(102);Object.defineProperty(x,"AddBuddyRequest",{enumerable:!0,get:function(){return lt.AddBuddyRequest}});var gt=h(100);Object.defineProperty(x,"BlockBuddyRequest",{enumerable:!0,get:function(){return gt.BlockBuddyRequest}});var ze=h(150);Object.defineProperty(x,"BuddyMessageRequest",{enumerable:!0,get:function(){return ze.BuddyMessageRequest}});var Qe=h(99);Object.defineProperty(x,"GoOnlineRequest",{enumerable:!0,get:function(){return Qe.GoOnlineRequest}});var an=h(103);Object.defineProperty(x,"InitBuddyListRequest",{enumerable:!0,get:function(){return an.InitBuddyListRequest}});var zt=h(101);Object.defineProperty(x,"RemoveBuddyRequest",{enumerable:!0,get:function(){return zt.RemoveBuddyRequest}});var fn=h(98);Object.defineProperty(x,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return fn.SetBuddyVariablesRequest}});var fi=h(9);Object.defineProperty(x,"SFSRoom",{enumerable:!0,get:function(){return fi.SFSRoom}});var mt=h(71);Object.defineProperty(x,"MD5",{enumerable:!0,get:function(){return mt.MD5}}),h(149)}])},209:(ke,V,x)=>{"use strict";var h=x(8810);ke.exports=x(3096)(h),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4532);function S(){w.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}h(S,w),ke.exports=S},17:(ke,V,x)=>{"use strict";var h=x(3894),w=x(9895);function S(){w.call(this)}h(S,w),S.prototype.removeAllListeners=function(T){T?delete this._listeners[T]:this._listeners={}},S.prototype.once=function(T,y){var m=this,g=!1;this.on(T,function _(){m.removeListener(T,_),g||(g=!0,y.apply(this,arguments))})},S.prototype.emit=function(){var T=arguments[0],y=this._listeners[T];if(y){for(var m=arguments.length,g=new Array(m-1),_=1;_<m;_++)g[_-1]=arguments[_];for(var p=0;p<y.length;p++)y[p].apply(this,g)}},S.prototype.on=S.prototype.addListener=w.prototype.addEventListener,S.prototype.removeListener=w.prototype.removeEventListener,ke.exports.v=S},4532:ke=>{"use strict";function V(x){this.type=x}V.prototype.initEvent=function(x,h,w){return this.type=x,this.bubbles=h,this.cancelable=w,this.timeStamp=+new Date,this},V.prototype.stopPropagation=function(){},V.prototype.preventDefault=function(){},V.CAPTURING_PHASE=1,V.AT_TARGET=2,V.BUBBLING_PHASE=3,ke.exports=V},9895:ke=>{"use strict";function V(){this._listeners={}}V.prototype.addEventListener=function(x,h){x in this._listeners||(this._listeners[x]=[]);var w=this._listeners[x];-1===w.indexOf(h)&&(w=w.concat([h])),this._listeners[x]=w},V.prototype.removeEventListener=function(x,h){var w=this._listeners[x];if(w){var S=w.indexOf(h);if(-1!==S)return void(w.length>1?this._listeners[x]=w.slice(0,S).concat(w.slice(S+1)):delete this._listeners[x])}},V.prototype.dispatchEvent=function(){var x=arguments[0],h=x.type,w=1===arguments.length?[x]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,w),h in this._listeners)for(var S=this._listeners[h],T=0;T<S.length;T++)S[T].apply(this,w)},ke.exports=V},4572:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4532);function S(T){w.call(this),this.initEvent("message",!1,!1),this.data=T}h(S,w),ke.exports=S},7299:(ke,V,x)=>{"use strict";var h=x(8075);function w(S){this._transport=S,S.on("message",this._transportMessage.bind(this)),S.on("close",this._transportClose.bind(this))}w.prototype._transportClose=function(S,T){h.postMessage("c",JSON.stringify([S,T]))},w.prototype._transportMessage=function(S){h.postMessage("t",S)},w.prototype._send=function(S){this._transport.send(S)},w.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},ke.exports=w},737:(ke,V,x)=>{"use strict";var h=x(1493),w=x(3865),S=x(7299),T=x(5841),y=x(8075),m=x(205);ke.exports=function(_,p){var M,C={};p.forEach(function(f){f.facadeTransport&&(C[f.facadeTransport.transportName]=f.facadeTransport)}),C[T.transportName]=T,_.bootstrap_iframe=function(){var f;y.currentWindowId=m.hash.slice(1),w.attachEvent("message",function(O){if(O.source===parent&&(void 0===M&&(M=O.origin),O.origin===M)){var F;try{F=JSON.parse(O.data)}catch(G){return}if(F.windowId===y.currentWindowId)switch(F.type){case"s":var U;try{U=JSON.parse(F.data)}catch(G){break}var z=U[0],q=U[1],H=U[2],Y=U[3];if(z!==_.version)throw new Error('Incompatible SockJS! Main site uses: "'+z+'", the iframe: "'+_.version+'".');if(!h.isOriginEqual(H,m.href)||!h.isOriginEqual(Y,m.href))throw new Error("Can't connect to different domain from within an iframe. ("+m.href+", "+H+", "+Y+")");f=new S(new C[q](H,Y));break;case"m":f._send(F.data);break;case"c":f&&f._close(),f=null}}}),y.postMessage("s")}}},8834:(ke,V,x)=>{"use strict";var h=x(17).v,w=x(3894),S=x(2923);function y(m,g){h.call(this);var _=this,p=+new Date;this.xo=new g("GET",m),this.xo.once("finish",function(C,M){var f,b;if(200===C){if(b=+new Date-p,M)try{f=JSON.parse(M)}catch(O){}S.isObject(f)||(f={})}_.emit("finish",f,b),_.removeAllListeners()})}w(y,h),y.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ke.exports=y},5841:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v,S=x(7898),T=x(8834);function y(m){var g=this;w.call(this),this.ir=new T(m,S),this.ir.once("finish",function(_,p){g.ir=null,g.emit("message",JSON.stringify([_,p]))})}h(y,w),y.transportName="iframe-info-receiver",y.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ke.exports=y},5672:(ke,V,x)=>{"use strict";var h=x(17).v,w=x(3894),S=x(3865),T=x(7415),y=x(5841);function g(_,p){var C=this;h.call(this);var M=function(){var f=C.ifr=new T(y.transportName,p,_);f.once("message",function(b){if(b){var O;try{O=JSON.parse(b)}catch(z){return C.emit("finish"),void C.close()}C.emit("finish",O[0],O[1])}C.close()}),f.once("close",function(){C.emit("finish"),C.close()})};global.document.body?M():S.attachEvent("load",M)}w(g,h),g.enabled=function(){return T.enabled()},g.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},ke.exports=g},6689:(ke,V,x)=>{"use strict";var h=x(17).v,w=x(3894),S=x(1493),T=x(5705),y=x(7807),m=x(7898),g=x(9312),_=x(5672),p=x(8834);function M(f,b){var O=this;h.call(this),setTimeout(function(){O.doXhr(f,b)},0)}w(M,h),M._getReceiver=function(f,b,O){return O.sameOrigin?new p(b,m):y.enabled?new p(b,y):T.enabled&&O.sameScheme?new p(b,T):_.enabled()?new _(f,b):new p(b,g)},M.prototype.doXhr=function(f,b){var O=this,F=S.addPath(f,"/info");this.xo=M._getReceiver(f,F,b),this.timeoutRef=setTimeout(function(){O._cleanup(!1),O.emit("finish")},M.timeout),this.xo.once("finish",function(U,z){O._cleanup(!0),O.emit("finish",U,z)})},M.prototype._cleanup=function(f){clearTimeout(this.timeoutRef),this.timeoutRef=null,!f&&this.xo&&this.xo.close(),this.xo=null},M.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},M.timeout=8e3,ke.exports=M},205:ke=>{"use strict";ke.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(ke,V,x)=>{"use strict";x(5904);var q,h=x(7629),w=x(3894),S=x(347),T=x(8481),y=x(1493),m=x(3865),g=x(2264),_=x(2923),p=x(480),C=x(1433),M=x(4532),f=x(9895),b=x(205),O=x(8265),F=x(4572),U=x(6689);function H(G,X,ae){if(!(this instanceof H))return new H(G,X,ae);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");f.call(this),this.readyState=H.CONNECTING,this.extensions="",this.protocol="",(ae=ae||{}).protocols_whitelist&&C.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=ae.transports,this._transportOptions=ae.transportOptions||{},this._timeout=ae.timeout||0;var Q=ae.sessionId||8;if("function"==typeof Q)this._generateSessionId=Q;else{if("number"!=typeof Q)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return S.string(Q)}}this._server=ae.server||S.numberString(1e3);var ue=new h(G);if(!ue.host||!ue.protocol)throw new SyntaxError("The URL '"+G+"' is invalid");if(ue.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ue.protocol&&"https:"!==ue.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ue.protocol+"' is not allowed.");var oe="https:"===ue.protocol;if("https:"===b.protocol&&!oe&&!y.isLoopbackAddr(ue.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");X?Array.isArray(X)||(X=[X]):X=[];var Ee=X.sort();Ee.forEach(function(Ne,Le){if(!Ne)throw new SyntaxError("The protocols entry '"+Ne+"' is invalid.");if(Le<Ee.length-1&&Ne===Ee[Le+1])throw new SyntaxError("The protocols entry '"+Ne+"' is duplicated.")});var Ge=y.getOrigin(b.href);this._origin=Ge?Ge.toLowerCase():null,ue.set("pathname",ue.pathname.replace(/\/+$/,"")),this.url=ue.href,this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:y.isOriginEqual(this.url,b.href),sameScheme:y.isSchemeEqual(this.url,b.href)},this._ir=new U(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function Y(G){return 1e3===G||G>=3e3&&G<=4999}w(H,f),H.prototype.close=function(G,X){if(G&&!Y(G))throw new Error("InvalidAccessError: Invalid code");if(X&&X.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==H.CLOSING&&this.readyState!==H.CLOSED&&this._close(G||1e3,X||"Normal closure",!0)},H.prototype.send=function(G){if("string"!=typeof G&&(G=""+G),this.readyState===H.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===H.OPEN&&this._transport.send(T.quote(G))},H.version=x(947),H.CONNECTING=0,H.OPEN=1,H.CLOSING=2,H.CLOSED=3,H.prototype._receiveInfo=function(G,X){if(this._ir=null,G){this._rto=this.countRTO(X),this._transUrl=G.base_url?G.base_url:this.url,G=_.extend(G,this._urlInfo);var ae=q.filterToEnabled(this._transportsWhitelist,G);this._transports=ae.main,this._connect()}else this._close(1002,"Cannot connect to server")},H.prototype._connect=function(){for(var G=this._transports.shift();G;G=this._transports.shift()){if(G.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(G),void m.attachEvent("load",this._connect.bind(this));var X=Math.max(this._timeout,this._rto*G.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),X);var ue=new G(y.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[G.transportName]);return ue.on("message",this._transportMessage.bind(this)),ue.once("close",this._transportClose.bind(this)),ue.transportName=G.transportName,void(this._transport=ue)}this._close(2e3,"All transports failed",!1)},H.prototype._transportTimeout=function(){this.readyState===H.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},H.prototype._transportMessage=function(G){var ue,X=this,ae=G.slice(0,1),Q=G.slice(1);switch(ae){case"o":return void this._open();case"h":return void this.dispatchEvent(new M("heartbeat"))}if(Q)try{ue=JSON.parse(Q)}catch(oe){}if(void 0!==ue)switch(ae){case"a":Array.isArray(ue)&&ue.forEach(function(oe){X.dispatchEvent(new F(oe))});break;case"m":this.dispatchEvent(new F(ue));break;case"c":Array.isArray(ue)&&2===ue.length&&this._close(ue[0],ue[1],!0)}},H.prototype._transportClose=function(G,X){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),Y(G)||2e3===G||this.readyState!==H.CONNECTING?this._close(G,X):this._connect()},H.prototype._open=function(){this.readyState===H.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=H.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new M("open"))):this._close(1006,"Server lost session")},H.prototype._close=function(G,X,ae){var Q=!1;if(this._ir&&(Q=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===H.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=H.CLOSING,setTimeout(function(){this.readyState=H.CLOSED,Q&&this.dispatchEvent(new M("error"));var ue=new O("close");ue.wasClean=ae||!1,ue.code=G||1e3,ue.reason=X,this.dispatchEvent(ue),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},H.prototype.countRTO=function(G){return G>100?4*G:300+G},ke.exports=function(G){return q=g(G),x(737)(H,G),H}},5904:()=>{"use strict";var _,ke=Array.prototype,V=Object.prototype,x=Function.prototype,h=String.prototype,w=ke.slice,S=V.toString,T=function(G){return"[object Function]"===V.toString.call(G)},m=function(X){return"[object String]"===S.call(X)},g=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(G){return!1}}();_=g?function(G,X,ae,Q){!Q&&X in G||Object.defineProperty(G,X,{configurable:!0,enumerable:!1,writable:!0,value:ae})}:function(G,X,ae,Q){!Q&&X in G||(G[X]=ae)};var p=function(G,X,ae){for(var Q in X)V.hasOwnProperty.call(X,Q)&&_(G,Q,X[Q],ae)},C=function(G){if(null==G)throw new TypeError("can't convert "+G+" to object");return Object(G)};function M(G){var X=+G;return X!=X?X=0:0!==X&&X!==1/0&&X!==-1/0&&(X=(X>0||-1)*Math.floor(Math.abs(X))),X}function b(){}p(x,{bind:function(X){var ae=this;if(!T(ae))throw new TypeError("Function.prototype.bind called on incompatible "+ae);for(var Q=w.call(arguments,1),ue=function(){if(this instanceof Ne){var Le=ae.apply(this,Q.concat(w.call(arguments)));return Object(Le)===Le?Le:this}return ae.apply(X,Q.concat(w.call(arguments)))},oe=Math.max(0,ae.length-Q.length),Ee=[],Ge=0;Ge<oe;Ge++)Ee.push("$"+Ge);var Ne=Function("binder","return function ("+Ee.join(",")+"){ return binder.apply(this, arguments); }")(ue);return ae.prototype&&(b.prototype=ae.prototype,Ne.prototype=new b,b.prototype=null),Ne}}),p(Array,{isArray:function(X){return"[object Array]"===S.call(X)}});var X,ae,Q,O=Object("a"),F="a"!==O[0]||!(0 in O);p(ke,{forEach:function(X){var ae=C(this),Q=F&&m(this)?this.split(""):ae,ue=arguments[1],oe=-1,Ee=Q.length>>>0;if(!T(X))throw new TypeError;for(;++oe<Ee;)oe in Q&&X.call(ue,Q[oe],oe,ae)}},(ae=!0,Q=!0,(X=ke.forEach)&&(X.call("foo",function(ue,oe,Ee){"object"!=typeof Ee&&(ae=!1)}),X.call([1],function(){Q="string"==typeof this},"x")),!(X&&ae&&Q)));var z=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(ke,{indexOf:function(X){var ae=F&&m(this)?this.split(""):C(this),Q=ae.length>>>0;if(!Q)return-1;var ue=0;for(arguments.length>1&&(ue=M(arguments[1])),ue=ue>=0?ue:Math.max(0,Q+ue);ue<Q;ue++)if(ue in ae&&ae[ue]===X)return ue;return-1}},z);var G,q=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(G=void 0===/()??/.exec("")[1],h.split=function(X,ae){var Q=this;if(void 0===X&&0===ae)return[];if("[object RegExp]"!==S.call(X))return q.call(this,X,ae);var Ge,Ne,Le,ie,ue=[],oe=(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.extended?"x":"")+(X.sticky?"y":""),Ee=0;for(X=new RegExp(X.source,oe+"g"),Q+="",G||(Ge=new RegExp("^"+X.source+"$(?!\\s)",oe)),ae=void 0===ae?-1>>>0:function f(G){return G>>>0}(ae);(Ne=X.exec(Q))&&!((Le=Ne.index+Ne[0].length)>Ee&&(ue.push(Q.slice(Ee,Ne.index)),!G&&Ne.length>1&&Ne[0].replace(Ge,function(){for(var me=1;me<arguments.length-2;me++)void 0===arguments[me]&&(Ne[me]=void 0)}),Ne.length>1&&Ne.index<Q.length&&ke.push.apply(ue,Ne.slice(1)),ie=Ne[0].length,Ee=Le,ue.length>=ae));)X.lastIndex===Ne.index&&X.lastIndex++;return Ee===Q.length?(ie||!X.test(""))&&ue.push(""):ue.push(Q.slice(Ee)),ue.length>ae?ue.slice(0,ae):ue}):"0".split(void 0,0).length&&(h.split=function(X,ae){return void 0===X&&0===ae?[]:q.call(this,X,ae)});var H=h.substr;p(h,{substr:function(X,ae){return H.call(this,X<0&&(X=this.length+X)<0?0:X,ae)}},"".substr&&"b"!=="0b".substr(-1))},8810:(ke,V,x)=>{"use strict";ke.exports=[x(7040),x(3897),x(4053),x(1591),x(9802)(x(1591)),x(3362),x(9802)(x(3362)),x(7237),x(8931),x(9802)(x(7237)),x(545)]},3134:(ke,V,x)=>{"use strict";var h=x(17).v,w=x(3894),S=x(3865),T=x(1493),y=global.XMLHttpRequest;function g(C,M,f,b){var O=this;h.call(this),setTimeout(function(){O._start(C,M,f,b)},0)}w(g,h),g.prototype._start=function(C,M,f,b){var O=this;try{this.xhr=new y}catch(U){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();M=T.addQuery(M,"t="+ +new Date),this.unloadRef=S.unloadAdd(function(){O._cleanup(!0)});try{this.xhr.open(C,M,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){O.emit("finish",0,""),O._cleanup(!1)})}catch(U){return this.emit("finish",0,""),void this._cleanup(!1)}if((!b||!b.noCredentials)&&g.supportsCORS&&(this.xhr.withCredentials=!0),b&&b.headers)for(var F in b.headers)this.xhr.setRequestHeader(F,b.headers[F]);this.xhr.onreadystatechange=function(){if(O.xhr){var z,q,U=O.xhr;switch(U.readyState){case 3:try{q=U.status,z=U.responseText}catch(H){}1223===q&&(q=204),200===q&&z&&z.length>0&&O.emit("chunk",q,z);break;case 4:1223===(q=U.status)&&(q=204),(12005===q||12029===q)&&(q=0),O.emit("finish",q,U.responseText),O._cleanup(!1)}}};try{O.xhr.send(f)}catch(U){O.emit("finish",0,""),O._cleanup(!1)}},g.prototype._cleanup=function(C){if(this.xhr){if(this.removeAllListeners(),S.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),C)try{this.xhr.abort()}catch(M){}this.unloadRef=this.xhr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!!y;var _=["Active"].concat("Object").join("X");!g.enabled&&_ in global&&(g.enabled=!!new(y=function(){try{return new global[_]("Microsoft.XMLHTTP")}catch(C){return null}}));var p=!1;try{p="withCredentials"in new y}catch(C){}g.supportsCORS=p,ke.exports=g},8513:ke=>{ke.exports=global.EventSource},3848:ke=>{"use strict";var V=global.WebSocket||global.MozWebSocket;ke.exports=V?function(h){return new V(h)}:void 0},1591:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4172),S=x(3436),T=x(7807),y=x(8513);function m(g){if(!m.enabled())throw new Error("Transport created when disabled");w.call(this,g,"/eventsource",S,T)}h(m,w),m.enabled=function(){return!!y},m.transportName="eventsource",m.roundTrips=2,ke.exports=m},3362:(ke,V,x)=>{"use strict";var h=x(3894),w=x(288),S=x(7898),T=x(4172);function y(m){if(!w.enabled)throw new Error("Transport created when disabled");T.call(this,m,"/htmlfile",w,S)}h(y,T),y.enabled=function(m){return w.enabled&&m.sameOrigin},y.transportName="htmlfile",y.roundTrips=2,ke.exports=y},7415:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v,S=x(947),T=x(1493),y=x(8075),m=x(3865),g=x(347);function p(C,M,f){if(!p.enabled())throw new Error("Transport created when disabled");w.call(this);var b=this;this.origin=T.getOrigin(f),this.baseUrl=f,this.transUrl=M,this.transport=C,this.windowId=g.string(8);var O=T.addPath(f,"/iframe.html")+"#"+this.windowId;this.iframeObj=y.createIframe(O,function(F){b.emit("close",1006,"Unable to load an iframe ("+F+")"),b.close()}),this.onmessageCallback=this._message.bind(this),m.attachEvent("message",this.onmessageCallback)}h(p,w),p.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){m.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(C){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},p.prototype._message=function(C){if(T.isOriginEqual(C.origin,this.origin)){var M;try{M=JSON.parse(C.data)}catch(b){return}if(M.windowId===this.windowId)switch(M.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([S,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",M.data);break;case"c":var f;try{f=JSON.parse(M.data)}catch(b){return}this.emit("close",f[0],f[1]),this.close()}}},p.prototype.postMessage=function(C,M){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:C,data:M||""}),this.origin)},p.prototype.send=function(C){this.postMessage("m",C)},p.enabled=function(){return y.iframeEnabled},p.transportName="iframe",p.roundTrips=2,ke.exports=p},545:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4196),S=x(8785),T=x(3216);function y(m){if(!y.enabled())throw new Error("Transport created when disabled");w.call(this,m,"/jsonp",T,S)}h(y,w),y.enabled=function(){return!!global.document},y.transportName="jsonp-polling",y.roundTrips=1,y.needBody=!0,ke.exports=y},4172:(ke,V,x)=>{"use strict";var h=x(3894),w=x(1493),S=x(4196);function m(g,_,p,C){S.call(this,g,_,function y(g){return function(_,p,C){var M={};"string"==typeof p&&(M.headers={"Content-type":"text/plain"});var f=w.addPath(_,"/xhr_send"),b=new g("POST",f,p,M);return b.once("finish",function(O){if(b=null,200!==O&&204!==O)return C(new Error("http status "+O));C()}),function(){b.close(),b=null;var O=new Error("Aborted");O.code=1e3,C(O)}}}(C),p,C)}h(m,S),ke.exports=m},9661:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v;function T(y,m){w.call(this),this.sendBuffer=[],this.sender=m,this.url=y}h(T,w),T.prototype.send=function(y){this.sendBuffer.push(y),this.sendStop||this.sendSchedule()},T.prototype.sendScheduleWait=function(){var m,y=this;this.sendStop=function(){y.sendStop=null,clearTimeout(m)},m=setTimeout(function(){y.sendStop=null,y.sendSchedule()},25)},T.prototype.sendSchedule=function(){var y=this;if(this.sendBuffer.length>0){var m="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,m,function(g){y.sendStop=null,g?(y.emit("close",g.code||1006,"Sending error: "+g),y.close()):y.sendScheduleWait()}),this.sendBuffer=[]}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},ke.exports=T},9802:(ke,V,x)=>{"use strict";var h=x(3894),w=x(7415),S=x(2923);ke.exports=function(T){function y(m,g){w.call(this,T.transportName,m,g)}return h(y,w),y.enabled=function(m,g){if(!global.document)return!1;var _=S.extend({},g);return _.sameOrigin=!0,T.enabled(_)&&w.enabled()},y.transportName="iframe-"+T.transportName,y.needBody=!0,y.roundTrips=w.roundTrips+T.roundTrips-1,y.facadeTransport=T,y}},20:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v;function T(y,m,g){w.call(this),this.Receiver=y,this.receiveUrl=m,this.AjaxObject=g,this._scheduleReceiver()}h(T,w),T.prototype._scheduleReceiver=function(){var y=this,m=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);m.on("message",function(g){y.emit("message",g)}),m.once("close",function(g,_){y.poll=m=null,y.pollIsClosing||("network"===_?y._scheduleReceiver():(y.emit("close",g||1006,_),y.removeAllListeners()))})},T.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},ke.exports=T},4196:(ke,V,x)=>{"use strict";var h=x(3894),w=x(1493),S=x(9661),T=x(20);function m(g,_,p,C,M){var f=w.addPath(g,_),b=this;S.call(this,g,p),this.poll=new T(C,f,M),this.poll.on("message",function(O){b.emit("message",O)}),this.poll.once("close",function(O,F){b.poll=null,b.emit("close",O,F),b.close()})}h(m,S),m.prototype.close=function(){S.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},ke.exports=m},3436:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v,S=x(8513);function y(m){w.call(this);var g=this,_=this.es=new S(m);_.onmessage=function(p){g.emit("message",decodeURI(p.data))},_.onerror=function(p){var C=2!==_.readyState?"network":"permanent";g._cleanup(),g._close(C)}}h(y,w),y.prototype.abort=function(){this._cleanup(),this._close("user")},y.prototype._cleanup=function(){var m=this.es;m&&(m.onmessage=m.onerror=null,m.close(),this.es=null)},y.prototype._close=function(m){var g=this;setTimeout(function(){g.emit("close",null,m),g.removeAllListeners()},200)},ke.exports=y},288:(ke,V,x)=>{"use strict";var h=x(3894),w=x(8075),S=x(1493),T=x(17).v,y=x(347);function g(p){T.call(this);var C=this;w.polluteGlobalNamespace(),this.id="a"+y.string(6),p=S.addQuery(p,"c="+decodeURIComponent(w.WPrefix+"."+this.id));var M=g.htmlfileEnabled?w.createHtmlfile:w.createIframe;global[w.WPrefix][this.id]={start:function(){C.iframeObj.loaded()},message:function(f){C.emit("message",f)},stop:function(){C._cleanup(),C._close("network")}},this.iframeObj=M(p,function(){C._cleanup(),C._close("permanent")})}h(g,T),g.prototype.abort=function(){this._cleanup(),this._close("user")},g.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[w.WPrefix][this.id]},g.prototype._close=function(p){this.emit("close",null,p),this.removeAllListeners()},g.htmlfileEnabled=!1;var _=["Active"].concat("Object").join("X");if(_ in global)try{g.htmlfileEnabled=!!new global[_]("htmlfile")}catch(p){}g.enabled=g.htmlfileEnabled||w.iframeEnabled,ke.exports=g},8785:(ke,V,x)=>{"use strict";var h=x(8075),w=x(347),S=x(480),T=x(1493),y=x(3894),m=x(17).v;function _(p){var C=this;m.call(this),h.polluteGlobalNamespace(),this.id="a"+w.string(6);var M=T.addQuery(p,"c="+encodeURIComponent(h.WPrefix+"."+this.id));global[h.WPrefix][this.id]=this._callback.bind(this),this._createScript(M),this.timeoutId=setTimeout(function(){C._abort(new Error("JSONP script loaded abnormally (timeout)"))},_.timeout)}y(_,m),_.prototype.abort=function(){if(global[h.WPrefix][this.id]){var p=new Error("JSONP user aborted read");p.code=1e3,this._abort(p)}},_.timeout=35e3,_.scriptErrorTimeout=1e3,_.prototype._callback=function(p){this._cleanup(),!this.aborting&&(p&&this.emit("message",p),this.emit("close",null,"network"),this.removeAllListeners())},_.prototype._abort=function(p){this._cleanup(),this.aborting=!0,this.emit("close",p.code,p.message),this.removeAllListeners()},_.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var p=this.script;p.parentNode.removeChild(p),p.onreadystatechange=p.onerror=p.onload=p.onclick=null,this.script=null}delete global[h.WPrefix][this.id]},_.prototype._scriptError=function(){var p=this;this.errorTimer||(this.errorTimer=setTimeout(function(){p.loadedOkay||p._abort(new Error("JSONP script loaded abnormally (onerror)"))},_.scriptErrorTimeout))},_.prototype._createScript=function(p){var f,C=this,M=this.script=global.document.createElement("script");if(M.id="a"+w.string(8),M.src=p,M.type="text/javascript",M.charset="UTF-8",M.onerror=this._scriptError.bind(this),M.onload=function(){C._abort(new Error("JSONP script loaded abnormally (onload)"))},M.onreadystatechange=function(){if(/loaded|closed/.test(M.readyState)){if(M&&M.htmlFor&&M.onclick){C.loadedOkay=!0;try{M.onclick()}catch(O){}}M&&C._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===M.async&&global.document.attachEvent)if(S.isOpera())(f=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+M.id+"'); if(a)a.onerror();}catch(x){};",M.async=f.async=!1;else{try{M.htmlFor=M.id,M.event="onclick"}catch(O){}M.async=!0}void 0!==M.async&&(M.async=!0);var b=global.document.getElementsByTagName("head")[0];b.insertBefore(M,b.firstChild),f&&b.insertBefore(f,b.firstChild)},ke.exports=_},6909:(ke,V,x)=>{"use strict";var h=x(3894),w=x(17).v;function T(y,m){w.call(this);var g=this;this.bufferPosition=0,this.xo=new m("POST",y,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(_,p){g._chunkHandler(_,p),g.xo=null,g.emit("close",null,200===_?"network":"permanent"),g._cleanup()})}h(T,w),T.prototype._chunkHandler=function(y,m){if(200===y&&m)for(var g=-1;;this.bufferPosition+=g+1){var _=m.slice(this.bufferPosition);if(-1===(g=_.indexOf("\n")))break;var p=_.slice(0,g);p&&this.emit("message",p)}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},ke.exports=T},3216:(ke,V,x)=>{"use strict";var T,y,h=x(347),w=x(1493);ke.exports=function(_,p,C){T||function g(){(T=global.document.createElement("form")).style.display="none",T.style.position="absolute",T.method="POST",T.enctype="application/x-www-form-urlencoded",T.acceptCharset="UTF-8",(y=global.document.createElement("textarea")).name="d",T.appendChild(y),global.document.body.appendChild(T)}();var M="a"+h.string(8);T.target=M,T.action=w.addQuery(w.addPath(_,"/jsonp_send"),"i="+M);var f=function m(_){try{return global.document.createElement('<iframe name="'+_+'">')}catch(C){var p=global.document.createElement("iframe");return p.name=_,p}}(M);f.id=M,f.style.display="none",T.appendChild(f);try{y.value=p}catch(O){}T.submit();var b=function(O){f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout(function(){f.parentNode.removeChild(f),f=null},500),y.value="",C(O))};return f.onerror=function(){b()},f.onload=function(){b()},f.onreadystatechange=function(O){"complete"===f.readyState&&b()},function(){b(new Error("Aborted"))}}},5705:(ke,V,x)=>{"use strict";var h=x(17).v,w=x(3894),S=x(3865),T=x(480),y=x(1493);function g(_,p,C){var M=this;h.call(this),setTimeout(function(){M._start(_,p,C)},0)}w(g,h),g.prototype._start=function(_,p,C){var M=this,f=new global.XDomainRequest;p=y.addQuery(p,"t="+ +new Date),f.onerror=function(){M._error()},f.ontimeout=function(){M._error()},f.onprogress=function(){M.emit("chunk",200,f.responseText)},f.onload=function(){M.emit("finish",200,f.responseText),M._cleanup(!1)},this.xdr=f,this.unloadRef=S.unloadAdd(function(){M._cleanup(!0)});try{this.xdr.open(_,p),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(C)}catch(b){this._error()}},g.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},g.prototype._cleanup=function(_){if(this.xdr){if(this.removeAllListeners(),S.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,_)try{this.xdr.abort()}catch(p){}this.unloadRef=this.xdr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!(!global.XDomainRequest||!T.hasDomain()),ke.exports=g},7807:(ke,V,x)=>{"use strict";var h=x(3894),w=x(3134);function S(T,y,m,g){w.call(this,T,y,m,g)}h(S,w),S.enabled=w.enabled&&w.supportsCORS,ke.exports=S},9312:(ke,V,x)=>{"use strict";var h=x(17).v;function S(){var T=this;h.call(this),this.to=setTimeout(function(){T.emit("finish",200,"{}")},S.timeout)}x(3894)(S,h),S.prototype.close=function(){clearTimeout(this.to)},S.timeout=2e3,ke.exports=S},7898:(ke,V,x)=>{"use strict";var h=x(3894),w=x(3134);function S(T,y,m){w.call(this,T,y,m,{noCredentials:!0})}h(S,w),S.enabled=w.enabled,ke.exports=S},7040:(ke,V,x)=>{"use strict";var h=x(3865),w=x(1493),S=x(3894),T=x(17).v,y=x(3848);function g(_,p,C){if(!g.enabled())throw new Error("Transport created when disabled");T.call(this);var M=this,f=w.addPath(_,"/websocket");f="https"===f.slice(0,5)?"wss"+f.slice(5):"ws"+f.slice(4),this.url=f,this.ws=new y(this.url,[],C),this.ws.onmessage=function(b){M.emit("message",b.data)},this.unloadRef=h.unloadAdd(function(){M.ws.close()}),this.ws.onclose=function(b){M.emit("close",b.code,b.reason),M._cleanup()},this.ws.onerror=function(b){M.emit("close",1006,"WebSocket connection broken"),M._cleanup()}}S(g,T),g.prototype.send=function(_){this.ws.send("["+_+"]")},g.prototype.close=function(){var _=this.ws;this._cleanup(),_&&_.close()},g.prototype._cleanup=function(){var _=this.ws;_&&(_.onmessage=_.onclose=_.onerror=null),h.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},g.enabled=function(){return!!y},g.transportName="websocket",g.roundTrips=2,ke.exports=g},8931:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4172),S=x(4053),T=x(6909),y=x(5705);function m(g){if(!y.enabled)throw new Error("Transport created when disabled");w.call(this,g,"/xhr",T,y)}h(m,w),m.enabled=S.enabled,m.transportName="xdr-polling",m.roundTrips=2,ke.exports=m},4053:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4172),S=x(6909),T=x(5705);function y(m){if(!T.enabled)throw new Error("Transport created when disabled");w.call(this,m,"/xhr_streaming",S,T)}h(y,w),y.enabled=function(m){return!m.cookie_needed&&!m.nullOrigin&&T.enabled&&m.sameScheme},y.transportName="xdr-streaming",y.roundTrips=2,ke.exports=y},7237:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4172),S=x(6909),T=x(7807),y=x(7898);function m(g){if(!y.enabled&&!T.enabled)throw new Error("Transport created when disabled");w.call(this,g,"/xhr",S,T)}h(m,w),m.enabled=function(g){return!g.nullOrigin&&(!(!y.enabled||!g.sameOrigin)||T.enabled)},m.transportName="xhr-polling",m.roundTrips=2,ke.exports=m},3897:(ke,V,x)=>{"use strict";var h=x(3894),w=x(4172),S=x(6909),T=x(7807),y=x(7898),m=x(480);function g(_){if(!y.enabled&&!T.enabled)throw new Error("Transport created when disabled");w.call(this,_,"/xhr_streaming",S,T)}h(g,w),g.enabled=function(_){return!_.nullOrigin&&!m.isOpera()&&T.enabled},g.transportName="xhr-streaming",g.roundTrips=2,g.needBody=!!global.document,ke.exports=g},8143:ke=>{"use strict";ke.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(V){var x=new Uint8Array(V);return global.crypto.getRandomValues(x),x}:function(V){for(var x=new Array(V),h=0;h<V;h++)x[h]=Math.floor(256*Math.random());return x}},480:ke=>{"use strict";ke.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(V){return!1}}}},8481:ke=>{"use strict";var x,V=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;ke.exports={quote:function(w){var S=JSON.stringify(w);return V.lastIndex=0,V.test(S)?(x||(x=function(w){var S,T={},y=[];for(S=0;S<65536;S++)y.push(String.fromCharCode(S));return w.lastIndex=0,y.join("").replace(w,function(m){return T[m]="\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4),""}),w.lastIndex=0,T}(V)),S.replace(V,function(T){return x[T]})):S}}},3865:(ke,V,x)=>{"use strict";var h=x(347),w={},S=!1,T=global.chrome&&global.chrome.app&&global.chrome.app.runtime;ke.exports={attachEvent:function(m,g){void 0!==global.addEventListener?global.addEventListener(m,g,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+m,g),global.attachEvent("on"+m,g))},detachEvent:function(m,g){void 0!==global.addEventListener?global.removeEventListener(m,g,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+m,g),global.detachEvent("on"+m,g))},unloadAdd:function(m){if(T)return null;var g=h.string(8);return w[g]=m,S&&setTimeout(this.triggerUnloadCallbacks,0),g},unloadDel:function(m){m in w&&delete w[m]},triggerUnloadCallbacks:function(){for(var m in w)w[m](),delete w[m]}},T||ke.exports.attachEvent("unload",function(){S||(S=!0,ke.exports.triggerUnloadCallbacks())})},8075:(ke,V,x)=>{"use strict";var h=x(3865),w=x(480);ke.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){ke.exports.WPrefix in global||(global[ke.exports.WPrefix]={})},postMessage:function(T,y){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:ke.exports.currentWindowId,type:T,data:y||""}),"*")},createIframe:function(T,y){var g,_,m=global.document.createElement("iframe"),p=function(){clearTimeout(g);try{m.onload=null}catch(b){}m.onerror=null},C=function(){m&&(p(),setTimeout(function(){m&&m.parentNode.removeChild(m),m=null},0),h.unloadDel(_))},M=function(b){m&&(C(),y(b))};return m.src=T,m.style.display="none",m.style.position="absolute",m.onerror=function(){M("onerror")},m.onload=function(){clearTimeout(g),g=setTimeout(function(){M("onload timeout")},2e3)},global.document.body.appendChild(m),g=setTimeout(function(){M("timeout")},15e3),_=h.unloadAdd(C),{post:function(b,O){setTimeout(function(){try{m&&m.contentWindow&&m.contentWindow.postMessage(b,O)}catch(F){}},0)},cleanup:C,loaded:p}},createHtmlfile:function(T,y){var _,p,C,m=["Active"].concat("Object").join("X"),g=new global[m]("htmlfile"),M=function(){clearTimeout(_),C.onerror=null},f=function(){g&&(M(),h.unloadDel(p),C.parentNode.removeChild(C),C=g=null,CollectGarbage())},b=function(U){g&&(f(),y(U))};g.open(),g.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),g.close(),g.parentWindow[ke.exports.WPrefix]=global[ke.exports.WPrefix];var F=g.createElement("div");return g.body.appendChild(F),C=g.createElement("iframe"),F.appendChild(C),C.src=T,C.onerror=function(){b("onerror")},_=setTimeout(function(){b("timeout")},15e3),p=h.unloadAdd(f),{post:function(U,z){try{setTimeout(function(){C&&C.contentWindow&&C.contentWindow.postMessage(U,z)},0)}catch(q){}},cleanup:f,loaded:M}}},ke.exports.iframeEnabled=!1,global.document&&(ke.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!w.isKonqueror())},1433:ke=>{"use strict";var V={};["log","debug","warn"].forEach(function(x){var h;try{h=global.console&&global.console[x]&&global.console[x].apply}catch(w){}V[x]=h?function(){return global.console[x].apply(global.console,arguments)}:"log"===x?function(){}:V.log}),ke.exports=V},2923:ke=>{"use strict";ke.exports={isObject:function(V){var x=typeof V;return"function"===x||"object"===x&&!!V},extend:function(V){if(!this.isObject(V))return V;for(var x,h,w=1,S=arguments.length;w<S;w++)for(h in x=arguments[w])Object.prototype.hasOwnProperty.call(x,h)&&(V[h]=x[h]);return V}}},347:(ke,V,x)=>{"use strict";var h=x(8143),w="abcdefghijklmnopqrstuvwxyz012345";ke.exports={string:function(S){for(var T=w.length,y=h.randomBytes(S),m=[],g=0;g<S;g++)m.push(w.substr(y[g]%T,1));return m.join("")},number:function(S){return Math.floor(Math.random()*S)},numberString:function(S){var T=(""+(S-1)).length;return(new Array(T+1).join("0")+this.number(S)).slice(-T)}}},2264:ke=>{"use strict";ke.exports=function(x){return{filterToEnabled:function(h,w){var S={main:[],facade:[]};return h?"string"==typeof h&&(h=[h]):h=[],x.forEach(function(T){if(T){if("websocket"===T.transportName&&!1===w.websocket)return;if(h.length&&-1===h.indexOf(T.transportName))return;T.enabled(w)&&(S.main.push(T),T.facadeTransport&&S.facade.push(T.facadeTransport))}}),S}}}},1493:(ke,V,x)=>{"use strict";var h=x(7629);ke.exports={getOrigin:function(S){if(!S)return null;var T=new h(S);if("file:"===T.protocol)return null;var y=T.port;return y||(y="https:"===T.protocol?"443":"80"),T.protocol+"//"+T.hostname+":"+y},isOriginEqual:function(S,T){return this.getOrigin(S)===this.getOrigin(T)},isSchemeEqual:function(S,T){return S.split(":")[0]===T.split(":")[0]},addPath:function(S,T){var y=S.split("?");return y[0]+T+(y[1]?"?"+y[1]:"")},addQuery:function(S,T){return S+(-1===S.indexOf("?")?"?"+T:"&"+T)},isLoopbackAddr:function(S){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(S)||/^\[::1\]$/.test(S)}}},947:ke=>{ke.exports="1.6.1"},7629:(ke,V,x)=>{"use strict";var h=x(8237),w=x(2858),S=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,T=/[\n\r\t]/g,y=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,m=/:\d+$/,g=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,_=/^[a-zA-Z]:/;function p(H){return(H||"").toString().replace(S,"")}var C=[["#","hash"],["?","query"],function(Y,G){return b(G.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],M={hash:1,query:1};function f(H){var Y;Y="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Q,X={},ae=typeof(H=H||Y.location||{});if("blob:"===H.protocol)X=new U(unescape(H.pathname),{});else if("string"===ae)for(Q in X=new U(H,{}),M)delete X[Q];else if("object"===ae){for(Q in H)Q in M||(X[Q]=H[Q]);void 0===X.slashes&&(X.slashes=y.test(H.href))}return X}function b(H){return"file:"===H||"ftp:"===H||"http:"===H||"https:"===H||"ws:"===H||"wss:"===H}function O(H,Y){H=(H=p(H)).replace(T,""),Y=Y||{};var oe,G=g.exec(H),X=G[1]?G[1].toLowerCase():"",ae=!!G[2],Q=!!G[3],ue=0;return ae?Q?(oe=G[2]+G[3]+G[4],ue=G[2].length+G[3].length):(oe=G[2]+G[4],ue=G[2].length):Q?(oe=G[3]+G[4],ue=G[3].length):oe=G[4],"file:"===X?ue>=2&&(oe=oe.slice(2)):b(X)?oe=G[4]:X?ae&&(oe=oe.slice(2)):ue>=2&&b(Y.protocol)&&(oe=G[4]),{protocol:X,slashes:ae||b(X),slashesCount:ue,rest:oe}}function U(H,Y,G){if(H=(H=p(H)).replace(T,""),!(this instanceof U))return new U(H,Y,G);var X,ae,Q,ue,oe,Ee,Ge=C.slice(),Ne=typeof Y,Le=this,ie=0;for("object"!==Ne&&"string"!==Ne&&(G=Y,Y=null),G&&"function"!=typeof G&&(G=w.parse),X=!(ae=O(H||"",Y=f(Y))).protocol&&!ae.slashes,Le.slashes=ae.slashes||X&&Y.slashes,Le.protocol=ae.protocol||Y.protocol||"",H=ae.rest,("file:"===ae.protocol&&(2!==ae.slashesCount||_.test(H))||!ae.slashes&&(ae.protocol||ae.slashesCount<2||!b(Le.protocol)))&&(Ge[3]=[/(.*)/,"pathname"]);ie<Ge.length;ie++)"function"!=typeof(ue=Ge[ie])?(Ee=ue[1],(Q=ue[0])!=Q?Le[Ee]=H:"string"==typeof Q?~(oe="@"===Q?H.lastIndexOf(Q):H.indexOf(Q))&&("number"==typeof ue[2]?(Le[Ee]=H.slice(0,oe),H=H.slice(oe+ue[2])):(Le[Ee]=H.slice(oe),H=H.slice(0,oe))):(oe=Q.exec(H))&&(Le[Ee]=oe[1],H=H.slice(0,oe.index)),Le[Ee]=Le[Ee]||X&&ue[3]&&Y[Ee]||"",ue[4]&&(Le[Ee]=Le[Ee].toLowerCase())):H=ue(H,Le);G&&(Le.query=G(Le.query)),X&&Y.slashes&&"/"!==Le.pathname.charAt(0)&&(""!==Le.pathname||""!==Y.pathname)&&(Le.pathname=function F(H,Y){if(""===H)return Y;for(var G=(Y||"/").split("/").slice(0,-1).concat(H.split("/")),X=G.length,ae=G[X-1],Q=!1,ue=0;X--;)"."===G[X]?G.splice(X,1):".."===G[X]?(G.splice(X,1),ue++):ue&&(0===X&&(Q=!0),G.splice(X,1),ue--);return Q&&G.unshift(""),("."===ae||".."===ae)&&G.push(""),G.join("/")}(Le.pathname,Y.pathname)),"/"!==Le.pathname.charAt(0)&&b(Le.protocol)&&(Le.pathname="/"+Le.pathname),h(Le.port,Le.protocol)||(Le.host=Le.hostname,Le.port=""),Le.username=Le.password="",Le.auth&&(~(oe=Le.auth.indexOf(":"))?(Le.username=Le.auth.slice(0,oe),Le.username=encodeURIComponent(decodeURIComponent(Le.username)),Le.password=Le.auth.slice(oe+1),Le.password=encodeURIComponent(decodeURIComponent(Le.password))):Le.username=encodeURIComponent(decodeURIComponent(Le.auth)),Le.auth=Le.password?Le.username+":"+Le.password:Le.username),Le.origin="file:"!==Le.protocol&&b(Le.protocol)&&Le.host?Le.protocol+"//"+Le.host:"null",Le.href=Le.toString()}U.prototype={set:function z(H,Y,G){var X=this;switch(H){case"query":"string"==typeof Y&&Y.length&&(Y=(G||w.parse)(Y)),X[H]=Y;break;case"port":X[H]=Y,h(Y,X.protocol)?Y&&(X.host=X.hostname+":"+Y):(X.host=X.hostname,X[H]="");break;case"hostname":X[H]=Y,X.port&&(Y+=":"+X.port),X.host=Y;break;case"host":X[H]=Y,m.test(Y)?(Y=Y.split(":"),X.port=Y.pop(),X.hostname=Y.join(":")):(X.hostname=Y,X.port="");break;case"protocol":X.protocol=Y.toLowerCase(),X.slashes=!G;break;case"pathname":case"hash":if(Y){var ae="pathname"===H?"/":"#";X[H]=Y.charAt(0)!==ae?ae+Y:Y}else X[H]=Y;break;case"username":case"password":X[H]=encodeURIComponent(Y);break;case"auth":var Q=Y.indexOf(":");~Q?(X.username=Y.slice(0,Q),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=Y.slice(Q+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(Y))}for(var ue=0;ue<C.length;ue++){var oe=C[ue];oe[4]&&(X[oe[1]]=X[oe[1]].toLowerCase())}return X.auth=X.password?X.username+":"+X.password:X.username,X.origin="file:"!==X.protocol&&b(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString(),X},toString:function q(H){(!H||"function"!=typeof H)&&(H=w.stringify);var Y,G=this,X=G.host,ae=G.protocol;ae&&":"!==ae.charAt(ae.length-1)&&(ae+=":");var Q=ae+(G.protocol&&G.slashes||b(G.protocol)?"//":"");return G.username?(Q+=G.username,G.password&&(Q+=":"+G.password),Q+="@"):G.password?(Q+=":"+G.password,Q+="@"):"file:"!==G.protocol&&b(G.protocol)&&!X&&"/"!==G.pathname&&(Q+="@"),(":"===X[X.length-1]||m.test(G.hostname)&&!G.port)&&(X+=":"),Q+=X+G.pathname,(Y="object"==typeof G.query?H(G.query):G.query)&&(Q+="?"!==Y.charAt(0)?"?"+Y:Y),G.hash&&(Q+=G.hash),Q}},U.extractProtocol=O,U.location=f,U.trimLeft=p,U.qs=w,ke.exports=U},1308:function(ke,V,x){var h;ke=x.nmd(ke),function(w){"object"==typeof global&&global;var m,g=2147483647,_=36,U=/^xn--/,z=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=Math.floor,X=String.fromCharCode;function Q(be){throw RangeError(H[be])}function ue(be,we){for(var qe=be.length,pt=[];qe--;)pt[qe]=we(be[qe]);return pt}function oe(be,we){var qe=be.split("@"),pt="";return qe.length>1&&(pt=qe[0]+"@",be=qe[1]),pt+ue((be=be.replace(q,".")).split("."),we).join(".")}function Ee(be){for(var $e,Gt,we=[],qe=0,pt=be.length;qe<pt;)($e=be.charCodeAt(qe++))>=55296&&$e<=56319&&qe<pt?56320==(64512&(Gt=be.charCodeAt(qe++)))?we.push(((1023&$e)<<10)+(1023&Gt)+65536):(we.push($e),qe--):we.push($e);return we}function Ge(be){return ue(be,function(we){var qe="";return we>65535&&(qe+=X((we-=65536)>>>10&1023|55296),we=56320|1023&we),qe+X(we)}).join("")}function Ne(be){return be-48<10?be-22:be-65<26?be-65:be-97<26?be-97:_}function Le(be,we){return be+22+75*(be<26)-((0!=we)<<5)}function ie(be,we,qe){var pt=0;for(be=qe?G(be/700):be>>1,be+=G(be/we);be>455;pt+=_)be=G(be/35);return G(pt+36*be/(be+38))}function me(be){var pt,Je,de,Me,Pe,Ze,lt,gt,ze,Qe,we=[],qe=be.length,$e=0,Gt=128,ht=72;for((Je=be.lastIndexOf("-"))<0&&(Je=0),de=0;de<Je;++de)be.charCodeAt(de)>=128&&Q("not-basic"),we.push(be.charCodeAt(de));for(Me=Je>0?Je+1:0;Me<qe;){for(Pe=$e,Ze=1,lt=_;Me>=qe&&Q("invalid-input"),((gt=Ne(be.charCodeAt(Me++)))>=_||gt>G((g-$e)/Ze))&&Q("overflow"),$e+=gt*Ze,!(gt<(ze=lt<=ht?1:lt>=ht+26?26:lt-ht));lt+=_)Ze>G(g/(Qe=_-ze))&&Q("overflow"),Ze*=Qe;ht=ie($e-Pe,pt=we.length+1,0==Pe),G($e/pt)>g-Gt&&Q("overflow"),Gt+=G($e/pt),$e%=pt,we.splice($e++,0,Gt)}return Ge(we)}function ce(be){var we,qe,pt,$e,Gt,ht,Je,de,Me,Pe,Ze,gt,ze,Qe,an,lt=[];for(gt=(be=Ee(be)).length,we=128,qe=0,Gt=72,ht=0;ht<gt;++ht)(Ze=be[ht])<128&&lt.push(X(Ze));for(pt=$e=lt.length,$e&&lt.push("-");pt<gt;){for(Je=g,ht=0;ht<gt;++ht)(Ze=be[ht])>=we&&Ze<Je&&(Je=Ze);for(Je-we>G((g-qe)/(ze=pt+1))&&Q("overflow"),qe+=(Je-we)*ze,we=Je,ht=0;ht<gt;++ht)if((Ze=be[ht])<we&&++qe>g&&Q("overflow"),Ze==we){for(de=qe,Me=_;!(de<(Pe=Me<=Gt?1:Me>=Gt+26?26:Me-Gt));Me+=_)lt.push(X(Le(Pe+(an=de-Pe)%(Qe=_-Pe),0))),de=G(an/Qe);lt.push(X(Le(de,0))),Gt=ie(qe,ze,pt==$e),qe=0,++pt}++qe,++we}return lt.join("")}m={version:"1.3.2",ucs2:{decode:Ee,encode:Ge},decode:me,encode:ce,toASCII:function fe(be){return oe(be,function(we){return z.test(we)?"xn--"+ce(we):we})},toUnicode:function Be(be){return oe(be,function(we){return U.test(we)?me(we.slice(4).toLowerCase()):we})}},void 0!==(h=function(){return m}.call(V,x,V,ke))&&(ke.exports=h)}()},8762:(ke,V,x)=>{"use strict";var w=x(1308),S=x(796);function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}V.Qc=Y,V.DB=function X(Q,ue){return Y(Q,!1,!0).resolve(ue)},V.WU=function G(Q){return S.isString(Q)&&(Q=Y(Q)),Q instanceof T?Q.format():T.prototype.format.call(Q)};var y=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,g=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),C=["'"].concat(p),M=["%","/","?",";","#"].concat(C),f=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U={javascript:!0,"javascript:":!0},z={javascript:!0,"javascript:":!0},q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},H=x(7137);function Y(Q,ue,oe){if(Q&&S.isObject(Q)&&Q instanceof T)return Q;var Ee=new T;return Ee.parse(Q,ue,oe),Ee}T.prototype.parse=function(Q,ue,oe){if(!S.isString(Q))throw new TypeError("Parameter 'url' must be a string, not "+typeof Q);var Ee=Q.indexOf("?"),Ge=-1!==Ee&&Ee<Q.indexOf("#")?"?":"#",Ne=Q.split(Ge);Ne[0]=Ne[0].replace(/\\/g,"/");var ie=Q=Ne.join(Ge);if(ie=ie.trim(),!oe&&1===Q.split("#").length){var me=g.exec(ie);if(me)return this.path=ie,this.href=ie,this.pathname=me[1],me[2]?(this.search=me[2],this.query=ue?H.parse(this.search.substr(1)):this.search.substr(1)):ue&&(this.search="",this.query={}),this}var ce=y.exec(ie);if(ce){var Be=(ce=ce[0]).toLowerCase();this.protocol=Be,ie=ie.substr(ce.length)}if(oe||ce||ie.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe="//"===ie.substr(0,2);fe&&(!ce||!z[ce])&&(ie=ie.substr(2),this.slashes=!0)}if(!z[ce]&&(fe||ce&&!q[ce])){for(var be=-1,we=0;we<f.length;we++)-1!==(qe=ie.indexOf(f[we]))&&(-1===be||qe<be)&&(be=qe);var pt,$e;for(-1!==($e=-1===be?ie.lastIndexOf("@"):ie.lastIndexOf("@",be))&&(pt=ie.slice(0,$e),ie=ie.slice($e+1),this.auth=decodeURIComponent(pt)),be=-1,we=0;we<M.length;we++){var qe;-1!==(qe=ie.indexOf(M[we]))&&(-1===be||qe<be)&&(be=qe)}-1===be&&(be=ie.length),this.host=ie.slice(0,be),ie=ie.slice(be),this.parseHost(),this.hostname=this.hostname||"";var Gt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Gt)for(var ht=this.hostname.split(/\./),Je=(we=0,ht.length);we<Je;we++){var de=ht[we];if(de&&!de.match(O)){for(var Me="",Pe=0,Ze=de.length;Pe<Ze;Pe++)de.charCodeAt(Pe)>127?Me+="x":Me+=de[Pe];if(!Me.match(O)){var lt=ht.slice(0,we),gt=ht.slice(we+1),ze=de.match(F);ze&&(lt.push(ze[1]),gt.unshift(ze[2])),gt.length&&(ie="/"+gt.join(".")+ie),this.hostname=lt.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Gt||(this.hostname=w.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Gt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ie[0]&&(ie="/"+ie))}if(!U[Be])for(we=0,Je=C.length;we<Je;we++){var zt=C[we];if(-1!==ie.indexOf(zt)){var fn=encodeURIComponent(zt);fn===zt&&(fn=escape(zt)),ie=ie.split(zt).join(fn)}}var fi=ie.indexOf("#");-1!==fi&&(this.hash=ie.substr(fi),ie=ie.slice(0,fi));var mt=ie.indexOf("?");return-1!==mt?(this.search=ie.substr(mt),this.query=ie.substr(mt+1),ue&&(this.query=H.parse(this.query)),ie=ie.slice(0,mt)):ue&&(this.search="",this.query={}),ie&&(this.pathname=ie),q[Be]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},T.prototype.format=function(){var Q=this.auth||"";Q&&(Q=(Q=encodeURIComponent(Q)).replace(/%3A/i,":"),Q+="@");var ue=this.protocol||"",oe=this.pathname||"",Ee=this.hash||"",Ge=!1,Ne="";this.host?Ge=Q+this.host:this.hostname&&(Ge=Q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ge+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(Ne=H.stringify(this.query));var Le=this.search||Ne&&"?"+Ne||"";return ue&&":"!==ue.substr(-1)&&(ue+=":"),this.slashes||(!ue||q[ue])&&!1!==Ge?(Ge="//"+(Ge||""),oe&&"/"!==oe.charAt(0)&&(oe="/"+oe)):Ge||(Ge=""),Ee&&"#"!==Ee.charAt(0)&&(Ee="#"+Ee),Le&&"?"!==Le.charAt(0)&&(Le="?"+Le),ue+Ge+(oe=oe.replace(/[?#]/g,function(ie){return encodeURIComponent(ie)}))+(Le=Le.replace("#","%23"))+Ee},T.prototype.resolve=function(Q){return this.resolveObject(Y(Q,!1,!0)).format()},T.prototype.resolveObject=function(Q){if(S.isString(Q)){var ue=new T;ue.parse(Q,!1,!0),Q=ue}for(var oe=new T,Ee=Object.keys(this),Ge=0;Ge<Ee.length;Ge++){var Ne=Ee[Ge];oe[Ne]=this[Ne]}if(oe.hash=Q.hash,""===Q.href)return oe.href=oe.format(),oe;if(Q.slashes&&!Q.protocol){for(var Le=Object.keys(Q),ie=0;ie<Le.length;ie++){var me=Le[ie];"protocol"!==me&&(oe[me]=Q[me])}return q[oe.protocol]&&oe.hostname&&!oe.pathname&&(oe.path=oe.pathname="/"),oe.href=oe.format(),oe}if(Q.protocol&&Q.protocol!==oe.protocol){if(!q[Q.protocol]){for(var ce=Object.keys(Q),Be=0;Be<ce.length;Be++){var fe=ce[Be];oe[fe]=Q[fe]}return oe.href=oe.format(),oe}if(oe.protocol=Q.protocol,Q.host||z[Q.protocol])oe.pathname=Q.pathname;else{for(var Je=(Q.pathname||"").split("/");Je.length&&!(Q.host=Je.shift()););Q.host||(Q.host=""),Q.hostname||(Q.hostname=""),""!==Je[0]&&Je.unshift(""),Je.length<2&&Je.unshift(""),oe.pathname=Je.join("/")}return oe.search=Q.search,oe.query=Q.query,oe.host=Q.host||"",oe.auth=Q.auth,oe.hostname=Q.hostname||Q.host,oe.port=Q.port,(oe.pathname||oe.search)&&(oe.path=(oe.pathname||"")+(oe.search||"")),oe.slashes=oe.slashes||Q.slashes,oe.href=oe.format(),oe}var qe=oe.pathname&&"/"===oe.pathname.charAt(0),pt=Q.host||Q.pathname&&"/"===Q.pathname.charAt(0),$e=pt||qe||oe.host&&Q.pathname,Gt=$e,ht=oe.pathname&&oe.pathname.split("/")||[],de=(Je=Q.pathname&&Q.pathname.split("/")||[],oe.protocol&&!q[oe.protocol]);if(de&&(oe.hostname="",oe.port=null,oe.host&&(""===ht[0]?ht[0]=oe.host:ht.unshift(oe.host)),oe.host="",Q.protocol&&(Q.hostname=null,Q.port=null,Q.host&&(""===Je[0]?Je[0]=Q.host:Je.unshift(Q.host)),Q.host=null),$e=$e&&(""===Je[0]||""===ht[0])),pt)oe.host=Q.host||""===Q.host?Q.host:oe.host,oe.hostname=Q.hostname||""===Q.hostname?Q.hostname:oe.hostname,oe.search=Q.search,oe.query=Q.query,ht=Je;else if(Je.length)ht||(ht=[]),ht.pop(),ht=ht.concat(Je),oe.search=Q.search,oe.query=Q.query;else if(!S.isNullOrUndefined(Q.search))return de&&(oe.hostname=oe.host=ht.shift(),(Me=!!(oe.host&&oe.host.indexOf("@")>0)&&oe.host.split("@"))&&(oe.auth=Me.shift(),oe.host=oe.hostname=Me.shift())),oe.search=Q.search,oe.query=Q.query,(!S.isNull(oe.pathname)||!S.isNull(oe.search))&&(oe.path=(oe.pathname?oe.pathname:"")+(oe.search?oe.search:"")),oe.href=oe.format(),oe;if(!ht.length)return oe.pathname=null,oe.path=oe.search?"/"+oe.search:null,oe.href=oe.format(),oe;for(var Pe=ht.slice(-1)[0],Ze=(oe.host||Q.host||ht.length>1)&&("."===Pe||".."===Pe)||""===Pe,lt=0,gt=ht.length;gt>=0;gt--)"."===(Pe=ht[gt])?ht.splice(gt,1):".."===Pe?(ht.splice(gt,1),lt++):lt&&(ht.splice(gt,1),lt--);if(!$e&&!Gt)for(;lt--;lt)ht.unshift("..");$e&&""!==ht[0]&&(!ht[0]||"/"!==ht[0].charAt(0))&&ht.unshift(""),Ze&&"/"!==ht.join("/").substr(-1)&&ht.push("");var Me,ze=""===ht[0]||ht[0]&&"/"===ht[0].charAt(0);return de&&(oe.hostname=oe.host=ze?"":ht.length?ht.shift():"",(Me=!!(oe.host&&oe.host.indexOf("@")>0)&&oe.host.split("@"))&&(oe.auth=Me.shift(),oe.host=oe.hostname=Me.shift())),($e=$e||oe.host&&ht.length)&&!ze&&ht.unshift(""),ht.length?oe.pathname=ht.join("/"):(oe.pathname=null,oe.path=null),(!S.isNull(oe.pathname)||!S.isNull(oe.search))&&(oe.path=(oe.pathname?oe.pathname:"")+(oe.search?oe.search:"")),oe.auth=Q.auth||oe.auth,oe.slashes=oe.slashes||Q.slashes,oe.href=oe.format(),oe},T.prototype.parseHost=function(){var Q=this.host,ue=m.exec(Q);ue&&(":"!==(ue=ue[0])&&(this.port=ue.substr(1)),Q=Q.substr(0,Q.length-ue.length)),Q&&(this.hostname=Q)}},796:ke=>{"use strict";ke.exports={isString:function(V){return"string"==typeof V},isObject:function(V){return"object"==typeof V&&null!==V},isNull:function(V){return null===V},isNullOrUndefined:function(V){return null==V}}}},ke=>{ke(ke.s=9532)}]);